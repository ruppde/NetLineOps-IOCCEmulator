Ext.define('Sch.util.Patch',{target:null,minVersion:null,maxVersion:null,reportUrl:null,description:null,applyFn:null,ieOnly:!1,onClassExtended:function(b,a){if(Sch.disableOverrides){return}if(a.ieOnly&&!Ext.isIE){return}if(a.applyFn){a.applyFn()}else {if((!a.minVersion||Ext.versions.extjs.equals(a.minVersion)||Ext.versions.extjs.isGreaterThan(a.minVersion))&&(!a.maxVersion||Ext.versions.extjs.equals(a.maxVersion)||Ext.versions.extjs.isLessThan(a.maxVersion))){a.requires[0].override(a.overrides)}}}});Ext.define('Sch.patches.LoadMask',{extend:'Sch.util.Patch',requires:['Ext.view.AbstractView'],minVersion:'4.1.0b3',reportURL:'http://www.sencha.com/forum/showthread.php?187700-4.1.0-B3-Ext.AbstractView-no-longer-binds-its-store-to-load-mask',description:'In Ext4.1 loadmask no longer bind the store',overrides:{}});Ext.define('Sch.patches.Table',{extend:'Sch.util.Patch',requires:['Ext.view.Table'],minVersion:'4.1.1',maxVersion:'4.1.1',reportURL:'http://www.sencha.com/forum/showthread.php?238026-4.1.1-Alt-row-styling-lost-after-record-update&p=874190#post874190',description:'In Ext4.1.1 when record is updated, the alternate row styling is lost',overrides:{onUpdate:function(d,b,c,e){var a=this.store.indexOf(b);this.callParent(arguments);this.doStripeRows(a,a)}}});Ext.define('Sch.patches.TreeView',{extend:'Sch.util.Patch',requires:['Ext.tree.View'],applyFn:function(){Ext.tree.View.addMembers({providedStore:null,initComponent:function(){var a=this,b=a.panel.getStore();if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}a.store=a.providedStore||new Ext.data.NodeStore({treeStore:b,recursive:!0,rootVisible:a.rootVisible});a.store.on({beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged,scope:a});if(a.node&&!a.store.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents('afteritemexpand','afteritemcollapse');a.callParent(arguments);a.on({element:'el',scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut});a.on({element:'el',scope:a,delegate:a.checkboxSelector,click:a.onCheckboxChange})}})}});Ext.define('Sch.patches.DataOperation',{extend:'Sch.util.Patch',requires:['Ext.data.Operation'],reportURL:'http://www.sencha.com/forum/showthread.php?198894-4.1-Ext.data.TreeStore-CRUD-regression.',description:'In Ext 4.1.0 newly created records do not get the Id returned by server applied',maxVersion:'4.1.0',overrides:{commitRecords:function(h){var b=this,g,d,a,e,c,f,i;if(!b.actionSkipSyncRe.test(b.action)){a=b.records;if(a&&a.length){if(a.length>1){if(b.action=='update'||a[0].clientIdProperty){g=new Ext.util.MixedCollection();g.addAll(h);for(d=a.length;d--;){c=a[d];e=g.findBy(b.matchClientRec,c);c.copyFrom(e)}}else {for(f=0,i=a.length;f<i;++f){c=a[f];e=h[f];if(c&&e){b.updateRecord(c,e)}}}}else {this.updateRecord(a[0],h[0])}if(b.actionCommitRecordsRe.test(b.action)){for(d=a.length;d--;){a[d].commit()}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){a.copyFrom(b)}}}});Ext.define('Sch.patches.TreeStore',{extend:'Sch.util.Patch',requires:['Ext.data.TreeStore'],description:'http://www.sencha.com/forum/showthread.php?208602-Model-s-Id-field-not-defined-after-sync-in-TreeStore-%28CRUD%29',maxVersion:'4.1.0',overrides:{onCreateRecords:function(c){this.callParent(arguments);var a=0,e=c.length,d=this.tree,b;for(;a<e;++a){b=c[a];d.onNodeIdChanged(b,null,b.getId())}},setRootNode:function(a,e){var b=this,c=b.model,d=c.prototype.idProperty;a=a||{};if(!a.isModel){Ext.applyIf(a,{text:'Root',allowDrag:!1});if(a[d]===undefined){a[d]=b.defaultRootId}Ext.data.NodeInterface.decorate(c);a=Ext.ModelManager.create(a,c)}else {if(a.isModel&&!a.isNode){Ext.data.NodeInterface.decorate(c)}}b.getProxy().getReader().buildExtractors(!0);b.tree.setRootNode(a);if(e!==!0&&!a.isLoaded()&&(b.autoLoad===!0||a.isExpanded())){b.load({node:a})}return a}}});Ext.define('Sch.util.Date',{requires:'Ext.Date',singleton:!0,unitsByName:{},constructor:function(){var b=Ext.Date;var d={MILLI:b.MILLI,SECOND:b.SECOND,MINUTE:b.MINUTE,HOUR:b.HOUR,DAY:b.DAY,WEEK:'w',MONTH:b.MONTH,QUARTER:'q',YEAR:b.YEAR};Ext.apply(this,d);var a=this;this.units=[a.MILLI,a.SECOND,a.MINUTE,a.HOUR,a.DAY,a.WEEK,a.MONTH,a.QUARTER,a.YEAR];for(var c in d){if(d.hasOwnProperty(c)){var e=d[c];a.unitNames[e]=a.unitNames[c];a.unitsByName[c]=e;a.unitsByName[e]=e}}},betweenLesser:function(c,d,b){var a=c.getTime();return d.getTime()<=a&&a<b.getTime()},constrain:function(b,c,a){return this.min(this.max(b,c),a)},compareUnits:function(d,c){var a=Ext.Array.indexOf(this.units,d),b=Ext.Array.indexOf(this.units,c);return a>b?1:a<b?-1:0},isUnitGreater:function(b,a){return this.compareUnits(b,a)>0},copyTimeValues:function(b,a){b.setHours(a.getHours());b.setMinutes(a.getMinutes());b.setSeconds(a.getSeconds());b.setMilliseconds(a.getMilliseconds())},add:function(b,e,c){var a=Ext.Date.clone(b);if(!e||c===0){return a}switch(e.toLowerCase()){case this.MILLI:a=new Date(b.getTime()+c);break;case this.SECOND:a=new Date(b.getTime()+c*1000);break;case this.MINUTE:a=new Date(b.getTime()+c*60000);break;case this.HOUR:a=new Date(b.getTime()+c*3600000);break;case this.DAY:a.setDate(b.getDate()+c);break;case this.WEEK:a.setDate(b.getDate()+c*7);break;case this.MONTH:var d=b.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(this.add(Ext.Date.getFirstDateOfMonth(b),this.MONTH,c)).getDate())};a.setDate(d);a.setMonth(a.getMonth()+c);break;case this.QUARTER:a=this.add(b,this.MONTH,c*3);break;case this.YEAR:a.setFullYear(b.getFullYear()+c);break;}return a},getMeasuringUnit:function(a){if(a===this.WEEK){return this.DAY}return a},getDurationInUnit:function(c,b,d){var a;switch(d){case this.YEAR:a=Math.round(this.getDurationInYears(c,b));break;case this.QUARTER:a=Math.round(this.getDurationInMonths(c,b)/3);break;case this.MONTH:a=Math.round(this.getDurationInMonths(c,b));break;case this.WEEK:a=Math.round(this.getDurationInDays(c,b))/7;break;case this.DAY:a=Math.round(this.getDurationInDays(c,b));break;case this.HOUR:a=Math.round(this.getDurationInHours(c,b));break;case this.MINUTE:a=Math.round(this.getDurationInMinutes(c,b));break;case this.SECOND:a=Math.round(this.getDurationInSeconds(c,b));break;case this.MILLI:a=Math.round(this.getDurationInMilliseconds(c,b));break;}return a},getUnitToBaseUnitRatio:function(b,a){if(b===a){return 1}switch(b){case this.YEAR:switch(a){case this.QUARTER:return 1/4;case this.MONTH:return 1/12;};break;case this.QUARTER:switch(a){case this.YEAR:return 4;case this.MONTH:return 1/3;};break;case this.MONTH:switch(a){case this.YEAR:return 12;case this.QUARTER:return 3;};break;case this.WEEK:switch(a){case this.DAY:return 1/7;case this.HOUR:return 1/168;};break;case this.DAY:switch(a){case this.WEEK:return 7;case this.HOUR:return 1/24;case this.MINUTE:return 1/1440;};break;case this.HOUR:switch(a){case this.DAY:return 24;case this.MINUTE:return 1/60;};break;case this.MINUTE:switch(a){case this.HOUR:return 60;case this.SECOND:return 1/60;case this.MILLI:return 1/60000;};break;case this.SECOND:switch(a){case this.MILLI:return 1/1000;};break;case this.MILLI:switch(a){case this.SECOND:return 1000;};break;}return -1},getDurationInMilliseconds:function(b,a){return a-b},getDurationInSeconds:function(b,a){return (a-b)/1000},getDurationInMinutes:function(b,a){return (a-b)/60000},getDurationInHours:function(b,a){return (a-b)/3600000},getDurationInDays:function(b,a){return (a-b)/86400000},getDurationInBusinessDays:function(d,e){var f=Math.round((e-d)/86400000),c=0,b;for(var a=0;a<f;a++){b=this.add(d,this.DAY,a).getDay();if(b!==6&&b!==0){c++}}return c},getDurationInMonths:function(b,a){return (a.getFullYear()-b.getFullYear())*12+(a.getMonth()-b.getMonth())},getDurationInYears:function(b,a){return this.getDurationInMonths(b,a)/12},min:function(b,a){return b<a?b:a},max:function(b,a){return b>a?b:a},intersectSpans:function(b,d,a,c){return this.betweenLesser(b,a,c)||this.betweenLesser(a,b,d)},getNameOfUnit:function(a){a=this.getUnitByName(a);switch(a.toLowerCase()){case this.YEAR:return 'YEAR';case this.QUARTER:return 'QUARTER';case this.MONTH:return 'MONTH';case this.WEEK:return 'WEEK';case this.DAY:return 'DAY';case this.HOUR:return 'HOUR';case this.MINUTE:return 'MINUTE';case this.SECOND:return 'SECOND';case this.MILLI:return 'MILLI';}throw 'Incorrect UnitName'},unitNames:{YEAR:{single:'year',plural:'years',abbrev:'yr'},QUARTER:{single:'quarter',plural:'quarters',abbrev:'q'},MONTH:{single:'month',plural:'months',abbrev:'mon'},WEEK:{single:'week',plural:'weeks',abbrev:'w'},DAY:{single:'day',plural:'days',abbrev:'d'},HOUR:{single:'hour',plural:'hours',abbrev:'h'},MINUTE:{single:'minute',plural:'minutes',abbrev:'min'},SECOND:{single:'second',plural:'seconds',abbrev:'s'},MILLI:{single:'ms',plural:'ms',abbrev:'ms'}},getReadableNameOfUnit:function(b,a){return this.unitNames[b][a?'plural':'single']},getShortNameOfUnit:function(a){return this.unitNames[a].abbrev},getUnitByName:function(a){if(!this.unitsByName[a]){Ext.Error.raise('Unknown unit name: '+a)}return this.unitsByName[a]},getNext:function(e,f,b,d){var a=Ext.Date.clone(e);b=b||1;switch(f){case this.DAY:Ext.Date.clearTime(a);a=this.add(a,this.DAY,b);break;case this.WEEK:var c=a.getDay();a=this.add(a,this.DAY,7*(b-1)+(c<d?d-c:7-c+d));break;case this.MONTH:a=this.add(a,this.MONTH,b);a.setDate(1);break;case this.QUARTER:a=this.add(a,this.MONTH,(b-1)*3+(3-a.getMonth()%3));break;case this.YEAR:a=new Date(a.getFullYear()+b,0,1);break;default:a=this.add(e,f,b);break;}return a},getNumberOfMsFromTheStartOfDay:function(a){return a-Ext.Date.clearTime(a,!0)||86400000},getNumberOfMsTillTheEndOfDay:function(a){return this.getStartOfNextDay(a,!0)-a},getStartOfNextDay:function(a,c){var b=this.add(Ext.Date.clearTime(a,c),this.DAY,1);if(b.getDate()==a.getDate()){var e=this.add(Ext.Date.clearTime(a,c),this.DAY,2).getTimezoneOffset();var d=a.getTimezoneOffset();b=this.add(b,this.MINUTE,d-e)}return b},getEndOfPreviousDay:function(b){var a=Ext.Date.clearTime(b,!0);if(a-b){return a}else {return this.add(a,this.DAY,-1)}},timeSpanContains:function(c,b,d,a){return d-c>=0&&b-a>=0}});Ext.define('Sch.util.DragTracker',{extend:'Ext.dd.DragTracker',xStep:1,yStep:1,setXStep:function(a){this.xStep=a},setYStep:function(a){this.yStep=a},getRegion:function(){var b=this.startXY,a=this.getXY(),c=Math.min(b[0],a[0]),d=Math.min(b[1],a[1]),f=Math.abs(b[0]-a[0]),e=Math.abs(b[1]-a[1]);return new Ext.util.Region(d,c+f,d+e,c)},onMouseDown:function(a,g){if(this.disabled||a.dragTracked){return}var f=a.getXY(),e,d,b=f[0],c=f[1];if(this.xStep>1){e=this.el.getX();b-=e;b=Math.round(b/this.xStep)*this.xStep;b+=e}if(this.yStep>1){d=this.el.getY();c-=d;c=Math.round(c/this.yStep)*this.yStep;c+=d}this.dragTarget=this.delegate?g:this.handle.dom;this.startXY=this.lastXY=[b,c];this.startRegion=Ext.fly(this.dragTarget).getRegion();if(this.fireEvent('mousedown',this,a)===!1||this.fireEvent('beforedragstart',this,a)===!1||this.onBeforeStart(a)===!1){return}this.mouseIsDown=!0;a.dragTracked=!0;if(this.preventDefault!==!1){a.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=Ext.defer(this.triggerStart,this.autoStart===!0?1000:this.autoStart,this,[a])}},onMouseMove:function(a,g){if(this.active&&Ext.isIE&&!a.browserEvent.button){a.preventDefault();this.onMouseUp(a);return}a.preventDefault();var c=a.getXY(),e=this.startXY;if(!this.active){if(Math.max(Math.abs(e[0]-c[0]),Math.abs(e[1]-c[1]))>this.tolerance){this.triggerStart(a)}else {return}}var b=c[0],d=c[1];if(this.xStep>1){b-=this.startXY[0];b=Math.round(b/this.xStep)*this.xStep;b+=this.startXY[0]}if(this.yStep>1){d-=this.startXY[1];d=Math.round(d/this.yStep)*this.yStep;d+=this.startXY[1]}var f=this.xStep>1||this.yStep>1;if(!f||b!==c[0]||d!==c[1]){this.lastXY=[b,d];if(this.fireEvent('mousemove',this,a)===!1){this.onMouseUp(a)}else {this.onDrag(a);this.fireEvent('drag',this,a)}}}});Ext.define('Sch.util.HeaderRenderers',{singleton:!0,requires:['Sch.util.Date','Ext.XTemplate'],constructor:function(){var a=Ext.create('Ext.XTemplate','<table class="sch-nested-hdr-tbl '+Ext.baseCSSPrefix+'column-header-text" cellpadding="0" cellspacing="0"><tr><tpl for="."><td style="width:{[100/xcount]}%" class="{cls} sch-dayheadercell-{dayOfWeek}">{text}</td></tpl></tr></table>').compile();var b=Ext.create('Ext.XTemplate','<table class="sch-nested-hdr-tbl" cellpadding="0" cellspacing="0"><tr><tpl for="."><td style="width:{[100/xcount]}%" class="{cls}">{text}</td></tpl></tr></table>').compile();return {quarterMinute:function(d,b,a,c){a.headerCls='sch-nested-hdr-pad';return '<table class="sch-nested-hdr-tbl" cellpadding="0" cellspacing="0"><tr><td>00</td><td>15</td><td>30</td><td>45</td></tr></table>'},dateCells:function(c,a,d){return function(i,h,g){g.headerCls='sch-nested-hdr-nopad';var e=[],f=Ext.Date.clone(i);while(f<h){e.push({text:Ext.Date.format(f,d)});f=Sch.util.Date.add(f,c,a)}e[0].cls='sch-nested-hdr-cell-first';e[e.length-1].cls='sch-nested-hdr-cell-last';return b.apply(e)}},dateNumber:function(f,e,d){d.headerCls='sch-nested-hdr-nopad';var c=[],b=Ext.Date.clone(f);while(b<e){c.push({dayOfWeek:b.getDay(),text:b.getDate()});b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)}return a.apply(c)},dayLetter:function(f,e,d){d.headerCls='sch-nested-hdr-nopad';var c=[],b=f;while(b<e){c.push({dayOfWeek:b.getDay(),text:Ext.Date.dayNames[b.getDay()].substr(0,1)});b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)}c[0].cls='sch-nested-hdr-cell-first';c[c.length-1].cls='sch-nested-hdr-cell-last';return a.apply(c)},dayStartEndHours:function(c,b,a){a.headerCls='sch-hdr-startend';return Ext.String.format('<span class="sch-hdr-start">{0}</span><span class="sch-hdr-end">{1}</span>',Ext.Date.format(c,'G'),Ext.Date.format(b,'G'))}}}});Ext.define('Sch.model.Customizable',{extend:'Ext.data.Model',customizableFields:null,onClassExtended:function(c,d,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(g,k){b.call(this,g,k);var e=g.prototype;if(!e.customizableFields){return}e.customizableFields=(g.superclass.customizableFields||[]).concat(e.customizableFields);var h=e.customizableFields;var j={};Ext.Array.each(h,function(b){if(typeof b=='string'){b={name:b}}j[b.name]=b});var f=e.fields;var i=[];f.each(function(b){if(b.isCustomizableField){i.push(b)}});f.removeAll(i);Ext.Object.each(j,function(q,n){n.isCustomizableField=!0;var i=n.name;var p=i==='Id'?'idProperty':i.charAt(0).toLowerCase()+i.substr(1)+'Field';var o=e[p];var b=o||i;if(f.containsKey(b)){f.getByKey(b).isCustomizableField=!0;h.push(new Ext.data.Field(Ext.applyIf({name:i,isCustomizableField:!0},f.getByKey(b))))}else {f.add(new Ext.data.Field(Ext.applyIf({name:b,isCustomizableField:!0},n)))}var m=Ext.String.capitalize(i);if(m!='Id'){var l='get'+m;var j='set'+m;if(!e[l]||e[l].__getterFor__&&e[l].__getterFor__!=b){e[l]=function(){return this.data[b]};e[l].__getterFor__=b}if(!e[j]||e[j].__setterFor__&&e[j].__setterFor__!=b){e[j]=function(e){return this.set(b,e)};e[j].__setterFor__=b}}})}},set:function(b,c){if(arguments.length===2){this.previous=this.previous||{};var a=this.get(b);if(a!==c){this.previous[b]=a}}this.callParent(arguments)},afterEdit:function(){this.callParent(arguments);delete this.previous},reject:function(){var a=this,c=a.modified,b;a.previous=a.previous||{};for(b in c){if(c.hasOwnProperty(b)){if(typeof c[b]!='function'){a.previous[b]=a.get(b)}}}a.callParent(arguments);delete a.previous}});Ext.define('Sch.patches.Model',{extend:'Sch.util.Patch',requires:'Sch.model.Customizable',reportURL:'http://www.sencha.com/forum/showthread.php?198250-4.1-Ext.data.Model-regression',description:'In Ext 4.1 Models cannot be subclassed',maxVersion:'4.1.0',applyFn:function(){try{Ext.define('Sch.foo',{extend:'Ext.data.Model',fields:['a']});Ext.define('Sch.foo.Sub',{extend:'Sch.foo',fields:['a']})}catch(a){Ext.data.Types.AUTO.convert=function(a){return a}}}});Ext.define('Sch.model.Range',{extend:'Sch.model.Customizable',requires:['Sch.util.Date','Sch.patches.DataOperation'],startDateField:'StartDate',endDateField:'EndDate',nameField:'Name',clsField:'Cls',customizableFields:[{name:'StartDate',type:'date',dateFormat:'c'},{name:'EndDate',type:'date',dateFormat:'c'},{name:'Cls',type:'string'},{name:'Name',type:'string'}],setStartEndDate:function(b,a){this.beginEdit();this.set(this.startDateField,b);this.set(this.endDateField,a);this.endEdit()},getDates:function(){var b=[],c=this.getEndDate();for(var a=Ext.Date.clearTime(this.getStartDate(),!0);a<c;a=Sch.util.Date.add(a,Sch.util.Date.DAY,1)){b.push(a)}return b},forEachDate:function(b,a){return Ext.each(this.getDates(),b,a)},isValid:function(){var a=this.callParent(arguments);if(a){var c=this.getStartDate(),b=this.getEndDate();a=!c||!b||b-c>=0}return a},shift:function(b,a){this.setStartEndDate(Sch.util.Date.add(this.getStartDate(),b,a),Sch.util.Date.add(this.getEndDate(),b,a))}});Ext.define('Sch.model.Resource',{extend:'Sch.model.Customizable',idProperty:'Id',nameField:'Name',customizableFields:['Id',{name:'Name',type:'string'}],getEventStore:function(){return this.stores[0]&&this.stores[0].eventStore||this.parentNode&&this.parentNode.getEventStore()},getEvents:function(a){var d=[],b,f=this.getId()||this.internalId;a=a||this.getEventStore();for(var c=0,e=a.getCount();c<e;c++){b=a.getAt(c);if(b.data[b.resourceIdField]===f){d.push(b)}}return d}});Ext.define('Sch.data.mixin.ResourceStore',{});Ext.define('Sch.data.ResourceStore',{extend:'Ext.data.Store',model:'Sch.model.Resource',mixins:['Sch.data.mixin.ResourceStore']});Ext.define('Sch.data.TimeAxis',{extend:'Ext.util.Observable',requires:['Ext.data.JsonStore','Sch.util.Date'],continuous:!0,autoAdjust:!0,constructor:function(a){Ext.apply(this,a);this.originalContinuous=this.continuous;this.addEvents('beforereconfigure','reconfigure');this.tickStore=new Ext.data.JsonStore({fields:['start','end']});this.tickStore.on('datachanged',function(){this.fireEvent('reconfigure',this)},this);this.callParent(arguments)},reconfigure:function(b){Ext.apply(this,b);var a=this.tickStore,c=this.generateTicks(this.start,this.end,this.unit,this.increment||1,this.mainUnit);if(this.fireEvent('beforereconfigure',this,this.start,this.end)!==!1){a.suspendEvents(!0);a.loadData(c);if(a.getCount()===0){Ext.Error.raise('Invalid time axis configuration or filter, please check your input data.')}a.resumeEvents()}},setTimeSpan:function(b,a){this.reconfigure({start:b,end:a})},filterBy:function(c,b){this.continuous=!1;b=b||this;var a=this.tickStore;a.clearFilter(!0);a.suspendEvents(!0);a.filter([{filterFn:function(d,a){return c.call(b,d.data,a)}}]);if(a.getCount()===0){Ext.Error.raise('Invalid time axis filter - no columns passed through the filter. Please check your filter method.');this.clearFilter()}a.resumeEvents()},isContinuous:function(){return this.continuous&&!this.tickStore.isFiltered()},clearFilter:function(){this.continuous=this.originalContinuous;this.tickStore.clearFilter()},generateTicks:function(a,h,g,d){var c=[],b,e=Sch.util.Date,f=0;g=g||this.unit;d=d||this.increment;if(this.autoAdjust){a=this.floorDate(a||this.getStart(),!1);h=this.ceilDate(h||e.add(a,this.mainUnit,this.defaultSpan),!1)}while(a<h){b=this.getNext(a,g,d);if(g===e.HOUR&&d>1&&c.length>0&&f===0){var i=c[c.length-1];f=(i.start.getHours()+d)%24-i.end.getHours();if(f!==0){b=e.add(b,e.HOUR,f)}}c.push({start:a,end:b});a=b}return c},getTickFromDate:function(b){if(this.getStart()>b||this.getEnd()<b){return -1}var e=this.tickStore.getRange(),c,d,a,f;for(a=0,f=e.length;a<f;a++){d=e[a].data.end;if(b<=d){c=e[a].data.start;return a+(b>c?(b-c)/(d-c):0)}}return -1},getDateFromTick:function(c,e){var g=this.tickStore.getCount();if(c===g){return this.getEnd()}var d=Math.floor(c),f=c-d,b=this.getAt(d);var a=Sch.util.Date.add(b.start,Sch.util.Date.MILLI,f*(b.end-b.start));if(e){a=this[e+'Date'](a)}return a},getAt:function(a){return this.tickStore.getAt(a).data},getCount:function(){return this.tickStore.getCount()},getTicks:function(){var a=[];this.tickStore.each(function(b){a.push(b.data)});return a},getStart:function(){return Ext.Date.clone(this.tickStore.first().data.start)},getEnd:function(){return Ext.Date.clone(this.tickStore.last().data.end)},roundDate:function(t){var a=Ext.Date.clone(t),c=this.getStart(),b=this.resolutionIncrement;switch(this.resolutionUnit){case Sch.util.Date.MILLI:var i=Sch.util.Date.getDurationInMilliseconds(c,a),h=Math.round(i/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,h);break;case Sch.util.Date.SECOND:var m=Sch.util.Date.getDurationInSeconds(c,a),s=Math.round(m/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,s*1000);break;case Sch.util.Date.MINUTE:var q=Sch.util.Date.getDurationInMinutes(c,a),f=Math.round(q/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.SECOND,f*60);break;case Sch.util.Date.HOUR:var p=Sch.util.Date.getDurationInHours(this.getStart(),a),n=Math.round(p/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MINUTE,n*60);break;case Sch.util.Date.DAY:var g=Sch.util.Date.getDurationInDays(c,a),j=Math.round(g/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.DAY,j);break;case Sch.util.Date.WEEK:Ext.Date.clearTime(a);var d=a.getDay()-this.weekStartDay,e;if(d<0){d=7+d};if(Math.round(d/7)===1){e=7-d}else {e=-d};a=Sch.util.Date.add(a,Sch.util.Date.DAY,e);break;case Sch.util.Date.MONTH:var r=Sch.util.Date.getDurationInMonths(c,a)+a.getDate()/Ext.Date.getDaysInMonth(a),l=Math.round(r/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MONTH,l);break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);a.setDate(1);a=Sch.util.Date.add(a,Sch.util.Date.MONTH,3-a.getMonth()%3);break;case Sch.util.Date.YEAR:var o=Sch.util.Date.getDurationInYears(c,a),k=Math.round(o/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.YEAR,k);break;}return a},floorDate:function(g,d,h){d=d!==!1;var a=Ext.Date.clone(g),c=d?this.getStart():null,b=this.resolutionIncrement,f;if(h){f=h}else {f=d?this.resolutionUnit:this.mainUnit}switch(f){case Sch.util.Date.MILLI:if(d){var l=Sch.util.Date.getDurationInMilliseconds(c,a),k=Math.floor(l/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,k)};break;case Sch.util.Date.SECOND:if(d){var p=Sch.util.Date.getDurationInSeconds(c,a),v=Math.floor(p/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,v*1000)}else {a.setMilliseconds(0)};break;case Sch.util.Date.MINUTE:if(d){var t=Sch.util.Date.getDurationInMinutes(c,a),i=Math.floor(t/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.SECOND,i*60)}else {a.setSeconds(0);a.setMilliseconds(0)};break;case Sch.util.Date.HOUR:if(d){var s=Sch.util.Date.getDurationInHours(this.getStart(),a),q=Math.floor(s/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MINUTE,q*60)}else {a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)};break;case Sch.util.Date.DAY:if(d){var j=Sch.util.Date.getDurationInDays(c,a),m=Math.floor(j/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.DAY,m)}else {Ext.Date.clearTime(a)};break;case Sch.util.Date.WEEK:var e=a.getDay();Ext.Date.clearTime(a);if(e!==this.weekStartDay){a=Sch.util.Date.add(a,Sch.util.Date.DAY,-(e>this.weekStartDay?e-this.weekStartDay:7-e-this.weekStartDay))};break;case Sch.util.Date.MONTH:if(d){var u=Sch.util.Date.getDurationInMonths(c,a),o=Math.floor(u/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MONTH,o)}else {Ext.Date.clearTime(a);a.setDate(1)};break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);a.setDate(1);a=Sch.util.Date.add(a,Sch.util.Date.MONTH,-(a.getMonth()%3));break;case Sch.util.Date.YEAR:if(d){var r=Sch.util.Date.getDurationInYears(c,a),n=Math.floor(r/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.YEAR,n)}else {a=new Date(g.getFullYear(),0,1)};break;}return a},ceilDate:function(g,c,e){var a=Ext.Date.clone(g);c=c!==!1;var f=c?this.resolutionIncrement:1,b=!1,d;if(e){d=e}else {d=c?this.resolutionUnit:this.mainUnit}switch(d){case Sch.util.Date.DAY:if(a.getMinutes()>0||a.getSeconds()>0||a.getMilliseconds()>0){b=!0};break;case Sch.util.Date.WEEK:Ext.Date.clearTime(a);if(a.getDay()!==this.weekStartDay){b=!0};break;case Sch.util.Date.MONTH:Ext.Date.clearTime(a);if(a.getDate()!==1){b=!0};break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);if(a.getMonth()%3!==0){b=!0};break;case Sch.util.Date.YEAR:Ext.Date.clearTime(a);if(a.getMonth()!==0&&a.getDate()!==1){b=!0};break;default:break;}if(b){return this.getNext(a,d,f)}else {return a}},getNext:function(b,c,a){return Sch.util.Date.getNext(b,c,a,this.weekStartDay)},getResolution:function(){return {unit:this.resolutionUnit,increment:this.resolutionIncrement}},setResolution:function(b,a){this.resolutionUnit=b;this.resolutionIncrement=a||1},shiftNext:function(a){a=a||this.getShiftIncrement();var b=this.getShiftUnit();this.setTimeSpan(Sch.util.Date.add(this.getStart(),b,a),Sch.util.Date.add(this.getEnd(),b,a))},shiftPrevious:function(a){a=-(a||this.getShiftIncrement());var b=this.getShiftUnit();this.setTimeSpan(Sch.util.Date.add(this.getStart(),b,a),Sch.util.Date.add(this.getEnd(),b,a))},getShiftUnit:function(){return this.shiftUnit||this.getMainUnit()},getShiftIncrement:function(){return this.shiftIncrement||1},getUnit:function(){return this.unit},getIncrement:function(){return this.increment},timeSpanInAxis:function(b,a){if(this.continuous){return Sch.util.Date.intersectSpans(b,a,this.getStart(),this.getEnd())}else {return a>b&&this.getTickFromDate(b)!==this.getTickFromDate(a)}},forEachInterval:function(b,c,a){a=a||this;if(b==='top'||b==='middle'&&this.headerConfig.bottom){this.forEachAuxInterval(b,c,a)}else {this.tickStore.each(function(d,e){return c.call(a,d.data.start,d.data.end,e)})}},forEachMainInterval:function(a,b){this.forEachInterval('middle',a,b)},forEachAuxInterval:function(d,g,c){c=c||this;var e=this.getEnd(),a=this.getStart(),f=0,b;while(a<e){b=Sch.util.Date.min(this.getNext(a,this.headerConfig[d].unit,this.headerConfig[d].increment||1),e);g.call(c,a,b,f);a=b;f++}}});Ext.define('Sch.preset.Manager',{extend:'Ext.util.MixedCollection',requires:['Sch.util.Date','Sch.util.HeaderRenderers'],singleton:!0,constructor:function(){this.callParent(arguments);this.registerDefaults()},registerPreset:function(e,a){if(a){var c=a.headerConfig;var b=Sch.util.Date;for(var d in c){if(c.hasOwnProperty(d)){if(b[c[d].unit]){c[d].unit=b[c[d].unit.toUpperCase()]}}}if(!a.timeColumnWidth){a.timeColumnWidth=50}if(a.timeResolution&&b[a.timeResolution.unit]){a.timeResolution.unit=b[a.timeResolution.unit.toUpperCase()]}if(a.shiftUnit&&b[a.shiftUnit]){a.shiftUnit=b[a.shiftUnit.toUpperCase()]}}if(this.isValidPreset(a)){if(this.containsKey(e)){this.removeAtKey(e)}this.add(e,a)}else {throw 'Invalid preset, please check your configuration'}},isValidPreset:function(a){var e=Sch.util.Date,b=!0,c=Sch.util.Date.units;for(var d in a.headerConfig){if(a.headerConfig.hasOwnProperty(d)){b=b&&Ext.Array.indexOf(c,a.headerConfig[d].unit)>=0}}if(a.timeResolution){b=b&&Ext.Array.indexOf(c,a.timeResolution.unit)>=0}if(a.shiftUnit){b=b&&Ext.Array.indexOf(c,a.shiftUnit)>=0}return b},getPreset:function(a){return this.get(a)},deletePreset:function(a){this.removeAtKey(a)},registerDefaults:function(){var c=this,a=this.defaultPresets;for(var b in a){c.registerPreset(b,a[b])}},defaultPresets:{minuteAndHour:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'HOUR',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'MINUTE',increment:'30',dateFormat:'i'},top:{unit:'HOUR',dateFormat:'D, GA/m'}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'DAY',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'HOUR',dateFormat:'G:i'},top:{unit:'DAY',dateFormat:'D d/m'}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d G:i',shiftUnit:'DAY',shiftIncrement:1,defaultSpan:5,timeResolution:{unit:'HOUR',increment:1},headerConfig:{middle:{unit:'DAY',dateFormat:'D d M'},top:{unit:'WEEK',dateFormat:'W M Y',renderer:function(a,c,b){return Sch.util.Date.getShortNameOfUnit('WEEK')+'.'+Ext.Date.format(a,'W M Y')}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'HOUR',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'MINUTE',increment:'30',dateFormat:'i'},top:{unit:'HOUR',dateFormat:'D, GA/m'}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'DAY',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'HOUR',dateFormat:'G:i'},top:{unit:'DAY',dateFormat:'D d/m'}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d G:i',shiftUnit:'DAY',shiftIncrement:1,defaultSpan:5,timeResolution:{unit:'HOUR',increment:1},headerConfig:{middle:{unit:'DAY',dateFormat:'D d M'},top:{unit:'WEEK',dateFormat:'W M Y',renderer:function(a,c,b){return Sch.util.Date.getShortNameOfUnit('WEEK')+'.'+Ext.Date.format(a,'W M Y')}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:1,timeResolution:{unit:'DAY',increment:1},headerConfig:{bottom:{unit:'DAY',increment:1,dateFormat:'d/m'},middle:{unit:'WEEK',dateFormat:'D d M',align:'left'}}},weekAndMonth:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:5,defaultSpan:6,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'WEEK',renderer:function(b,c,a){a.align='left';return Ext.Date.format(b,'d M')}},top:{unit:'MONTH',dateFormat:'M Y'}}},monthAndYear:{timeColumnWidth:110,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftIncrement:3,shiftUnit:'MONTH',defaultSpan:12,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'MONTH',dateFormat:'M Y'},top:{unit:'YEAR',dateFormat:'Y'}}},year:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'YEAR',shiftIncrement:1,defaultSpan:1,timeResolution:{unit:'MONTH',increment:1},headerConfig:{bottom:{unit:'QUARTER',renderer:function(a,c,b){return Ext.String.format(Sch.util.Date.getShortNameOfUnit('QUARTER').toUpperCase()+'{0}',Math.floor(a.getMonth()/3)+1)}},middle:{unit:'YEAR',dateFormat:'Y'}}},weekAndDayLetter:{timeColumnWidth:20,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:10,timeResolution:{unit:'DAY',increment:1},headerConfig:{bottom:{unit:'DAY',increment:1,renderer:function(a){return Ext.Date.dayNames[a.getDay()].substring(0,1)}},middle:{unit:'WEEK',dateFormat:'D d M Y',align:'left'}}},weekDateAndMonth:{timeColumnWidth:30,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:10,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'WEEK',dateFormat:'d'},top:{unit:'MONTH',dateFormat:'Y F',align:'left'}}}}});Ext.define('Sch.feature.AbstractTimeSpan',{extend:'Ext.AbstractPlugin',lockableScope:'normal',schedulerView:null,timeAxis:null,containerEl:null,expandToFitView:!1,disabled:!1,cls:null,template:null,store:null,renderElementsBuffered:!1,renderDelay:15,constructor:function(a){this.uniqueCls=this.uniqueCls||'sch-timespangroup-'+Ext.id();Ext.apply(this,a)},setDisabled:function(a){if(a){this.removeElements()}this.disabled=a},getElements:function(){if(this.containerEl){return this.containerEl.select('.'+this.uniqueCls)}return null},removeElements:function(){var a=this.getElements();if(a){a.remove()}},init:function(a){this.timeAxis=a.getTimeAxis();this.schedulerView=a.getSchedulingView();if(!this.store){Ext.Error.raise('Error: You must define a store for this plugin')}this.schedulerView.on({afterrender:this.onAfterRender,destroy:this.onDestroy,scope:this})},onAfterRender:function(b){var a=this.schedulerView;this.containerEl=a.el;a.mon(this.store,{load:this.renderElements,datachanged:this.renderElements,clear:this.renderElements,add:this.renderElements,remove:this.renderElements,update:this.refreshSingle,scope:this});if(Ext.data.NodeStore&&a.store instanceof Ext.data.NodeStore){if(a.animate){}else {a.mon(a.store,{expand:this.renderElements,collapse:this.renderElements,scope:this})}}a.on({refresh:this.renderElements,itemadd:this.renderElements,itemremove:this.renderElements,itemupdate:this.renderElements,groupexpand:this.renderElements,groupcollapse:this.renderElements,columnwidthchange:this.renderElements,resize:this.renderElements,scope:this});a.headerCt.on({add:this.renderElements,remove:this.renderElements,scope:this});a.ownerCt.up('panel').on({viewchange:this.renderElements,orientationchange:this.renderElements,scope:this});this.renderElements()},renderElements:function(){if(this.renderElementsBuffered||this.disabled||this.schedulerView.headerCt.getColumnCount()===0){return}this.renderElementsBuffered=!0;Ext.Function.defer(this.renderElementsInternal,this.renderDelay,this)},renderElementsInternal:function(){this.renderElementsBuffered=!1;if(this.disabled||this.schedulerView.isDestroyed||this.schedulerView.headerCt.getColumnCount()===0){return}this.removeElements();var c=this.timeAxis.getStart(),a=this.timeAxis.getEnd(),b=this.getElementData(c,a);this.template.insertFirst(this.containerEl,b)},getElementData:function(b,a){throw 'Abstract method call'},onDestroy:function(){if(this.store.autoDestroy){this.store.destroy()}},refreshSingle:function(g,c){var a=Ext.get(this.uniqueCls+'-'+c.internalId);if(a){var f=this.timeAxis.getStart(),d=this.timeAxis.getEnd(),b=this.getElementData(f,d,[c])[0],e=c.clsField||'Cls';a.dom.className=this.cls+' '+this.uniqueCls+' '+(b[e]||'');a.setTop(b.top);a.setLeft(b.left);a.setSize(b.width,b.height)}else {this.renderElements()}}});Ext.define('Sch.plugin.Lines',{extend:'Sch.feature.AbstractTimeSpan',cls:'sch-timeline',showTip:!0,innerTpl:null,init:function(c){this.callParent(arguments);var b=this.schedulerView;if(Ext.isString(this.innerTpl)){this.innerTpl=new Ext.XTemplate(this.innerTpl)}var a=this.innerTpl;if(!this.template){this.template=new Ext.XTemplate('<tpl for=".">','<div id="'+this.uniqueCls+'-{id}"'+(this.showTip?'title="{[this.getTipText(values)]}" ':'')+'class="'+this.cls+' '+this.uniqueCls+' {Cls}" style="left:{left}px;top:{top}px;height:{height}px;width:{width}px">'+(a?'{[this.renderInner(values)]}':'')+'</div>','</tpl>',{getTipText:function(a){return b.getFormattedDate(a.Date)+' '+(a.Text||'')},renderInner:function(b){return a.apply(b)}})}},getElementData:function(j,k,g){var l=this.store,i=this.schedulerView,f=g||l.getRange(),e=[],n=this.containerEl.lastBox?this.containerEl.lastBox.height:this.containerEl.getHeight(),b,c,a,m;for(var d=0,h=f.length;d<h;d++){b=f[d];c=b.get('Date');if(c&&Ext.Date.between(c,j,k)){a=i.getTimeSpanRegion(c,null,this.expandToFitView);e[e.length]=Ext.apply({id:b.internalId,left:a.left,top:a.top,width:Math.max(1,a.right-a.left),height:a.bottom-a.top},b.data)}}return e}});Ext.define('Sch.plugin.Zones',{extend:'Sch.feature.AbstractTimeSpan',innerTpl:null,requires:['Sch.model.Range'],cls:'sch-zone',init:function(b){if(Ext.isString(this.innerTpl)){this.innerTpl=new Ext.XTemplate(this.innerTpl)}var a=this.innerTpl;if(!this.template){this.template=new Ext.XTemplate('<tpl for="."><div id="'+this.uniqueCls+'-{id}" class="'+this.cls+' '+this.uniqueCls+' {Cls}" style="left:{left}px;top:{top}px;height:{height}px;width:{width}px">'+(a?'{[this.renderInner(values)]}':'')+'</div></tpl>',{renderInner:function(c){return a.apply(c)}})}this.callParent(arguments)},getElementData:function(h,i,j){var m=this.store,l=this.schedulerView,g=j||m.getRange(),f=[],b,d,c,a;for(var e=0,k=g.length;e<k;e++){b=g[e];d=b.getStartDate();c=b.getEndDate();if(d&&c&&Sch.util.Date.intersectSpans(d,c,h,i)){a=l.getTimeSpanRegion(Sch.util.Date.max(d,h),Sch.util.Date.min(c,i),this.expandToFitView);f[f.length]=Ext.apply({id:b.internalId,left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top,Cls:b.getCls()},b.data)}}return f}});Ext.define('Sch.plugin.Pan',{alias:'plugin.pan',extend:'Ext.AbstractPlugin',lockableScope:'normal',enableVerticalPan:!0,panel:null,constructor:function(a){Ext.apply(this,a)},init:function(a){this.panel=a.normalGrid||a;this.view=a.getSchedulingView();this.view.on('afterrender',this.onRender,this)},onRender:function(a){this.view.el.on('mousedown',this.onMouseDown,this,{delegate:'.'+this.view.timeCellCls})},onMouseDown:function(a,b){if(a.getTarget('.'+this.view.timeCellCls)&&!a.getTarget(this.view.eventSelector)){this.mouseX=a.getPageX();this.mouseY=a.getPageY();Ext.getBody().on('mousemove',this.onMouseMove,this);Ext.getDoc().on('mouseup',this.onMouseUp,this)}},onMouseMove:function(a){a.stopEvent();var b=a.getPageX(),c=a.getPageY(),e=b-this.mouseX,d=c-this.mouseY;this.panel.scrollByDeltaX(-e);this.mouseX=b;this.mouseY=c;if(this.enableVerticalPan){this.panel.scrollByDeltaY(-d)}},onMouseUp:function(a){Ext.getBody().un('mousemove',this.onMouseMove,this);Ext.getDoc().un('mouseup',this.onMouseUp,this)}});Ext.define('Sch.view.Locking',{extend:'Ext.grid.LockingView',scheduleEventRelayRe:/^(schedule|event|beforeevent|afterevent|dragcreate|beforedragcreate|afterdragcreate|beforetooltipshow)/,constructor:function(g){this.callParent(arguments);var c=this,e=[],f=c.scheduleEventRelayRe,d=g.normal.getView(),b=d.events,a;for(a in b){if(b.hasOwnProperty(a)&&f.test(a)){e.push(a)}}c.relayEvents(d,e)},getElementFromEventRecord:function(a){return this.normal.getView().getElementFromEventRecord(a)},onClear:function(){this.relayFn('onClear',arguments)},beginBulkUpdate:function(){this.relayFn('beginBulkUpdate',arguments)},endBulkUpdate:function(){this.relayFn('endBulkUpdate',arguments)},refreshKeepingScroll:function(){this.locked.getView().refresh();this.normal.getView().refreshKeepingScroll()}});Ext.define('Sch.column.Time',{extend:'Ext.grid.column.Column',alias:'timecolumn',draggable:!1,groupable:!1,hideable:!1,sortable:!1,fixed:!0,align:'center',tdCls:'sch-timetd',menuDisabled:!0,initComponent:function(){this.addEvents('timeheaderdblclick');this.enableBubble('timeheaderdblclick');this.callParent()},initRenderData:function(){var a=this;a.renderData.headerCls=a.renderData.headerCls||a.headerCls;return a.callParent(arguments)},onElDblClick:function(a,b){this.callParent(arguments);this.fireEvent('timeheaderdblclick',this,this.startDate,this.endDate,a)}},function(){Sch.column.Time.prototype.renderTpl=Sch.column.Time.prototype.renderTpl.replace('column-header-inner','column-header-inner sch-timeheader {headerCls}')});Ext.define('Sch.column.timeAxis.Horizontal',{extend:'Ext.grid.column.Column',alias:'widget.timeaxiscolumn',requires:['Ext.Date','Ext.XTemplate','Sch.column.Time','Sch.preset.Manager'],cls:'sch-timeaxiscolumn',timeAxis:null,renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" style="display:none" class="'+Ext.baseCSSPrefix+'column-header-text"></span><tpl if="topHeaderCells">{topHeaderCells}</tpl><tpl if="middleHeaderCells">{middleHeaderCells}</tpl></div>{%this.renderContainer(out,values)%}',headerRowTpl:'<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}" class="sch-header-row sch-header-row-{position}"><thead><tr>{cells}</tr></thead></table>',headerCellTpl:'<tpl for="."><td class="sch-column-header x-column-header {headerCls}" style="position : static; text-align: {align}; {style}" tabIndex="0" id="{headerId}" headerPosition="{position}" headerIndex="{index}"><div class="x-column-header-inner">{header}</div></td></tpl>',columnConfig:{},timeCellRenderer:null,timeCellRendererScope:null,columnWidth:null,previousWidth:null,previousHeight:null,initComponent:function(){if(!(this.headerRowTpl instanceof Ext.Template)){this.headerRowTpl=Ext.create('Ext.XTemplate',this.headerRowTpl)}if(!(this.headerCellTpl instanceof Ext.Template)){this.headerCellTpl=Ext.create('Ext.XTemplate',this.headerCellTpl)}this.columns=[{}];this.addEvents('timeheaderdblclick','timeaxiscolumnreconfigured');this.enableBubble('timeheaderdblclick');this.stubForResizer=new Ext.Component({isOnLeftEdge:function(){return !1},isOnRightEdge:function(){return !1},el:{dom:{style:{}}}});this.callParent(arguments);this.onTimeAxisReconfigure();this.mon(this.timeAxis,'reconfigure',this.onTimeAxisReconfigure,this)},getSchedulingView:function(){return this.getOwnerHeaderCt().view},onTimeAxisReconfigure:function(){var b=this.timeAxis,d=b.preset.timeColumnWidth,e=this.rendered&&this.getSchedulingView(),g=b.headerConfig,i=b.getStart(),j=b.getEnd(),h={renderer:this.timeColumnRenderer,scope:this,width:this.rendered?e.calculateTimeColumnWidth(d):d};delete this.previousWidth;delete this.previousHeight;var a=this.columnConfig=this.createColumns(this.timeAxis,g,h);Ext.suspendLayouts();this.removeAll();if(this.rendered){var c=this.el.child('.x-column-header-inner');c.select('table').remove();var f=this.initRenderData();if(a.top){Ext.core.DomHelper.append(c,f.topHeaderCells)}if(a.middle){Ext.core.DomHelper.append(c,f.middleHeaderCells)}if(!a.top&&!a.middle){this.addCls('sch-header-single-row')}else {this.removeCls('sch-header-single-row')}}Ext.resumeLayouts();this.add(a.bottom);if(this.rendered){if(this.fireEvent('timeaxiscolumnreconfigured',this)!==!1){e.refresh()}}},beforeRender:function(){var a=this.columnConfig;if(!a.middle&&!a.top){this.addCls('sch-header-single-row')}this.callParent(arguments)},timeColumnRenderer:function(k,d,f,j,a,e,l){var b='';if(Ext.isIE){d.style+=';z-index:'+(this.items.getCount()-a)}if(this.timeCellRenderer){var h=this.timeAxis,c=h.getAt(a),g=c.start,i=c.end;b=this.timeCellRenderer.call(this.timeCellRendererScope||this,d,f,j,a,e,g,i)}return b},initRenderData:function(){var a=this.columnConfig;var c=a.top?this.headerRowTpl.apply({cells:this.headerCellTpl.apply(a.top),position:'top',tstyle:'border-top : 0; width : 100px'}):'';var b=a.middle?this.headerRowTpl.apply({cells:this.headerCellTpl.apply(a.middle),position:'middle',tstyle:a.top?'width : 100px':'border-top : 0; width : 100px'}):'';return Ext.apply(this.callParent(arguments),{topHeaderCells:c,middleHeaderCells:b})},defaultRenderer:function(b,c,a){return Ext.Date.format(b,a)},createColumns:function(e,b,h){if(!e||!b){throw 'Invalid parameters passed to createColumns'}var d=[],a=b.bottom||b.middle,c,g=this;e.forEachInterval(b.bottom?'bottom':'middle',function(i,f,j){c={align:a.align||'center',headerCls:'',startDate:i,endDate:f};if(a.renderer){c.header=a.renderer.call(a.scope||g,i,f,c,j)}else {c.header=g.defaultRenderer(i,f,a.dateFormat)}d[d.length]=Ext.create('Sch.column.Time',Ext.apply(c,h))});var f=this.createHeaderRows(e,b);return {bottom:d,middle:f.middle,top:f.top}},createHeaderRows:function(b,a){var e={};if(a.top){var c;if(a.top.cellGenerator){c=a.top.cellGenerator.call(this,b.getStart(),b.getEnd())}else {c=this.createHeaderRow(b,a.top)}e.top=this.processHeaderRow(c,'top')}if(a.bottom){var d;if(a.middle.cellGenerator){d=a.middle.cellGenerator.call(this,b.getStart(),b.getEnd())}else {d=this.createHeaderRow(b,a.middle)}e.middle=this.processHeaderRow(d,'middle')}return e},processHeaderRow:function(a,b){var c=this;Ext.each(a,function(d,e){d.index=e;d.position=b;d.headerId=c.stubForResizer.id});return a},createHeaderRow:function(g,a){var i=[],c,h=g.getStart(),e=g.getEnd(),m=e-h,l=[],b=h,f=0,k,j=a.align||'center',d;while(b<e){d=Sch.util.Date.min(g.getNext(b,a.unit,a.increment||1),e);c={align:j,start:b,end:d,headerCls:''};if(a.renderer){c.header=a.renderer.call(a.scope||this,b,d,c,f)}else {c.header=this.defaultRenderer(b,d,a.dateFormat,c,f)}i.push(c);b=d;f++}return i},afterLayout:function(){delete this.columnWidth;this.callParent(arguments);var d=this.getWidth();var f=this.getHeight();if(d===this.previousWidth&&f===this.previousHeight){return}this.previousWidth=d;this.previousHeight=f;var g=this.columnConfig;var e=this;var a=this.el;var b=g.top;var i=0;var h=0;if(b){a.select('.sch-header-row-top').setWidth(this.lastBox.width);a.select('.sch-header-row-top td').each(function(a,f,d){var c=e.getHeaderGroupCellWidth(b[d].start,b[d].end);a.setVisibilityMode(Ext.Element.DISPLAY);if(c){i+=c;a.show();a.setWidth(c)}else {a.hide()}})}var c=g.middle;if(c){a.select('.sch-header-row-middle').setWidth(this.lastBox.width);a.select('.sch-header-row-middle td').each(function(a,f,d){var b=e.getHeaderGroupCellWidth(c[d].start,c[d].end);a.setVisibilityMode(Ext.Element.DISPLAY);if(b){h+=b;a.show();a.setWidth(b)}else {a.hide()}})}},getHeaderGroupCellWidth:function(e,c){var g=this.timeAxis.unit,h=this.timeAxis.increment,a,d=Sch.util.Date.getMeasuringUnit(g),f=Sch.util.Date.getDurationInUnit(e,c,d),b=this.getSchedulingView();if(this.timeAxis.isContinuous()){a=f*b.getSingleUnitInPixels(d)}else {a=b.getXYFromDate(c)[0]-b.getXYFromDate(e)[0]}return a},onElDblClick:function(c,f){this.callParent(arguments);var a=c.getTarget('.sch-column-header');if(a){var d=Ext.fly(a).getAttribute('headerPosition'),e=Ext.fly(a).getAttribute('headerIndex'),b=this.columnConfig[d][e];this.fireEvent('timeheaderdblclick',this,b.start,b.end,c)}},getTimeColumnWidth:function(){if(this.columnWidth===null){this.columnWidth=this.items.get(0).getWidth()}return this.columnWidth},setTimeColumnWidth:function(a){this.suspendEvents();this.items.each(function(b){b.setWidth(a)});this.resumeEvents()}});Ext.define('Sch.column.timeAxis.HorizontalSingle',{extend:'Sch.column.Time',alias:'widget.singletimeaxiscolumn',requires:['Ext.Date','Ext.XTemplate','Sch.preset.Manager'],cls:'sch-simple-timeaxis',timeAxis:null,trackHeaderOver:!0,compactCellWidthThreshold:16,renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" style="display:none" class="'+Ext.baseCSSPrefix+'column-header-text"></span><tpl if="topHeaderCells">{topHeaderCells}</tpl><tpl if="middleHeaderCells">{middleHeaderCells}</tpl><tpl if="bottomHeaderCells">{bottomHeaderCells}</tpl></div>{%this.renderContainer(out,values)%}',headerRowTpl:'<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}" class="sch-header-row sch-header-row-{position}"><thead><tr><tpl for="cells"><td class="sch-column-header x-column-header {headerCls}" style="position : static; text-align: {align}; {style}" tabIndex="0" id="{headerId}" headerPosition="{parent.position}" headerIndex="{[xindex-1]}"><div class="sch-simple-timeheader">{header}</div></td></tpl></tr></thead></table>',columnConfig:{},columnWidth:null,nbrTimeColumns:null,initComponent:function(){this.tdCls+=' sch-singletimetd';if(!(this.headerRowTpl instanceof Ext.Template)){this.headerRowTpl=Ext.create('Ext.XTemplate',this.headerRowTpl)}this.addEvents('timeheaderdblclick','timeaxiscolumnreconfigured');this.enableBubble('timeheaderdblclick');this.callParent(arguments);this.onTimeAxisReconfigure();this.mon(this.timeAxis,'reconfigure',this.onTimeAxisReconfigure,this);this.on('resize',this.refreshHeaderSizes,this);this.ownHoverCls=this.hoverCls;this.hoverCls=''},getSchedulingView:function(){return this.getOwnerHeaderCt().view},onTimeAxisReconfigure:function(){var g=this.timeAxis,i=g.preset.timeColumnWidth,j=this.rendered&&this.getSchedulingView(),m=g.headerConfig,n=g.getStart(),o=g.getEnd(),f=this.rendered?j.calculateTimeColumnWidth(i):i;var b=this.columnConfig=this.createHeaderRows(m);var d=b.bottom||b.middle;if(this.rendered){var c;var e=this.el.child('.x-column-header-inner');var a=e.dom;var l=a.style.display;var k=a.parentNode;a.style.display='none';k.removeChild(a);a.innerHTML='';var h=this.initRenderData();if(b.top){c=Ext.core.DomHelper.append(e,h.topHeaderCells);this.refreshHeaderRow('top',c)}if(b.middle){c=Ext.core.DomHelper.append(e,h.middleHeaderCells);this.refreshHeaderRow('middle',c)}if(b.bottom){c=Ext.core.DomHelper.append(e,h.bottomHeaderCells);this.refreshHeaderRow('bottom',c)}if(!b.top&&!b.middle){this.addCls('sch-header-single-row')}else {this.removeCls('sch-header-single-row')}k.appendChild(a);a.style.display=l;if(f!==this.columnWidth||this.nbrTimeColumns!==d.length){this.nbrTimeColumns=d.length;this.setTimeColumnWidth(f)}if(this.fireEvent('timeaxiscolumnreconfigured',this)!==!1){j.refreshKeepingResourceScroll(!0)}}else {if(f!==this.columnWidth||this.nbrTimeColumns!==d.length){this.nbrTimeColumns=d.length;this.setTimeColumnWidth(f)}}},beforeRender:function(){var b=this,a=this.columnConfig;if(!a.middle&&!a.top){b.addCls('sch-header-single-row')}b.callParent(arguments)},afterRender:function(){var a=this;if(this.trackHeaderOver){a.el.on({mousemove:a.highlightCell,delegate:'div.sch-simple-timeheader',scope:a});a.el.on({mouseleave:a.clearHighlight,scope:a})}a.callParent(arguments)},initRenderData:function(){var a=this.columnConfig;var c=a.top?this.headerRowTpl.apply({cells:a.top,position:'top',tstyle:'border-top : 0; width : 100px'}):'';var b=a.middle?this.headerRowTpl.apply({cells:a.middle,position:'middle',tstyle:a.top?'width : 100px':'border-top : 0; width : 100px'}):'';var d=a.bottom?this.headerRowTpl.apply({cells:a.bottom,position:'bottom',tstyle:'width : 100px'}):'';return Ext.apply(this.callParent(arguments),{topHeaderCells:c,middleHeaderCells:b,bottomHeaderCells:d})},defaultRenderer:function(b,c,a){return Ext.Date.format(b,a)},createHeaderRows:function(b){var c={};for(var a in b){if(b[a].cellGenerator){c[a]=b[a].cellGenerator.call(this,this.timeAxis.getStart(),this.timeAxis.getEnd())}else {c[a]=this.createHeaderRow(a,b[a])}}return c},createHeaderRow:function(e,a){var c=[],d=this,b,f=a.align||'center';this.timeAxis.forEachInterval(e,function(g,h,i){b={align:f,start:g,end:h,headerCls:''};if(a.renderer){b.header=a.renderer.call(a.scope||d,g,h,b,i)}else {b.header=d.defaultRenderer(g,h,a.dateFormat,b,i)}if(a.unit===Sch.util.Date.DAY&&(!a.increment||a.increment===1)){b.headerCls+=' sch-dayheadercell-'+g.getDay()}c.push(b)});return c},afterLayout:function(){this.callParent(arguments);this.refreshHeaderSizes()},refreshHeaderSizes:function(){var a=this.columnConfig;if(a.top){this.refreshHeaderRow('top')}if(a.middle){this.refreshHeaderRow('middle')}if(a.bottom){this.refreshHeaderRow('bottom')}},refreshHeaderRow:function(c,a){var f=this.el;var e=this.columnConfig[c];var d=this;var b;a=a||f.down('.sch-header-row-'+c,!0);Ext.fly(a).setWidth(d.getTotalWidth());Ext.fly(a).select(' thead > tr > td').each(function(f,h,g){b=d.getHeaderGroupCellWidth(e[g].start,e[g].end);f.setVisibilityMode(Ext.Element.DISPLAY);if(b){if(Ext.isSafari&&Ext.isMac){b-=2}f.show();f.setWidth(b-(Ext.chromeVersion===19?g?1:0:0))}else {f.hide()}});if(c==='bottom'){if(b<this.compactCellWidthThreshold){Ext.fly(a).addCls('sch-header-row-compact')}else {Ext.fly(a).removeCls('sch-header-row-compact')}}},getHeaderGroupCellWidth:function(e,c){var g=this.timeAxis.unit,h=this.timeAxis.increment,a,d=Sch.util.Date.getMeasuringUnit(g),f=Sch.util.Date.getDurationInUnit(e,c,d),b=this.getSchedulingView();if(this.timeAxis.isContinuous()){a=f*b.getSingleUnitInPixels(d)}else {a=b.getXYFromDate(c)[0]-b.getXYFromDate(e)[0]}return a},onElDblClick:function(c,f){var a=c.getTarget('.sch-column-header');if(a){var d=Ext.fly(a).getAttribute('headerPosition'),e=Ext.fly(a).getAttribute('headerIndex'),b=this.columnConfig[d][e];this.fireEvent('timeheaderdblclick',this,b.start,b.end,c)}},getTimeColumnWidth:function(){if(this.columnWidth===null){this.columnWidth=this.getWidth()/this.nbrTimeColumns}return this.columnWidth},setTimeColumnWidth:function(a){this.columnWidth=a;if(this.rendered){Ext.suspendLayouts();this.setWidth(a*this.nbrTimeColumns);Ext.resumeLayouts();this.refreshHeaderSizes();this.ownerCt.updateLayout()}else {this.setWidth(a*this.nbrTimeColumns)}},getTotalWidth:function(){return this.columnWidth*this.nbrTimeColumns},highlightCell:function(c,b){var a=this;if(b!==a.highlightedCell){a.clearHighlight();a.highlightedCell=b;Ext.fly(b).addCls(a.ownHoverCls)}},clearHighlight:function(){var a=this,b=a.highlightedCell;if(b){Ext.fly(b).removeCls(a.ownHoverCls);delete a.highlightedCell}}});Ext.define('Sch.mixin.Lockable',{extend:'Ext.grid.Lockable',requires:['Sch.column.timeAxis.Horizontal','Sch.column.timeAxis.HorizontalSingle'],findEditingPlugin:function(){var b=this.plugins||[];var c=this;var a;Ext.each(b,function(c,d){if(Ext.grid.plugin&&Ext.grid.plugin.CellEditing&&c instanceof Ext.grid.plugin.CellEditing){a=c;Ext.Array.remove(b,c);return !1}});return a},processSchedulerPlugins:function(){var f=[];var e=[];var g=[];var c=this.plugins||[];var b=this;for(var d=c.length-1;d>=0;d--){var a=c[d];if(a.lockableScope){switch(a.lockableScope){case 'top':g.push(a);break;case 'locked':f.push(a);break;case 'normal':e.push(a);break;}Ext.Array.remove(c,a)}}if(f.length>0){b.lockedGridConfig.plugins=(b.lockedGridConfig.plugins||[]).concat(f)}if(e.length>0){b.normalGridConfig.plugins=(b.normalGridConfig.plugins||[]).concat(e)}b.topPlugins=g},injectLockable:function(){var i=this.findEditingPlugin();var a=this;var e=Ext.data.TreeStore&&a.store instanceof Ext.data.TreeStore;var g=a.store.buffered;var h=a.getEventSelectionModel?a.getEventSelectionModel():a.getSelectionModel();a.lockedGridConfig=a.lockedGridConfig||{};a.normalGridConfig=a.schedulerConfig||a.normalGridConfig||{};var d=a.lockedGridConfig,f=a.normalGridConfig;Ext.applyIf(a.lockedGridConfig,{enableLocking:!1,lockable:!1,useArrows:!0,xtype:a.lockedXType,columnLines:a.columnLines,rowLines:a.rowLines,stateful:a.stateful,id:a.id+'_locked',delayScroll:function(){if(this.rendered){return this.self.prototype.delayScroll.apply(this,arguments)}},split:!0,animCollapse:!1,collapseDirection:'left',region:'west'});if(i){a.lockedGridConfig.plugins=(a.lockedGridConfig.plugins||[]).concat(i)}a.processSchedulerPlugins();Ext.applyIf(a.normalGridConfig,{layout:'fit',xtype:a.normalXType,viewType:a.viewType,enableLocking:!1,lockable:!1,sortableColumns:!1,enableColumnMove:!1,enableColumnResize:!1,enableColumnHide:!1,selModel:h,eventSelModel:h,_top:a,orientation:a.orientation,viewPreset:a.viewPreset,timeAxis:a.timeAxis,columnLines:a.columnLines,rowLines:a.rowLines,collapseDirection:'right',animCollapse:!1,region:'center'});a.bothCfgCopy=a.bothCfgCopy||Ext.grid.Panel&&Ext.grid.Panel.prototype.bothCfgCopy||['invalidateScrollerOnRefresh','hideHeaders','enableColumnHide','enableColumnMove','enableColumnResize','sortableColumns'];if(a.orientation==='vertical'){d.store=f.store=a.timeAxis.tickStore;a.mon(a.resourceStore,{clear:a.refreshResourceColumns,datachanged:a.refreshResourceColumns,load:a.refreshResourceColumns,scope:a})}if(d.width){a.syncLockedWidth=Ext.emptyFn;d.scroll='horizontal';d.scrollerOwner=!0}if(a.resourceStore){f.resourceStore=a.resourceStore}if(a.eventStore){f.eventStore=a.eventStore}if(a.dependencyStore){f.dependencyStore=a.dependencyStore}a.lockedViewConfig=a.lockedViewConfig||{};a.normalViewConfig=a.normalViewConfig||{};if(e&&g&&Ext.getScrollbarSize().width===0){a.lockedGridConfig.scroll='horizontal'}a.lockedViewConfig.enableAnimations=a.normalViewConfig.enableAnimations=!1;if(e){a.normalViewConfig.providedStore=a.lockedViewConfig.providedStore=a.createNodeStore(g,a.store)}var j=a.layout;this.callParent(arguments);if(a.topPlugins){a.plugins=a.topPlugins}if(d.width){a.lockedGrid.setWidth(d.width);a.normalGrid.getView().addCls('sch-timeline-horizontal-scroll')}else {if(a.normalGrid.collapsed){a.normalGrid.collapsed=!1;a.normalGrid.view.on('boxready',function(){a.normalGrid.collapse()},a,{delay:10})}}var c=a.lockedGrid.getView();var b=a.normalGrid.getView();if(g){c.on('render',this.onLockedViewRender,this);this.fixPagingScroller(a.normalGrid.verticalScroller);if(Ext.getScrollbarSize().width>0){c.on({scroll:{fn:a.onLockedViewScroll,element:'el',scope:a}})}}if(Ext.getScrollbarSize().width===0){c.addCls('sch-ganttpanel-force-locked-scroll')}if(e){this.setupLockableTree()}if(!b.deferInitialRefresh){var k=b.onRender;b.onRender=function(){this.doFirstRefresh=function(){};k.apply(this,arguments);delete this.doFirstRefresh}}if(g){b.el={un:function(){}};a.normalGrid.verticalScroller.bindView(b);delete b.el}a.view.clearListeners();c.on({refresh:a.updateSpacer,scope:a});a.view=Ext.create('Sch.view.Locking',{locked:a.lockedGrid,normal:a.normalGrid,panel:a});if(a.syncRowHeight){c.on('refresh',this.onLockedViewRefresh,this);if(e){a.mon(a.store,{beforeload:function(){c.un({itemadd:a.onViewItemAdd,scope:a});b.un({itemadd:a.onViewItemAdd,scope:a})},load:function(){c.un({itemadd:a.onViewItemAdd,scope:a});b.un({itemadd:a.onViewItemAdd,scope:a});a.prepareFullRowHeightSync();a.syncRowHeights()}});a.normalGrid.on('afteritemexpand',a.afterNormalGridItemExpand,a)}c.on({itemadd:a.onViewItemAdd,scope:a});b.on({itemadd:a.onViewItemAdd,itemupdate:a.onNormalViewItemUpdate,groupexpand:a.onNormalViewGroupExpand,scope:a});if(Ext.isIE9&&Ext.isStrict){a.onNormalViewItemUpdate=function(e,c,d){if(a.lockedGridDependsOnSchedule){var b=a.lockedGrid.getView();b.suspendEvents();b.onUpdate(a.lockedGrid.store,e);b.resumeEvents()}var f=a.normalGrid.getView().getNode(c);f.style.height=d.style.height;a.normalHeights[c]=d.style.height;a.syncRowHeights()}}}if(j!=='fit'){a.layout=j}a.normalGrid.on({collapse:a.onNormalGridCollapse,expand:a.onNormalGridExpand,scope:a});a.lockedGrid.on({collapse:a.onLockedGridCollapse,scope:a});if(this.lockedGrid.view.store!==this.normalGrid.view.store){Ext.Error.raise('Sch.mixin.Lockable setup failed, not sharing store between the two views')}},onLockedGridCollapse:function(){if(this.normalGrid.collapsed){this.normalGrid.expand()}},onNormalGridCollapse:function(){var a=this;if(!a.normalGrid.reExpander){a.normalGrid.reExpander=a.normalGrid.placeholder}if(!a.lockedGrid.rendered){a.lockedGrid.on('render',a.onNormalGridCollapse,a,{delay:1})}else {a.lastLockedWidth=a.lockedGrid.getWidth();a.lockedGrid.setWidth(a.getWidth()-35);if(a.lockedGrid.collapsed){a.lockedGrid.expand()}a.addCls('sch-normalgrid-collapsed')}},onNormalGridExpand:function(){this.removeCls('sch-normalgrid-collapsed');this.lockedGrid.setWidth(this.lastLockedWidth)},fixPagingScroller:function(a){var e=a.onViewRefresh;a.onViewRefresh=function(){e.apply(this,arguments);var c=this,b=c.store;if(b.getCount()===b.getTotalCount()||b.isFiltered()&&!b.remoteFilter){c.stretcher.setHeight(c.getScrollHeight())}};var b=a.view.lockingPartner;if(b){var d=a.onLockRefresh;var c=function(b){if(b.table.dom){d.apply(this,arguments)}};b.un('refresh',d,a);b.on('refresh',c,a);a.onLockRefresh=c}a.view.un('render',a.onViewRender,a);a.onViewRender=function(){var c=this,b=c.view.el;b.setStyle('position','relative');c.stretcher=b.createChild({style:{position:'absolute',width:'1px',height:0,top:0,left:0}},b.dom.firstChild)};a.view.on('render',a.onViewRender,a)},createNodeStore:function(b,a){return new Ext.data.NodeStore({buffered:b,purgePageCount:0,pageSize:1.0E10,treeStore:a,recursive:!0,refreshFromTree:function(){var f=this.eventsSuspended;this.suspendEvents();this.removeAll();var d=a.getRootNode(),c=[];var e=function(f){if(f!=d){c[c.length]=f}if(f.isExpanded()){var h=f.childNodes,i=h.length;for(var g=0;g<i;g++){e(h[g])}}};e(d);this.totalCount=c.length;this.cachePage(c,1);if(Ext.isNumber(this.eventsSuspended)||!f){this.resumeEvents()}}})},setupLockableTree:function(){var o;var h;var d=this;var f=d.store.buffered;var e=d.getView();var j=d.lockedGrid.getView();var g=d.normalGrid.getView();var a=g.store;var b=d.store;var i=d.normalGrid.verticalScroller;var l=function(c,d){var f=b.viewSize||50;var e=a.getTotalCount();if(e){var g=d-c+1;if(g<f&&e>=g){d=c+f-1}if(d>=e){c=e-(d-c);d=e-1;c=Math.max(0,c)}a.guaranteeRange(c,d)}};this.mon(b,'root-fill-start',function(){h=!0;a.suspendEvents();if(f){o=a.node;a.setNode()}});this.mon(b,'root-fill-end',function(){h=!1;if(f){a.refreshFromTree();a.resumeEvents();l(0,b.viewSize||50)}else {a.resumeEvents();e.refresh()}});if(f){var m,k;this.mon(a,'guaranteedrange',function(c,b,a){m=b;k=a});var c=function(){if(h){return}a.refreshFromTree();l(m||0,k||50);if(g.rendered){d.onNormalViewScroll()}};this.mon(b,{append:c,insert:c,remove:c,move:c,expand:c,collapse:c,sort:c,buffer:1})}this.mon(b,'filter',function(c,b){a.filter.apply(a,b);e.refresh()});this.mon(b,'clearfilter',function(b){a.clearFilter();e.refresh()});this.mon(b,'beforecascade',function(b){a.suspendEvents()});this.mon(b,'cascade',function(c,b){a.resumeEvents();if(b.nbrAffected>0){g.refreshKeepingScroll(!0);setTimeout(function(){j.saveScrollState();j.refresh();j.restoreScrollState()},0)}});if(f&&i){var n=i.onGuaranteedRange;i.onGuaranteedRange=function(){n.apply(this,arguments);Ext.suspendLayouts();e.refresh();Ext.resumeLayouts()}}},onNormalViewItemUpdate:function(e,c,b){if(this.lockedGridDependsOnSchedule){var a=this.lockedGrid.getView();a.suspendEvents();a.onUpdate(this.lockedGrid.store,e);a.resumeEvents()}var d=this.normalGrid.getView().getNode(c);var f=d.style.height!==b.style.height;d.style.height=b.style.height;this.normalHeights[c]=b.style.height;this.syncRowHeights(f)},afterNormalGridItemExpand:function(b){var a=this;var c=a.getSchedulingView();b.cascadeBy(function(e){if(e!==b){var d=c.getNode(e);if(d){var f=c.indexOf(d);a.normalHeights[f]=d.style.height}}});a.syncRowHeights(!0)},onViewItemAdd:function(c,f,e){var a=this.normalGrid.getView();var d=this.lockedGrid.getView();if(a.getNodes().length!==d.getNodes().length){return}var b=this.normalHeights;Ext.each(c,function(g,h){var d=a.getNode(g);if(d){b[d.viewIndex]=d.style.height}});this.syncRowHeights()},processColumns:function(c){var a=this.callParent(arguments);var b=[];Ext.each(c,function(d){if(d.position=='right'){d.processed=!0;if(!Ext.isNumber(d.width)){Ext.Error.raise('"Right" columns must have a fixed width')}b.push(d);Ext.Array.remove(a.locked.items,d);a.lockedWidth-=d.width}});if(this.orientation==='horizontal'){a.normal.items=[{xtype:this.lightWeight?'singletimeaxiscolumn':'timeaxiscolumn',timeAxis:this.timeAxis,timeCellRenderer:this.timeCellRenderer,timeCellRendererScope:this.timeCellRendererScope,trackHeaderOver:this.trackHeaderOver}].concat(b)}else {a.locked.items=[Ext.apply({xtype:'verticaltimeaxis',width:100,timeAxis:this.timeAxis},this.timeAxisColumnCfg||{})];a.lockedWidth=a.locked.items[0].width}return a},prepareFullRowHeightSync:function(){var a=this,c=a.normalGrid.getView(),d=a.lockedGrid.getView();if(!c.rendered||!d.rendered){return}var g=c.el,i=d.el,f=g.query(c.getItemSelector()),h=i.query(d.getItemSelector()),e=f.length,b=0;a.lockedHeights=[];a.normalHeights=[];if(h.length!==e){return}for(;b<e;b++){a.normalHeights[b]=f[b].style.height}},onLockedViewRefresh:function(){this.prepareFullRowHeightSync();this.syncRowHeights()},onNormalViewRefresh:function(){var a=this.lockedGrid.getView();if(this.lockedGridDependsOnSchedule){a.un('refresh',this.onLockedViewRefresh,this);this.lockedGrid.getView().refresh();a.on('refresh',this.onLockedViewRefresh,this)}this.prepareFullRowHeightSync();this.syncRowHeights()},syncRowHeights:function(i){if(!this.lockedGrid.getView().rendered||!this.normalGrid.getView().rendered){return}var a=this,g=a.lockedHeights,d=a.normalHeights,k=[],j=g.length||d.length,b=0,f,e,c,h;if(g.length||d.length){f=a.lockedGrid.getView();e=a.normalGrid.getView();c=f.el.query(f.getItemSelector());h=e.el.query(e.getItemSelector());if(h.length!==c.length){return}for(;b<j;b++){if(c[b]&&d[b]){c[b].style.height=d[b]}}a.lockedHeights=[];a.normalHeights=[]}if(i!==!1){a.updateSpacer()}},getMenuItems:function(){return function(){return Ext.grid.header.Container.prototype.getMenuItems.call(this)}},applyColumnsState:Ext.emptyFn,updateSpacer:function(){var d=this.lockedGrid.getView();var g=this.normalGrid.getView();if(d.rendered&&g.rendered&&d.el.child('table')&&!this.getSchedulingView().__lightRefresh){var a=this,c=d.el,f=g.el.dom,e=c.dom.id+'-spacer',h=f.offsetHeight-f.clientHeight+'px';a.spacerEl=Ext.getDom(e);if(a.spacerEl){a.spacerEl.style.height=h}else {var b;if(this.store.buffered){b=a.normalGrid.verticalScroller.stretcher.item(0).dom.parentNode===c.dom?a.normalGrid.verticalScroller.stretcher.item(0):a.normalGrid.verticalScroller.stretcher.item(1)}else {b=c}Ext.core.DomHelper.append(b,{id:e,cls:this.store.buffered?'sch-locked-buffered-spacer':'',style:'height: '+h})}}},onLockedViewRender:function(){var a=this.normalGrid;if(!this.lockedStretcher){var c=this.lockedGrid.getView().el;var d=this.lockedStretcher=c.createChild({cls:'x-stretcher',style:{position:'absolute',width:'1px',height:0,top:0,left:0}},c.dom.firstChild)}if(!a.rendered){a.getView().on('render',this.onLockedViewRender,this);return}a.getView().el.un('scroll',this.onNormalViewScroll,this);a.getView().el.on('scroll',this.onNormalViewScroll,this);var b=a.verticalScroller;b.stretcher.addCls('x-stretcher');b.stretcher=new Ext.dom.CompositeElement([this.lockedStretcher,b.stretcher])},onNormalViewGroupExpand:function(){this.prepareFullRowHeightSync();this.syncRowHeights()}});Ext.define('Sch.plugin.TreeCellEditing',{extend:'Ext.grid.plugin.CellEditing',init:function(a){this._grid=a;this.on('beforeedit',this.checkReadOnly,this);this.callParent(arguments)},checkReadOnly:function(){var a=this._grid;if(!(a instanceof Sch.panel.TimelineTreePanel)){a=a.up('tablepanel')}return !a.isReadOnly()},startEditByClick:function(a,c,g,d,f,e,b){if(b.getTarget(a.expanderSelector)){return}this.callParent(arguments)},startEdit:function(d,c){if(!d||!c){return}var a=this,e=a.getEditor(d,c),f=d.get(c.dataIndex),b=a.getEditingContext(d,c);d=b.record;c=b.column;a.completeEdit();if(c&&!c.getEditor(d)){return !1}if(e){b.originalValue=b.value=f;if(a.beforeEdit(b)===!1||a.fireEvent('beforeedit',b)===!1||b.cancel){return !1}a.context=b;a.setActiveEditor(e);a.setActiveRecord(d);a.setActiveColumn(c);a.grid.view.focusCell({column:b.colIdx,row:b.rowIdx});a.editTask.delay(15,e.startEdit,e,[a.getCell(d,c),b.value,b])}else {a.grid.getView().getEl(c).focus(Ext.isWebKit||Ext.isIE?10:!1)}},getEditingContext:function(b,a){var i=this,d=i.grid,g=d.store,c,e,f=d.getView(),h;if(Ext.isNumber(b)){c=b;b=g.getAt(c)}else {if(g.indexOf){c=g.indexOf(b)}else {c=f.indexOf(f.getNode(b))}}if(Ext.isNumber(a)){e=a;a=d.headerCt.getHeaderAtIndex(e)}else {e=a.getIndex()}h=b.get(a.dataIndex);return {grid:d,record:b,field:a.dataIndex,value:h,row:f.getNode(c),column:a,rowIdx:c,colIdx:e}},startEditByPosition:function(a){var b=this,c=b.grid,d=c.getSelectionModel(),e=b.view,g=this.view.getNode(a.row),h=c.headerCt.getHeaderAtIndex(a.column),f=e.getRecord(g);if(d.selectByPosition){d.selectByPosition(a)}b.startEdit(f,h)},onEditComplete:function(h,d,g){var a=this,f=a.grid,c=a.getActiveColumn(),e=f.getSelectionModel(),b;if(c){b=a.context.record;a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);if(!a.validateEdit()){return}if(!a.context.doNotUpdateRecord&&!b.isEqual(d,g)){b.set(c.dataIndex,d)}if(e.setCurrentPosition){e.setCurrentPosition(e.getCurrentPosition())}f.getView().getEl(c).focus();a.context.value=d;a.fireEvent('edit',a,a.context)}}});Ext.define('Sch.feature.ColumnLines',{extend:'Sch.plugin.Lines',cls:'sch-column-line',showTip:!1,requires:['Ext.data.Store'],init:function(a){this.timeAxis=a.getTimeAxis();this.store=Ext.create('Ext.data.JsonStore',{model:Ext.define('Sch.model.TimeLine',{extend:'Ext.data.Model',fields:['start',{name:'Date',convert:function(c,b){return b.data.start}}]}),data:a.getOrientation()==='horizontal'?this.getData():[]});this.callParent(arguments);var b=this.schedulerView;b.timeAxis.on('reconfigure',this.populate,this)},populate:function(){var a=this.schedulerView;var b=a.getOrientation()==='horizontal'&&a.store.getCount()>0;this.store.removeAll(b);if(b){this.store.add(this.getData())}},getElementData:function(){var a=this.schedulerView;if(a.getOrientation()==='horizontal'&&a.store.getCount()>0){return this.callParent(arguments)}return []},getData:function(){var a=[];this.timeAxis.forEachMainInterval(function(c,d,b){if(b>0){a.push({start:c})}});a.push({start:this.timeAxis.getEnd()});return a}});Ext.define('Sch.plugin.CurrentTimeLine',{extend:'Sch.plugin.Lines',tooltipText:'Current time',updateInterval:60000,autoUpdate:!0,init:function(c){var a=Ext.create('Ext.data.JsonStore',{model:Ext.define('TimeLineEvent',{extend:'Ext.data.Model',fields:['Date','Cls','Text']}),data:[{Date:new Date(),Cls:'sch-todayLine',Text:this.tooltipText}]});var b=a.first();if(this.autoUpdate){this.runner=Ext.create('Ext.util.TaskRunner');this.runner.start({run:function(){b.set('Date',new Date())},interval:this.updateInterval})}c.on('destroy',this.onHostDestroy,this);this.store=a;this.callParent(arguments)},onHostDestroy:function(){if(this.runner){this.runner.stopAll()}if(this.store.autoDestroy){this.store.destroy()}}});Ext.define('Sch.mixin.TimelineView',{requires:['Sch.column.Time','Sch.data.TimeAxis'],orientation:'horizontal',overScheduledEventClass:'sch-event-hover',selectedEventCls:'sch-event-selected',altColCls:'sch-col-alt',timeCellCls:'sch-timetd',timeCellSelector:'.sch-timetd',ScheduleEventMap:{click:'Click',dblclick:'DblClick',contextmenu:'ContextMenu',keydown:'KeyDown'},suppressFitCheck:0,forceFit:!1,inheritables:function(){return {cellBorderWidth:1,initComponent:function(){this.setOrientation(this.panel._top.orientation||this.orientation);this.addEvents('beforetooltipshow','scheduleclick','scheduledblclick','schedulecontextmenu','columnwidthchange');this.enableBubble('columnwidthchange');var b={},c=Sch.util.Date;b[c.DAY]=b[c.WEEK]=b[c.MONTH]=b[c.QUARTER]=b[c.YEAR]=null;Ext.applyIf(this,{eventPrefix:this.id+'-',largeUnits:b});this.callParent(arguments);if(this.orientation==='horizontal'){this.getTimeAxisColumn().on('timeaxiscolumnreconfigured',this.checkHorizontalFit,this)}var a=this.panel._top;Ext.apply(this,{eventRendererScope:a.eventRendererScope,eventRenderer:a.eventRenderer,eventBorderWidth:a.eventBorderWidth,timeAxis:a.timeAxis,dndValidatorFn:a.dndValidatorFn||Ext.emptyFn,resizeValidatorFn:a.resizeValidatorFn||Ext.emptyFn,createValidatorFn:a.createValidatorFn||Ext.emptyFn,tooltipTpl:a.tooltipTpl,validatorFnScope:a.validatorFnScope||this,snapToIncrement:a.snapToIncrement,timeCellRenderer:a.timeCellRenderer,timeCellRendererScope:a.timeCellRendererScope,readOnly:a.readOnly,eventResizeHandles:a.eventResizeHandles,enableEventDragDrop:a.enableEventDragDrop,enableDragCreation:a.enableDragCreation,dragConfig:a.dragConfig,dropConfig:a.dropConfig,resizeConfig:a.resizeConfig,createConfig:a.createConfig,tipCfg:a.tipCfg,orientation:a.orientation,getDateConstraints:a.getDateConstraints||Ext.emptyFn});if(this.emptyText){this.emptyText='<span class="sch-empty-text">'+this.emptyText+'</span>'}},onDestroy:function(){if(this.tip){this.tip.destroy()}this.callParent(arguments)},afterComponentLayout:function(){this.callParent(arguments);var b=this.getWidth();var a=this.getHeight();if(b===this.__prevWidth&&a===this.__prevHeight){return}this.__prevWidth=b;this.__prevHeight=a;if(!this.lockable&&!this.suppressFitCheck){this.checkHorizontalFit()}},beforeRender:function(){this.callParent(arguments);this.addCls('sch-timelineview');if(this.readOnly){this.addCls(this._cmpCls+'-readonly')}},afterRender:function(){this.callParent(arguments);if(this.overScheduledEventClass){this.mon(this.el,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.eventSelector,scope:this})}if(this.tooltipTpl){this.el.on('mousemove',this.setupTooltip,this,{single:!0})}this.setupTimeCellEvents()},processUIEvent:function(a){var d=this,b=a.getTarget(this.eventSelector),e=d.ScheduleEventMap,c=a.type;if(b&&c in e){this.fireEvent(this.scheduledEventName+c,this,this.resolveEventRecord(b),a)}else {this.callParent(arguments)}},refresh:function(){this.fixedNodes=0;this.callParent(arguments)},clearViewEl:function(){var c=this,b=c.getTargetEl();b.down('table').remove();if(this.emptyText){var a=b.down('.sch-empty-text');if(a){a.remove()}}},onMouseOver:function(b,a){if(a!==this.lastItem){this.lastItem=a;Ext.fly(a).addCls(this.overScheduledEventClass);this.fireEvent('eventmouseenter',this,this.resolveEventRecord(a),b)}},onMouseOut:function(a,b){if(this.lastItem){if(!a.within(this.lastItem,!0,!0)){Ext.fly(this.lastItem).removeCls(this.overScheduledEventClass);this.fireEvent('eventmouseleave',this,this.resolveEventRecord(this.lastItem),a);delete this.lastItem}}},highlightItem:function(b){if(b){var a=this;a.clearHighlight();a.highlightedItem=b;Ext.fly(b).addCls(a.overItemCls)}},shouldUpdateCell:function(){return !0}}},hasRightColumns:function(){return this.headerCt.items.getCount()>1},checkHorizontalFit:function(){if(this.orientation==='horizontal'){var a=this.getActualTimeColumnWidth();var c=this.getFittingColumnWidth();if(this.forceFit){if(c!=a){this.fitColumns()}}else {if(this.snapToIncrement){var b=this.calculateTimeColumnWidth(a);if(b>0&&b!==a){this.setColumnWidth(b)}}else {if(a<c){this.fitColumns()}}}}},getTimeAxisColumn:function(){return this.headerCt.items.get(0)},getFirstTimeColumn:function(){return this.headerCt.getGridColumns()[0]},getFormattedDate:function(a){return Ext.Date.format(a,this.getDisplayDateFormat())},getFormattedEndDate:function(a,b){var c=this.timeAxis,d=c.getResolution().unit;if(d in this.largeUnits&&a.getHours()===0&&a.getMinutes()===0&&!(a.getYear()===b.getYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate())){a=Sch.util.Date.add(a,Sch.util.Date.DAY,-1)}return Ext.Date.format(a,this.getDisplayDateFormat())},getDisplayDateFormat:function(){return this.displayDateFormat},setDisplayDateFormat:function(a){this.displayDateFormat=a},getSingleUnitInPixels:function(a){return Sch.util.Date.getUnitToBaseUnitRatio(this.timeAxis.getUnit(),a)*this.getSingleTickInPixels()/this.timeAxis.getIncrement()},getSingleTickInPixels:function(){throw 'Must be implemented by horizontal/vertical'},scrollEventIntoView:function(c,b){var a=this.getOuterElementFromEventRecord(c);if(a){a.scrollIntoView(this.el);if(b){if(typeof b==='boolean'){a.highlight()}else {a.highlight(null,b)}}}},calculateTimeColumnWidth:function(d){if(!this.panel.rendered){return d}var e=this.forceFit;var b=0,c=this.timeAxis.getUnit(),k=this.timeAxis.getCount(),a=Number.MAX_VALUE;if(this.snapToIncrement){var g=this.timeAxis.getResolution(),j=g.unit,h=g.increment;a=Sch.util.Date.getUnitToBaseUnitRatio(c,j)*h}var i=Sch.util.Date.getMeasuringUnit(c);a=Math.min(a,Sch.util.Date.getUnitToBaseUnitRatio(c,i));var f=Math.floor(this.getAvailableWidthForSchedule()/k);b=e||d<f?f:d;if(a>0&&(!e||a<1)){b=Math.round(Math.max(1,Math[e?'floor':'round'](a*b))/a)}return b},getFittingColumnWidth:function(){var a=Math.floor(this.getAvailableWidthForSchedule()/this.timeAxis.getCount());return this.calculateTimeColumnWidth(a)},fitColumns:function(b){var a=0;if(this.orientation==='horizontal'){a=this.getFittingColumnWidth()}else {a=Math.floor((this.panel.getWidth()-Ext.getScrollbarSize().width-1)/this.headerCt.getColumnCount())}this.setColumnWidth(a,b)},getAvailableWidthForSchedule:function(){var c=this.lastBox&&this.lastBox.width||this.getWidth();var b=this.headerCt.items.items;for(var a=1;a<b.length;a++){c-=b[a].getWidth()}return c-Ext.getScrollbarSize().width-1},getRightColumnsWidth:function(){var c=0;var b=this.headerCt.items.items;for(var a=1;a<b.length;a++){c+=b[a].getWidth()}return c},fixRightColumnsPositions:function(){var a=this.headerCt.items.items;var c=a[0].getWidth();for(var b=1;b<a.length;b++){var d=a[b];d.el.setLeft(c);c+=d.getWidth()}},getElementFromEventRecord:function(a){return Ext.get(this.eventPrefix+a.internalId)},getEventNodeByRecord:function(a){return document.getElementById(this.eventPrefix+a.internalId)},getOuterElementFromEventRecord:function(a){return Ext.get(this.eventPrefix+a.internalId)},resolveColumnIndex:function(a){return Math.floor(a/this.getActualTimeColumnWidth())},getStartEndDatesFromRegion:function(b,a){throw 'Must be implemented by horizontal/vertical'},setupTooltip:function(){var a=this,b=Ext.apply({renderTo:Ext.getBody(),delegate:a.eventSelector,target:a.el,anchor:'b'},a.tipCfg);a.tip=Ext.create('Ext.ToolTip',b);a.tip.on({beforeshow:function(a){if(!a.triggerElement||!a.triggerElement.id){return !1}var b=this.resolveEventRecord(a.triggerElement);if(!b||this.fireEvent('beforetooltipshow',this,b)===!1){return !1}a.update(this.tooltipTpl.apply(this.getDataForTooltipTpl(b)));return !0},scope:this})},getDataForTooltipTpl:function(a){return a.data},getTimeResolution:function(){return this.timeAxis.getResolution()},setTimeResolution:function(b,a){this.timeAxis.setResolution(b,a);if(this.snapToIncrement){this.refreshKeepingScroll()}},getEventIdFromDomNodeId:function(a){return a.substring(this.eventPrefix.length)},getDateFromDomEvent:function(b,a){return this.getDateFromXY(b.getXY(),a)},handleScheduleEvent:function(a){var b=a.getTarget('.'+this.timeCellCls,2);if(b){var c=this.getDateFromDomEvent(a,'floor');this.fireEvent('schedule'+a.type,this,c,this.indexOf(this.findItemByChild(b)),a)}},setupTimeCellEvents:function(){this.mon(this.el,{click:this.handleScheduleEvent,dblclick:this.handleScheduleEvent,contextmenu:this.handleScheduleEvent,scope:this},this)},getSnapPixelAmount:function(){if(this.snapToIncrement){var a=this.timeAxis.getResolution();return (a.increment||1)*this.getSingleUnitInPixels(a.unit)}else {return 1}},getActualTimeColumnWidth:function(){return this.headerCt.items.get(0).getTimeColumnWidth()},setSnapEnabled:function(a){this.snapToIncrement=a;if(a){this.refreshKeepingScroll()}},setReadOnly:function(a){this.readOnly=a;this[a?'addCls':'removeCls'](this._cmpCls+'-readonly')},isReadOnly:function(){return this.readOnly},setOrientation:function(a){this.orientation=a;Ext.apply(this,Sch.view[Ext.String.capitalize(a)].prototype.props)},getOrientation:function(){return this.orientation},translateToScheduleCoordinate:function(a){throw 'Abstract method call!'},translateToPageCoordinate:function(a){throw 'Abstract method call!'},getDateFromXY:function(c,b,a){throw 'Abstract method call!'},getXYFromDate:function(a,b){throw 'Abstract method call!'},getTimeSpanRegion:function(a,b){throw 'Abstract method call!'},getStart:function(){return this.timeAxis.getStart()},getEnd:function(){return this.timeAxis.getEnd()},setBarMargin:function(b,a){this.barMargin=b;if(!a){this.refreshKeepingScroll()}},setRowHeight:function(a,b){this.rowHeight=a||24;if(this.rendered&&!b){this.refreshKeepingScroll()}},refreshKeepingScroll:function(a){this.saveScrollState();if(this.lightRefresh){this.lightRefresh()}else {this.refresh()}this.restoreScrollState()},refreshKeepingResourceScroll:function(d){var a=this.el.dom,c=a.scrollTop,b=a.scrollLeft;if(this.lightRefresh){this.lightRefresh()}else {this.refresh()}if(this.getOrientation()==='horizontal'){a.scrollTop=c}else {a.scrollLeft=b}},lightRefresh:function(){var a=this.refreshSize;Ext.suspendLayouts();this.refreshSize=Ext.emptyFn;this.__lightRefresh=!0;this.refresh();delete this.__lightRefresh;this.refreshSize=a;Ext.resumeLayouts()}});Ext.apply(Sch,{VERSION:'2.1.7'});Ext.define('Sch.view.Horizontal',{props:{translateToScheduleCoordinate:function(a){return a-this.el.getX()+this.el.getScroll().left},translateToPageCoordinate:function(a){return a+this.el.getX()-this.el.getScroll().left},getDateFromXY:function(e,g,f){var b,c=f?e[0]:this.translateToScheduleCoordinate(e[0]),a=c/this.getActualTimeColumnWidth(),d=this.timeAxis.getCount();if(a<0||a>d){b=null}else {var h=a-this.resolveColumnIndex(c);if(h>2&&a>=d){return null}b=this.timeAxis.getDateFromTick(a,g)}return b},getXYFromDate:function(c,d){var a,b=this.timeAxis.getTickFromDate(c);if(b>=0){a=this.getActualTimeColumnWidth()*b}if(d===!1){a=this.translateToPageCoordinate(a)}return [a,0]},getEventBox:function(e,d){var b=Math.floor(this.getXYFromDate(e)[0]),c=Math.floor(this.getXYFromDate(d)[0]),a=Math;if(this.managedEventSizing){return {top:Math.max(0,this.barMargin-(Ext.isIE&&!Ext.isStrict)?0:this.eventBorderWidth-this.cellBorderWidth),left:a.min(b,c),width:a.max(1,a.abs(b-c)-this.eventBorderWidth),height:this.rowHeight-2*this.barMargin-this.eventBorderWidth}}return {left:a.min(b,c),width:a.max(1,a.abs(b-c))}},layoutEvents:function(b){var a=Ext.Array.clone(b);a.sort(this.sortEvents);var c=this.layoutEventsInBands(0,a);return c},layoutEventsInBands:function(a,b){var c=b[0],d=a===0?this.barMargin:a*this.rowHeight-(a-1)*this.barMargin;if(d>=this.cellBorderWidth){d-=this.cellBorderWidth}while(c){c.top=d;Ext.Array.remove(b,c);c=this.findClosestSuccessor(c,b)}a++;if(b.length>0){return this.layoutEventsInBands(a,b)}else {return a}},getScheduleRegion:function(a,h){var d=a?Ext.fly(this.getNodeByRecord(a)).getRegion():this.el.down('.x-grid-table').getRegion(),g=this.timeAxis.getStart(),j=this.timeAxis.getEnd(),b=this.getDateConstraints(a,h)||{start:g,end:j},c=this.translateToPageCoordinate(this.getXYFromDate(b.start)[0]),e=this.translateToPageCoordinate(this.getXYFromDate(b.end)[0])-this.eventBorderWidth,i=d.top+this.barMargin,f=d.bottom-this.barMargin-this.eventBorderWidth;return new Ext.util.Region(i,Math.max(c,e),f,Math.min(c,e))},getResourceRegion:function(m,b,d){var f=Ext.fly(this.getNodeByRecord(m)).getRegion(),e=this.timeAxis.getStart(),i=this.timeAxis.getEnd(),k=b?Sch.util.Date.max(e,b):e,l=d?Sch.util.Date.min(i,d):i,c=this.getXYFromDate(k)[0],h=this.getXYFromDate(l)[0]-this.eventBorderWidth,g=this.el.getTop(),a=this.el.getScroll(),n=f.top+1-g+a.top,j=f.bottom-1-g+a.top;return new Ext.util.Region(n,Math.max(c,h),j,Math.min(c,h))},collectRowData:function(a,k,m){var e=this.eventStore.getEventsForResource(k);if(e.length===0||this.headerCt.getColumnCount()===0){a.rowHeight=this.rowHeight;return a}var p=Sch.util.Date,g=this.timeAxis,l=g.getStart(),o=g.getEnd(),c=[],b,i;for(b=0,i=e.length;b<i;b++){var d=e[b],h=d.getStartDate(),j=d.getEndDate();if(h&&j&&g.timeSpanInAxis(h,j)){var n=this.generateTplData(d,l,o,k,m);c[c.length]=n}}var f=1;if(this.dynamicRowHeight){f=this.layoutEvents(c)}a.rowHeight=f*this.rowHeight-(f-1)*this.barMargin;a[this.getFirstTimeColumn().id]+='&#160;'+this.eventTpl.apply(c);return a},resolveResource:function(b){var a=this.findItemByChild(b);if(a){return this.getRecord(a)}return null},getTimeSpanRegion:function(d,h,g){var e=this.getXYFromDate(d)[0],f=this.getXYFromDate(h||d)[0],c,a;if(this.store.buffered){var b;if(this.panel.verticalScroller.stretcher instanceof Ext.CompositeElement){b=this.panel.verticalScroller.stretcher.first()}else {b=this.el.down('.x-stretcher')}if(b.dom.clientHeight){a=b}}if(!a){a=this.el.down('.x-grid-table')}if(g){c=Math.max(a?a.dom.clientHeight:0,this.el.dom.clientHeight)}else {c=a?a.dom.clientHeight:0}return new Ext.util.Region(0,Math.max(e,f),c,Math.min(e,f))},getStartEndDatesFromRegion:function(d,c){var a=this.getDateFromXY([d.left,0],c),b=this.getDateFromXY([d.right,0],c);if(b&&a){return {start:Sch.util.Date.min(a,b),end:Sch.util.Date.max(a,b)}}else {return null}},onEventAdd:function(f,c){var d={};for(var a=0,e=c.length;a<e;a++){var b=c[a].getResource();if(b){d[b.getId()]=b}}Ext.Object.each(d,function(b,a){this.onUpdate(this.resourceStore,a)},this)},onEventRemove:function(d,c){var b=this.getElementFromEventRecord(c);if(b){var a=this.resolveResource(b);b.fadeOut({callback:function(){if(Ext.tree.View&&this instanceof Ext.tree.View&&this.store.indexOf(a)){this.onUpdate(this.store,a)}else {if(this.resourceStore.indexOf(a)>=0){this.onUpdate(this.resourceStore,a)}}},scope:this})}},onEventUpdate:function(e,b,d){var a,c=b.previous;if(c&&c[b.resourceIdField]){a=b.getResource(c[b.resourceIdField]);if(a){this.onUpdate(this.resourceStore,a)}}a=b.getResource();if(a){this.onUpdate(this.resourceStore,a)}},getSingleTickInPixels:function(){return this.getActualTimeColumnWidth()},getColumnWidth:function(){if(this.getTimeAxisColumn()){return this.getTimeAxisColumn().getTimeColumnWidth()}},setColumnWidth:function(a,b){if(this.getTimeAxisColumn()){this.getTimeAxisColumn().setTimeColumnWidth(a);if(!b){this.refreshKeepingScroll()}}this.fireEvent('columnwidthchange',this,a)},getVisibleDateRange:function(){if(!this.rendered){return null}var b=this.getEl().getScroll(),d=this.panel.getStart(),f=this.panel.getEnd(),c=this.getWidth(),e=this.getEl().down('.x-grid-table').dom,a=e.clientWidth;if(a<c){return {startDate:d,endDate:f}}return {startDate:this.getDateFromXY([b.left,0],null,!0),endDate:this.getDateFromXY([Math.min(b.left+c,a),0],null,!0)}}}});Ext.define('Sch.view.TimelineTreeView',{extend:'Ext.tree.View',mixins:['Sch.mixin.TimelineView'],requires:['Sch.patches.TreeView'],cellBorderWidth:0,beforeRender:function(){this.addCls('sch-timelinetreeview');this.callParent(arguments)}},function(){this.override(Sch.mixin.TimelineView.prototype.inheritables()||{})});Ext.define('Sch.mixin.Zoomable',{zoomLevels:[{width:200,increment:1,resolution:1,preset:'year'},{width:100,increment:1,resolution:7,preset:'monthAndYear'},{width:30,increment:1,resolution:1,preset:'weekDateAndMonth'},{width:35,increment:1,resolution:1,preset:'weekAndMonth'},{width:50,increment:1,resolution:1,preset:'weekAndMonth'},{width:85,increment:1,resolution:1,preset:'weekAndMonth'},{width:50,increment:1,resolution:1,preset:'weekAndDay',resolutionUnit:'HOUR'},{width:100,increment:1,resolution:1,preset:'weekAndDay',resolutionUnit:'HOUR'},{width:50,increment:6,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:100,increment:6,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:60,increment:2,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:60,increment:1,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:30,increment:15,resolution:5,preset:'minuteAndHour'},{width:60,increment:15,resolution:5,preset:'minuteAndHour'},{width:130,increment:15,resolution:5,preset:'minuteAndHour'},{width:60,increment:5,resolution:5,preset:'minuteAndHour'},{width:100,increment:5,resolution:5,preset:'minuteAndHour'}],minZoomLevel:null,maxZoomLevel:null,visibleZoomFactor:5,cachedCenterDate:null,isFirstZoom:!0,isZooming:!1,initializeZooming:function(){this.zoomLevels=this.zoomLevels.slice();this.setMinZoomLevel(this.minZoomLevel||0);this.setMaxZoomLevel(this.maxZoomLevel!==null?this.maxZoomLevel:this.zoomLevels.length-1);this.on('viewchange',this.clearCenterDateCache,this)},getZoomLevelUnit:function(b){var a=Sch.preset.Manager.getPreset(b.preset).headerConfig;return a.bottom?a.bottom.unit:a.middle.unit},getMilliSecondsPerPixelForZoomLevel:function(a){var b=Sch.util.Date;return Math.round((b.add(new Date(1,0,1),this.getZoomLevelUnit(a),a.increment)-new Date(1,0,1))/a.width)},presetToZoomLevel:function(d){var a=Sch.preset.Manager.getPreset(d);var c=a.headerConfig;var b=c.bottom;var e=c.middle;return {preset:d,increment:(b?b.increment:e.increment)||1,resolution:a.timeResolution.increment,resolutionUnit:a.timeResolution.unit,width:a.timeColumnWidth}},calculateCurrentZoomLevel:function(){var a=this.presetToZoomLevel(this.viewPreset);var c=this.timeAxis.headerConfig;var b=c.bottom;var d=c.middle;a.width=this.timeAxis.preset.timeColumnWidth;a.increment=(b?b.increment:d.increment)||1;return a},getCurrentZoomLevelIndex:function(){var f=this.calculateCurrentZoomLevel();var b=this.getMilliSecondsPerPixelForZoomLevel(f);var c=this.zoomLevels;for(var a=0;a<c.length;a++){var d=this.getMilliSecondsPerPixelForZoomLevel(c[a]);if(d==b){return a}if(a===0&&b>d){return -0.5}if(a==c.length-1&&b<d){return c.length-1+0.5}var e=this.getMilliSecondsPerPixelForZoomLevel(c[a+1]);if(d>b&&b>e){return a+0.5}}throw "Can't find current zoom level index"},setMaxZoomLevel:function(a){if(a<0||a>=this.zoomLevels.length){throw new Error('Invalid range for `setMinZoomLevel`')}this.maxZoomLevel=a},setMinZoomLevel:function(a){if(a<0||a>=this.zoomLevels.length){throw new Error('Invalid range for `setMinZoomLevel`')}this.minZoomLevel=a},getViewportCenterDateCached:function(){if(this.cachedCenterDate){return this.cachedCenterDate}return this.cachedCenterDate=this.getViewportCenterDate()},clearCenterDateCache:function(){this.cachedCenterDate=null},zoomToLevel:function(d){d=Ext.Number.constrain(d,this.minZoomLevel,this.maxZoomLevel);var r=this.calculateCurrentZoomLevel();var q=this.getMilliSecondsPerPixelForZoomLevel(r);var a=this.zoomLevels[d];var p=this.getMilliSecondsPerPixelForZoomLevel(a);if(q==p){return null}var n=this;var k=this.getSchedulingView();var b=k.getEl();if(this.isFirstZoom){this.isFirstZoom=!1;b.on('scroll',this.clearCenterDateCache,this)}var h=this.orientation=='vertical';var g=this.getViewportCenterDateCached();var i=h?b.getHeight():b.getWidth();var c=Ext.clone(Sch.preset.Manager.getPreset(a.preset));var m=this.calculateOptimalDateRange(g,i,a);var f=c.headerConfig;var e=f.bottom;var j=f.middle;c[h?'rowHeight':'timeColumnWidth']=a.width;if(e){e.increment=a.increment}else {j.increment=a.increment}this.isZooming=!0;this.viewPreset=a.preset;var l=e?e.unit:j.unit;this.timeAxis.reconfigure({preset:c,headerConfig:f,unit:l,increment:a.increment,resolutionUnit:Sch.util.Date.getUnitByName(a.resolutionUnit||l),resolutionIncrement:a.resolution,weekStartDay:this.weekStartDay,mainUnit:j.unit,shiftUnit:c.shiftUnit,shiftIncrement:c.shiftIncrement||1,defaultSpan:c.defaultSpan||1,start:m.startDate||this.getStart(),end:m.endDate||this.getEnd()});var o=k.getXYFromDate(g,!0);b.on('scroll',function(){n.cachedCenterDate=g},this,{single:!0});if(h){b.scrollTo('top',o[1]-i/2)}else {b.scrollTo('left',o[0]-i/2)}n.isZooming=!1;this.fireEvent('zoomchange',this,d);return d},zoomIn:function(a){a=a||1;var b=this.getCurrentZoomLevelIndex();if(b>=this.zoomLevels.length-1){return null}return this.zoomToLevel(Math.floor(b)+a)},zoomOut:function(a){a=a||1;var b=this.getCurrentZoomLevelIndex();if(b<=0){return null}return this.zoomToLevel(Math.ceil(b)-a)},zoomInFull:function(){return this.zoomToLevel(this.maxZoomLevel)},zoomOutFull:function(){return this.zoomToLevel(this.minZoomLevel)},calculateOptimalDateRange:function(d,j,a){var c=Sch.util.Date;var b=Sch.preset.Manager.getPreset(a.preset).headerConfig;var f=b.top?b.top.unit:b.middle.unit;var g=this.getZoomLevelUnit(a);var e=Math.ceil(j/a.width*a.increment*this.visibleZoomFactor/2);var h=c.add(d,g,-e);var i=c.add(d,g,e);return {startDate:this.timeAxis.floorDate(h,!1,f),endDate:this.timeAxis.ceilDate(i,!1,f)}}});Ext.define('Sch.mixin.TimelinePanel',{requires:['Sch.util.Patch','Sch.patches.LoadMask','Sch.patches.Model','Sch.patches.Table','Sch.data.TimeAxis','Sch.feature.ColumnLines','Sch.view.Locking','Sch.mixin.Lockable','Sch.preset.Manager'],mixins:['Sch.mixin.Zoomable'],orientation:'horizontal',weekStartDay:1,snapToIncrement:!1,readOnly:!1,eventResizeHandles:'both',viewPreset:'weekAndDay',trackHeaderOver:!0,startDate:null,endDate:null,eventBorderWidth:1,syncCellHeight:Ext.emptyFn,tooltipTpl:null,tipCfg:{cls:'sch-tip',showDelay:1000,hideDelay:0,autoHide:!0,anchor:'b'},lightWeight:!0,timeCellRenderer:null,timeCellRendererScope:null,inheritables:function(){return {columnLines:!0,enableColumnMove:!1,enableLocking:!0,lockable:!0,lockedXType:null,normalXType:null,initComponent:function(){this.lightWeight=this.lightWeight&&!this.timeCellRenderer;this.addEvents('timeheaderdblclick','beforeviewchange','viewchange');if(!this.timeAxis){this.timeAxis=Ext.create('Sch.data.TimeAxis')}if(!this.columns&&!this.colModel){this.columns=[]}this.timeAxis.on('reconfigure',this.onTimeAxisReconfigure,this);if(this.enableLocking){this.self.mixin('lockable',Sch.mixin.Lockable);var a=0,c=this.columns.length,b;for(;a<c;++a){b=this.columns[a];if(b.locked!==!1){b.locked=!0}}this.switchViewPreset(this.viewPreset,this.startDate,this.endDate,!0)}this.callParent(arguments);if(this.lockable){this.applyViewSettings(this.timeAxis.preset);if(!this.viewPreset){throw 'You must define a valid view preset object. See Sch.preset.Manager class for reference'}if(this.lightWeight&&this.columnLines){this.columnLinesFeature=new Sch.feature.ColumnLines();this.columnLinesFeature.init(this)}}this.initializeZooming();this.relayEvents(this.getView(),['beforetooltipshow','scheduleclick','scheduledblclick','schedulecontextmenu'])},getState:function(){var a=this,b=a.callParent(arguments);Ext.apply(b,{viewPreset:a.viewPreset,startDate:a.getStart(),endDate:a.getEnd(),zoomMinLevel:a.zoomMinLevel,zoomMaxLevel:a.zoomMaxLevel,currentZoomLevel:a.currentZoomLevel});return b},getOrientation:function(){return this.orientation},applyState:function(a){var b=this;b.callParent(arguments);if(a&&a.viewPreset){b.switchViewPreset(a.viewPreset,a.startDate,a.endDate)}if(a&&a.currentZoomLevel){b.zoomToLevel(a.currentZoomLevel)}},beforeRender:function(){this.callParent(arguments);if(this.lockable){this.addCls('sch-'+this.orientation)}},afterRender:function(){this.callParent(arguments);if(this.lockable){this.lockedGrid.on('itemdblclick',function(d,a,e,c,b){if(this.orientation=='vertical'&&a){this.fireEvent('timeheaderdblclick',this,a.get('start'),a.get('end'),c,b)}},this)}else {var a=this.headerCt;if(a&&a.reorderer&&a.reorderer.dropZone){var b=a.reorderer.dropZone;b.positionIndicator=Ext.Function.createSequence(b.positionIndicator,function(){this.valid=!1})}}},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,function(){if(a.dom){this.syncHorizontalScroll(a.dom.scrollLeft)}},this)}}}},setReadOnly:function(a){this.getSchedulingView().setReadOnly(a)},isReadOnly:function(){return this.getSchedulingView().isReadOnly()},switchViewPreset:function(a,d,e,f){if(this.fireEvent('beforeviewchange',this,a,d,e)!==!1){if(Ext.isString(a)){this.viewPreset=a;a=Sch.preset.Manager.getPreset(a)}if(!a){throw 'View preset not found'}var b=a.headerConfig;var c={unit:b.bottom?b.bottom.unit:b.middle.unit,increment:(b.bottom?b.bottom.increment:b.middle.increment)||1,resolutionUnit:a.timeResolution.unit,resolutionIncrement:a.timeResolution.increment,weekStartDay:this.weekStartDay,mainUnit:b.middle.unit,shiftUnit:a.shiftUnit,headerConfig:a.headerConfig,shiftIncrement:a.shiftIncrement||1,preset:a,defaultSpan:a.defaultSpan||1};if(f){c.start=d||new Date();c.end=e}else {c.start=d||this.timeAxis.getStart();c.end=e}if(!f){this.applyViewSettings(a)}this.timeAxis.reconfigure(c)}},applyViewSettings:function(b){var a=this.getSchedulingView();a.setDisplayDateFormat(b.displayDateFormat);if(this.orientation==='horizontal'){a.setRowHeight(this.rowHeight||b.rowHeight,!0)}},getStart:function(){return this.timeAxis.getStart()},getEnd:function(){return this.timeAxis.getEnd()},getViewportCenterDate:function(){var d=this.getSchedulingView(),a=d.getEl(),c=a.getScroll(),b;if(this.orientation==='vertical'){b=[0,c.top+a.getHeight()/2]}else {b=[c.left+a.getWidth()/2,0]}return d.getDateFromXY(b,null,!0)},setTimeColumnWidth:function(b,a){this.getSchedulingView().setColumnWidth(b,a)},onTimeAxisReconfigure:function(){this.fireEvent('viewchange',this);if(this.stateful&&this.lockedGrid){this.saveState()}},getColumnsState:function(){var b=this,a=b.lockedGrid.headerCt.getColumnsState();return a},shiftNext:function(a){this.timeAxis.shiftNext(a)},shiftPrevious:function(a){this.timeAxis.shiftPrevious(a)},goToNow:function(){this.setTimeSpan(new Date())},setTimeSpan:function(b,a){if(this.timeAxis){this.timeAxis.setTimeSpan(b,a)}},setStart:function(a){this.setTimeSpan(a)},setEnd:function(a){this.setTimeSpan(null,a)},getTimeAxis:function(){return this.timeAxis},getResourceByEventRecord:function(a){return a.getResource()},scrollToDate:function(d,b){var a=this.getSchedulingView(),c=a.getXYFromDate(d,!0);if(this.orientation=='horizontal'){a.getEl().scrollTo('left',Math.max(0,c[0]),b)}else {a.getEl().scrollTo('top',Math.max(0,c[1]),b)}},getSchedulingView:function(){return this.lockable?this.normalGrid.getView():this.getView()},setOrientation:function(a){this.removeCls('sch-'+this.orientation);this.addCls('sch-'+a);this.orientation=a}});Ext.define('Sch.panel.TimelineTreePanel',{extend:'Ext.tree.Panel',requires:['Ext.data.TreeStore'],mixins:['Sch.mixin.TimelinePanel'],useArrows:!0,rootVisible:!1,constructor:function(a){a=a||{};a.animate=!1;this.callParent(arguments)},initComponent:function(){this.callParent(arguments);if(this.lockable&&this.lockedGrid.headerCt.query('treecolumn').length===0){Ext.Error.raise("You must define an Ext.tree.Column (or use xtype : 'treecolumn').")}},onRootChange:function(a){if(!this.lockable){this.callParent(arguments)}}},function(){this.override(Sch.mixin.TimelinePanel.prototype.inheritables()||{})});Ext.define('Sch.plugin.Printable',{extend:'Ext.AbstractPlugin',lockableScope:'top',docType:'<!DOCTYPE HTML>',beforePrint:Ext.emptyFn,afterPrint:Ext.emptyFn,autoPrintAndClose:!0,fakeBackgroundColor:!0,scheduler:null,constructor:function(a){Ext.apply(this,a)},init:function(a){this.scheduler=a;a.print=Ext.Function.bind(this.print,this)},mainTpl:'{docType}<html class="x-border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{title}</title>{styles}</head><body class="sch-print-body {bodyClasses}"><div class="sch-print-ct {componentClasses}" style="width:{totalWidth}px"><div class="sch-print-headerbg" style="border-left-width:{totalWidth}px;height:{headerHeight}px;"></div><div class="sch-print-header-wrap"><div style="left:-{lockedScroll}px;margin-right:-{lockedScroll}px;width:{[values.lockedWidth + values.lockedScroll]}px" class="sch-print-lockedheader x-grid-header-ct x-grid-header-ct-default x-docked x-docked-top x-grid-header-ct-docked-top x-grid-header-ct-default-docked-top x-box-layout-ct x-docked-noborder-top x-docked-noborder-right x-docked-noborder-left">{lockedHeader}</div><div style="left:{lockedWidth}px;width:{normalWidth}px;" class="sch-print-normalheader x-grid-header-ct x-grid-header-ct-default x-docked x-docked-top x-grid-header-ct-docked-top x-grid-header-ct-default-docked-top x-box-layout-ct x-docked-noborder-top x-docked-noborder-right x-docked-noborder-left"><div style="margin-left:-{normalScroll}px">{normalHeader}</div></div></div><div id="lockedRowsCt" style="left:-{lockedScroll}px;margin-right:-{lockedScroll}px;width:{[values.lockedWidth + values.lockedScroll]}px;top:{headerHeight}px;" class="sch-print-locked-rows-ct {innerLockedClasses} x-grid-inner-locked">{lockedRows}</div><div id="normalRowsCt" style="left:{lockedWidth}px;top:{headerHeight}px;width:{normalWidth}px" class="sch-print-normal-rows-ct {innerNormalClasses}"><div style="position:relative;overflow:visible;margin-left:-{normalScroll}px">{normalRows}</div></div></div><script type="text/javascript">{setupScript}</script></body></html>',getGridContent:function(a){var c=a.normalGrid,d=a.lockedGrid,f=d.getView(),g=c.getView(),m,i,e,j,k;this.beforePrint(a);var h=f.store.getRange();i=f.tpl.apply(f.collectData(h,0));e=g.tpl.apply(g.collectData(h,0));j=f.el.getScroll().left;k=g.el.getScroll().left;if(a.columnLinesFeature){var b=a.columnLinesFeature;var l=b.containerEl;b.containerEl=Ext.get(document.createElement('div'));b.renderElementsInternal();e=b.containerEl.dom.innerHTML+e;b.containerEl=l}this.afterPrint(a);return {normalHeader:c.headerCt.el.dom.innerHTML,lockedHeader:d.headerCt.el.dom.innerHTML,lockedRows:i,normalRows:e,lockedScroll:j,normalScroll:k,lockedWidth:d.getWidth(),normalWidth:c.getWidth(),headerHeight:c.headerCt.getHeight(),innerLockedClasses:d.view.el.dom.className,innerNormalClasses:c.view.el.dom.className+(this.fakeBackgroundColor?' sch-print-fake-background':''),width:a.getWidth()}},getStylesheets:function(){return Ext.getDoc().select('link[rel="stylesheet"]')},print:function(){var a=this.scheduler;if(!(this.mainTpl instanceof Ext.Template)){var h=22;this.mainTpl=Ext.create('Ext.XTemplate',this.mainTpl,{compiled:!0,disableFormats:!0})}var i=a.getView(),g=this.getStylesheets(),d=Ext.get(Ext.core.DomHelper.createDom({tag:'div'})),c;g.each(function(a){d.appendChild(a.dom.cloneNode(!0))});c=d.dom.innerHTML+'';var f=this.getGridContent(a),e=this.mainTpl.apply(Ext.apply({waitText:this.waitText,docType:this.docType,htmlClasses:'',bodyClasses:Ext.getBody().dom.className,componentClasses:a.el.dom.className,title:a.title||'',styles:c,totalWidth:a.getWidth(),setupScript:'('+this.setupScript.toString()+')();'},f));var b=window.open('','printgrid');b.document.write(e);b.document.close();if(this.autoPrintAndClose){b.print();if(!Ext.isChrome){b.close()}}},setupScript:function(){var f=document.getElementById('lockedRowsCt'),d=document.getElementById('normalRowsCt'),c=f.getElementsByTagName('tr'),b=d.getElementsByTagName('tr'),e=b.length,a=0;for(;a<e;a++){c[a].style.height=b[a].style.height}}});Ext.define('Sch.plugin.PdfExport',{extend:'Ext.util.Observable',mixins:['Ext.AbstractPlugin'],lockableScope:'top',printServer:undefined,tpl:new Ext.XTemplate('<!DOCTYPE html><html class="x-border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{column}/{row}</title>{styles}</head><body class="{bodyClasses}">{[this.showHeader(values)]}<div class="{componentClasses}" style="height:{bodyHeight}px; width:{totalWidth}px">{HTML}</div></body></html>',{disableFormats:!0,showHeader:function(a){if(a.showHeader){return '<div class="sch-pdfprint-header" style="width:'+a.totalWidth+'px"><h2>'+a.column+'/'+a.row+'</h2></div>'}return ''}}),exportDialogClassName:'Sch.widget.PdfExportDialog',exportDialogConfig:{},defaultConfig:{format:'A4',orientation:'portrait',range:'complete',showHeader:!0},pageSizes:{A5:{width:5.8,height:8.3},A4:{width:8.3,height:11.7},A3:{width:11.7,height:16.5},Letter:{width:8.5,height:11}},openAfterExport:!0,DPI:72,constructor:function(a){this.callParent(arguments);this.addEvents('hidedialogwindow','showdialogerror','updateprogressbar')},init:function(a){this.scheduler=a;a.showExportDialog=Ext.Function.bind(this.showExportDialog,this);a.doExport=Ext.Function.bind(this.doExport,this)},showExportDialog:function(){var a=this,b=a.scheduler.getSchedulingView();if(!a.win){a.win=Ext.create(a.exportDialogClassName,{plugin:a,exportDialogConfig:Ext.apply({startDate:this.scheduler.getStart(),endDate:this.scheduler.getEnd(),rowHeight:b.rowHeight,columnWidth:b.getSingleTickInPixels()},a.exportDialogConfig)})}a.win.show()},getStylesheets:function(){var c=Ext.getDoc().select('link[rel="stylesheet"]'),a=Ext.get(Ext.core.DomHelper.createDom({tag:'div'})),b;c.each(function(b){a.appendChild(b.dom.cloneNode(!0))});b=a.dom.innerHTML+'';return b},doExport:function(v,t,w){var a=this,c=a.scheduler,e=c.getSchedulingView(),u=a.getStylesheets(),b=v||a.defaultConfig;a.mask();a.fireEvent('updateprogressbar',0.1);if(c.expandAll){c.expandAll()}var A=c.lockedGrid,k=c.normalGrid,r=e.rowHeight,h=c.timeAxis.getTicks(),l=e.getSingleTickInPixels(),q={width:c.getWidth(),height:c.getHeight(),rowHeight:r,columnWidth:l,startDate:c.getStart(),endDate:c.getEnd(),normalWidth:k.getWidth(),normalPosition:k.getPosition()},f,i;if(b.orientation==='landscape'){f=a.pageSizes[b.format].height*a.DPI;i=a.pageSizes[b.format].width*a.DPI}else {f=a.pageSizes[b.format].width*a.DPI;i=a.pageSizes[b.format].height*a.DPI}var z=41,p=k.headerCt.getHeight(),n=Math.floor(i)-p-(b.showHeader?z:0);if(b.range!=='complete'){var g,d,j,m,o;if(b.range==='date'){g=new Date(b.dateFrom);d=new Date(b.dateTo);d=Sch.util.Date.add(d,Sch.util.Date.DAY,1)}else {if(b.range==='current'){j=e.getVisibleDateRange();g=j.startDate;d=j.endDate}}m=Math.floor(e.timeAxis.getTickFromDate(g));o=Math.floor(e.timeAxis.getTickFromDate(d));h=h.filter(function(b,a){return a>=m&&a<=o});c.setTimeSpan(g,d)}c.setWidth(f);c.setTimeColumnWidth(l);if(c.ownerCt){c.ownerCt.suspendLayouts()}var s=a.calculatePages(b,h,l,f,n),y={ticks:h,printHeight:n,paperWidth:f,headerHeight:p,styles:u,config:b},x=a.getExportJsonHtml(s,y);a.fireEvent('updateprogressbar',0.4);if(a.printServer){Ext.Ajax.request({type:'POST',url:a.printServer,params:{html:{array:x},format:b.format,orientation:b.orientation,range:b.range},success:function(b){a.onSuccess(b,t)},failure:function(b){a.onFailure(b,w)},scope:a})}else {throw 'Server url not defined !'}a.restorePanel(q)},calculatePages:function(p,o,a,h,i){var m=this,b=m.scheduler,k=b.lockedGrid,c=b.getSchedulingView().rowHeight,g=k.getWidth(),f=Math.floor(h/a),d=Math.floor((h-g)/a),j=Math.ceil((o.length-d)/f)+1,n=b.getSchedulingView().store.getCount(),e=Math.floor(i/c),l=Math.ceil(n/e);return {columnsAmountLocked:d,columnsAmountNormal:f,rowsAmount:e,rowPages:l,columnPages:j,timeColumnWidth:a,lockedGridWidth:g,rowHeight:c,panelHTML:{}}},getExportJsonHtml:function(c,f){var g=this,d=g.scheduler,v=c.columnsAmountLocked,j=c.columnsAmountNormal,s=c.rowsAmount,w=c.rowPages,q=c.columnPages,i=c.panelHTML,u=c.timeColumnWidth,x=f.paperWidth,r=f.printHeight,p=f.headerHeight,t=f.styles,y=f.config,a=f.ticks,o=[],b,k,n,l,z,m;for(var e=0;e<q;e+=1){if(e===0){b=Ext.Number.constrain(v-1,e,a.length-1);d.setTimeSpan(a[e].start,a[b].end)}else {if(!k){k=d.lockedGrid.hide()}if(a[b+j]){d.setTimeSpan(a[b+1].start,a[b+j].end);b=b+j}else {d.setTimeSpan(a[b+1].start,a[a.length-1].end)}}d.setTimeColumnWidth(u);for(var h=0;h<w;h+=1){g.hideRows(s,h);i.dom=d.body.dom.innerHTML;i.k=h;i.i=e;l=g.resizePanelHTML(i);n=g.tpl.apply(Ext.apply({bodyClasses:Ext.getBody().dom.className,bodyHeight:r+p,componentClasses:d.el.dom.className,styles:t,showHeader:y.showHeader,HTML:l.dom.innerHTML,totalWidth:x,headerHeight:p,column:e+1,row:h+1}));m={html:n};o.push(m);g.showRows()}}return Ext.JSON.encode(o)},resizePanelHTML:function(g){var a=Ext.get(Ext.core.DomHelper.createDom({tag:'div',html:g.dom})),c=this.scheduler,d=c.lockedGrid,b=c.normalGrid;var f=[a.select('#'+c.id+'-targetEl').first(),a.select('#'+d.id).first(),a.select('#'+d.body.id).first(),a.select('#'+d.body.child('.x-grid-view').id).first()],e=[a.select('#'+b.id).first(),a.select('#'+b.headerCt.id).first(),a.select('#'+b.body.id).first(),a.select('#'+b.getView().id).first()];Ext.Array.each(f,function(a){if(a){a.setHeight('100%')}});Ext.Array.each(e,function(a,b){if(b===1){a.setWidth('100%')}else {a.applyStyles({height:'100%',width:'100%'})}});return a},onSuccess:function(c,d){var a=this,b=Ext.JSON.decode(c.responseText);a.fireEvent('updateprogressbar',1);if(b.success===!0){setTimeout(function(){a.fireEvent('hidedialogwindow');a.unmask();if(a.openAfterExport){window.open(b.url,'PDF_Print')}},a.win?a.win.hideTime:3000)}else {a.fireEvent('showdialogerror',b.msg);a.unmask()}if(d){d.call(this,c)}},onFailure:function(b,a){this.fireEvent('showdialogerror',this);if(a){a.call(this,b)}},hideRows:function(c,g){var f=this.scheduler.lockedGrid.getEl().select('.x-grid-row'),b=this.scheduler.normalGrid.getEl().select('.x-grid-row'),d=c*g,e=d+c;for(var a=0;a<b.elements.length;a+=1){if(a<d||a>=e){f.elements[a].className+=' sch-none';b.elements[a].className+=' sch-none'}}},showRows:function(){var b=this.scheduler.lockedGrid.getEl().select('.x-grid-row'),a=this.scheduler.normalGrid.getEl().select('.x-grid-row');b.each(function(a){a.removeCls('sch-none')});a.each(function(a){a.removeCls('sch-none')})},mask:function(){var a=Ext.getBody().mask();a.addCls('sch-pdf-mask')},unmask:function(){Ext.getBody().unmask()},restorePanel:function(b){var a=this.scheduler;a.setWidth(b.width);a.setHeight(b.height);a.setTimeSpan(b.startDate,b.endDate);a.setTimeColumnWidth(b.columnWidth,!0);a.getSchedulingView().setRowHeight(b.rowHeight);a.lockedGrid.show();a.normalGrid.setWidth(b.normalWidth);a.normalGrid.setPosition(b.normalPosition[0]);a.ownerCt&&a.ownerCt.resumeLayouts()},destroy:function(){if(this.win){this.win.destroy()}}});Ext.define('Sch.widget.ResizePicker',{extend:'Ext.Panel',alias:'widget.dualrangepicker',width:200,height:200,border:!0,collapsible:!1,bodyStyle:'position:relative;margin:5px',verticalCfg:{height:120,value:24,increment:2,minValue:20,maxValue:80,reverse:!0},horizontalCfg:{width:120,value:100,minValue:25,increment:5,maxValue:200},initComponent:function(){var a=this;a.addEvents('change','changecomplete','select');a.horizontalCfg.value=a.dialog.columnWidth;a.verticalCfg.value=a.dialog.rowHeight;a.dockedItems=[a.vertical=new Ext.slider.Single(Ext.apply({dock:'left',style:'margin-top:10px',vertical:!0,listeners:{change:a.onSliderChange,changecomplete:a.onSliderChangeComplete,scope:a}},a.verticalCfg)),a.horizontal=new Ext.slider.Single(Ext.apply({dock:'top',style:'margin-left:28px',listeners:{change:a.onSliderChange,changecomplete:a.onSliderChangeComplete,scope:a}},a.horizontalCfg))];a.callParent(arguments)},afterRender:function(){var a=this;a.addCls('sch-ux-range-picker');a.valueHandle=this.body.createChild({cls:'sch-ux-range-value',cn:{tag:'span'}});a.valueSpan=this.valueHandle.down('span');var b=new Ext.dd.DD(this.valueHandle);Ext.apply(b,{startDrag:function(){a.dragging=!0;this.constrainTo(a.body)},onDrag:function(){a.onHandleDrag.apply(a,arguments)},endDrag:function(){a.onHandleEndDrag.apply(a,arguments);a.dragging=!1},scope:this});this.setValues(this.getValues());this.callParent(arguments);this.body.on('click',this.onBodyClick,this)},onBodyClick:function(b,c){var a=[b.getXY()[0]-8-this.body.getX(),b.getXY()[1]-8-this.body.getY()];this.valueHandle.setLeft(Ext.Number.constrain(a[0],0,this.getAvailableWidth()));this.valueHandle.setTop(Ext.Number.constrain(a[1],0,this.getAvailableHeight()));this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]));this.onSliderChangeComplete()},getAvailableWidth:function(){return this.body.getWidth()-18},getAvailableHeight:function(){return this.body.getHeight()-18},onHandleDrag:function(){this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]))},onHandleEndDrag:function(){this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]))},getValuesFromXY:function(a){var d=a[0]/this.getAvailableWidth();var b=a[1]/this.getAvailableHeight();var e=Math.round((this.horizontalCfg.maxValue-this.horizontalCfg.minValue)*d);var c=Math.round((this.verticalCfg.maxValue-this.verticalCfg.minValue)*b)+this.verticalCfg.minValue;return [e+this.horizontalCfg.minValue,c]},getXYFromValues:function(a){var c=this.horizontalCfg.maxValue-this.horizontalCfg.minValue;var f=this.verticalCfg.maxValue-this.verticalCfg.minValue;var b=Math.round((a[0]-this.horizontalCfg.minValue)*this.getAvailableWidth()/c);var d=a[1]-this.verticalCfg.minValue;var e=Math.round(d*this.getAvailableHeight()/f);return [b,e]},updatePosition:function(){var b=this.getValues();var a=this.getXYFromValues(this.getValues());this.valueHandle.setLeft(Ext.Number.constrain(a[0],0,this.getAvailableWidth()));this.valueHandle.setTop(Ext.Number.constrain(a[1],0,this.getAvailableHeight()));this.positionValueText();this.valueSpan.update('['+b.toString()+']')},positionValueText:function(){var a=this.valueHandle.getTop(!0);var b=this.valueHandle.getLeft(!0);this.valueSpan.setLeft(b>30?-30:10);this.valueSpan.setTop(a>10?-20:20)},setValues:function(a){this.horizontal.setValue(a[0]);if(this.verticalCfg.reverse){this.vertical.setValue(this.verticalCfg.maxValue+this.verticalCfg.minValue-a[1])}else {this.vertical.setValue(a[1])}if(!this.dragging){this.updatePosition()}this.positionValueText();this.valueSpan.update('['+a.toString()+']')},getValues:function(){var a=this.vertical.getValue();if(this.verticalCfg.reverse){a=this.verticalCfg.maxValue-a+this.verticalCfg.minValue}return [this.horizontal.getValue(),a]},onSliderChange:function(){this.fireEvent('change',this,this.getValues());if(!this.dragging){this.updatePosition()}},onSliderChangeComplete:function(){this.fireEvent('changecomplete',this,this.getValues())},afterLayout:function(){this.callParent(arguments);this.updatePosition()}});Ext.define('Sch.widget.ExportDialogForm',{extend:'Ext.form.Panel',dialog:null,layout:{type:'vbox'},requires:['Sch.widget.ResizePicker'],border:!1,bodyPadding:10,initComponent:function(){var b=this,a=b.dialog;Ext.apply(this,{fieldDefaults:{labelAlign:'top',labelWidth:100,labelStyle:'font-weight:bold'},items:[{width:a.getWidth()-40,xtype:'combo',value:'complete',triggerAction:'all',forceSelection:!0,editable:!1,fieldLabel:a.rangeFieldLabel,name:'range',itemId:'rangeField',queryMode:'local',displayField:'name',valueField:'value',store:Ext.create('Ext.data.Store',{fields:['name','value'],data:[{name:a.completeView,value:'complete'},{name:a.dateRange,value:'date'},{name:a.currentView,value:'current'}]})},{xtype:'dualrangepicker',itemId:'rangePicker',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-pickertext">'+a.pickerText+':</span>'),dialog:a,hidden:!0},{width:a.getWidth()-40,xtype:'datefield',fieldLabel:b.dateRangeFrom,name:'dateFrom',itemId:'dateFromField',hidden:!0,allowBlank:!1,cls:'sch-pdfexportdialog-date',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-datelabel">'+a.dateRangeFrom+':</span>'),maxValue:a.endDate,minValue:a.startDate,value:a.startDate,validator:function(c){var b=new Date(c);return b>=a.startDate}},{width:a.getWidth()-40,xtype:'datefield',name:'dateTo',itemId:'dateToField',hidden:!0,allowBlank:!1,cls:'sch-pdfexportdialog-date',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-datelabel">'+a.dateRangeTo+':</span>'),maxValue:a.endDate,minValue:a.startDate,value:a.endDate,validator:function(c){var b=new Date(c);return b<=a.endDate}},{width:a.getWidth()-40,xtype:'checkboxfield',fieldLabel:a.showHeaderLabel,name:'showHeader',checked:!0},{width:a.getWidth()-40,xtype:'combo',value:'A4',triggerAction:'all',forceSelection:!0,editable:!1,fieldLabel:a.formatFieldLabel,name:'format',queryMode:'local',store:['A5','A4','A3','Letter']},{width:a.getWidth()-40,xtype:'combo',value:'portrait',triggerAction:'all',forceSelection:!0,editable:!1,afterSubTpl:new Ext.XTemplate('<span id="sch-pdfexportdialog-imagePortrait"></span><span id="sch-pdfexportdialog-imageLandscape" class="sch-none"></span>'),fieldLabel:a.orientationFieldLabel,name:'orientation',cls:'sch-pdfexportdialog-orientation',itemId:'orientationField',displayField:'name',valueField:'value',queryMode:'local',store:Ext.create('Ext.data.Store',{fields:['name','value'],data:[{name:a.orientationPortrait,value:'portrait'},{name:a.orientationLandscape,value:'landscape'}]})},new Ext.ProgressBar({text:a.progressBarText,width:a.getWidth()-40,animate:!0,hidden:!0,itemId:'progressBar',id:'print-widget-progressbar'})]});b.callParent(arguments);if(!b.progressBar){b.progressBar=new Ext.ProgressBar({text:a.progressBarText,width:a.getWidth()-40,animate:!0,hidden:!0,itemId:'progressBar',id:'print-widget-progressbar'})}b.items.add(b.progressBar);b.dateFromField=b.getComponent('dateFromField');b.dateToField=b.getComponent('dateToField');b.rangePicker=b.getComponent('rangePicker');b.getComponent('orientationField').on('change',b.onChange,b);b.getComponent('rangeField').on('change',b.onChange,b);b.form.relayEvents(b.dialog,['updateprogressbar','hideprogressbar','showprogressbar']);var c={hideprogressbar:b.hideProgressBar,showprogressbar:b.showProgressBar,updateprogressbar:b.updateProgressBar,scope:b};b.form.on(c)},onChange:function(b,a){if(b.name==='range'){switch(a){case 'complete':this.dateFromField.hide();this.dateToField.hide();this.rangePicker.hide();break;case 'date':this.dateFromField.show();this.dateToField.show();this.rangePicker.hide();break;case 'current':this.dateFromField.hide();this.dateToField.hide();this.rangePicker.show();this.rangePicker.expand(!0);break;}}if(b.name==='orientation'){switch(a){case 'landscape':Ext.get('sch-pdfexportdialog-imagePortrait').toggleCls('sch-none');Ext.get('sch-pdfexportdialog-imageLandscape').toggleCls('sch-none');break;case 'portrait':Ext.get('sch-pdfexportdialog-imagePortrait').toggleCls('sch-none');Ext.get('sch-pdfexportdialog-imageLandscape').toggleCls('sch-none');break;}}},showProgressBar:function(){this.progressBar&&this.progressBar.show()},hideProgressBar:function(){this.progressBar&&this.progressBar.hide()},updateProgressBar:function(a){this.progressBar&&this.progressBar.updateProgress(a)},destroy:function(){this.progressBar&&this.progressBar.destroy();this.callParent(arguments)}});Ext.define('Sch.widget.ExportDialogButtons',{extend:'Ext.panel.Panel',dialog:null,height:35,border:!1,collapsible:!1,items:[],initComponent:function(){Ext.apply(this,{width:this.dialog.getWidth(),items:[{xtype:'button',scale:'medium',text:this.dialog.exportButtonText,handler:function(){var a=this.dialog.form.getForm();if(a.isValid()){var b=a.getValues();this.dialog.fireEvent('showprogressbar');this.dialog.plugin.doExport(b)}},scope:this},{xtype:'button',scale:'medium',text:this.dialog.cancelButtonText,handler:function(){this.dialog.hideDialog()},scope:this}]});this.callParent(arguments)}});Ext.define('Sch.widget.PdfExportDialog',{extend:'Ext.window.Window',alias:'widget.exportdialog',modal:!1,width:240,height:310,cls:'sch-pdfexportdialog',frame:!1,header:!1,title:null,layout:'fit',resizable:!1,draggable:!0,plugin:null,hideTime:2000,formPanel:null,buttonsPanel:null,progressBar:null,items:[],tpl:Ext.create('Ext.XTemplate','<div class="sch-pdfexportdialog-header"><h4>{headerText}</h4><span id="sch-pdfexportdialog-close"></span></div><div class="sch-pdfexportdialog-form" id="sch-pdfexportdialog-form"></div><div class="sch-pdfexportdialog-msg sch-none"><span id="sch-pdfexportdialog-msg"></span></div><div class="sch-pdfexportdialog-button" id="sch-pdfexportdialog-button"></div>',{compiled:!0}),generalError:'An error occured, try again.',dialogHeader:'PDF Settings',formatFieldLabel:'Paper format',orientationFieldLabel:'Orientation',rangeFieldLabel:'Export range',showHeaderLabel:'Add page number',orientationPortrait:'Portrait',orientationLandscape:'Landscape',completeView:'Complete schedule',currentView:'Current view',dateRange:'Date range',dateRangeFrom:'Export from',pickerText:'Resize column/rows to desired value',dateRangeTo:'Export to',exportButtonText:'Export',cancelButtonText:'Cancel',progressBarText:'Exporting...',requires:['Ext.ProgressBar','Sch.widget.ExportDialogForm'],constructor:function(a){Ext.apply(this,a.exportDialogConfig);this.callParent(arguments)},initComponent:function(){var a=this,b={hidedialogwindow:a.hideDialog,showdialogerror:a.showError,updateprogressbar:function(b){a.fireEvent('updateprogressbar',b)},scope:this};a.html=a.tpl.apply({headerText:a.dialogHeader});a.plugin.on(b);a.callParent(arguments)},destroy:function(){this.form.destroy();this.buttons.destroy();this.callParent(arguments)},afterRender:function(){var a=this;a.buttons=a.buttonsPanel||new Sch.widget.ExportDialogButtons({renderTo:'sch-pdfexportdialog-button',dialog:a,width:a.getWidth(),height:35});a.form=a.formPanel||new Sch.widget.ExportDialogForm({dialog:a,renderTo:'sch-pdfexportdialog-form'});a.on('changecomplete',function(d,b){a.plugin.scheduler.setTimeColumnWidth(b[0],!0);if(a.form.rangePicker.verticalCfg.reverse){var c=b[1]-a.form.rangePicker.verticalCfg.maxValue+a.form.rangePicker.verticalCfg.minValue;a.plugin.scheduler.getSchedulingView().setRowHeight(c)}else {a.plugin.scheduler.getSchedulingView().setRowHeight(b[1])}});a.form.on('resize',a.setTipHeight,a);a.relayEvents(a.form.rangePicker,['change','changecomplete','select']);Ext.get('sch-pdfexportdialog-close').on('click',a.hideDialog,a)},setTipHeight:function(){var a=this,c=a.getHeight(),b=a.form.getHeight();if(!a.oldFormHeight){a.oldFormHeight=b}else {a.form.suspendEvents();a.setHeight(a.getHeight()+b-a.oldFormHeight);a.form.resumeEvents();a.oldFormHeight=b}},hideDialog:function(){var a=this;a.fireEvent('updateprogressbar',0);a.fireEvent('hideprogressbar');a.form.show();a.form.getForm().reset();a.buttons.show();a.hide()},showError:function(c){var a=this,b;c=c||a.generalErrorText;a.fireEvent('hideprogressbar');a.form.hide();a.buttons.hide();b=a.getEl().select('.sch-pdfexportdialog-msg').first();b.dom.innerHTML=c;b.removeCls('sch-none');setTimeout(function(){b.dom.innerHTML='';b.addCls('sch-none');a.hideDialog()},a.hideTime)}});Ext.define('Gnt.model.WeekAvailability',{extend:'Sch.model.Range',customizableFields:[{name:'Availability'}],availabilityField:'Availability',set:function(b,a){if(b===this.nameField){Ext.Array.each(this.getAvailability(),function(c){c.setName(a)})}this.callParent(arguments)},getAvailability:function(){return this.get(this.availabilityField)||[]},setAvailability:function(a){var b=this.getName();Ext.Array.each(a,function(c){c.setName(b)});this.set(this.availabilityField,a)}});Ext.define('Gnt.model.CalendarDay',{requires:['Ext.data.Types'],extend:'Sch.model.Customizable',idProperty:'Id',customizableFields:[{name:'Date',type:'date',dateFormat:'c',convert:function(c,a){if(!c){return}var b=Ext.data.Types.DATE.convert.call(this,c);if(b){Ext.Date.clearTime(b)}if(a.data[a.idProperty]==null){a.data[a.idProperty]=b-0}return b}},{name:'Id'},{name:'IsWorkingDay',type:'boolean',defaultValue:!1},{name:'Cls',defaultValue:'gnt-holiday'},'Name',{name:'Availability',convert:function(a,b){if(a){return Ext.typeOf(a)==='string'?[a]:a}else {return []}}}],availabilityCache:null,dateField:'Date',isWorkingDayField:'IsWorkingDay',clsField:'Cls',nameField:'Name',availabilityField:'Availability',setDate:function(b){var a=Ext.Date.clearTime(b,!0);this.data[this.idProperty]=a-0;this.set(this.dateField,a)},clearDate:function(){this.data[this.idProperty]=null},getAvailability:function(b){var c=this;if(b){return this.get(this.availabilityField)}if(this.availabilityCache){return this.availabilityCache}var a=[];Ext.Array.each(this.get(this.availabilityField),function(d){a.push(Ext.typeOf(d)==='string'?c.parseInterval(d):d)});this.verifyAvailability(a);return this.availabilityCache=a},setAvailability:function(a){this.availabilityCache=null;this.set(this.availabilityField,this.stringifyIntervals(a));this.getAvailability()},verifyAvailability:function(a){a.sort(function(c,b){return c.startTime-b.startTime});Ext.Array.each(a,function(b){if(b.startTime>b.endTime){throw 'Start time is greater than end time'}});for(var b=1;b<a.length;b++){var c=a[b-1];var d=a[b];if(c.endTime>d.startTime){throw 'Availability intervals should not intersect'}}},prependZero:function(a){return a<10?'0'+a:a},stringifyInterval:function(b){var c=b.startTime;var a=b.endTime;return this.prependZero(c.getHours())+':'+this.prependZero(c.getMinutes())+'-'+this.prependZero(a.getHours())+':'+this.prependZero(a.getMinutes())},stringifyIntervals:function(b){var c=this;var a=[];Ext.Array.each(b,function(d){if(Ext.typeOf(d)==='string'){a.push(d)}else {a.push(c.stringifyInterval(d))}});return a},parseInterval:function(b){var a=/(\d\d):(\d\d)-(\d\d):(\d\d)/.exec(b);if(!a){throw 'Invalid format for availability string: '+b+'. It should have exact format: hh:mm-hh:mm'}return {startTime:new Date(0,0,0,a[1],a[2]),endTime:new Date(0,0,0,a[3],a[4])}},getTotalHours:function(){return this.getTotalMS()/1000/60/60},getTotalMS:function(){var a=0;Ext.Array.each(this.getAvailability(),function(b){a+=b.endTime-b.startTime});return a},addAvailabilityInterval:function(c,b){var a;if(c instanceof Date){a={startTime:c,endTime:b}}else {a=this.parseInterval(c+(b?'-'+b:''))}var d=this.getAvailability().concat(a);this.verifyAvailability(d);this.setAvailability(d)},removeAvailbilityInterval:function(b){var a=this.getAvailability();a.splice(b,1);this.setAvailability(a)},getAvailabilityIntervalsFor:function(a){a=typeof a=='number'?new Date(a):a;var d=a.getFullYear();var e=a.getMonth();var c=a.getDate();var b=[];Ext.Array.each(this.getAvailability(),function(f){var g=f.endTime.getDate();b.push({startDate:new Date(d,e,c,f.startTime.getHours(),f.startTime.getMinutes()),endDate:new Date(d,e,c+(g==1?1:0),f.endTime.getHours(),f.endTime.getMinutes())})});return b},getAvailabilityStartFor:function(b){var a=this.getAvailabilityIntervalsFor(b);if(!a.length){return null}return a[0].startDate},getAvailabilityEndFor:function(b){var a=this.getAvailabilityIntervalsFor(b);if(!a.length){return null}return a[a.length-1].endDate}});Ext.define('Gnt.model.Assignment',{extend:'Sch.model.Customizable',idProperty:'Id',customizableFields:[{name:'Id'},{name:'ResourceId'},{name:'TaskId'},{name:'Units',type:'float',defaultValue:100}],resourceIdField:'ResourceId',taskIdField:'TaskId',unitsField:'Units',isPersistable:function(){var a=this.getTask(),b=this.getResource();return a&&!a.phantom&&b&&!b.phantom},getUnits:function(){return Math.max(0,this.get(this.unitsField))},setUnits:function(a){if(a<0){throw "`Units` value for an assignment can't be less than 0"}this.set(this.unitsField,a)},getResourceName:function(){var a=this.stores[0].getResourceStore().getById(this.getResourceId());if(a){return a.getName()}return ''},getTask:function(a){return (a||this.stores[0].getTaskStore()).getById(this.getTaskId())},getResource:function(){return this.stores[0].getResourceStore().getByInternalId(this.getResourceId())},getInternalId:function(){return this.getId()||this.internalId},getEffort:function(c){var a=this.getTask();var b=0;a.forEachAvailabilityIntervalWithResources({startDate:a.getStartDate(),endDate:a.getEndDate(),resources:[this.getResource()]},function(g,f,a){var d;for(var e in a){d=a[e].units}b+=(f-g)*d/100});return a.getProjectCalendar().convertMSDurationToUnit(b,c||a.getEffortUnit())}});Ext.define('Gnt.model.Dependency',{extend:'Sch.model.Customizable',inheritableStatics:{Type:{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}},idProperty:'Id',customizableFields:[{name:'Id'},{name:'From'},{name:'To'},{name:'Type',type:'int',defaultValue:2},{name:'Lag',type:'int',defaultValue:0},{name:'Cls'}],fromField:'From',toField:'To',typeField:'Type',lagField:'Lag',clsField:'Cls',constructor:function(a){this.callParent(arguments);if(a){if(a.fromTask){if(a.fromTask instanceof Gnt.model.Task){this.setSourceTask(a.fromTask)}else {this.setSourceId(a.fromTask)}}if(a.toTask){if(a.toTask instanceof Gnt.model.Task){this.setTargetTask(a.toTask)}else {this.setTargetId(a.toTask)}}if(Ext.isDefined(a.type)){this.setType(a.type)}}},getTaskStore:function(){return this.stores[0].taskStore},getSourceTask:function(a){return this.getTaskStore().getById(this.getSourceId())},setSourceTask:function(a){this.setSourceId(a.getId()||a.internalId)},getTargetTask:function(){return this.getTaskStore().getById(this.getTargetId())},setTargetTask:function(a){this.setTargetId(a.getId()||a.internalId)},getSourceId:function(){return this.get(this.fromField)},setSourceId:function(a){this.set(this.fromField,a)},getTargetId:function(){return this.get(this.toField)},setTargetId:function(a){this.set(this.toField,a)},isPersistable:function(){var a=this.getSourceTask(),b=this.getTargetTask();return a&&!a.phantom&&b&&!b.phantom},isValid:function(b){var a=this.callParent(arguments);if(a&&this.stores[0]){a=this.stores[0].isValidDependency(this.getSourceId(),this.getTargetId(),!0)}return a}});Ext.define('Gnt.model.Resource',{extend:'Sch.model.Resource',customizableFields:['CalendarId'],calendarIdField:'CalendarId',getTaskStore:function(){return this.stores[0].getTaskStore()},getEventStore:function(){return this.getTaskStore()},getEvents:function(){return this.getTasks()},getTasks:function(){var a=[];this.forEachAssignment(function(c){var b=c.getTask();if(b){a.push(b)}});return a},getCalendar:function(a){return a?this.getOwnCalendar():this.getOwnCalendar()||this.getProjectCalendar()},getOwnCalendar:function(){var a=this.getCalendarId();return a?Gnt.data.Calendar.getCalendar(a):null},getProjectCalendar:function(){return this.stores[0].getTaskStore().getCalendar()},setCalendar:function(a){},getInternalId:function(){return this.getId()||this.internalId},assignTo:function(a,c){var b=a instanceof Gnt.model.Task?a:this.getTaskStore().getById(a);return b.assign(this,c)},unassignFrom:function(){return this.unAssignFrom.apply(this,arguments)},unAssignFrom:function(a){var b=a instanceof Gnt.model.Task?a:this.getTaskStore().getById(a);b.unAssign(this)},forEachAssignment:function(b,a){a=a||this;var c=this.getInternalId();this.getTaskStore().getAssignmentStore().each(function(d){if(d.getResourceId()==c){return b.call(a,d)}})},collectAvailabilityIntervalPoints:function(g,i,h,a,f){for(var d=0;d<g.length;d++){var e=g[d];var b=e.startDate-0;var c=e.endDate-0;if(!a[b]){a[b]=[];f.push(b)}a[b].push(i(b));if(!a[c]){a[c]=[];f.push(c)}a[c].push(h(c))}},forEachAvailabilityIntervalWithTasks:function(m,u,k){k=k||this;var b=m.startDate;var c=m.endDate;if(!b||!c){throw 'Both `startDate` and `endDate` are required for `forEachAvailabilityIntervalWithTasks`'}var f=new Date(b);var w=m.includeAllIntervals;var v=this.getCalendar();var n=[];var i=[];var l=[];this.forEachAssignment(function(d){var a=d.getTask();if(a.getStartDate()>c||a.getEndDate()<b){return}i.push(a);l.push(a.getCalendar());n.push(d)});if(!i.length){return}var t=Sch.util.Date;var e=[b-0,c-0];var g={};g[b-0]=[{type:'00-intervalStart'}];g[c-0]=[{type:'00-intervalEnd'}];var a;while(f<c){this.collectAvailabilityIntervalPoints(v.getAvailabilityIntervalsFor(f),function(){return {type:'00-resourceAvailabilityStart'}},function(){return {type:'01-resourceAvailabilityEnd'}},g,e);for(a=0;a<l.length;a++){this.collectAvailabilityIntervalPoints(l[a].getAvailabilityIntervalsFor(f),function(){return {type:'02-taskAvailabilityStart',assignment:n[a],taskId:i[a].getInternalId(),units:n[a].getUnits()}},function(){return {type:'03-taskAvailabilityEnd',taskId:i[a].getInternalId()}},g,e)}f=t.getStartOfNextDay(f)}e.sort();var r=!1;var s={};var o=0;for(a=0;a<e.length-1;a++){var q=g[e[a]];q.sort(function(b,a){return b.type<a.type});for(var p=0;p<q.length;p++){var d=q[p];if(d.type=='00-resourceAvailabilityStart'){r=!0}if(d.type=='01-resourceAvailabilityEnd'){r=!1}if(d.type=='02-taskAvailabilityStart'){s[d.taskId]=d;o++}if(d.type=='03-taskAvailabilityEnd'){delete s[d.taskId];o--}}if(w||r&&o){var j=e[a];var h=e[a+1];if(j>c||h<b){continue}if(j<b){j=b-0}if(h>c){h=c-0}if(u.call(k,j,h,s)===!1){return !1}}}},getAllocationInfo:function(b){var a=[];this.forEachAvailabilityIntervalWithTasks(b,function(h,g,c){var f=0;var d=[];for(var e in c){f+=c[e].units;d.push(c[e].assignment)}a.push({startDate:new Date(h),endDate:new Date(g),totalAllocation:f,assignments:d})});return a}});Ext.define('Gnt.model.task.More',{indent:function(){var a=this.previousSibling;if(a){this.isMove=!0;a.appendChild(this);delete this.isMove;a.set('leaf',!1);a.expand()}},outdent:function(){var a=this.parentNode;if(a&&!a.isRoot()){a.set('leaf',a.childNodes.length===1);this.isMove=!0;if(a.nextSibling){a.parentNode.insertBefore(this,a.nextSibling)}else {a.parentNode.appendChild(this)}delete this.isMove}},getAllDependencies:function(a){a=a||this.getDependencyStore();return a.getDependenciesForTask(this)},hasIncomingDependencies:function(a){var c=this.getId()||this.internalId;a=a||this.getDependencyStore();var b=a.findBy(function(b){return b.getTargetId()==c});return b>=0},getIncomingDependencies:function(a){a=a||this.getDependencyStore();return a.getIncomingDependenciesForTask(this)},getOutgoingDependencies:function(a){a=a||this.getDependencyStore();return a.getOutgoingDependenciesForTask(this)},constrain:function(a){if(this.isManuallyScheduled()){return !1}var e=!1;a=a||this.getTaskStore();var c=this.getConstrainContext(a);if(c){var b=c.startDate;var d=c.endDate;if(b&&b-this.getStartDate()!==0){this.setStartDate(b,!0,a.skipWeekendsDuringDragDrop);e=!0}else {if(d&&d-this.getEndDate()!==0){this.setEndDate(d,!0,a.skipWeekendsDuringDragDrop);e=!0}}}return e},getConstrainContext:function(g){var f=this.getIncomingDependencies();if(!f.length){return null}var h=g||this.getTaskStore(),d=Gnt.model.Dependency.Type,b=new Date(0),a=new Date(0),i=Ext.Date,e=this.getCalendar(),c;Ext.each(f,function(j){var i=j.getSourceTask();if(i){var k=j.getLag()||0,h=i.getStartDate(),f=i.getEndDate();switch(j.getType()){case d.StartToEnd:h=e.skipWorkingDays(h,k);if(a<h){a=h;c=i};break;case d.StartToStart:h=e.skipWorkingDays(h,k);if(b<h){b=h;c=i};break;case d.EndToStart:f=e.skipWorkingDays(f,k);if(b<f){b=f;c=i};break;case d.EndToEnd:f=e.skipWorkingDays(f,k);if(a<f){a=f;c=i};break;default:throw 'Invalid dependency type: '+j.getType();}}});return {startDate:b>0?b:null,endDate:a>0?a:null,constrainingTask:c}},getCriticalPaths:function(){var b=[this],a=this.getConstrainContext();while(a){b.push(a.constrainingTask);a=a.constrainingTask.getConstrainContext()}return b},cascadeChanges:function(a,b){a=a||this.getTaskStore();if(this.isLeaf()){if(this.constrain(a)){this.recalculateParents();b.nbrAffected++}}Ext.each(this.getOutgoingDependencies(),function(d){var c=d.getTargetTask();if(c&&!c.isManuallyScheduled()){c.cascadeChanges(a,b)}})},addSubtask:function(a){this.set('leaf',!1);this.appendChild(a);this.expand()},addSuccessor:function(a){var e=this.rec,c=this.getTaskStore(),b=this.getDependencyStore();a=a||new this.self();a.calendar=a.calendar||this.getCalendar();a.taskStore=c;a.setStartDate(this.getEndDate(),!0,c.skipWeekendsDuringDragDrop);a.setDuration(1,Sch.util.Date.DAY);this.addTaskBelow(a);var d=new b.model({fromTask:this,toTask:a,type:b.model.Type.EndToStart});b.add(d)},addMilestone:function(a){var c=this.getTaskStore();a=a||new this.self();var b=this.getEndDate();if(b){a.calendar=a.calendar||this.getCalendar();a.setStartEndDate(b,b,c.skipWeekendsDuringDragDrop)}this.addTaskBelow(a)},addPredecessor:function(a){var b=this.getDependencyStore();a=a||new this.self();a.calendar=a.calendar||this.getCalendar();a.beginEdit();a.set(this.startDateField,a.calculateStartDate(this.getStartDate(),1,Sch.util.Date.DAY));a.set(this.endDateField,this.getStartDate());a.set(this.durationField,1);a.set(this.durationUnitField,Sch.util.Date.DAY);a.endEdit();this.addTaskAbove(a);var c=new b.model({fromTask:a,toTask:this,type:b.model.Type.EndToStart});b.add(c)},getSuccessors:function(){var g=this.getId()||this.internalId;var a=a||this.getDependencyStore();var h=this.getTaskStore(),e=[];for(var b=0,f=a.getCount();b<f;b++){var d=a.getAt(b);if(d.getSourceId()==g){var c=d.getTargetTask();if(c){e.push(c)}}}return e},getPredecessors:function(){var f=this.getId()||this.internalId;var a=a||this.getDependencyStore();var g=this.getTaskStore(),d=[];for(var b=0,e=a.getCount();b<e;b++){var c=a.getAt(b);if(c.getTargetId()==f){d.push(c.getSourceTask())}}return d},addTaskAbove:function(a){a=a||new this.self();this.parentNode.insertBefore(a,this)},addTaskBelow:function(a){a=a||new this.self();if(this.nextSibling){this.parentNode.insertBefore(a,this.nextSibling)}else {this.parentNode.appendChild(a)}},isAbove:function(a){var b=this,c=Math.min(b.data.depth,a.data.depth);while(b.data.depth>c){b=b.parentNode}while(a.data.depth>c){a=a.parentNode}while(a.parentNode!==b.parentNode){a=a.parentNode;b=b.parentNode}return a.data.index>b.data.index}});Ext.define('Gnt.model.Task',{extend:'Sch.model.Range',requires:['Sch.util.Date','Ext.data.NodeInterface'],mixins:['Gnt.model.task.More'],idProperty:'Id',customizableFields:[{name:'Id'},{name:'Duration',type:'number',useNull:!0},{name:'Effort',type:'number',useNull:!0},{name:'EffortUnit',type:'string',defaultValue:'h'},{name:'CalendarId',type:'string'},{name:'DurationUnit',type:'string',defaultValue:'d',convert:function(a){return a||'d'}},{name:'PercentDone',type:'int',defaultValue:0},{name:'ManuallyScheduled',type:'boolean',defaultValue:!1},{name:'SchedulingMode',type:'string',defaultValue:'Normal'},{name:'BaselineStartDate',type:'date',dateFormat:'c'},{name:'BaselineEndDate',type:'date',dateFormat:'c'},{name:'BaselinePercentDone',type:'int',defaultValue:0},{name:'Draggable',type:'boolean',persist:!1,defaultValue:!0},{name:'Resizable',persist:!1},{name:'PhantomId',type:'string'},{name:'PhantomParentId',type:'string'}],draggableField:'Draggable',resizableField:'Resizable',nameField:'Name',durationField:'Duration',durationUnitField:'DurationUnit',effortField:'Effort',effortUnitField:'EffortUnit',percentDoneField:'PercentDone',manuallyScheduledField:'ManuallyScheduled',schedulingModeField:'SchedulingMode',calendarIdField:'CalendarId',baselineStartDateField:'BaselineStartDate',baselineEndDateField:'BaselineEndDate',baselinePercentDoneField:'BaselinePercentDone',calendar:null,dependencyStore:null,taskStore:null,phantomIdField:'PhantomId',phantomParentIdField:'PhantomParentId',normalized:!1,recognizedSchedulingModes:['Normal','Manual','FixedDuration','EffortDriven','DynamicAssignment'],constructor:function(){this.getModifiedFieldNames=function(){if(this.__isFilling__){return []}delete this.getModifiedFieldNames;return this.getModifiedFieldNames()};this.callParent(arguments)},normalize:function(){var d=this.getDuration(),e=this.getDurationUnit(),b=this.getStartDate(),a=this.getEndDate(),f=this.getSchedulingMode(),c=this.data;if(a&&this.inclusiveEndDate){var i=this.fields.getByKey(this.endDateField).dateFormat;var j=i&&!Ext.Date.formatContainsHourInfo(i)||a.getHours()===0&&a.getMinutes()===0&&a.getSeconds()===0&&a.getMilliseconds()===0;if(j){if(Ext.isNumber(d)){a=c[this.endDateField]=this.calculateEndDate(b,d,e)}else {a=c[this.endDateField]=Ext.Date.add(a,Ext.Date.DAY,1)}}}if(d==null&&b&&a){c[this.durationField]=this.calculateDuration(b,a,e)}if((f=='Normal'||this.isManuallyScheduled())&&a==null&&b&&Ext.isNumber(d)){c[this.endDateField]=this.calculateEndDate(b,d,e)}if(f=='EffortDriven'||f=='FixedDuration'){var g=this.get(this.effortField),h=this.getEffortUnit();if(g==null&&b&&a){c[this.effortField]=this.calculateEffort(b,a,h)}if(a==null&&b&&g){c[this.endDateField]=this.calculateEffortDrivenEndDate(b,g,h);if(d==null){c[this.durationField]=this.calculateDuration(b,c[this.endDateField],e)}}}this.normalized=!0},normalizeEffort:function(){var d=this.childNodes;var b=0;for(var a=0;a<d.length;a++){var c=d[a];if(!c.isLeaf()){c.normalizeEffort()}b+=c.getEffort('MILLI')}if(this.getEffort('MILLI')!=b){this.data[this.effortField]=this.getProjectCalendar().convertMSDurationToUnit(b,this.getEffortUnit())}},getInternalId:function(){return this.getId()||this.internalId},getCalendar:function(a){return a?this.getOwnCalendar():this.getOwnCalendar()||this.getProjectCalendar()},getOwnCalendar:function(){var a=this.get(this.calendarIdField);return a?Gnt.data.Calendar.getCalendar(a):this.calendar},getProjectCalendar:function(){var a=this.stores[0];var b=a&&a.getCalendar&&a.getCalendar()||this.parentNode&&this.parentNode.getProjectCalendar()||this.isRoot()&&this.calendar;if(!b){Ext.Error.raise("Can't find a project calendar in `getProjectCalendar`")}return b},setCalendar:function(a){this.calendar=a},getDependencyStore:function(){var a=this.dependencyStore||this.getTaskStore().dependencyStore;if(!a){Ext.Error.raise("Can't find a dependencyStore in `getDependencyStore`")}return a},getResourceStore:function(){return this.getTaskStore().getResourceStore()},getAssignmentStore:function(){return this.getTaskStore().getAssignmentStore()},getTaskStore:function(b){if(this.taskStore){return this.taskStore}var a=this.stores[0]&&this.stores[0].taskStore||this.parentNode&&this.parentNode.getTaskStore(b);if(!a&&!b){Ext.Error.raise("Can't find a taskStore in `getTaskStore`")}return this.taskStore=a},isManuallyScheduled:function(){return this.get(this.schedulingModeField)=='Manual'||this.get(this.manuallyScheduledField)},setManuallyScheduled:function(a){if(a){this.set(this.schedulingModeField,'Manual')}else {if(this.get(this.schedulingModeField)=='Manual'){this.set(this.schedulingModeField,'Normal')}}return this.set(this.manuallyScheduledField,a)},setSchedulingMode:function(a){if(Ext.Array.indexOf(this.recognizedSchedulingModes,a)==-1){throw 'Unrecognized scheduling mode: '+a}this.beginEdit();this.set(this.schedulingModeField,a);if(a==='FixedDuration'){this.updateEffortBasedOnDuration()}if(a==='EffortDriven'){this.updateDurationBasedOnEffort()}this.endEdit()},skipNonWorkingTime:function(a,b){var c=!1;this.forEachAvailabilityIntervalWithResources(b?{startDate:a}:{endDate:a,isForward:!1},function(e,d,f){a=b?e:d;c=!0;return !1});return c?new Date(a):this.getCalendar().skipNonWorkingTime(a,b)},setStartDate:function(a,f,e){this.beginEdit();var d=this.getCalendar();if(e&&!this.isManuallyScheduled()){if(!this.isMilestone()||d.isHoliday(a-1)){a=this.skipNonWorkingTime(a,!0)}}var c=this.getSchedulingMode();this.set(this.startDateField,a);if(f!==!1){if(c=='EffortDriven'){this.set(this.endDateField,this.calculateEffortDrivenEndDate(a,this.getEffort()))}else {var b=this.getDuration();if(Ext.isNumber(b)){this.set(this.endDateField,this.calculateEndDate(a,b,this.getDurationUnit()))}}}else {if(this.getEndDate()){this.set(this.durationField,this.calculateDuration(a,this.getEndDate(),this.getDurationUnit()))}}this.onPotentialEffortChange();this.endEdit()},setEndDate:function(a,d,c){this.beginEdit();var e=this.getCalendar();if(c&&!this.isManuallyScheduled()){a=this.skipNonWorkingTime(a,!1)}if(d!==!1){var b=this.getDuration();if(Ext.isNumber(b)){this.set(this.startDateField,this.calculateStartDate(a,b,this.getDurationUnit()));this.set(this.endDateField,a)}else {this.set(this.endDateField,a)}}else {this.set(this.endDateField,a);if(this.getStartDate()){this.set(this.durationField,this.calculateDuration(this.getStartDate(),a,this.getDurationUnit()))}}this.onPotentialEffortChange();this.endEdit()},setStartEndDate:function(a,b,c){this.beginEdit();if(c&&!this.isManuallyScheduled()){a=a&&this.skipNonWorkingTime(a,!0);b=b&&this.skipNonWorkingTime(b,!1)}this.set(this.startDateField,a);this.set(this.endDateField,b);this.set(this.durationField,this.calculateDuration(a,b,this.getDurationUnit()));this.onPotentialEffortChange();this.endEdit()},getDuration:function(a){if(!a){return this.get(this.durationField)}var b=this.getProjectCalendar(),c=b.convertDurationToMs(this.get(this.durationField),this.get(this.durationUnitField));return b.convertMSDurationToUnit(c,a)},getEffort:function(a){var b=this.get(this.effortField)||0;if(!a){return b}var c=this.getProjectCalendar(),d=c.convertDurationToMs(b,this.get(this.effortUnitField));return c.convertMSDurationToUnit(d,a)},setEffort:function(b,a){a=a||this.get(this.effortUnitField);this.beginEdit();this.set(this.effortField,b);this.set(this.effortUnitField,a);if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}this.endEdit()},getCalendarDuration:function(a){return this.getProjectCalendar().convertMSDurationToUnit(this.getEndDate()-this.getStartDate(),a||this.get(this.durationUnitField))},setDuration:function(b,a){a=a||this.get(this.durationUnitField);this.beginEdit();this.set(this.endDateField,this.calculateEndDate(this.getStartDate(),b,a));this.set(this.durationField,b);this.set(this.durationUnitField,a);this.onPotentialEffortChange();this.endEdit()},calculateStartDate:function(e,d,a){a=a||this.getDurationUnit();if(this.isManuallyScheduled()){return Sch.util.Date.add(b,a,-d)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var c=this.getProjectCalendar().convertDurationToMs(d,a||this.getDurationUnit());var b;this.forEachAvailabilityIntervalWithResources({endDate:e,isForward:!1},function(h,g,i){var f=g-h;if(f>=c){b=new Date(g-c);return !1}else {c-=f}});return b}else {return this.getCalendar().calculateStartDate(e,d,a)}}},calculateEndDate:function(b,d,a){a=a||this.getDurationUnit();if(this.isManuallyScheduled()){return Sch.util.Date.add(b,a,d)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var c=this.getProjectCalendar().convertDurationToMs(d,a||this.getDurationUnit());var e;this.forEachAvailabilityIntervalWithResources({startDate:b},function(g,h,i){var f=h-g;if(f>=c){e=new Date(g+c);return !1}else {c-=f}});return e}else {return this.getCalendar().calculateEndDate(b,d,a)}}},calculateDuration:function(b,c,a){a=a||this.getDurationUnit();if(!b||!c){return 0}if(this.isManuallyScheduled()){return this.getProjectCalendar().convertMSDurationToUnit(c-b,a)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var d=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:c},function(f,e,g){d+=e-f});return this.getProjectCalendar().convertMSDurationToUnit(d,a)}else {return this.getCalendar().calculateDuration(b,c,a)}}},forEachAvailabilityIntervalWithResources:function(p,A,u){u=u||this;var C=this;var h=p.startDate;var i=p.endDate;var m=p.isForward!==!1;if(m?!h:!i){throw new Error('At least `startDate` or `endDate` is required, depending from the `isForward` option')}var l=new Date(m?h:i);var w=p.includeEmptyIntervals;var x=this.getOwnCalendar();var v=Boolean(x);var E=this.getProjectCalendar();var n,s,j;if(p.resources){n=p.resources;j=[];s=[];Ext.each(n,function(a){s.push(a.getCalendar());j.push(C.getAssignmentFor(a))})}else {j=this.getAssignments();if(!j.length){return}n=[];s=[];Ext.each(j,function(b){var a=b.getResource();n.push(a);s.push(a.getCalendar())})}var z=Sch.util.Date;var a,e,o,b,c;var D=m?!i:!h;while(D||(m?l<i:l>h)){var f={};var g=[];if(v){var B=x.getAvailabilityIntervalsFor(l-(m?0:1));for(e=0;e<B.length;e++){o=B[e];b=o.startDate-0;c=o.endDate-0;if(!f[b]){f[b]=[];g.push(b)}f[b].push({type:'00-taskAvailailabilityStart',typeBackward:'01-taskAvailailabilityStart'});g.push(c);f[c]=f[c]||[];f[c].push({type:'01-taskAvailailabilityEnd',typeBackward:'00-taskAvailailabilityEnd'})}}for(a=0;a<s.length;a++){var y=s[a].getAvailabilityIntervalsFor(l);for(e=0;e<y.length;e++){o=y[e];b=o.startDate-0;c=o.endDate-0;if(!f[b]){f[b]=[];g.push(b)}f[b].push({type:'02-resourceAvailailabilityStart',typeBackward:'03-resourceAvailailabilityStart',assignment:j[a],resourceId:n[a].getInternalId(),units:j[a].getUnits()});if(!f[c]){f[c]=[];g.push(c)}f[c].push({type:'03-resourceAvailailabilityEnd',typeBackward:'02-resourceAvailailabilityEnd',assignment:j[a],resourceId:n[a].getInternalId(),units:j[a].getUnits()})}}g.sort();var t=!1;var r={};var q=0;var k,d;if(m){for(a=0;a<g.length;a++){k=f[g[a]];k.sort(function(b,a){return b.type<a.type});for(e=0;e<k.length;e++){d=k[e];if(d.type=='00-taskAvailailabilityStart'){t=!0}if(d.type=='01-taskAvailailabilityEnd'){t=!1}if(d.type=='02-resourceAvailailabilityStart'){r[d.resourceId]=d;q++}if(d.type=='03-resourceAvailailabilityEnd'){delete r[d.resourceId];q--}}if((t||!v)&&(q||w)){b=g[a];c=g[a+1];if(b>=i||c<=h){continue}if(b<h){b=h-0}if(c>i){c=i-0}if(A.call(u,b,c,r)===!1){return !1}}}}else {for(a=g.length-1;a>=0;a--){k=f[g[a]];k.sort(function(b,a){return b.typeBackward<a.typeBackward});for(e=0;e<k.length;e++){d=k[e];if(d.typeBackward=='00-taskAvailailabilityEnd'){t=!0}if(d.typeBackward=='01-taskAvailailabilityStart'){t=!1}if(d.typeBackward=='02-resourceAvailailabilityEnd'){r[d.resourceId]=d;q++}if(d.typeBackward=='03-resourceAvailailabilityStart'){delete r[d.resourceId];q--}}if((t||!v)&&(q||w)){b=g[a-1];c=g[a];if(b>i||c<=h){continue}if(b<h){b=h-0}if(c>i){c=i-0}if(A.call(u,b,c,r)===!1){return !1}}}}l=m?z.getStartOfNextDay(l):z.getEndOfPreviousDay(l)}},calculateEffortDrivenEndDate:function(b,e,d){var a=this.getProjectCalendar().convertDurationToMs(e,d||this.getEffortUnit());var c=new Date(b);this.forEachAvailabilityIntervalWithResources({startDate:b},function(i,l,h){var j=0;for(var k in h){j+=h[k].units}var g=l-i;var f=j*g/100;if(f>=a){c=new Date(i+a/f*g);return !1}else {a-=f}});return c},recalculateParents:function(){var c=new Date(9999,0,0),b=new Date(0),a=this.parentNode;if(a&&a.childNodes.length>0){var f=0;for(var g=0,k=a.childNodes.length;g<k;g++){f+=a.childNodes[g].getEffort('MILLI')}if(a.getEffort('MILLI')!=f){a.setEffort(this.getProjectCalendar().convertMSDurationToUnit(f,a.getEffortUnit()))}}var e,d;if(a&&!a.isRoot()&&a.childNodes.length>0){if(!a.isManuallyScheduled()){for(var h=0,j=a.childNodes.length;h<j;h++){var i=a.childNodes[h];c=Sch.util.Date.min(c,i.getStartDate()||c);b=Sch.util.Date.max(b,i.getEndDate()||b)}e=c-new Date(9999,0,0)!==0&&a.getStartDate()-c!==0;d=b-new Date(0)!==0&&a.getEndDate()-b!==0;if(e&&d){a.setStartEndDate(c,b,!1)}else {if(e){a.setStartDate(c,d,!1)}else {if(d){a.setEndDate(b,!1,!1)}}}}if(!e&&!d){a.recalculateParents()}}},isMilestone:function(){return this.getDuration()===0},isBaselineMilestone:function(){var b=this.getBaselineStartDate(),a=this.getBaselineEndDate();if(b&&a){return a-b===0}return !1},afterEdit:function(b){if(this.stores.length>0||!this.normalized){this.callParent(arguments)}else {var a=this.taskStore||this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterEdit(this,b)}this.callParent(arguments)}},afterCommit:function(){this.callParent(arguments);if(this.stores.length>0||!this.normalized){return}var a=this.taskStore||this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterCommit(this)}},afterReject:function(){if(this.stores.length>0){this.callParent(arguments)}else {var a=this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterReject(this)}this.callParent(arguments)}},getDurationUnit:function(){return this.get(this.durationUnitField)||'d'},getEffortUnit:function(){return this.get(this.effortUnitField)||'d'},getBaselinePercentDone:function(){return this.get(this.baselinePercentDoneField)||0},isPersistable:function(){var a=this.parentNode;return !a.phantom},getResources:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=[];if(b){b.each(function(b){if(b.getTaskId()==c){a.push(b.getResource())}})}return a},getAssignments:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=[];if(b){b.each(function(b){if(b.getTaskId()==c){a.push(b)}})}return a},hasAssignments:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=!1;if(b){b.each(function(b){if(b.getTaskId()==c){a=!0;return !1}})}return a},getAssignmentFor:function(a){var c=this.getAssignmentStore(),e=this.getInternalId(),d=a instanceof Gnt.model.Resource?a.getInternalId():a;var b;if(c){c.each(function(c){if(c.getTaskId()==e&&c.getResourceId()==d){b=c;return !1}})}return b||null},unassign:function(){return this.unAssign.apply(this,arguments)},unAssign:function(a){var b=this.getAssignmentStore();var c=a instanceof Gnt.model.Resource?a.getInternalId():a;b.removeAt(b.find('ResourceId',c))},assign:function(a,h){var b=this.getTaskStore(),g=this.getInternalId(),e=b.getAssignmentStore(),d=b.getResourceStore();var f=a instanceof Gnt.model.Resource?a.getInternalId():a;e.each(function(b){if(b.getTaskId()==g&&b.getResourceId()==f){throw "Resource can't be assigned twice to the same task"}});if(a instanceof Gnt.model.Resource&&d.indexOf(a)==-1){d.add(a)}var c=new Gnt.model.Assignment({TaskId:g,ResourceId:f,Units:h});e.add(c);return c},calculateEffort:function(b,d,c){var a=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:d},function(i,h,e){var f=0;for(var g in e){f+=e[g].units}a+=(h-i)*f/100});return this.getProjectCalendar().convertMSDurationToUnit(a,c||this.getEffortUnit())},updateAssignments:function(){var e={};var b=this.getStartDate();var c=this.getEndDate();var a=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:c},function(d,c,b){for(var e in b){a+=c-d}});if(!a){return}var d=this.getEffort(Sch.util.Date.MILLI);Ext.Array.each(this.getAssignments(),function(b){b.setUnits(d/a*100)})},updateEffortBasedOnDuration:function(){this.setEffort(this.calculateEffort(this.getStartDate(),this.getEndDate()))},updateDurationBasedOnEffort:function(){this.setEndDate(this.calculateEffortDrivenEndDate(this.getStartDate(),this.getEffort(),this.getEffortUnit()),!1)},onPotentialEffortChange:function(){if(this.getSchedulingMode()==='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}},onAssignmentMutation:function(){if(this.getSchedulingMode()==='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}},onAssignmentStructureMutation:function(){if(this.getSchedulingMode()=='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}},adjustToCalendar:function(){if(this.get('leaf')&&!this.isManuallyScheduled()){var a=this.hasIncomingDependencies();if(a){this.constrain()}else {this.setStartDate(this.getStartDate(),!0,!0)}}},isEditable:function(a){if((a===this.durationField||a===this.endDateField)&&this.getSchedulingMode()==='EffortDriven'){return !1}if(a===this.effortField&&this.getSchedulingMode()==='FixedDuration'){return !1}return !0},isDraggable:function(){return this.getDraggable()},isResizable:function(){return this.getResizable()},ensureSingleSyncForMethod:function(){return function(){var a=this.getTaskStore(!0);var b;if(a&&a.autoSync&&!a.autoSyncSuspended){b=!0;a.suspendAutoSync()}var c=this.callParent(arguments);if(b){a.resumeAutoSync();a.sync()}return c}},getId:function(){var a=this.data[this.idProperty];return a&&a!=='root'?a:null}},function(){Ext.data.NodeInterface.decorate(this);var a=['addPredecessor','addSubtask','addSuccessor','indent','outdent','remove','insertBefore','appendChild'];this.override({remove:function(){var a=this.parentNode;var b=this.callParent(arguments);if(a.childNodes.length===0&&this.getTaskStore().recalculateParents){a.set('leaf',!0)}return b},insertBefore:function(a){if(this.phantom){this.data[this.phantomIdField]=a.data[this.phantomParentIdField]=this.internalId}return this.callParent(arguments)},appendChild:function(a){if(this.phantom){this.data[this.phantomIdField]=a.data[this.phantomParentIdField]=this.internalId}return this.callParent(arguments)}});Ext.each(a,function(b){var a={};a[b]=this.prototype.ensureSingleSyncForMethod(this.prototype[b]);this.override(a)},this)});Ext.define('Gnt.data.Calendar',{extend:'Ext.data.Store',requires:['Ext.Date','Gnt.model.CalendarDay','Sch.model.Range','Sch.util.Date'],model:'Gnt.model.CalendarDay',daysPerMonth:30,daysPerWeek:7,hoursPerDay:24,unitsInMs:null,defaultNonWorkingTimeCssCls:'gnt-holiday',weekendsAreWorkdays:!1,weekendFirstDay:6,weekendSecondDay:0,holidaysCache:null,availabilityIntervalsCache:null,weekAvailability:null,defaultWeekAvailability:null,nonStandardWeeksByStartDate:null,nonStandardWeeksStartDates:null,calendarId:null,parent:null,defaultAvailability:['00:00-24:00'],name:null,statics:{getCalendar:function(a){if(a instanceof Gnt.data.Calendar){return a}return Ext.data.StoreManager.lookup('GNT_CALENDAR:'+a)},getAllCalendars:function(){var a=[];Ext.data.StoreManager.each(function(b){if(b instanceof Gnt.data.Calendar){a.push(b)}});return a}},constructor:function(a){a=a||{};if(a.calendarId){this.storeId='GNT_CALENDAR:'+a.calendarId}this.callParent(arguments);var c=this;var b=this.parent=Gnt.data.Calendar.getCalendar(a.parent);if(a.parent&&!this.parent){throw new Error('Invalid parent specified for calendar')}this.unitsInMs={MILLI:1,SECOND:1000,MINUTE:60*1000,HOUR:60*60*1000,DAY:this.hoursPerDay*60*60*1000,WEEK:this.daysPerWeek*this.hoursPerDay*60*60*1000,MONTH:this.daysPerMonth*this.hoursPerDay*60*60*1000,QUARTER:3*this.daysPerMonth*24*60*60*1000,YEAR:4*3*this.daysPerMonth*24*60*60*1000};this.defaultWeekAvailability=this.getDefaultWeekAvailability(this.weekendsAreWorkdays);Ext.Array.each(a.weekAvailability||[],function(b,d){if(b){b.setDate(new Date(0,0,d));b.set(b.idProperty,'WEEKDAY:'+d)}c.add(b)});this.holidaysCache={};this.availabilityIntervalsCache={};this.on({clear:this.clearCache,datachanged:this.clearCache,update:this.clearCache,load:this.updateAvailability,scope:this});b&&b.on('clearcache',this.clearCache,this);this.updateAvailability()},getDefaultWeekAvailability:function(f){var e=this.defaultAvailability;var d=this.weekendFirstDay;var c=this.weekendSecondDay;var b=[];for(var a=0;a<7;a++){b.push(f||a!=d&&a!=c?new Gnt.model.CalendarDay({Availability:Ext.Array.clone(e),IsWorkingDay:!0}):new Gnt.model.CalendarDay({Availability:[]}))}return b},updateAvailability:function(){var c=this.weekAvailability=[];var b=this.nonStandardWeeksStartDates=[];var a=this.nonStandardWeeksByStartDate={};this.each(function(g){var h=g.getId();var d=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(h);var e;if(d){var f=Ext.Date.parse(d[2],'Y/m/d')-0;var i=Ext.Date.parse(d[3],'Y/m/d')-0;e=d[1];if(!a[f]){a[f]={startDate:new Date(f),endDate:new Date(i),name:g.getName(),weekAvailability:[]};b.push(f)}a[f].weekAvailability[e]=g}d=/^WEEKDAY:(\d+)$/.exec(h);if(d){e=d[1];if(e<0||e>6){throw new Error('Incorrect week day index')}c[e]=g}});b.sort()},intersectsWithCurrentWeeks:function(b,d){var e=this.nonStandardWeeksStartDates;var c=this.nonStandardWeeksByStartDate;var a=!1;Ext.Array.each(e,function(g){var e=c[g].startDate;var f=c[g].endDate;if(e<=b&&b<f||e<d&&d<=f){a=!0;return !1}});return a},addNonStandardWeek:function(a,b,c){a=Ext.Date.clearTime(new Date(a));b=Ext.Date.clearTime(new Date(b));if(this.intersectsWithCurrentWeeks(a,b)){throw new Error('Can not add intersecting week')}Ext.Array.each(c,function(d,e){if(d){d.set(d.idProperty,e+'-'+Ext.Date.format(a,'Y/m/d')+'-'+Ext.Date.format(b,'Y/m/d'))}});a=a-0;b=b-0;this.nonStandardWeeksStartDates.push(a);this.nonStandardWeeksStartDates.sort();this.nonStandardWeeksByStartDate[a]={startDate:new Date(a),endDate:new Date(b),weekAvailability:c};this.add(Ext.Array.clean(c))},getNonStandardWeekByStartDate:function(a){return this.nonStandardWeeksByStartDate[Ext.Date.clearTime(new Date(a))-0]},getNonStandardWeekByDate:function(a){a=Ext.Date.clearTime(new Date(a))-0;var d=this.nonStandardWeeksStartDates;var e=this.nonStandardWeeksByStartDate;for(var c=0;c<d.length;c++){var b=e[d[c]];if(b.startDate<=a&&a<=b.endDate){return b}}return null},removeNonStandardWeek:function(a){a=Ext.Date.clearTime(new Date(a))-0;var b=this.getNonStandardWeekByStartDate(a);if(!b){return}this.remove(Ext.Array.clean(b.weekAvailability));delete this.nonStandardWeeksByStartDate[a];Ext.Array.remove(this.nonStandardWeeksStartDates,a)},clearCache:function(){this.holidaysCache={};this.availabilityIntervalsCache={};this.fireEvent('clearcache',this)},setWeekendsAreWorkDays:function(a){if(a!==this.weekendsAreWorkdays){this.weekendsAreWorkdays=a;this.clearCache();this.defaultWeekAvailability=this.getDefaultWeekAvailability(this.weekendsAreWorkdays)}},areWeekendsWorkDays:function(){return this.weekendsAreWorkdays},getCalendarDay:function(a){a=typeof a=='number'?new Date(a):a;var b=this.getOverrideDay(a);if(b){return b}return this.getDefaultCalendarDay(a.getDay(),a)},getOverrideDay:function(a){var b=this.getOwnCalendarDay(a);if(b){return b}if(this.parent){return this.parent.getOverrideDay(a)}return null},getOwnCalendarDay:function(a){a=typeof a=='number'?new Date(a):a;return this.getById(Ext.Date.clearTime(a,!0)-0)},getDefaultCalendarDay:function(a,c){if(c){var b=this.getNonStandardWeekByDate(c);if(b&&b.weekAvailability[a]){return b.weekAvailability[a]}}if(this.weekAvailability[a]){return this.weekAvailability[a]}if(this.parent){return this.parent.getDefaultCalendarDay(a)}return this.defaultWeekAvailability[a]},isHoliday:function(a){var b=a-0;var c=this.holidaysCache;if(c[b]!=null){return c[b]}a=typeof a=='number'?new Date(a):a;var d=this.getCalendarDay(a);if(!d){throw "Can't find day for "+a}return c[b]=!d.getIsWorkingDay()},isWeekend:function(b){var a=b.getDay();return a===this.weekendFirstDay||a===this.weekendSecondDay},isWorkingDay:function(a){return !this.isHoliday(a)},convertMSDurationToUnit:function(a,b){return a/this.unitsInMs[Sch.util.Date.getNameOfUnit(b)]},convertDurationToMs:function(b,a){return b*this.unitsInMs[Sch.util.Date.getNameOfUnit(a)]},getHolidaysRanges:function(d,e,j){if(d>e){Ext.Error.raise("startDate can't be bigger than endDate")}d=Ext.Date.clearTime(d,!0);e=Ext.Date.clearTime(e,!0);var c=[],a,b;for(b=d;b<e;b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)){if(this.isHoliday(b)||this.weekendsAreWorkdays&&j&&this.isWeekend(b)){var i=this.getCalendarDay(b);var g=i&&i.getCls()||this.defaultNonWorkingTimeCssCls;var f=Sch.util.Date.add(b,Sch.util.Date.DAY,1);if(!a){a={StartDate:b,EndDate:f,Cls:g}}else {if(a.Cls==g){a.EndDate=f}else {c.push(a);a={StartDate:b,EndDate:f,Cls:g}}}}else {if(a){c.push(a);a=null}}}if(a){c.push(a)}var h=[];Ext.each(c,function(a){h.push(Ext.create('Sch.model.Range',{StartDate:a.StartDate,EndDate:a.EndDate,Cls:a.Cls}))});return h},forEachAvailabilityInterval:function(j,n,i){i=i||this;var q=this;var b=j.startDate;var c=j.endDate;var a=j.isForward!==!1;if(a?!b:!c){throw new Error('At least `startDate` or `endDate` is required, depending from the `isForward` option')}var d=new Date(a?b:c);var p=a?!c:!b;var l=Sch.util.Date;while(p||(a?d<c:d>b)){var f=this.getAvailabilityIntervalsFor(d-(a?0:1));for(var e=a?0:f.length-1;a?e<f.length:e>=0;a?e++:e--){var k=f[e];var g=k.startDate;var h=k.endDate;if(g>=c||h<=b){continue}var m=g<b?b:g;var o=h>c?c:h;if(n.call(i,m,o)===!1){return !1}}d=a?l.getStartOfNextDay(d):l.getEndOfPreviousDay(d)}},calculateDuration:function(b,d,c){var a=0;this.forEachAvailabilityInterval({startDate:b,endDate:d},function(f,e){a+=e-f});return this.convertMSDurationToUnit(a,c)},calculateEndDate:function(b,a,d){if(!a){return new Date(b)}var f=Sch.util.Date,c;a=this.convertDurationToMs(a,d);var e=a===0&&Ext.Date.clearTime(b,!0)-b===0?f.add(b,Sch.util.Date.DAY,-1):b;this.forEachAvailabilityInterval({startDate:e},function(e,f){var g=f-e;var h=e.getTimezoneOffset()-f.getTimezoneOffset();if(g>=a){c=new Date(e-0+a);return !1}else {a-=g+h*60*1000}});return c},calculateStartDate:function(c,a,d){if(!a){return new Date(c)}var b;a=this.convertDurationToMs(a,d);this.forEachAvailabilityInterval({endDate:c,isForward:!1},function(g,e){var f=e-g;if(f>=a){b=new Date(e-a);return !1}else {a-=f}});return b},skipNonWorkingTime:function(a,b){this.forEachAvailabilityInterval(b?{startDate:a}:{endDate:a,isForward:!1},function(d,c){a=b?d:c;return !1});return new Date(a)},skipWorkingDays:function(f,b){var d=0,c=b>0,e=Sch.util.Date,a=Ext.Date.clone(f);b=Math.abs(b);while(d<b){if(!this.isHoliday(a-(c?0:1))){d++;if(c){a=e.getStartOfNextDay(a,!0)}else {a=e.getEndOfPreviousDay(a)}}if(c||d<b){a=this.skipNonWorkingTime(a,c)}}e.copyTimeValues(a,f);return a},getAvailabilityIntervalsFor:function(a){a=Ext.Date.clearTime(new Date(a))-0;if(this.availabilityIntervalsCache[a]){return this.availabilityIntervalsCache[a]}return this.availabilityIntervalsCache[a]=this.getCalendarDay(a).getAvailabilityIntervalsFor(a)},getParentableCalendars:function(){var c=this,a=[],d=Gnt.data.Calendar.getAllCalendars();var b=function(a){if(!a.parent){return !1}if(a.parent==c){return !0}return b(a.parent)};Ext.Array.each(d,function(d){if(d===c){return}if(!b(d)){a.push({Id:d.calendarId,Name:d.name||d.calendarId})}});return a}});Ext.define('Gnt.data.calendar.BusinessTime',{extend:'Gnt.data.Calendar',daysPerMonth:20,daysPerWeek:5,hoursPerDay:8,defaultAvailability:['08:00-12:00','13:00-17:00']});Ext.define('Gnt.data.TaskStore',{extend:'Ext.data.TreeStore',requires:['Sch.patches.TreeStore','Gnt.model.Task','Gnt.data.Calendar'],model:'Gnt.model.Task',calendar:null,dependencyStore:null,resourceStore:null,assignmentStore:null,weekendsAreWorkdays:!1,buffered:!1,pageSize:null,cascadeChanges:!1,batchSync:!0,recalculateParents:!0,skipWeekendsDuringDragDrop:!0,cascadeDelay:0,cascading:!1,isFillingRoot:!1,constructor:function(a){this.addEvents('root-fill-start','root-fill-end','filter','clearfilter','beforecascade','cascade');a=a||{};if(!a.calendar){var b={};if(a.hasOwnProperty('weekendsAreWorkdays')){b.weekendsAreWorkdays=a.weekendsAreWorkdays}else {if(this.self.prototype.hasOwnProperty('weekendsAreWorkdays')&&this.self!=Gnt.data.TaskStore){b.weekendsAreWorkdays=this.weekendsAreWorkdays}}a.calendar=new Gnt.data.Calendar(b)}this.hasListeners={};this.on({'root-fill-end':this.onRootFillEnd,remove:this.onTaskDeleted,beforesync:this.onTaskStoreBeforeSync,write:this.onTaskStoreWrite,scope:this});var c=a.dependencyStore;if(c){delete a.dependencyStore;this.setDependencyStore(c)}var d=a.resourceStore;if(d){delete a.resourceStore;this.setResourceStore(d)}var f=a.assignmentStore;if(f){delete a.assignmentStore;this.setAssignmentStore(f)}var e=a.calendar;if(e){delete a.calendar;this.setCalendar(e)}this.callParent([a]);if(Ext.data.reader.Xml&&this.getProxy().getReader() instanceof Ext.data.reader.Xml){Ext.override(this.getProxy().getReader(),{extractData:function(b){var c=this.record;if(c!=b.nodeName){b=Ext.DomQuery.select('>'+c,b)}else {b=[b]}return Ext.data.reader.Xml.superclass.extractData.apply(this,[b])}})}if(this.autoSync&&this.batchSync){this.sync=Ext.Function.createBuffered(this.sync,500)}},loadData:function(d,u){var a=this,i=a.getRootNode(),w=u?u.addRecords:!1;if(!d.length){return}else {if(!i){i=a.setRootNode()}a.suspendAutoSync();a.suspendEvents();if(!w){i.removeAll()}var x=d.length,p=a.model,g=[],m=typeof d[0].get==='function',l,c,s,k,e,o,t,h,q;for(var b=0;b<x;b++){c=a.getById(d[b].getId?d[b].getId():d[b].Id);l=0;if(c){k=m?d[b].get('parentId'):d[b].parentId;e=c.get('parentId');o=m?d[b].get('index'):d[b].index;t=c.get('index');if(m){c.set(d[b].data)}else {c.set(d[b])}if((k||k===null?k!==e:!1)||(o?o!==t:!1)){h=k===null?i:a.getById(k);q=e===null?i:a.getById(e)}else {l=1}}else {c=m?new p(d[b].data):new p(d[b]);e=c.get('parentId');if(e){h=a.getById(e)}else {if(e===null){h=i}}}if(h&&!l){a.moveChildren(c,h,q)}else {if(typeof h==='undefined'&&!l){s={node:c,index:c.get('index')||0,parentId:c.get('parentId')};g.push(s)}}}var j=0,r=g.length,f,n;while(g.length){if(j>g.length-1){j=0}f=g[j];n=f.parentId===null?i:a.getById(f.parentId);if(n){var v=a.nodeIsChild(f.node,h);if(v){n.insertChild(f.index,f.node);a.fixNodeDates(f.node);g.splice(j,1)}}j+=1;if(j===r-1&&g.length===r){throw 'Invalid data, possible infinite loop.'}}if(a.nodesToExpand){b=0;for(var y=a.nodesToExpand.length;b<y;b+=1){c=a.nodesToExpand[b];if(c.childNodes.length){c.expand()}}delete a.nodesToExpand}this.fireEvent('datachanged');this.fireEvent('refresh');a.resumeAutoSync();a.resumeEvents();if(a.autoSync){a.sync()}}},fixNodeDates:function(a){var c=a.calculateDuration(a.getStartDate(),a.getEndDate(),a.getDurationUnit()),b;a.set({Duration:c});if(a.childNodes.length){b=a.getChildAt(0);b.recalculateParents()}else {a.recalculateParents()}},nodeIsChild:function(b,c){var d=c.getId(),a=!0;if(b.childNodes.length){b.cascadeBy(function(e){if(e.getId()===d){a=!1;return !1}})}return a},moveChildren:function(a,d,e){if(a.get('expanded')){if(!this.nodesToExpand){this.nodesToExpand=[]}this.nodesToExpand.push(a);a.set('expanded',!1)}var b,f=this.nodeIsChild(a,d),c=e||this.getById(a.get('parentId'));if(f){if(a.childNodes.length){b=a.copy(null,!0);a.removeAll()}if(c&&c.getId()!==d.getId()){c.removeChild(a)}d.insertChild(a.get('index')||0,a);if(b){b.cascadeBy(function(f){if(f!==b){var c=f.copy(null);a.insertChild(c.get('index')||0,c)}})}this.fixNodeDates(a)}},onNodeAdded:function(g,a){if(!a.normalized&&!a.isRoot()){a.normalize()}if(Ext.isIE){var b=this,f=b.getProxy(),c=f.getReader(),d=a.raw||a[a.persistenceProperty],e;Ext.Array.remove(b.removed,a);if(!a.isLeaf()){e=c.getRoot(d);if(e){b.fillNode(a,c.extractData(e));if(d[c.root]){delete d[c.root]}}}if(b.autoSync&&!b.autoSyncSuspended&&(a.phantom||a.dirty)){b.sync()}}else {this.callParent(arguments)}},setRootNode:function(){var a=this;this.tree.setRootNode=Ext.Function.createInterceptor(this.tree.setRootNode,function(b){Ext.apply(b,{calendar:a.calendar,taskStore:a,dependencyStore:a.dependencyStore,phantom:!1,dirty:!1})});var b=this.callParent(arguments);delete this.tree.setRootNode;return b},fillNode:function(c,a){this.isFillingNode=!0;if(c.isRoot()){this.isFillingRoot=!0;this.un({remove:this.onNodeUpdated,append:this.onNodeUpdated,insert:this.onNodeUpdated,update:this.onTaskUpdated,scope:this});this.fireEvent('root-fill-start',this,c,a)}var d=this,g=a?a.length:0,b=0,f;if(g&&d.sortOnLoad&&!d.remoteSort&&d.sorters&&d.sorters.items){f=Ext.create('Ext.util.MixedCollection');f.addAll(a);f.sort(d.sorters.items);a=f.items}c.set('loaded',!0);if(this.buffered){for(;b<g;b++){var e=a[b];e.__isFilling__=!0;c.appendChild(e,!0,!0);this.onNodeAdded(null,e);this.tree.registerNode(e)}}else {for(;b<g;b++){a[b].__isFilling__=!0;c.appendChild(a[b],!1,!0)}}if(c.isRoot()){this.getRootNode().cascadeBy(function(b){delete b.__isFilling__});this.isFillingRoot=!1;this.on({remove:this.onNodeUpdated,append:this.onNodeUpdated,insert:this.onNodeUpdated,update:this.onTaskUpdated,scope:this});this.fireEvent('root-fill-end',this,c,a)}delete this.isFillingNode;return a},onRootFillEnd:function(b,a){a.normalizeEffort()},getById:function(a){return this.tree.getNodeById(a)},setDependencyStore:function(a){if(this.dependencyStore){this.dependencyStore.un({add:this.onDependencyAddOrUpdate,update:this.onDependencyAddOrUpdate,beforesync:this.onBeforeDependencySync,scope:this})}this.dependencyStore=Ext.StoreMgr.lookup(a);if(a){a.taskStore=this;a.on({add:this.onDependencyAddOrUpdate,update:this.onDependencyAddOrUpdate,scope:this})}},setResourceStore:function(a){this.resourceStore=Ext.StoreMgr.lookup(a);a.taskStore=this},getResourceStore:function(){return this.resourceStore||null},setAssignmentStore:function(a){if(this.assignmentStore){this.assignmentStore.un({add:this.onAssignmentStructureMutation,update:this.onAssignmentMutation,remove:this.onAssignmentStructureMutation,scope:this})}this.assignmentStore=Ext.StoreMgr.lookup(a);a.taskStore=this;a.on({add:this.onAssignmentStructureMutation,update:this.onAssignmentMutation,remove:this.onAssignmentStructureMutation,scope:this})},getAssignmentStore:function(){return this.assignmentStore||null},renormalizeTasks:function(b,a){if(a instanceof Gnt.model.Task){a.adjustToCalendar()}else {this.getRootNode().cascadeBy(function(c){c.adjustToCalendar()})}},getCalendar:function(){return this.calendar||null},setCalendar:function(a){var c={datachanged:this.renormalizeTasks,update:this.renormalizeTasks,clear:this.renormalizeTasks,scope:this};if(this.calendar){this.calendar.un(c)}this.calendar=a;a.on(c);var b=this.tree&&this.getRootNode();if(b){b.calendar=a}},filter:function(){this.fireEvent('filter',this,arguments)},clearFilter:function(){this.fireEvent('clearfilter',this)},getCriticalPaths:function(){var c=this.getRootNode(),b=[],a=new Date(0);c.cascadeBy(function(b){a=Sch.util.Date.max(b.getEndDate(),a)});c.cascadeBy(function(c){if(a-c.getEndDate()===0&&!c.isRoot()){b.push(c)}});var d=[];Ext.each(b,function(a){d.push(a.getCriticalPaths())});return d},onNodeUpdated:function(b,a){if(!this.cascading&&this.recalculateParents&&!this.isFillingNode){a.recalculateParents()}},onTaskUpdated:function(d,a,c){var b=a.previous;if(!this.cascading&&!this.isFillingNode&&c!==Ext.data.Model.COMMIT&&(b&&(a.startDateField in b||a.endDateField in b||'parentId' in b||a.effortField in b))){if(this.cascadeChanges){Ext.Function.defer(this.cascadeChangesForTask,this.cascadeDelay,this,[a])}if(this.recalculateParents){a.recalculateParents()}}},cascadeChangesForTask:function(c){var a=this,b={nbrAffected:0};Ext.each(c.getOutgoingDependencies(),function(e){var d=e.getTargetTask();if(d){if(!a.cascading){a.fireEvent('beforecascade',a)}a.cascading=!0;d.cascadeChanges(a,b)}});if(a.cascading){a.cascading=!1;a.fireEvent('cascade',a,b)}},onTaskDeleted:function(c,b){var a=this.dependencyStore;if(a&&!b.isReplace&&!b.isMove){a.remove(b.getAllDependencies(a))}},onAssignmentMutation:function(c,a){var b=this;Ext.each(a,function(e){var d=e.getTask(b);if(d){d.onAssignmentMutation(e)}})},onAssignmentStructureMutation:function(c,a){var b=this;Ext.each(a,function(d){d.getTask(b).onAssignmentStructureMutation(d)})},onDependencyAddOrUpdate:function(d,c){if(this.cascadeChanges){var b=this,a;Ext.each(c,function(e){a=e.getTargetTask();if(a){a.constrain(b)}})}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew,this)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated,this)},filterNew:function(a){return a.phantom===!0&&a.isValid()&&a!=this.tree.root},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()&&a!=this.tree.root},onTaskStoreBeforeSync:function(a,e){var b=a.create;if(b){for(var c,d=b.length-1;d>=0;d--){c=b[d];if(c.isPersistable()){c._phantomId=c.internalId}else {if(this.autoSync){Ext.Array.remove(b,c)}}}if(b.length===0){delete a.create}}return Boolean(a.create&&a.create.length>0||a.update&&a.update.length>0||a.destroy&&a.destroy.length>0)},onTaskStoreWrite:function(e,b){var c=this.dependencyStore;if(!c||b.action!=='create'){return}var d=b.getRecords(),a;Ext.each(d,function(d){a=d.getId();if(!d.phantom&&a!==d._phantomId){Ext.each(c.getNewRecords(),function(c){var g=c.getSourceId();var f=c.getTargetId();if(g===d._phantomId){c.setSourceId(a)}else {if(f===d._phantomId){c.setTargetId(a)}}});Ext.each(d.childNodes,function(c){if(c.phantom){c.set('parentId',a)}});delete d._phantomId}})},getTotalTimeSpan:function(){var a=new Date(9999,0,1),b=new Date(0),c=Sch.util.Date;this.getRootNode().cascadeBy(function(d){if(d.getStartDate()){a=c.min(d.getStartDate(),a)}if(d.getEndDate()){b=c.max(d.getEndDate(),b)}});a=a<new Date(9999,0,1)?a:null;b=b>new Date(0)?b:null;return {start:a,end:b||a||null}},getCount:function(b){var a=b===!1?0:-1;this.getRootNode().cascadeBy(function(){a++});return a},toArray:function(){var a=[];this.getRootNode().cascadeBy(function(b){a.push(b)});return a},remove:function(a){Ext.each(a,function(b){b.remove()})},indent:function(a){a=Ext.isArray(a)?a:[a];var b=Ext.Array.sort(a,function(c,b){return c.data.index>b.data.index});Ext.each(b,function(b){b.indent()})},outdent:function(a){var b=Ext.Array.sort(a,function(c,b){return c.data.index>b.data.index});Ext.each(b,function(b){b.indent()});Ext.each(a,function(b){b.outdent()})},getTasksForResource:function(a){return a.getTasks()},getEventsForResource:function(a){return this.getTasksForResource(a)},ensureSingleSyncForMethod:function(){return function(){var a;if(this.autoSync&&!this.autoSyncSuspended){a=!0;this.suspendAutoSync()}var b=this.callParent(arguments);if(a){this.resumeAutoSync();this.sync()}return b}}},function(){var a=['indent','outdent','afterEdit','remove'];Ext.each(a,function(b){var a={};a[b]=this.prototype.ensureSingleSyncForMethod(this.prototype[b]);this.override(a)},this)});Ext.define('Gnt.data.DependencyStore',{extend:'Ext.data.Store',model:'Gnt.model.Dependency',constructor:function(){this.callParent(arguments);this.init()},init:function(){this.on({beforesync:this.onBeforeSyncOperation,scope:this})},onBeforeSyncOperation:function(a,d){if(a.create){for(var c,b=a.create.length-1;b>=0;b--){c=a.create[b];if(!c.isPersistable()){Ext.Array.remove(a.create,c)}}if(a.create.length===0){delete a.create}}return Boolean(a.create&&a.create.length>0||a.update&&a.update.length>0||a.destroy&&a.destroy.length>0)},getDependenciesForTask:function(c){var f=c.getId()||c.internalId;var d=[],e=this;for(var b=0,g=e.getCount();b<g;b++){var a=e.getAt(b);if(a.getSourceId()==f||a.getTargetId()==f){d.push(a)}}return d},getIncomingDependenciesForTask:function(b){var g=b.getId()||b.internalId;var d=[],e=this;for(var a=0,f=e.getCount();a<f;a++){var c=e.getAt(a);if(c.getTargetId()==g){d.push(c)}}return d},getOutgoingDependenciesForTask:function(b){var g=b.getId()||b.internalId;var d=[],e=this;for(var a=0,f=e.getCount();a<f;a++){var c=e.getAt(a);if(c.getSourceId()==g){d.push(c)}}return d},hasTransitiveDependency:function(d,b,a){var c=this;return this.findBy(function(e){var f=e.getTargetId();if(e.getSourceId()===d){return f===b&&e!==a?!0:c.hasTransitiveDependency(e.getTargetId(),b,a)}})>=0},isValidDependency:function(b,c,g){var d=!0;var a,f,e;if(b instanceof Gnt.model.Dependency){a=b.getSourceId();f=this.getSourceTask(a);c=b.getTargetId();e=this.getTargetTask(c)}else {a=b;f=this.getSourceTask(a);e=this.getTargetTask(c)}if(!g&&b instanceof Gnt.model.Dependency){d=b.isValid()}else {d=a&&c&&a!==c}if(d){if(f&&e&&(f.contains(e)||e.contains(f))){d=!1}var h=g||b instanceof Gnt.model.Dependency;if(d&&(!h&&this.areTasksLinked(a,c)||this.hasTransitiveDependency(c,a,h?b:null))){d=!1}}return d},areTasksLinked:function(b,a){var c=this;b=b instanceof Gnt.model.Task?b.getId()||b.internalId:b;a=a instanceof Gnt.model.Task?a.getId()||a.internalId:a;return this.findBy(function(e){var c=e.getTargetId(),d=e.getSourceId();if(d===b&&c===a||d===a&&c===a){return !0}})>=0},getSourceTask:function(a){var b=a instanceof Gnt.model.Dependency?dependency.getSourceId():a;return this.getTaskStore().getById(b)},getTargetTask:function(a){var b=a instanceof Gnt.model.Dependency?dependency.getSourceId():a;return this.getTaskStore().getById(b)},getTaskStore:function(){return this.taskStore}});Ext.define('Gnt.data.ResourceStore',{requires:['Gnt.model.Resource'],extend:'Sch.data.ResourceStore',model:'Gnt.model.Resource',taskStore:null,getTaskStore:function(){return this.taskStore||null},getAssignmentStore:function(){return this.assignmentStore||null},getByInternalId:function(a){return this.data.getByKey(a)||this.getById(a)}});Ext.define('Gnt.data.AssignmentStore',{requires:['Gnt.model.Assignment'],extend:'Ext.data.Store',model:'Gnt.model.Assignment',taskStore:null,getTaskStore:function(){return this.taskStore},getResourceStore:function(){return this.getTaskStore().resourceStore},getByInternalId:function(a){return this.data.getByKey(a)||this.getById(a)}});Ext.define('Gnt.template.Task',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px;">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-task-bar {cls}" unselectable="on" style="width:{width}px;{style}">'+(a.enableDependencyDragDrop?'<div unselectable="on" class="sch-gantt-terminal sch-gantt-terminal-start"></div>':'')+(a.resizeHandles==='both'||a.resizeHandles==='left'?'<div class="sch-resizable-handle sch-gantt-task-handle sch-resizable-handle-west"></div>':'')+'<div class="sch-gantt-progress-bar" style="width:{percentDone}%;{progressBarStyle}" unselectable="on">&#160;</div>'+(a.resizeHandles==='both'||a.resizeHandles==='right'?'<div class="sch-resizable-handle sch-gantt-task-handle sch-resizable-handle-east"></div>':'')+(a.enableDependencyDragDrop?'<div unselectable="on" class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+(a.enableProgressBarResize?'<div style="left:{percentDone}%" class="sch-gantt-progressbar-handle"></div>':'')+'</div>'+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.template.Milestone',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+(a.printable?'<img id="'+a.prefix+'{id}" src="'+a.imgSrc+'" class="sch-gantt-item sch-gantt-milestone-diamond {cls}" unselectable="on" style="{style}" />':'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-milestone-diamond {cls}" unselectable="on" style="{style}">'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-start"></div><div class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+'</div>')+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.template.ParentTask',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px;">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-parenttask-bar {cls}" style="width:{width}px; {style}"><div class="sch-gantt-progress-bar" style="width:{percentDone}%;{progressBarStyle}">&#160;</div>'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-start"></div>':'')+'<div class="sch-gantt-parenttask-arrow sch-gantt-parenttask-leftarrow"></div><div class="sch-gantt-parenttask-arrow sch-gantt-parenttask-rightarrow"></div>'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+'</div>'+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.Tooltip',{extend:'Ext.ToolTip',requires:['Ext.Template'],startText:'Starts: ',endText:'Ends: ',durationText:'Duration:',mode:'startend',cls:'sch-tip',height:40,autoHide:!1,anchor:'b-tl',maskOnDisable:!1,initComponent:function(){if(this.mode==='startend'&&!this.startEndTemplate){this.startEndTemplate=(new Ext.Template('<div class="sch-timetipwrap {cls}"><div>'+this.startText+'{startText}</div><div>'+this.endText+'{endText}</div></div>')).compile()}if(this.mode==='duration'&&!this.durationTemplate){this.durationTemplate=(new Ext.Template('<div class="sch-timetipwrap {cls}">','<div>'+this.startText+' {startText}</div>','<div>'+this.durationText+' {duration} {unit}</div>','</div>')).compile()}this.callParent(arguments)},update:function(e,c,d,b){var a;if(this.mode==='duration'){a=this.getDurationContent(e,c,d,b)}else {a=this.getStartEndContent(e,c,d,b)}this.callParent([a])},getStartEndContent:function(a,c,h,i){var e=this.gantt,g=e.getFormattedDate(a),d=g,f;if(c-a>0){d=e.getFormattedEndDate(c,a)}var b={cls:h?'sch-tip-ok':'sch-tip-notok',startText:g,endText:d};if(this.showClock){Ext.apply(b,{startHourDegrees:roundedStart.getHours()*30,startMinuteDegrees:roundedStart.getMinutes()*6});if(c){Ext.apply(b,{endHourDegrees:f.getHours()*30,endMinuteDegrees:f.getMinutes()*6})}}return this.startEndTemplate.apply(b)},getDurationContent:function(d,e,f,a){var b=a.getDurationUnit()||Sch.util.Date.DAY;var c=a.calculateDuration(d,e,b);return this.durationTemplate.apply({cls:f?'sch-tip-ok':'sch-tip-notok',startText:this.gantt.getFormattedDate(d),duration:parseFloat(Ext.Number.toFixed(c,1)),unit:Sch.util.Date.getReadableNameOfUnit(b,c>1)})},show:function(a){if(a){this.setTarget(a)}this.callParent([])}});Ext.define('Gnt.feature.TaskDragDrop',{extend:'Ext.dd.DragZone',requires:['Gnt.Tooltip','Ext.dd.StatusProxy','Ext.dd.ScrollManager'],onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,constructor:function(b){b=b||{};Ext.apply(this,b);this.proxy=this.proxy||Ext.create('Ext.dd.StatusProxy',{shadow:!1,dropAllowed:'sch-gantt-dragproxy',dropNotAllowed:'sch-gantt-dragproxy',ensureAttachedToBody:Ext.emptyFn});var a=this,c=a.gantt;if(a.useTooltip){a.tip=Ext.create('Gnt.Tooltip',{gantt:c})}a.callParent([c.el,Ext.apply(b,{ddGroup:a.gantt.id+'-task-dd'})]);a.scroll=!1;a.isTarget=!0;a.ignoreSelf=!1;a.addInvalidHandleClass('sch-resizable-handle');a.addInvalidHandleClass('x-resizable-handle');a.addInvalidHandleClass('sch-gantt-terminal');a.addInvalidHandleClass('sch-gantt-progressbar-handle');Ext.dd.ScrollManager.register(a.gantt.el);a.gantt.ownerCt.el.appendChild(this.proxy.el);a.gantt.on({destroy:a.cleanUp,scope:a})},useTooltip:!0,validatorFn:function(a,b,d,c){return !0},validatorFnScope:null,cleanUp:function(){if(this.tip){this.tip.destroy()}this.destroy()},containerScroll:!1,dropAllowed:'sch-gantt-dragproxy',dropNotAllowed:'sch-gantt-dragproxy',destroy:function(){this.callParent(arguments);Ext.dd.ScrollManager.unregister(this.gantt.el)},autoOffset:function(b,e){var a=this.dragData.repairXY,d=b-a[0],c=e-a[1];this.setDelta(d,c)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=c;this.maxX=b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=!0},setYConstraint:function(a,c,b){this.topConstraint=a;this.bottomConstraint=c;this.minY=a;this.maxY=c;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=!0},constrainTo:function(b,a){this.resetConstraints();this.initPageX=b.left;this.initPageY=a.top;this.setXConstraint(b.left,b.right-(a.right-a.left),this.xTickSize);this.setYConstraint(a.top-1,a.top-1,this.yTickSize)},onDragOver:function(f,g){var a=this.dragData,c=a.record,d=this.gantt,e=this.proxy.el.getX()+d.getXOffset(c),b=d.getDateFromXY([e,0],'round');if(!a.hidden){Ext.fly(a.sourceNode).hide();a.hidden=!0}if(!b||b-a.start===0){return}a.start=b;this.valid=this.validatorFn.call(this.validatorFnScope||d,c,b,a.duration,f)!==!1;if(this.tip){this.tip.update(b,c.calculateEndDate(b,c.getDuration(),c.getDurationUnit()),this.valid)}},onStartDrag:function(){var a=this.dragData.record;if(this.tip){this.tip.enable();this.tip.show(Ext.get(this.dragData.sourceNode));this.tip.update(a.getStartDate(),a.getEndDate(),!0)}this.gantt.fireEvent('taskdragstart',this.gantt,a)},getDragData:function(f){var a=this.gantt,b=f.getTarget(a.eventSelector);if(b&&!f.getTarget('.sch-gantt-baseline-item')){var e=Ext.get(b),c=a.resolveTaskRecord(e);if(a.fireEvent('beforetaskdrag',a,c,f)===!1){return null}var g=b.cloneNode(!0),d=a.getSnapPixelAmount(),h=e.getXY();g.id=Ext.id();if(d<=1){Ext.fly(g).setStyle('left',0)}this.constrainTo(Ext.fly(a.findItemByChild(b)).getRegion(),e.getRegion());if(d>=1){this.setXConstraint(this.leftConstraint,this.rightConstraint,d)}return {sourceNode:b,repairXY:h,ddel:g,record:c,duration:Sch.util.Date.getDurationInMinutes(c.getStartDate(),c.getEndDate())}}return null},afterRepair:function(){Ext.fly(this.dragData.sourceNode).show();if(this.tip){this.tip.hide()}this.dragging=!1},getRepairXY:function(){this.gantt.fireEvent('afterdnd',this.gantt);return this.dragData.repairXY},onDragDrop:function(f,c){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c),h=this.dragData,a=this.gantt,b=h.record,g=h.start;var d=!1;if(this.tip){this.tip.disable()}if(this.valid&&g&&b.getStartDate()-g!==0){a.taskStore.on('update',function(){d=!0},null,{single:!0});b.setStartDate(g,!0,a.taskStore.skipWeekendsDuringDragDrop);if(d){a.fireEvent('taskdrop',a,b);if(Ext.isIE9){this.proxy.el.setStyle('visibility','hidden');Ext.Function.defer(this.onValidDrop,10,this,[e,f,c])}else {this.onValidDrop(e,f,c)}}}if(!d){this.onInvalidDrop(e,f,c)}a.fireEvent('aftertaskdrop',a,b)}});Ext.define('Gnt.feature.DependencyDragDrop',{extend:'Ext.util.Observable',constructor:function(b){this.addEvents('beforednd','dndstart','drop','afterdnd');var a=b.ganttView;Ext.apply(this,{el:a.el,ddGroup:a.id+'-sch-dependency-dd',ganttView:a,dependencyStore:a.getDependencyStore()});this.el.on('mousemove',function(){this.setupDragZone();this.setupDropZone()},this,{single:!0});this.callParent(arguments)},fromText:'From: <strong>{0}</strong> {1}<br/>',toText:'To: <strong>{0}</strong> {1}',startText:'Start',endText:'End',useLineProxy:!0,terminalSelector:'.sch-gantt-terminal',destroy:function(){if(this.dragZone){this.dragZone.destroy()}if(this.dropZone){this.dropZone.destroy()}if(this.lineProxyEl){this.lineProxyEl.destroy()}},initLineProxy:function(c,b){var a=this.lineProxyEl=this.el.createChild({cls:'sch-gantt-connector-proxy'});a.alignTo(c,b?'l':'r');Ext.apply(this,{containerTop:this.el.getTop(),containerLeft:this.el.getLeft(),startXY:a.getXY(),startScrollLeft:this.el.dom.scrollLeft,startScrollTop:this.el.dom.scrollTop})},updateLineProxy:function(l){var m=this.lineProxyEl,c=l[0]-this.startXY[0]+this.el.dom.scrollLeft-this.startScrollLeft,b=l[1]-this.startXY[1]+this.el.dom.scrollTop-this.startScrollTop,h=Math.max(1,Math.sqrt(Math.pow(c,2)+Math.pow(b,2))-2),g=Math.atan2(b,c)-Math.PI/2,e;if(Ext.isIE){var j=Math.cos(g),i=Math.sin(g),k='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+j+', M12 = '+-i+', M21 = '+i+', M22 = '+j+')',d,f;if(this.el.dom.scrollTop!==this.startScrollTop){d=this.startScrollTop-this.containerTop}else {d=this.el.dom.scrollTop-this.containerTop}if(this.el.dom.scrollLeft!==this.startScrollLeft){f=this.startScrollLeft-this.containerLeft}else {f=this.el.dom.scrollLeft-this.containerLeft}e={height:h+'px',top:Math.min(0,b)+this.startXY[1]+d+(b<0?2:0)+'px',left:Math.min(0,c)+this.startXY[0]+f+(c<0?2:0)+'px',filter:k,'-ms-filter':k}}else {var a='rotate('+g+'rad)';e={height:h+'px','-o-transform':a,'-webkit-transform':a,'-moz-transform':a,transform:a}}m.show().setStyle(e)},setupDragZone:function(){var a=this,b=this.ganttView;this.dragZone=Ext.create('Ext.dd.DragZone',this.el,{ddGroup:this.ddGroup,onStartDrag:function(){this.el.addCls('sch-gantt-dep-dd-dragging');a.fireEvent('dndstart',a);if(a.useLineProxy){var b=this.dragData;a.initLineProxy(b.sourceNode,b.isStart)}},getDragData:function(f){var c=f.getTarget(a.terminalSelector);if(c){var d=b.resolveTaskRecord(c);if(a.fireEvent('beforednd',this,d)===!1){return null}var e=!!c.className.match('sch-gantt-terminal-start'),g=Ext.core.DomHelper.createDom({cls:'sch-dd-dependency',children:[{tag:'span',cls:'sch-dd-dependency-from',html:Ext.String.format(a.fromText,d.getName(),e?a.startText:a.endText)},{tag:'span',cls:'sch-dd-dependency-to',html:Ext.String.format(a.toText,'','')}]});return {fromId:d.getId()||d.internalId,isStart:e,repairXY:Ext.fly(c).getXY(),ddel:g,sourceNode:Ext.fly(c).up(b.eventSelector)}}return !1},afterRepair:function(){this.el.removeCls('sch-gantt-dep-dd-dragging');this.dragging=!1;a.fireEvent('afterdnd',this)},onMouseUp:function(){this.el.removeCls('sch-gantt-dep-dd-dragging');if(a.lineProxyEl){if(Ext.isIE){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}else {a.lineProxyEl.animate({to:{height:0},duration:500,callback:function(){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}})}}},getRepairXY:function(){return this.dragData.repairXY}})},setupDropZone:function(){var a=this,b=this.ganttView;this.dropZone=Ext.create('Ext.dd.DropZone',this.el,{ddGroup:this.ddGroup,getTargetFromEvent:function(b){if(a.useLineProxy){a.updateLineProxy(b.getXY())}return b.getTarget(a.terminalSelector)},onNodeEnter:function(a,c,e,d){var b=a.className.match('sch-gantt-terminal-start');Ext.fly(a).addCls(b?'sch-gantt-terminal-start-drophover':'sch-gantt-terminal-end-drophover')},onNodeOut:function(a,c,e,d){var b=a.className.match('sch-gantt-terminal-start');Ext.fly(a).removeCls(b?'sch-gantt-terminal-start-drophover':'sch-gantt-terminal-end-drophover')},onNodeOver:function(d,e,j,i){var c=b.resolveTaskRecord(d),f=c.getId()||c.internalId,g=d.className.match('sch-gantt-terminal-start'),h=Ext.String.format(a.toText,c.getName(),g?a.startText:a.endText);e.proxy.el.down('.sch-dd-dependency-to').update(h);if(a.dependencyStore.isValidDependency(i.fromId,f)){return this.dropAllowed}else {return this.dropNotAllowed}},onNodeDrop:function(g,k,j,f){var c,e=!0,d=Gnt.model.Dependency.Type,h=b.resolveTaskRecord(g),i=h.getId()||h.internalId;if(a.lineProxyEl){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}this.el.removeCls('sch-gantt-dep-dd-dragging');if(f.isStart){if(g.className.match('sch-gantt-terminal-start')){c=d.StartToStart}else {c=d.StartToEnd}}else {if(g.className.match('sch-gantt-terminal-start')){c=d.EndToStart}else {c=d.EndToEnd}}e=a.dependencyStore.isValidDependency(f.fromId,i);if(e){a.fireEvent('drop',this,f.fromId,i,c)}a.fireEvent('afterdnd',this);return e}})}});Ext.define('Gnt.feature.DragCreator',{requires:['Ext.Template','Sch.util.DragTracker','Gnt.Tooltip'],constructor:function(a){Ext.apply(this,a||{});this.init()},disabled:!1,showDragTip:!0,dragTolerance:2,setDisabled:function(a){this.disabled=a;if(this.dragTip){this.dragTip.setDisabled(a)}},getProxy:function(){if(!this.proxy){this.proxy=this.template.append(this.ganttView.ownerCt.el,{},!0)}return this.proxy},onBeforeDragStart:function(c){var a=this.ganttView,d=c.getTarget('.'+a.timeCellCls,2);if(d){var b=a.resolveTaskRecord(d);var e=a.getDateFromDomEvent(c);if(!this.disabled&&d&&!b.getStartDate()&&!b.getEndDate()&&a.fireEvent('beforedragcreate',a,b,e,c)!==!1){c.stopEvent();this.taskRecord=b;this.originalStart=e;this.rowRegion=a.getScheduleRegion(this.taskRecord,this.originalStart);this.dateConstraints=a.getDateConstraints(this.resourceRecord,this.originalStart);return !0}}return !1},onDragStart:function(){var a=this,c=a.ganttView,b=a.getProxy();a.start=a.originalStart;a.end=a.start;a.rowBoundaries={top:a.rowRegion.top,bottom:a.rowRegion.bottom};b.setRegion({top:a.rowBoundaries.top,right:a.tracker.startXY[0],bottom:a.rowBoundaries.bottom,left:a.tracker.startXY[0]});b.show();a.ganttView.fireEvent('dragcreatestart',a.ganttView);if(a.showDragTip){a.dragTip.update(a.start,a.end,!0,this.taskRecord);a.dragTip.enable();a.dragTip.show(b)}},onDrag:function(f){var a=this,e=a.ganttView,c=a.tracker.getRegion().constrainTo(a.rowRegion),d=e.getStartEndDatesFromRegion(c,'round');if(!d){return}a.start=d.start||a.start;a.end=d.end||a.end;var b=a.dateConstraints;if(b){a.end=Sch.util.Date.constrain(a.end,b.start,b.end);a.start=Sch.util.Date.constrain(a.start,b.start,b.end)}if(a.showDragTip){a.dragTip.update(a.start,a.end,!0,this.taskRecord)}Ext.apply(c,a.rowBoundaries);this.getProxy().setRegion(c)},onDragEnd:function(c){var a=this.ganttView,b=!0;if(this.showDragTip){this.dragTip.disable()}if(!this.start||!this.end||this.end<this.start){b=!1}if(b){this.taskRecord.setStartEndDate(this.start,this.end);a.fireEvent('dragcreateend',a,this.taskRecord,c)}this.proxy.hide();a.fireEvent('afterdragcreate',a)},init:function(){var b=this.ganttView,c=b.el,a=Ext.Function.bind;this.lastTime=new Date();this.template=this.template||Ext.create('Ext.Template','<div class="sch-gantt-dragcreator-proxy"></div>',{compiled:!0,disableFormats:!0});b.on({destroy:this.onGanttDestroy,scope:this});this.tracker=new Sch.util.DragTracker({el:c,tolerance:this.dragTolerance,onBeforeStart:a(this.onBeforeDragStart,this),onStart:a(this.onDragStart,this),onDrag:a(this.onDrag,this),onEnd:a(this.onDragEnd,this)});if(this.showDragTip){this.dragTip=Ext.create('Gnt.Tooltip',{mode:'duration',cls:'sch-gantt-dragcreate-tip',gantt:b})}},onGanttDestroy:function(){if(this.dragTip){this.dragTip.destroy()}if(this.tracker){this.tracker.destroy()}if(this.proxy){Ext.destroy(this.proxy);this.proxy=null}}});Ext.define('Gnt.feature.LabelEditor',{extend:'Ext.Editor',labelPosition:'',constructor:function(b,a){this.ganttView=b;this.ganttView.on('afterrender',this.onGanttRender,this);this.callParent([a])},edit:function(a){var b=this.ganttView.getElementFromEventRecord(a).up(this.ganttView.eventWrapSelector);this.record=a;this.startEdit(b.down(this.delegate),this.dataIndex?a.get(this.dataIndex):'')},delegate:'',dataIndex:'',shadow:!1,completeOnEnter:!0,cancelOnEsc:!0,ignoreNoChange:!0,onGanttRender:function(a){if(!this.field.width){this.autoSize='width'}this.on({beforestartedit:function(b,d,c){return a.fireEvent('labeledit_beforestartedit',a,this.record,c,b)},beforecomplete:function(c,d,b){return a.fireEvent('labeledit_beforecomplete',a,d,b,this.record,c)},complete:function(d,b,c){this.record.set(this.dataIndex,b);a.fireEvent('labeledit_complete',a,b,c,this.record,d)},scope:this});a.el.on('dblclick',function(c,b){this.edit(a.resolveTaskRecord(b))},this,{delegate:this.delegate})}});Ext.define('Gnt.feature.ProgressBarResize',{requires:['Ext.QuickTip','Ext.resizer.Resizer'],constructor:function(b){Ext.apply(this,b||{});var a=this.gantt;a.on({destroy:this.cleanUp,scope:this});a.mon(a.el,'mousedown',this.onMouseDown,this,{delegate:'.sch-gantt-progressbar-handle'});this.callParent(arguments)},useTooltip:!0,increment:10,onMouseDown:function(d,c){var a=this.gantt,b=a.resolveTaskRecord(c);if(a.fireEvent('beforeprogressbarresize',a,b)!==!1){var e=Ext.fly(c).prev('.sch-gantt-progress-bar');d.stopEvent();this.createResizable(e,b,d);a.fireEvent('progressbarresizestart',a,b)}},createResizable:function(a,b,e){var h=e.getTarget(),f=a.up(this.gantt.eventSelector),d=f.getWidth()-4,g=d*this.increment/100;var c=Ext.create('Ext.resizer.Resizer',{target:a,taskRecord:b,handles:'e',minWidth:0,maxWidth:d,minHeight:1,widthIncrement:g,listeners:{resizedrag:this.partialResize,resize:this.afterResize,scope:this}});c.resizeTracker.onMouseDown(e,c.east.dom);f.select('.x-resizable-handle, .sch-gantt-terminal, .sch-gantt-progressbar-handle').hide();if(this.useTooltip){if(!this.tip){this.tip=Ext.create('Ext.ToolTip',{autoHide:!1,anchor:'b',html:'%'})}this.tip.setTarget(a);this.tip.show();this.tip.body.update(b.getPercentDone()+'%')}},partialResize:function(c,b){var a=Math.round(b*100/(c.maxWidth*this.increment))*this.increment;if(this.tip){this.tip.body.update(a+'%')}},afterResize:function(a,b,e,f){var d=a.taskRecord;if(this.tip){this.tip.hide()}var c=Math.round(b*100/(a.maxWidth*this.increment))*this.increment;a.taskRecord.setPercentDone(c);a.destroy();this.gantt.fireEvent('afterprogressbarresize',this.gantt,d)},cleanUp:function(){if(this.tip){this.tip.destroy()}}});Ext.define('Gnt.feature.TaskResize',{constructor:function(b){Ext.apply(this,b);var a=this.gantt;a.on({destroy:this.cleanUp,scope:this});a.mon(a.el,'mousedown',this.onMouseDown,this,{delegate:'.sch-resizable-handle'});this.callParent(arguments)},showDuration:!0,useTooltip:!0,validatorFn:Ext.emptyFn,validatorFnScope:null,onMouseDown:function(b){var a=this.gantt,d=b.getTarget(a.eventSelector),c=a.resolveTaskRecord(d);if(a.fireEvent('beforetaskresize',a,c,b)===!1){return}b.stopEvent();this.createResizable(Ext.get(d),c,b);a.fireEvent('taskresizestart',a,c)},createResizable:function(a,b,e){var j=e.getTarget(),h=this.gantt,c=!!j.className.match('sch-resizable-handle-west'),d=h.getSnapPixelAmount(),k=a.getWidth(),i=a.up('.x-grid-row').getRegion();this.resizable=Ext.create('Ext.resizer.Resizer',{startLeft:a.getLeft(),startRight:a.getRight(),target:a,taskRecord:b,handles:c?'w':'e',constrainTo:i,minHeight:1,minWidth:d,widthIncrement:d,listeners:{resizedrag:this[c?'partialWestResize':'partialEastResize'],resize:this.afterResize,scope:this}});this.resizable.resizeTracker.onMouseDown(e,this.resizable[c?'west':'east'].dom);if(this.useTooltip){if(!this.tip){this.tip=Ext.create('Gnt.Tooltip',{mode:this.showDuration?'duration':'startend',gantt:this.gantt})}var f=b.getStartDate(),g=b.getEndDate();this.tip.show(a);this.tip.update(f,g,!0,b)}},partialEastResize:function(a,f,h,g){var c=this.gantt,b=c.getDateFromXY([a.startLeft+Math.min(f,this.resizable.maxWidth),0],'round');if(!b||a.end-b===0){return}var d=a.taskRecord.getStartDate(),e=this.validatorFn.call(this.validatorFnScope||this,a.taskRecord,d,b)!==!1;a.end=b;c.fireEvent('partialtaskresize',c,a.taskRecord,d,b,a.el,g);if(this.useTooltip){this.tip.update(d,b,e,a.taskRecord)}},partialWestResize:function(a,f,h,g){var d=this.gantt,b=d.getDateFromXY([a.startRight-Math.min(f,this.resizable.maxWidth),0],'round');if(!b||a.start-b===0){return}var c=a.taskRecord.getEndDate(),e=this.validatorFn.call(this.validatorFnScope||this,a.taskRecord,b,c)!==!1;a.start=b;d.fireEvent('partialtaskresize',d,a.taskRecord,b,c,a.el,g);if(this.useTooltip){this.tip.update(b,c,e,a.taskRecord)}},afterResize:function(d,k,j,i){if(this.useTooltip){this.tip.hide()}var c=d.taskRecord,f=c.getStartDate(),h=c.getEndDate(),a=d.start||f,b=d.end||h,e=this.gantt;d.destroy();if(a&&b&&(a-f||b-h)&&this.validatorFn.call(this.validatorFnScope||this,c,a,b,i)!==!1){var g=this.gantt.taskStore.skipWeekendsDuringDragDrop;if(a-f!==0){c.setStartDate(a<=b?a:b,!1,g)}else {c.setEndDate(a<=b?b:a,!1,g)}}else {e.refreshKeepingScroll()}e.fireEvent('aftertaskresize',e,c)},cleanUp:function(){if(this.tip){this.tip.destroy()}}});Ext.define('Gnt.feature.WorkingTime',{extend:'Sch.plugin.Zones',requires:['Ext.data.Store','Sch.model.Range'],expandToFitView:!0,calendar:null,init:function(a){if(!this.calendar){Ext.Error.raise("Required attribute 'calendar' missed during initialization of 'Gnt.feature.WorkingTime'")}this.bindCalendar(this.calendar);Ext.apply(this,{store:new Ext.data.Store({model:'Sch.model.Range'})});this.callParent(arguments);a.on('viewchange',this.onViewChange,this);this.onViewChange()},bindCalendar:function(b){var a={datachanged:this.refresh,update:this.refresh,scope:this,delay:1};if(this.calendar){this.calendar.un(a)}b.on(a);this.calendar=b},onViewChange:function(){var a=Sch.util.Date;if(a.compareUnits(this.timeAxis.unit,a.WEEK)>0){this.setDisabled(!0)}else {this.setDisabled(!1);this.refresh()}},refresh:function(){var a=this.schedulerView;this.store.removeAll(!0);this.store.add(this.calendar.getHolidaysRanges(a.getStart(),a.getEnd(),!0))}});Ext.define('Gnt.plugin.DependencyEditor',{extend:'Ext.form.FormPanel',mixins:['Ext.AbstractPlugin'],lockableScope:'normal',requires:['Ext.form.DisplayField','Ext.form.ComboBox','Ext.form.NumberField','Gnt.model.Dependency'],hideOnBlur:!0,fromText:'From',toText:'To',typeText:'Type',lagText:'Lag',endToStartText:'Finish-To-Start',startToStartText:'Start-To-Start',endToEndText:'Finish-To-Finish',startToEndText:'Start-To-Finish',showLag:!1,border:!1,height:150,width:260,frame:!0,labelWidth:60,constrain:!1,initComponent:function(){Ext.apply(this,{items:this.buildFields(),defaults:{width:240},floating:!0,hideMode:'offsets'});this.callParent(arguments)},beforeRender:function(){this.addCls('sch-gantt-dependencyeditor');this.callParent(arguments)},init:function(a){a.on('dependencydblclick',this.onDependencyDblClick,this);a.on('render',this.onGanttRender,this,{delay:50});this.gantt=a;this.taskStore=a.getTaskStore()},onGanttRender:function(){this.render(Ext.getBody());this.collapse(Ext.Component.DIRECTION_TOP,!0);this.hide();if(this.hideOnBlur){this.mon(Ext.getBody(),'click',this.onMouseClick,this)}},show:function(a,b){this.dependencyRecord=a;this.getForm().loadRecord(a);this.fromLabel.setValue(this.dependencyRecord.getSourceTask().getName());this.toLabel.setValue(this.dependencyRecord.getTargetTask().getName());this.callParent([]);this.el.setXY(b);this.expand(!this.constrain);if(this.constrain){this.doConstrain(Ext.util.Region.getRegion(Ext.getBody()))}},buildFields:function(){var d=this,b=Gnt.model.Dependency,a=b.Type,c=[this.fromLabel=Ext.create('Ext.form.DisplayField',{fieldLabel:this.fromText}),this.toLabel=Ext.create('Ext.form.DisplayField',{fieldLabel:this.toText}),this.typeField=Ext.create('Ext.form.ComboBox',{name:b.prototype.nameField,fieldLabel:this.typeText,triggerAction:'all',queryMode:'local',valueField:'value',displayField:'text',editable:!1,store:Ext.create('Ext.data.JsonStore',{fields:['text','value'],data:[{text:this.endToStartText,value:a.EndToStart},{text:this.startToStartText,value:a.StartToStart},{text:this.endToEndText,value:a.EndToEnd},{text:this.startToEndText,value:a.StartToEnd}]})})];if(this.showLag){c.push(this.lagField=Ext.create('Ext.form.NumberField',{name:b.prototype.lagField,fieldLabel:this.lagText}))}return c},onDependencyDblClick:function(d,a,b,c){if(this.lagField){this.lagField.name=a.lagField}if(this.typeField){this.typeField.name=a.typeField}if(a!=this.dependencyRecord){this.show(a,b.getXY())}},onMouseClick:function(a){if(this.collapsed||a.within(this.getEl())||a.getTarget('.x-layer')||a.getTarget('.sch-ignore-click')){return}this.collapse()},afterCollapse:function(){delete this.dependencyRecord;this.hide();this.callParent(arguments)}});Ext.define('Gnt.plugin.TaskContextMenu',{extend:'Ext.menu.Menu',mixins:['Ext.AbstractPlugin'],lockableScope:'top',requires:['Gnt.model.Dependency'],plain:!0,triggerEvent:'taskcontextmenu',texts:{newTaskText:'New task',newMilestoneText:'New milestone',deleteTask:'Delete task(s)',editLeftLabel:'Edit left label',editRightLabel:'Edit right label',add:'Add...',deleteDependency:'Delete dependency...',addTaskAbove:'Task above',addTaskBelow:'Task below',addMilestone:'Milestone',addSubtask:'Sub-task',addSuccessor:'Successor',addPredecessor:'Predecessor'},grid:null,rec:null,lastHighlightedItem:null,createMenuItems:function(){var a=this.texts;return [{handler:this.deleteTask,requiresTask:!0,scope:this,text:a.deleteTask},{handler:this.editLeftLabel,requiresTask:!0,scope:this,text:a.editLeftLabel},{handler:this.editRightLabel,requiresTask:!0,scope:this,text:a.editRightLabel},{text:a.add,menu:{plain:!0,items:[{handler:this.addTaskAboveAction,requiresTask:!0,scope:this,text:a.addTaskAbove},{handler:this.addTaskBelowAction,scope:this,text:a.addTaskBelow},{handler:this.addMilestone,requiresTask:!0,scope:this,text:a.addMilestone},{handler:this.addSubtask,requiresTask:!0,scope:this,text:a.addSubtask},{handler:this.addSuccessor,requiresTask:!0,scope:this,text:a.addSuccessor},{handler:this.addPredecessor,requiresTask:!0,scope:this,text:a.addPredecessor}]}},{text:a.deleteDependency,requiresTask:!0,menu:{plain:!0,listeners:{beforeshow:this.populateDependencyMenu,mouseover:this.onDependencyMouseOver,mouseleave:this.onDependencyMouseOut,scope:this}}}]},buildMenuItems:function(){this.items=this.createMenuItems()},initComponent:function(){this.buildMenuItems();this.callParent(arguments)},init:function(a){a.on('destroy',this.cleanUp,this);var b=a.getSchedulingView(),c=a.lockedGrid.getView();if(this.triggerEvent==='itemcontextmenu'){c.on('itemcontextmenu',this.onItemContextMenu,this);b.on('itemcontextmenu',this.onItemContextMenu,this)}b.on('taskcontextmenu',this.onTaskContextMenu,this);b.on('containercontextmenu',this.onContainerContextMenu,this);c.on('containercontextmenu',this.onContainerContextMenu,this);this.grid=a},populateDependencyMenu:function(d){var b=this.grid,e=b.getTaskStore(),c=this.rec.getAllDependencies(),a=b.dependencyStore;d.removeAll();if(c.length===0){return !1}var f=this.rec.getId()||this.rec.internalId;Ext.each(c,function(b){var g=b.getSourceId(),c=e.getById(g==f?b.getTargetId():g);if(c){d.add({depId:b.internalId,text:Ext.util.Format.ellipsis(c.getName(),30),scope:this,handler:function(e){var c;a.each(function(a){if(a.internalId==e.depId){c=a;return !1}});a.remove(c)}})}},this)},onDependencyMouseOver:function(d,a,c){if(a){var b=this.grid.getSchedulingView();if(this.lastHighlightedItem){b.unhighlightDependency(this.lastHighlightedItem.depId)}this.lastHighlightedItem=a;b.highlightDependency(a.depId)}},onDependencyMouseOut:function(b,a){if(this.lastHighlightedItem){this.grid.getSchedulingView().unhighlightDependency(this.lastHighlightedItem.depId)}},cleanUp:function(){this.destroy()},onTaskContextMenu:function(c,a,b){this.activateMenu(a,b)},onItemContextMenu:function(c,a,e,d,b){this.activateMenu(a,b)},onContainerContextMenu:function(b,a){this.activateMenu(null,a)},activateMenu:function(b,a){if(this.grid.isReadOnly()){return}a.stopEvent();this.rec=b;var c=this.query('[requiresTask]');Ext.each(c,function(c){c.setDisabled(!b)});this.showAt(a.getXY())},copyTask:function(b){var c=this.grid.getTaskStore().model;var a=new c({leaf:!0});a.setPercentDone(0);a.setName(this.texts.newTaskText);a.set(a.startDateField,b&&b.getStartDate()||null);a.set(a.endDateField,b&&b.getEndDate()||null);a.set(a.durationField,b&&b.getDuration()||null);a.set(a.durationUnitField,b&&b.getDurationUnit()||'d');return a},addTaskAbove:function(a){var b=this.rec;if(b){b.addTaskAbove(a)}else {this.grid.taskStore.getRootNode().appendChild(a)}},addTaskBelow:function(a){var b=this.rec;if(b){b.addTaskBelow(a)}else {this.grid.taskStore.getRootNode().appendChild(a)}},deleteTask:function(){var a=this.grid.getSelectionModel().selected;this.grid.taskStore.remove(a.items)},editLeftLabel:function(){this.grid.getSchedulingView().editLeftLabel(this.rec)},editRightLabel:function(){this.grid.getSchedulingView().editRightLabel(this.rec)},addTaskAboveAction:function(){this.addTaskAbove(this.copyTask(this.rec))},addTaskBelowAction:function(){this.addTaskBelow(this.copyTask(this.rec))},addSubtask:function(){var a=this.rec;a.addSubtask(this.copyTask(a))},addSuccessor:function(){var a=this.rec;a.addSuccessor(this.copyTask(a))},addPredecessor:function(){var a=this.rec;a.addPredecessor(this.copyTask(a))},addMilestone:function(){var a=this.rec,b=this.copyTask(a);a.addTaskBelow(b);b.setStartEndDate(a.getEndDate(),a.getEndDate())}});Ext.define('Gnt.plugin.PdfExport',{extend:'Sch.plugin.PdfExport',getExportJsonHtml:function(a,g){var b=this.scheduler.getSchedulingView(),c=b.dependencyView,d=c.painter.getDependencyTplData(b.dependencyStore.getRange()),e=c.lineTpl.apply(d),f={dependencies:e,rowsAmount:a.rowsAmount,columnsAmountNormal:a.columnsAmountNormal,columnsAmountLocked:a.columnsAmountLocked,timeColumnWidth:a.timeColumnWidth,lockedGridWidth:a.lockedGridWidth,rowHeight:a.rowHeight};a.panelHTML=f;return this.callParent(arguments)},resizePanelHTML:function(a){var b=this.callParent(arguments),c=b.select('.sch-dependencyview-ct').first(),f=a.k*a.rowsAmount*a.rowHeight,e=a.i*a.timeColumnWidth*(a.i===1?a.columnsAmountLocked:a.columnsAmountNormal);c.dom.innerHTML=a.dependencies;c.applyStyles({top:-f+'px',left:-e+'px'});var d=b.select('.x-splitter').first();d.setHeight('100%');return b}});Ext.define('Gnt.plugin.Printable',{extend:'Sch.plugin.Printable',getGridContent:function(f){var a=this.callParent(arguments),c=f.getSchedulingView(),d=c.dependencyView,e=d.painter.getDependencyTplData(c.dependencyStore.getRange()),b;b=a.normalRows;a.normalRows=d.lineTpl.apply(e)+b;return a}});Ext.define('Gnt.view.DependencyPainter',{extend:'Ext.util.Observable',requires:['Ext.util.Region'],constructor:function(a){a=a||{};Ext.apply(this,a,{xOffset:8,yOffset:7,midRowOffset:6,arrowOffset:8})},getTaskBox:function(d){var h=Sch.util.Date,j=d.getStartDate(),l=d.getEndDate(),o=this.ganttView.getStart(),n=this.ganttView.getEnd(),a=this.ganttView,e=a.getXYFromDate(h.max(j,o))[0],g=a.getXYFromDate(h.min(l,n))[0],q=this.taskStore.buffered,c,b=Ext.get(a.getEventNodeByRecord(d));if(!d.isVisible()||!j||!l||!h.intersectSpans(j,l,o,n)){return null}if(b||q){var m=this.view.getXOffset(d),f,i,r=!0;if(e>m){e-=m}g+=m-1;if(!d.isMilestone()&&Ext.isIE){if((Ext.isIE7||Ext.isIE6)&&!Ext.isIEQuirks){g+=5;e-=2}else {if((Ext.isIE6||Ext.isIE7||Ext.isIE8)&&Ext.isIEQuirks){g+=1;e-=2}}}if(b){c=b.getOffsetsTo(a.el);f=c[1]+a.el.getScroll().top;i=f+b.getHeight()}else {var p=a.store.first();var k=a.getNodes();if(d.isAbove(p)){b=Ext.get(k[0]);c=b.getOffsetsTo(a.el);c[1]-=this.ganttView.rowHeight}else {b=Ext.get(k[k.length-1]);c=b.getOffsetsTo(a.el);c[1]+=this.ganttView.rowHeight}f=c[1]+a.el.getScroll().top;i=f+b.getHeight();r=!1}return {top:f,right:g,bottom:i,left:e,rendered:!1}}},getRenderData:function(f){var b=f.getSourceTask(),a=f.getTargetTask();if(!b||!a){return null}var c=this.getTaskBox(b);var d=this.getTaskBox(a);if(this.taskStore.buffered&&c&&!c.rendered&&d&&!d.rendered){var g=this.ganttView.store.first();var e=this.ganttView.store.last();if(b.isAbove(g)&&a.isAbove(g)||e.isAbove(b)&&e.isAbove(a)){return null}}return {fromBox:c,toBox:d}},getDependencyTplData:function(f){var d=this,l=d.taskStore;if(!Ext.isArray(f)){f=[f]}if(f.length===0||l.getCount()<=0){return}var j=[],g=Gnt.model.Dependency.Type,o=d.ganttView,e,n,m,c,b,a;for(var i=0,k=f.length;i<k;i++){a=f[i];var h=this.getRenderData(a);if(h){c=h.fromBox;b=h.toBox;if(c&&b){switch(a.getType()){case g.StartToEnd:e=d.getStartToEndCoordinates(c,b);break;case g.StartToStart:e=d.getStartToStartCoordinates(c,b);break;case g.EndToStart:e=d.getEndToStartCoordinates(c,b);break;case g.EndToEnd:e=d.getEndToEndCoordinates(c,b);break;default:throw 'Invalid dependency type: '+a.getType();}if(e){j.push({lineCoordinates:e,id:a.internalId,cls:a.getCls()})}}}}return j},getStartToStartCoordinates:function(c,b,h,j){var a=c.left,g=c.top-1+(c.bottom-c.top)/2,f=b.left,d=b.top-1+(b.bottom-b.top)/2,i=c.top<b.top?d-this.yOffset-this.midRowOffset:d+this.yOffset+this.midRowOffset,e=this.xOffset+this.arrowOffset;if(a>f+this.xOffset){e+=a-f}return [{x1:a,y1:g,x2:a-e,y2:g},{x1:a-e,y1:g,x2:a-e,y2:d},{x1:a-e,y1:d,x2:f-this.arrowOffset,y2:d}]},getStartToEndCoordinates:function(g,f){var c=g.left,d=g.top-1+(g.bottom-g.top)/2,e=f.right,b=f.top-1+(f.bottom-f.top)/2,i=g.top<f.top?b-this.yOffset-this.midRowOffset:b+this.yOffset+this.midRowOffset,j,a;if(e>c+this.xOffset-this.arrowOffset||Math.abs(e-c)<2*(this.xOffset+this.arrowOffset)){a=c-this.xOffset-this.arrowOffset;var h=e+this.xOffset+this.arrowOffset;j=[{x1:c,y1:d,x2:a,y2:d},{x1:a,y1:d,x2:a,y2:i},{x1:a,y1:i,x2:h,y2:i},{x1:h,y1:i,x2:h,y2:b},{x1:h,y1:b,x2:e+this.arrowOffset,y2:b}]}else {a=c-this.xOffset-this.arrowOffset;j=[{x1:c,y1:d,x2:a,y2:d},{x1:a,y1:d,x2:a,y2:b},{x1:a,y1:b,x2:e+this.arrowOffset,y2:b}]}return j},getEndToStartCoordinates:function(h,g){var e=h.right,b=h.top-1+(h.bottom-h.top)/2,f=g.left,a=g.top-1+(g.bottom-g.top)/2,j=h.top<g.top?a-this.yOffset-this.midRowOffset:a+this.yOffset+this.midRowOffset,i,c;if(f>=e-6&&a>b){c=Math.max(e-6,f)+this.xOffset;a=g.top;i=[{x1:e,y1:b,x2:c,y2:b},{x1:c,y1:b,x2:c,y2:a-this.arrowOffset}]}else {c=e+this.xOffset+this.arrowOffset;var d=f-this.xOffset-this.arrowOffset;if(a>b||f<e+2*this.arrowOffset){i=[{x1:e,y1:b,x2:c,y2:b},{x1:c,y1:b,x2:c,y2:j},{x1:c,y1:j,x2:d,y2:j},{x1:d,y1:j,x2:d,y2:a},{x1:d,y1:a,x2:f-this.arrowOffset,y2:a}]}else {i=[{x1:e,y1:b,x2:d,y2:b},{x1:d,y1:b,x2:d,y2:a},{x1:d,y1:a,x2:f-this.arrowOffset,y2:a}]}}return i},getEndToEndCoordinates:function(b,d){var e=b.right,g=b.top-1+(b.bottom-b.top)/2,c=d.right+this.arrowOffset,f=d.top-1+(d.bottom-d.top)/2,a=c+this.xOffset+this.arrowOffset;if(e>c+this.xOffset){a+=e-c}return [{x1:e,y1:g,x2:a,y2:g},{x1:a,y1:g,x2:a,y2:f},{x1:a,y1:f,x2:c,y2:f}]}});Ext.define('Gnt.view.Dependency',{extend:'Ext.util.Observable',requires:['Gnt.feature.DependencyDragDrop','Gnt.view.DependencyPainter'],containerEl:null,ganttView:null,painter:null,taskStore:null,store:null,dnd:null,lineTpl:null,enableDependencyDragDrop:!0,renderAllDepsBuffered:!1,dependencyCls:'sch-dependency',selectedCls:'sch-dependency-selected',constructor:function(b){this.callParent(arguments);var a=this.ganttView;a.on({refresh:this.renderAllDependenciesBuffered,scope:this});this.bindTaskStore(a.getTaskStore());this.bindDependencyStore(b.store);if(!this.lineTpl){this.lineTpl=Ext.create('Ext.XTemplate','<tpl for=".">'+Ext.String.format('<tpl for="lineCoordinates"><div class="{0} sch-dep-{parent.id} {0}-line {parent.cls}-line " style="left:{[Math.min(values.x1, values.x2)]}px;top:{[Math.min(values.y1, values.y2)]}px;width:{[Math.abs(values.x1-values.x2)'+(Ext.isBorderBox?'+2':'')+']}px;height:{[Math.abs(values.y1-values.y2)'+(Ext.isBorderBox?'+2':'')+']}px"></div></tpl><div style="left:{[values.lineCoordinates[values.lineCoordinates.length - 1].x2]}px;top:{[values.lineCoordinates[values.lineCoordinates.length - 1].y2]}px" class="{0}-arrow-ct {0} sch-dep-{id} {cls}-arrow-ct"><img src="'+Ext.BLANK_IMAGE_URL+'" class="{0}-arrow {0}-arrow-{[this.getArrowDirection(values.lineCoordinates)]} {cls}-arrow" /></div>',this.dependencyCls)+'</tpl>',{compiled:!0,disableFormats:!0,getArrowDirection:function(c){var a=c[c.length-1];if(a.x1===a.x2){return 'down'}else {if(a.x1>a.x2){return 'left'}else {return 'right'}}}})}this.painter=Ext.create('Gnt.view.DependencyPainter',Ext.apply({rowHeight:a.rowHeight,taskStore:this.taskStore,view:a},b));this.addEvents('beforednd','dndstart','drop','afterdnd','beforecascade','cascade','dependencydblclick');if(this.enableDependencyDragDrop){this.dnd=Ext.create('Gnt.feature.DependencyDragDrop',{ganttView:this.ganttView});this.dnd.on('drop',this.onDependencyDrop,this);this.relayEvents(this.dnd,['beforednd','dndstart','afterdnd','drop'])}this.containerEl=this.containerEl.createChild({cls:'sch-dependencyview-ct'});this.ganttView.mon(this.containerEl,'dblclick',this.onDependencyDblClick,this,{delegate:'.'+this.dependencyCls});if(a.rendered){this.renderAllDependenciesBuffered()}},bindDependencyStore:function(a){a.on({datachanged:this.renderAllDependenciesBuffered,load:this.renderAllDependenciesBuffered,add:this.onDependencyAdd,update:this.onDependencyUpdate,remove:this.onDependencyDelete,scope:this});this.store=a},unBindDependencyStore:function(){this.store.un({datachanged:this.renderAllDependenciesBuffered,load:this.renderAllDependenciesBuffered,add:this.onDependencyAdd,update:this.onDependencyUpdate,remove:this.onDependencyDelete,scope:this})},bindTaskStore:function(a){var b=this.ganttView;if(b.animate){b.on({afterexpand:this.renderAllDependenciesBuffered,aftercollapse:this.renderAllDependenciesBuffered,scope:this})}else {a.on({expand:this.renderAllDependenciesBuffered,collapse:this.renderAllDependenciesBuffered,scope:this})}a.on({cascade:this.onTaskStoreCascade,'root-fill-start':this.onRootFillStart,remove:this.renderAllDependenciesBuffered,insert:this.renderAllDependenciesBuffered,append:this.renderAllDependenciesBuffered,move:this.renderAllDependenciesBuffered,update:this.onTaskUpdated,scope:this});this.taskStore=a},onTaskStoreCascade:function(b,a){if(a&&a.nbrAffected>0){this.renderAllDependenciesBuffered()}},unBindTaskStore:function(a){a=a||this.taskStore;var b=this.ganttView;if(!a){return}if(b.animate){b.un({afterexpand:this.renderAllDependenciesBuffered,aftercollapse:this.renderAllDependenciesBuffered,scope:this})}else {a.un({expand:this.renderAllDependenciesBuffered,collapse:this.renderAllDependenciesBuffered,scope:this})}a.un({cascade:this.onTaskStoreCascade,remove:this.renderAllDependenciesBuffered,insert:this.renderAllDependenciesBuffered,append:this.renderAllDependenciesBuffered,move:this.renderAllDependenciesBuffered,'root-fill-start':this.onRootFillStart,scope:this});a.un({update:this.onTaskUpdated,scope:this})},onRootFillStart:function(){var a=this.taskStore;this.unBindTaskStore(a);this.taskStore.on('root-fill-end',function(){this.bindTaskStore(a)},this,{single:!0})},onDependencyDblClick:function(b,a){var c=this.getRecordForDependencyEl(a);this.fireEvent('dependencydblclick',this,c,b,a)},highlightDependency:function(a){if(!(a instanceof Ext.data.Model)){a=this.getDependencyRecordByInternalId(a)}this.getElementsForDependency(a).addCls(this.selectedCls)},unhighlightDependency:function(a){if(!(a instanceof Ext.data.Model)){a=this.getDependencyRecordByInternalId(a)}this.getElementsForDependency(a).removeCls(this.selectedCls)},getElementsForDependency:function(a){var b=a instanceof Ext.data.Model?a.internalId:a;return this.containerEl.select('.sch-dep-'+b)},depRe:new RegExp('sch-dep-([^\\s]+)'),getDependencyRecordByInternalId:function(d){var b,a,c;for(a=0,c=this.store.getCount();a<c;a++){b=this.store.getAt(a);if(b.internalId==d){return b}}return null},getRecordForDependencyEl:function(d){var a=d.className.match(this.depRe),b=null;if(a&&a[1]){var c=a[1];b=this.getDependencyRecordByInternalId(c)}return b},renderAllDependenciesBuffered:function(){var a=this;this.containerEl.update('');setTimeout(function(){if(!a.ganttView.isDestroyed){a.renderAllDependencies()}},0)},renderAllDependencies:function(){if(!this.containerEl.dom){return}this.getDependencyElements().remove();this.renderDependencies(this.store.data.items)},getDependencyElements:function(){return this.containerEl.select('.'+this.dependencyCls)},renderDependencies:function(a){if(a){var b=this.painter.getDependencyTplData(a);this.lineTpl[Ext.isIE?'insertFirst':'append'](this.containerEl,b)}},renderTaskDependencies:function(a){var c=[];if(!Ext.isArray(a)){a=[a]}for(var b=0,d=a.length;b<d;b++){c=c.concat(a[b].getAllDependencies())}this.renderDependencies(c)},onDependencyUpdate:function(b,a){this.removeDependencyElements(a,!1);this.renderDependencies(a)},onDependencyAdd:function(b,a){this.renderDependencies(a)},removeDependencyElements:function(a,b){if(b!==!1){this.getElementsForDependency(a).fadeOut({remove:!0})}else {this.getElementsForDependency(a).remove()}},onDependencyDelete:function(b,a){this.removeDependencyElements(a)},dimEventDependencies:function(a){this.containerEl.select(this.depRe+a).setOpacity(0.2)},clearSelectedDependencies:function(){this.containerEl.select('.'+this.selectedCls).removeCls(this.selectedCls)},onTaskUpdated:function(c,a,b){if(!this.taskStore.cascading&&b!=Ext.data.Model.COMMIT&&(!a.previous||a.startDateField in a.previous||a.endDateField in a.previous)){this.updateDependencies(a)}},updateDependencies:function(a){if(!Ext.isArray(a)){a=[a]}var b=this;Ext.each(a,function(c){Ext.each(c.getAllDependencies(),function(d){b.removeDependencyElements(d,!1)})});this.renderTaskDependencies(a)},onDependencyDrop:function(e,c,b,d){var a=new this.store.model({fromTask:c,toTask:b,type:d});if(this.store.isValidDependency(a)){this.store.add(a)}},destroy:function(){if(this.dnd){this.dnd.destroy()}this.unBindTaskStore();this.unBindDependencyStore()}});Ext.define('Gnt.view.Gantt',{extend:'Sch.view.TimelineTreeView',alias:['widget.ganttview'],requires:['Gnt.view.Dependency','Gnt.model.Task','Gnt.template.Task','Gnt.template.ParentTask','Gnt.template.Milestone','Gnt.feature.TaskDragDrop','Gnt.feature.ProgressBarResize','Gnt.feature.TaskResize','Sch.view.Horizontal'],uses:['Gnt.feature.LabelEditor','Gnt.feature.DragCreator'],_cmpCls:'sch-ganttview',rowHeight:22,barMargin:4,scheduledEventName:'task',trackOver:!1,toggleOnDblClick:!1,milestoneOffset:8,parentTaskOffset:6,eventSelector:'.sch-gantt-item',eventWrapSelector:'.sch-event-wrap',progressBarResizer:null,taskResizer:null,taskDragDrop:null,dragCreator:null,dependencyView:null,resizeConfig:null,dragDropConfig:null,constructor:function(b){var a=b.panel._top;Ext.apply(this,{taskStore:a.taskStore,dependencyStore:a.dependencyStore,enableDependencyDragDrop:a.enableDependencyDragDrop,enableTaskDragDrop:a.enableTaskDragDrop,enableProgressBarResize:a.enableProgressBarResize,enableDragCreation:a.enableDragCreation,allowParentTaskMove:a.allowParentTaskMove,toggleParentTasksOnClick:a.toggleParentTasksOnClick,resizeHandles:a.resizeHandles,enableBaseline:a.baselineVisible||a.enableBaseline,leftLabelField:a.leftLabelField,rightLabelField:a.rightLabelField,eventTemplate:a.eventTemplate,parentEventTemplate:a.parentEventTemplate,milestoneTemplate:a.milestoneTemplate,resizeConfig:a.resizeConfig,dragDropConfig:a.dragDropConfig});this.addEvents('taskclick','taskdblclick','taskcontextmenu','beforetaskresize','taskresizestart','partialtaskresize','aftertaskresize','beforeprogressbarresize','progressbarresizestart','afterprogressbarresize','beforetaskdrag','taskdragstart','taskdrop','aftertaskdrop','labeledit_beforestartedit','labeledit_beforecomplete','labeledit_complete','beforedependencydrag','dependencydragstart','dependencydrop','afterdependencydragdrop');this.callParent(arguments)},initComponent:function(){this.configureLabels();this.setupGanttEvents();this.callParent(arguments);this.setupTemplates()},getDependencyStore:function(){return this.dependencyStore},configureFeatures:function(){if(this.enableProgressBarResize!==!1){this.progressBarResizer=Ext.create('Gnt.feature.ProgressBarResize',{gantt:this});this.on({beforeprogressbarresize:this.onBeforeTaskProgressBarResize,progressbarresizestart:this.onTaskProgressBarResizeStart,afterprogressbarresize:this.onTaskProgressBarResizeEnd,scope:this})}if(this.resizeHandles!=='none'){this.taskResizer=Ext.create('Gnt.feature.TaskResize',Ext.apply({gantt:this,validatorFn:this.resizeValidatorFn||Ext.emptyFn,validatorFnScope:this.validatorFnScope||this},this.resizeConfig||{}));this.on({beforedragcreate:this.onBeforeDragCreate,beforetaskresize:this.onBeforeTaskResize,taskresizestart:this.onTaskResizeStart,aftertaskresize:this.onTaskResizeEnd,scope:this})}if(this.enableTaskDragDrop){this.taskDragDrop=Ext.create('Gnt.feature.TaskDragDrop',Ext.apply({gantt:this,validatorFn:this.dndValidatorFn||Ext.emptyFn,validatorFnScope:this.validatorFnScope||this},this.dragDropConfig));this.on({beforetaskdrag:this.onBeforeTaskDrag,taskdragstart:this.onDragDropStart,aftertaskdrop:this.onDragDropEnd,scope:this})}if(this.enableDragCreation){this.dragCreator=Ext.create('Gnt.feature.DragCreator',Ext.apply({ganttView:this}))}},prepareData:function(f,e,c){var a=this,b={},d=a.gridDataColumns||a.getGridColumns();b[d[0].id]=this.renderTask(c);return b},renderTask:function(a){var f=a.getStartDate(),x=this.timeAxis,y=Sch.util.Date,b={},m='',e=x.getStart(),c=x.getEnd(),i=a.isMilestone(),z=a.isLeaf(),g,h,d;if(f){var s=a.getEndDate()||Sch.util.Date.add(f,Sch.util.Date.DAY,1),A=Sch.util.Date.intersectSpans(f,s,e,c);if(A){d=s>c;h=y.betweenLesser(f,e,c);var t=Math.floor(this.getXYFromDate(h?f:e)[0]),v=Math.floor(this.getXYFromDate(d?c:s)[0]),j=i?0:v-t;if(!i&&!z){if(d){j+=this.parentTaskOffset}else {j+=2*this.parentTaskOffset}}b={id:a.internalId,leftOffset:i?v||t:t,width:Math.max(1,j),percentDone:Math.min(a.getPercentDone()||0,100)};g=this.eventRenderer.call(this.eventRendererScope||this,a,b,a.store)||{};var l=this.leftLabelField,k=this.rightLabelField,n;if(l){b.leftLabel=l.renderer.call(l.scope||this,a.data[l.dataIndex],a)}if(k){b.rightLabel=k.renderer.call(k.scope||this,a.data[k.dataIndex],a)}Ext.apply(b,g);if(i){n=this.milestoneTemplate}else {b.width=Math.max(1,j);var q='';if(d){q=' sch-event-endsoutside '}if(!h){q=' sch-event-startsoutside '}b.ctcls=(b.ctcls||'')+q;n=this[z?'eventTemplate':'parentEventTemplate']}var p=' sch-event-resizable-'+a.getResizable();if(a.dirty){p+=' sch-dirty '}if(a.isDraggable()===!1){p+=' sch-event-fixed '}b.cls=(b.cls||'')+(a.getCls()||'')+p;m+=n.apply(b)}}if(this.enableBaseline){var r=a.getBaselineStartDate(),o=a.getBaselineEndDate();if(!g){g=this.eventRenderer.call(this,a,b,a.store)||{}}if(r&&o){d=o>c;h=y.betweenLesser(r,e,c);var u=a.isBaselineMilestone(),B=u?this.baselineMilestoneTemplate:a.isLeaf()?this.baselineTaskTemplate:this.baselineParentTaskTemplate,w=Math.floor(this.getXYFromDate(h?r:e)[0]),C=u?0:Math.floor(this.getXYFromDate(d?c:o)[0])-w;m+=B.apply({basecls:g.basecls||'',id:a.internalId+'-base',percentDone:a.getBaselinePercentDone(),leftOffset:w,width:Math.max(1,C)})}}return m},setupTemplates:function(){var a={leftLabel:!!this.leftLabelField,rightLabel:!!this.rightLabelField,prefix:this.eventPrefix,enableDependencyDragDrop:this.enableDependencyDragDrop!==!1,resizeHandles:this.resizeHandles,enableProgressBarResize:this.enableProgressBarResize};if(!this.eventTemplate){a.baseCls='sch-gantt-task {ctcls}';this.eventTemplate=Ext.create('Gnt.template.Task',a)}if(!this.parentEventTemplate){a.baseCls='sch-gantt-parent-task {ctcls}';this.parentEventTemplate=Ext.create('Gnt.template.ParentTask',a)}if(!this.milestoneTemplate){a.baseCls='sch-gantt-milestone {ctcls}';this.milestoneTemplate=Ext.create('Gnt.template.Milestone',a)}if(this.enableBaseline){a={prefix:this.eventPrefix};if(!this.baselineTaskTemplate){a.baseCls='sch-gantt-task-baseline sch-gantt-baseline-item {basecls}';this.baselineTaskTemplate=Ext.create('Gnt.template.Task',a)}if(!this.baselineParentTaskTemplate){a.baseCls='sch-gantt-parenttask-baseline sch-gantt-baseline-item {basecls}';this.baselineParentTaskTemplate=Ext.create('Gnt.template.ParentTask',a)}if(!this.baselineMilestoneTemplate){a.baseCls='sch-gantt-milestone-baseline sch-gantt-baseline-item {basecls}';this.baselineMilestoneTemplate=Ext.create('Gnt.template.Milestone',a)}}},getDependencyView:function(){return this.dependencyView},getTaskStore:function(){return this.taskStore},initDependencies:function(){if(this.dependencyStore){var a=this,b=Ext.create('Gnt.view.Dependency',{containerEl:a.el,ganttView:a,enableDependencyDragDrop:a.enableDependencyDragDrop,store:a.dependencyStore});b.on({beforednd:a.onBeforeDependencyDrag,dndstart:a.onDependencyDragStart,drop:a.onDependencyDrop,afterdnd:a.onAfterDependencyDragDrop,beforecascade:a.onBeforeCascade,cascade:a.onCascade,scope:a});a.dependencyView=b;a.relayEvents(b,['dependencydblclick'])}},setupGanttEvents:function(){var a=this.getSelectionModel();if(this.toggleParentTasksOnClick){this.on({taskclick:function(b,a){if(!a.isLeaf()){this.toggle(a)}},scope:this})}},configureLabels:function(){var c={renderer:function(a){return a},dataIndex:undefined};var b=this.leftLabelField;if(b){if(Ext.isString(b)){b=this.leftLabelField={dataIndex:b}}Ext.applyIf(b,c);if(b.editor){b.editor=Ext.create('Gnt.feature.LabelEditor',this,{alignment:'r-r',delegate:'.sch-gantt-label-left',labelPosition:'left',field:b.editor,dataIndex:b.dataIndex})}}var a=this.rightLabelField;if(a){if(Ext.isString(a)){a=this.rightLabelField={dataIndex:a}}Ext.applyIf(a,c);if(a.editor){a.editor=Ext.create('Gnt.feature.LabelEditor',this,{alignment:'l-l',delegate:'.sch-gantt-label-right',labelPosition:'right',field:a.editor,dataIndex:a.dataIndex})}}this.on('labeledit_beforestartedit',this.onBeforeLabelEdit,this)},onBeforeTaskDrag:function(b,a){return !this.readOnly&&(this.allowParentTaskMove||a.isLeaf())},onDragDropStart:function(){if(this.tip){this.tip.disable()}},onDragDropEnd:function(){if(this.tip){this.tip.enable()}},onTaskProgressBarResizeStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onTaskProgressBarResizeEnd:function(){if(this.tip){this.tip.enable()}},onTaskResizeStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onTaskResizeEnd:function(){if(this.tip){this.tip.enable()}},onBeforeDragCreate:function(){return !this.readOnly},onBeforeTaskResize:function(b,a){return !this.readOnly&&a.getSchedulingMode()!=='EffortDriven'},onBeforeTaskProgressBarResize:function(){return !this.readOnly},onBeforeLabelEdit:function(){return !this.readOnly},onBeforeEdit:function(){return !this.readOnly},beforeRender:function(){this.addCls('sch-ganttview');this.callParent(arguments)},afterRender:function(){this.initDependencies();this.callParent(arguments);this.el.on('mousemove',this.configureFeatures,this,{single:!0})},resolveTaskRecord:function(a){var b=this.findItemByChild(a);if(b){return this.getRecord(this.findItemByChild(a))}return null},resolveEventRecord:function(a){return this.resolveTaskRecord(a)},highlightTask:function(a,b){if(!(a instanceof Ext.data.Model)){a=this.taskStore.getById(a)}if(a){var c=this.getNode(a);if(c){Ext.fly(c).addCls('sch-gantt-task-highlighted')}var d=a.getId()||a.internalId;if(b!==!1){this.dependencyStore.each(function(c){if(c.getSourceId()==d){this.highlightDependency(c.id);this.highlightTask(c.getTargetId(),b)}},this)}}},unhighlightTask:function(a,b){if(!(a instanceof Ext.data.Model)){a=this.taskStore.getById(a)}if(a){Ext.fly(this.getNode(a)).removeCls('sch-gantt-task-highlighted');var c=a.getId()||a.internalId;if(b!==!1){this.dependencyStore.each(function(d){if(d.getSourceId()==c){this.unhighlightDependency(d.id);this.unhighlightTask(d.getTargetId(),b)}},this)}}},clearSelectedTasksAndDependencies:function(){this.getSelectionModel().deselectAll();this.getDependencyView().clearSelectedDependencies();this.el.select('tr.sch-gantt-task-highlighted').removeCls('sch-gantt-task-highlighted')},getCriticalPaths:function(){return this.taskStore.getCriticalPaths()},highlightCriticalPaths:function(){this.clearSelectedTasksAndDependencies();var g=this.getCriticalPaths(),f=this.getDependencyView(),e=this.dependencyStore,b,a,c,d;Ext.each(g,function(g){for(a=0,c=g.length;a<c;a++){b=g[a];this.highlightTask(b,!1);if(a<c-1){d=e.getAt(e.findBy(function(c){return c.getTargetId()===(b.getId()||b.internalId)&&c.getSourceId()===(g[a+1].getId()||g[a+1].internalId)}));f.highlightDependency(d)}}},this);this.addCls('sch-gantt-critical-chain');this.getSelectionModel().setLocked(!0)},unhighlightCriticalPaths:function(){this.el.removeCls('sch-gantt-critical-chain');this.getSelectionModel().setLocked(!1);this.clearSelectedTasksAndDependencies()},getXOffset:function(b){var a=0;if(b.isMilestone()){a=this.milestoneOffset}else {if(!b.isLeaf()){a=this.parentTaskOffset}}return a},onDestroy:function(){if(this.dependencyView){this.dependencyView.destroy()}this.callParent(arguments)},highlightDependency:function(a){this.dependencyView.highlightDependency(a)},unhighlightDependency:function(a){this.dependencyView.unhighlightDependency(a)},onBeforeDependencyDrag:function(b,a){return this.fireEvent('beforedependencydrag',this,a)},onDependencyDragStart:function(a){this.fireEvent('dependencydragstart',this);if(this.tip){this.tip.disable()}},onDependencyDrop:function(d,b,a,c){this.fireEvent('dependencydrop',this,this.taskStore.getNodeById(b),this.taskStore.getById(a),c)},onAfterDependencyDragDrop:function(){this.fireEvent('afterdependencydragdrop',this);if(this.tip){this.tip.enable()}},onBeforeCascade:function(a,b){this.taskStore.un('update',this.onUpdate,this)},onCascade:function(a,b){this.taskStore.on('update',this.onUpdate,this)},onUpdate:function(d,b,c,a){if(a&&a.length===1&&a[0]==='expanded'){return}this.callParent(arguments)},getLeftEditor:function(){return this.leftLabelField.editor},getRightEditor:function(){return this.rightLabelField.editor},editLeftLabel:function(b){var a=this.leftLabelField&&this.getLeftEditor();if(a){a.edit(b)}},editRightLabel:function(b){var a=this.rightLabelField&&this.getRightEditor();if(a){a.edit(b)}},getOuterElementFromEventRecord:function(b){var a=this.callParent([b]);return a&&a.up(this.eventWrapSelector)||null},getDependenciesForTask:function(a){console.warn('`ganttPanel.getDependenciesForTask()` is deprecated, use `task.getAllDependencies()` instead');return a.getAllDependencies()},setNewTemplate:function(){var a=this,b=a.headerCt.getColumnsForTpl(!0);a.tpl=a.getTableChunker().getTableTpl({columns:[b[0]],features:a.features})}});Ext.define('Gnt.panel.Gantt',{extend:'Sch.panel.TimelineTreePanel',alias:['widget.ganttpanel'],alternateClassName:['Sch.gantt.GanttPanel'],requires:['Gnt.view.Gantt','Gnt.model.Dependency','Gnt.data.ResourceStore','Gnt.data.AssignmentStore','Gnt.feature.WorkingTime','Gnt.data.Calendar','Gnt.data.TaskStore','Gnt.data.DependencyStore'],uses:['Sch.plugin.CurrentTimeLine'],lockedXType:'treepanel',normalXType:'ganttpanel',viewType:'ganttview',syncRowHeight:!1,layout:'border',lightWeight:!0,leftLabelField:null,rightLabelField:null,highlightWeekends:!0,weekendsAreWorkdays:!1,skipWeekendsDuringDragDrop:!0,enableTaskDragDrop:!0,enableDependencyDragDrop:!0,enableProgressBarResize:!1,toggleParentTasksOnClick:!0,addRowOnTab:!0,recalculateParents:!0,cascadeChanges:!1,showTodayLine:!1,enableBaseline:!1,baselineVisible:!1,enableAnimations:!1,workingTimePlugin:null,todayLinePlugin:null,allowParentTaskMove:!1,enableDragCreation:!0,eventRenderer:Ext.emptyFn,eventRendererScope:null,eventTemplate:null,parentEventTemplate:null,milestoneTemplate:null,autoHeight:null,calendar:null,taskStore:null,dependencyStore:null,resourceStore:null,assignmentStore:null,columnLines:!1,dndValidatorFn:Ext.emptyFn,resizeHandles:'both',resizeValidatorFn:Ext.emptyFn,resizeConfig:null,dragDropConfig:null,initStores:function(){var a=Ext.StoreMgr.lookup(this.taskStore||this.store);if(!a){Ext.Error.raise('You must specify a taskStore config')}if(!(a instanceof Gnt.data.TaskStore)){Ext.Error.raise('A `taskStore` should be an instance of `Gnt.data.TaskStore` (or of a subclass)')}Ext.apply(this,{store:a,taskStore:a});var d=this.calendar=a.calendar;if(this.needToTranslateOption('weekendsAreWorkdays')){d.setWeekendsAreWorkDays(this.weekendsAreWorkdays)}if(a.dependencyStore){this.dependencyStore=a.dependencyStore}else {if(this.dependencyStore){this.dependencyStore=Ext.StoreMgr.lookup(this.dependencyStore);a.setDependencyStore(this.dependencyStore)}else {this.dependencyStore=Ext.create('Gnt.data.DependencyStore');a.setDependencyStore(this.dependencyStore)}}if(!(this.dependencyStore instanceof Gnt.data.DependencyStore)){Ext.Error.raise('The Gantt dependency store should be a Gnt.data.DependencyStore, or a subclass thereof.')}var b;if(a.getResourceStore()){b=a.getResourceStore()}else {if(this.resourceStore){b=Ext.StoreMgr.lookup(this.resourceStore)}else {b=Ext.create('Gnt.data.ResourceStore')}}if(!(b instanceof Gnt.data.ResourceStore)){Ext.Error.raise('A `ResourceStore` should be an instance of `Gnt.data.ResourceStore` (or of a subclass)')}var c;if(a.getAssignmentStore()){c=a.getAssignmentStore()}else {if(this.assignmentStore){c=Ext.StoreMgr.lookup(this.assignmentStore)}else {c=Ext.create('Gnt.data.AssignmentStore')}}if(!(c instanceof Gnt.data.AssignmentStore)){Ext.Error.raise('An `assignmentStore` should be an instance of `Gnt.data.AssignmentStore` (or of a subclass)')}if(this.lockable){this.bindAssignmentStore(c,!0);this.bindResourceStore(b,!0)}},initComponent:function(){if(Ext.isBoolean(this.showBaseline)){this.enableBaseline=this.baselineVisible=this.showBaseline;this.showBaseline=Gnt.panel.Gantt.prototype.showBaseline}this.autoHeight=!1;this.initStores();if(this.needToTranslateOption('cascadeChanges')){this.setCascadeChanges(this.cascadeChanges)}if(this.needToTranslateOption('recalculateParents')){this.setRecalculateParents(this.recalculateParents)}if(this.needToTranslateOption('skipWeekendsDuringDragDrop')){this.setSkipWeekendsDuringDragDrop(this.skipWeekendsDuringDragDrop)}if(this.lockable){this.lockedGridConfig=this.lockedGridConfig||{};Ext.apply(this.lockedGridConfig,{columnLines:!0,rowLines:!0});this.configureFunctionality()}this.callParent(arguments);var b=this.getSchedulingView();this.relayEvents(b,['taskclick','taskdblclick','taskcontextmenu','beforetaskresize','taskresizestart','partialtaskresize','aftertaskresize','beforeprogressbarresize','progressbarresizestart','afterprogressbarresize','beforetaskdrag','taskdragstart','taskdrop','aftertaskdrop','labeledit_beforestartedit','labeledit_beforecomplete','labeledit_complete','beforedependencydrag','dependencydragstart','dependencydrop','afterdependencydragdrop','dependencydblclick']);if(this.lockable){this.bodyCls=(this.bodyCls||'')+' sch-ganttpanel-container-body';b.store.calendar=this.calendar;this.fixSelectionModel();if(this.addRowOnTab){var a=this.lockedGrid,c=this.getSelectionModel();c.onEditorTab=Ext.Function.createInterceptor(c.onEditorTab,function(d,g){var e=a.view,c=d.getActiveRecord(),f=d.getActiveColumn(),b=e.getPosition(c,f);if(b.column===a.headerCt.getColumnCount()-1&&b.row===a.view.store.getCount()-1){c.addTaskBelow({leaf:!0})}})}}},needToTranslateOption:function(a){return this.hasOwnProperty(a)||this.self.prototype.hasOwnProperty(a)&&this.self!=Gnt.panel.Gantt},fixSelectionModel:function(){var b=this.getSelectionModel();var a=this.lockedGrid.getView();var c=this.normalGrid.getView();a.__lockedType='locked';c.__lockedType='normal';var f=a.onAdd;a.onAdd=function(){b.__preventUpdateOf='normal';f.apply(this,arguments);delete b.__preventUpdateOf};var e=c.onAdd;c.onAdd=function(){b.__preventUpdateOf='locked';e.apply(this,arguments);delete b.__preventUpdateOf};var d=a.store;a.bindStore(null);c.bindStore(null);a.bindStore(d);c.bindStore(d);Ext.apply(b,{onSelectChange:function(f,g,d,i){var a=this,e=a.views,j=e.length,k=a.store,c=k.indexOf(f),h=g?'select':'deselect',b=0;if((d||a.fireEvent('before'+h,a,f,c))!==!1&&i()!==!1){for(;b<j;b++){if(!this.__preventUpdateOf||e[b].__lockedType!=this.__preventUpdateOf){if(g){e[b].onRowSelect(c,d)}else {e[b].onRowDeselect(c,d)}}}if(!d){a.fireEvent(h,a,f,c)}}}})},getDependencyView:function(){return this.getSchedulingView().getDependencyView()},disableWeekendHighlighting:function(a){this.workingTimePlugin.setDisabled(a)},resolveTaskRecord:function(a){return this.getSchedulingView().resolveTaskRecord(a)},fitTimeColumns:function(){this.getSchedulingView().fitColumns()},getResourceStore:function(){return this.getTaskStore().getResourceStore()},getAssignmentStore:function(){return this.getTaskStore().getAssignmentStore()},getTaskStore:function(){return this.taskStore},getDependencyStore:function(){return this.dependencyStore},onDragDropStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onDragDropEnd:function(){if(this.tip){this.tip.enable()}},configureFunctionality:function(){var a=this.plugins=[].concat(this.plugins||[]);if(this.highlightWeekends){this.workingTimePlugin=Ext.create('Gnt.feature.WorkingTime',{calendar:this.calendar});a.push(this.workingTimePlugin)}if(this.showTodayLine){this.todayLinePlugin=new Sch.plugin.CurrentTimeLine();a.push(this.todayLinePlugin)}},beforeRender:function(){if(this.lockable){var a=' sch-ganttpanel sch-horizontal ';if(this.highlightWeekends){a+=' sch-ganttpanel-highlightweekends '}this.addCls(a);if(this.baselineVisible){this.showBaseline()}}this.callParent(arguments)},afterRender:function(){this.callParent(arguments);if(this.lockable){this.applyPatches()}},showBaseline:function(){this.addCls('sch-ganttpanel-showbaseline')},hideBaseline:function(){this.removeCls('sch-ganttpanel-showbaseline')},toggleBaseline:function(){this.toggleCls('sch-ganttpanel-showbaseline')},zoomToFit:function(){var a=this.taskStore.getTotalTimeSpan();if(a.start&&a.end&&a.start<a.end){this.setTimeSpan(a.start,a.end);this.fitTimeColumns()}},getCascadeChanges:function(){return this.taskStore.cascadeChanges},setCascadeChanges:function(a){this.taskStore.cascadeChanges=a},getRecalculateParents:function(){return this.taskStore.recalculateParents},setRecalculateParents:function(a){this.taskStore.recalculateParents=a},setSkipWeekendsDuringDragDrop:function(a){this.taskStore.skipWeekendsDuringDragDrop=this.skipWeekendsDuringDragDrop=a},getSkipWeekendsDuringDragDrop:function(){return this.taskStore.skipWeekendsDuringDragDrop},applyPatches:function(){if(Ext.tree.plugin&&Ext.tree.plugin.TreeViewDragDrop){var a;Ext.each(this.lockedGrid.getView().plugins,function(b){if(b instanceof Ext.tree.plugin.TreeViewDragDrop){a=b;return !1}});if(!a||!a.dropZone){return}a.dropZone.handleNodeDrop=function(d,a,k){var g=this,m=g.view,f=a.parentNode,p=m.getStore(),n=[],i,b,h,e,c,l,j,o;if(d.copy){i=d.records;d.records=[];for(b=0,h=i.length;b<h;b++){d.records.push(Ext.apply({},i[b].data))}}g.cancelExpand();if(k=='before'){e=f.insertBefore;c=[null,a];a=f}else {if(k=='after'){if(a.nextSibling){e=f.insertBefore;c=[null,a.nextSibling]}else {e=f.appendChild;c=[null]}a=f}else {if(!a.isExpanded()){l=!0}e=a.appendChild;c=[null]}}j=function(){var f;for(b=0,h=d.records.length;b<h;b++){c[0]=d.records[b];c[0].isMove=!0;f=e.apply(a,c);delete c[0].isMove;if(Ext.enableFx&&g.dropHighlight){n.push(m.getNode(f))}}if(Ext.enableFx&&g.dropHighlight){Ext.Array.forEach(n,function(b){if(b){Ext.fly(b.firstChild?b.firstChild:b).highlight(g.dropHighlightColor)}})}};if(l){a.expand(!1,j)}else {j()}}}},bindResourceStore:function(b,c){var a=this;if(!c&&a.resourceStore){if(b!==a.resourceStore&&a.resourceStore.autoDestroy){a.resourceStore.destroy()}else {a.mun(a.resourceStore,{scope:a,datachanged:a.onResourceStoreDataChanged})}if(!b){a.resourceStore=null}}if(b){b=Ext.data.StoreManager.lookup(b);a.mon(b,{scope:a,datachanged:a.onResourceStoreDataChanged});this.taskStore.setResourceStore(b)}a.resourceStore=b;if(b&&!c){a.getView().refreshKeepingScroll()}},bindAssignmentStore:function(b,c){var a=this;if(!c&&a.assignmentStore){if(b!==a.assignmentStore&&a.assignmentStore.autoDestroy){a.assignmentStore.destroy()}else {a.mun(a.assignmentStore,{scope:a,datachanged:a.onAssignmentStoreDataChanged})}if(!b){a.assignmentStore=null}}if(b){b=Ext.data.StoreManager.lookup(b);a.mon(b,{scope:a,datachanged:a.onAssignmentStoreDataChanged});this.taskStore.setAssignmentStore(b)}a.assignmentStore=b;if(b&&!c){a.getView().refreshKeepingScroll()}},onResourceStoreDataChanged:function(){this.getView().refreshKeepingScroll()},onAssignmentStoreDataChanged:function(){this.getView().refreshKeepingScroll()}});Ext.define('Gnt.column.EndDate',{extend:'Ext.grid.column.Date',alias:'widget.enddatecolumn',requires:['Ext.grid.CellEditor'],text:'Finish',width:100,align:'left',task:null,editorFormat:null,constructor:function(a){a=a||{};var b=a.field||a.editor;delete a.field;delete a.editor;this.field=Ext.create('Ext.grid.CellEditor',{ignoreNoChange:!0,field:b||{xtype:'datefield',format:a.editorFormat||a.format||this.format||Ext.Date.defaultFormat},listeners:{beforecomplete:this.onBeforeEditComplete,scope:this}});this.callParent([a]);this.scope=this;this.renderer=a.renderer||this.rendererFunc;this.editorFormat=this.editorFormat||this.format},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.endDateField}this.callParent(arguments)},rendererFunc:function(a,c,b){if(!a){return}if(!b.isEditable(this.dataIndex)){c.tdCls=(c.tdCls||'')+' sch-column-readonly'}if(b.getEndDate()>b.getStartDate()&&a-Ext.Date.clearTime(a,!0)===0&&!Ext.Date.formatContainsHourInfo(this.format)){a=Sch.util.Date.add(a,Sch.util.Date.MILLI,-1)}return Ext.util.Format.date(a,this.format)},afterRender:function(){this.callParent(arguments);var a=this.ownerCt.up('treepanel');a.on({edit:this.onTreeEdit,beforeedit:this.onBeforeTreeEdit,scope:this})},onBeforeTreeEdit:function(a){if(a.column==this){a.doNotUpdateRecord=!0;var c=this.task=a.record;if(!c.isEditable(this.dataIndex)){return !1}if(c.getEndDate()>c.getStartDate()){var b=a.value;if(b-Ext.Date.clearTime(b,!0)===0&&!Ext.Date.formatContainsHourInfo(this.editorFormat)){b=Sch.util.Date.add(b,Sch.util.Date.MILLI,-1)}a.value=Ext.Date.parse(Ext.Date.format(b,this.editorFormat),this.editorFormat)}}},onBeforeEditComplete:function(c,a,b){if(this.task&&a<this.task.getStartDate()){return !1}},onTreeEdit:function(d,a){if(a.column===this&&a.value){var c=a.record;var b=a.value;if(!Ext.Date.formatContainsHourInfo(this.editorFormat)){b=c.getCalendar().getCalendarDay(b).getAvailabilityEndFor(b)||b}a.record.setEndDate(b,!1)}}});Ext.define('Gnt.column.PercentDone',{extend:'Ext.grid.column.Number',alias:'widget.percentdonecolumn',text:'% Done',width:50,format:'0',align:'center',field:{xtype:'numberfield',minValue:0,maxValue:100},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.percentDoneField}this.callParent(arguments)}});Ext.define('Gnt.column.StartDate',{extend:'Ext.grid.column.Date',alias:'widget.startdatecolumn',text:'Start',width:100,align:'left',editorFormat:null,constructor:function(a){a=a||{};var b=a.field||a.editor;delete a.field;delete a.editor;this.field=Ext.create('Ext.grid.CellEditor',{ignoreNoChange:!0,field:b||{xtype:'datefield',format:a.editorFormat||a.format||this.format||Ext.Date.defaultFormat}});this.callParent([a]);this.editorFormat=this.editorFormat||this.format},beforeRender:function(){var a=this.up('treepanel');if(!this.dataIndex){this.dataIndex=a.store.model.prototype.startDateField}this.callParent(arguments);a.on({edit:this.onTreeEdit,beforeedit:this.onBeforeTreeEdit,scope:this})},onBeforeTreeEdit:function(a){if(a.column==this){a.doNotUpdateRecord=!0;var c=a.record;if(!c.isEditable(this.dataIndex)){return !1}var b=a.value;if(b){a.value=Ext.Date.parse(Ext.Date.format(b,this.editorFormat),this.editorFormat)}}},onTreeEdit:function(d,a){var c=a.record;var b=a.value;if(a.column==this&&b&&b-a.originalValue!==0){c.setStartDate(b,!0,c.getTaskStore().skipWeekendsDuringDragDrop)}}});Ext.define('Gnt.column.WBS',{extend:'Ext.grid.column.Column',alias:'widget.wbscolumn',text:'#',width:40,align:'left',dataIndex:'index',renderer:function(f,g,a,h,e,d){var c=d.getRootNode(),b=[];while(a!==c){b.push(a.data.index+1);a=a.parentNode}return b.reverse().join('.')}});Ext.define('Gnt.column.SchedulingMode',{extend:'Ext.grid.column.Column',alias:'widget.schedulingmodecolumn',text:'Mode',width:100,align:'left',data:[['FixedDuration','Fixed duration'],['EffortDriven','Effort driven'],['DynamicAssignment','Dynamic assignment'],['Manual','Manual'],['Normal','Normal']],modeNames:null,pickerAlign:'tl-bl?',matchFieldWidth:!0,constructor:function(a){a=a||{};var c=a.field||a.editor;a.field=c||{xtype:'combo',editable:!1,store:this.data,pickerAlign:this.pickerAlign,matchFieldWidth:this.matchFieldWidth};var b=this.modeNames={};Ext.Array.each(this.data,function(c){b[c[0]]=c[1]});this.scope=this;this.callParent([a])},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.schedulingModeField}this.callParent(arguments)},renderer:function(a){return this.modeNames[a]},afterRender:function(){this.callParent(arguments);this.tree=this.ownerCt.up('treepanel');this.tree.on('edit',this.onTreeEdit,this)},onTreeEdit:function(b,a){if(a.column==this){a.record.setSchedulingMode(a.value)}}});Ext.define('Gnt.column.ResourceAssignment',{extend:'Ext.grid.column.Column',alias:'widget.resourceassignmentcolumn',text:'Assigned Resources',tdCls:'sch-assignment-cell',showUnits:!0,assignmentStore:null,initComponent:function(){this.formatString='{0}'+(this.showUnits?' [{1}%]':'');this.callParent(arguments)},afterRender:function(){this.scope=this;this.callParent(arguments);this.assignmentStore=this.getOwnerHeaderCt().up('ganttpanel').assignmentStore},renderer:function(j,m,e,h,l,k,i){var d=[],c=this.assignmentStore,a,g=e.getInternalId();if(c.resourceStore.getCount()>0){for(var b=0,f=c.getCount();b<f;b++){a=c.getAt(b);if(a.getTaskId()===g){d.push(Ext.String.format(this.formatString,a.getResourceName(),a.getUnits()))}}return d.join(', ')}}});Ext.define('Gnt.column.ResourceName',{extend:'Ext.grid.column.Column',alias:'widget.resourcenamecolumn',text:'Resource Name',dataIndex:'ResourceName',flex:1,align:'left'});Ext.define('Gnt.column.AssignmentUnits',{extend:'Ext.grid.column.Number',alias:'widget.assignmentunitscolumn',text:'Units',dataIndex:'Units',format:'0 %',align:'left'});Ext.define('Gnt.widget.AssignmentGrid',{requires:['Gnt.model.Resource','Gnt.model.Assignment','Gnt.column.ResourceName','Gnt.column.AssignmentUnits','Ext.grid.plugin.CellEditing'],extend:'Ext.grid.Panel',alias:'widget.assignmentgrid',readOnly:!1,cls:'gnt-assignmentgrid',defaultAssignedUnits:100,sorter:{sorterFn:function(c,b){var a=c.getUnits(),d=b.getUnits();if(!a&&!d||a&&d){return c.get('ResourceName')<b.get('ResourceName')?-1:1}return a?-1:1}},constructor:function(a){this.store=Ext.create('Ext.data.JsonStore',{model:Ext.define('Gnt.model.AssignmentEditing',{extend:'Gnt.model.Assignment',fields:['ResourceName']})});this.columns=this.buildColumns();if(!this.readOnly){this.plugins=this.buildPlugins()}Ext.apply(this,{selModel:{selType:'checkboxmodel',mode:'MULTI',checkOnly:!0,selectByPosition:function(b){var c=this.store.getAt(b.row);this.select(c,!0)}}});this.callParent(arguments)},initComponent:function(){this.loadResources();this.resourceStore.on({datachanged:this.loadResources,scope:this});this.getSelectionModel().on('select',this.onSelect,this,{delay:50});this.callParent(arguments)},onSelect:function(b,a){if((!this.cellEditing||!this.cellEditing.getActiveEditor())&&!a.getUnits()){a.setUnits(this.defaultAssignedUnits)}},loadResources:function(){var d=[],a=this.resourceStore,c;for(var b=0,e=a.getCount();b<e;b++){c=a.getAt(b).getId();d.push({ResourceId:c,ResourceName:a.getById(c).getName()})}this.store.loadData(d)},buildPlugins:function(){var a=this.cellEditing=Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1});a.on('edit',this.onEditingDone,this);return [a]},onEditingDone:function(b,a){if(a.value){this.getSelectionModel().select(a.record,!0)}else {this.getSelectionModel().deselect(a.record);a.record.reject()}},buildColumns:function(){return [{xtype:'resourcenamecolumn',resourceStore:this.resourceStore},{xtype:'assignmentunitscolumn',assignmentStore:this.assignmentStore,editor:{xtype:'numberfield',minValue:0,step:10}}]},loadTaskAssignments:function(e){var a=this.store,c=this.getSelectionModel();c.deselectAll(!0);for(var b=0,d=a.getCount();b<d;b++){a.getAt(b).data.Units='';a.getAt(b).data.Id=null}a.suspendEvents();var f=this.assignmentStore.queryBy(function(a){return a.getTaskId()===e});f.each(function(d){var b=a.findRecord('ResourceId',d.getResourceId(),0,!1,!0,!0);if(b){b.setUnits(d.getUnits());b.set(b.idProperty,d.getId());c.select(b,!0,!0)}});a.resumeEvents();a.sort(this.sorter);this.getView().refresh()}});Ext.define('Gnt.widget.AssignmentField',{extend:'Ext.form.field.Picker',alias:'widget.assignmenteditor',requires:['Gnt.widget.AssignmentGrid'],matchFieldWidth:!1,editable:!1,cancelText:'Cancel',closeText:'Save and Close',assignmentStore:null,resourceStore:null,gridConfig:null,createPicker:function(){var a=new Gnt.widget.AssignmentGrid(Ext.apply({ownerCt:this.ownerCt,renderTo:document.body,frame:!0,floating:!0,hidden:!0,height:200,width:300,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,fbar:this.buildButtons()},this.gridConfig||{}));return a},buildButtons:function(){return ['->',{text:this.closeText,handler:function(){Ext.Function.defer(this.onGridClose,Ext.isIE&&!Ext.isIE9?60:30,this)},scope:this},{text:this.cancelText,handler:this.collapse,scope:this}]},onExpand:function(){var b=this.resourceStore,a=this.picker;a.loadTaskAssignments(this.taskId)},onGridClose:function(){var b=this.picker.getSelectionModel(),a=b.selected;this.fireEvent('select',this,a);this.collapse()},collapseIf:function(a){var b=this;if(this.picker&&!a.getTarget('.x-editor')&&!a.getTarget('.x-menu-item')){b.callParent(arguments)}}});Ext.define('Gnt.widget.AssignmentCellEditor',{extend:'Ext.grid.CellEditor',requires:['Gnt.model.Assignment','Gnt.widget.AssignmentField'],assignmentStore:null,resourceStore:null,taskId:null,fieldConfig:null,allowBlur:!1,constructor:function(a){a=a||{};var b=a.fieldConfig||{};this.field=Ext.create('Gnt.widget.AssignmentField',Ext.apply(b,{assignmentStore:a.assignmentStore,resourceStore:a.resourceStore}));this.field.on({select:this.onSelect,collapse:this.cancelEdit,scope:this});this.callParent(arguments)},startEdit:function(b,d,c){this.parentEl=null;var a=b.child('div').dom.innerHTML;this.taskId=this.field.taskId=c.record.getInternalId();this.callParent([b,a==='&nbsp;'?'':a]);this.field.expand()},onSelect:function(g,f){var a=this.assignmentStore,e=this.taskId;var b={};var d=[];f.each(function(i){var h=i.getUnits();if(h>0){var j=i.getId();if(j){b[j]=!0;a.getById(j).setUnits(h)}else {var c=Ext.create(a.model);c.setTaskId(e);c.setResourceId(i.getResourceId());c.setUnits(h);b[c.internalId]=!0;d.push(c)}}});var c=[];a.each(function(a){if(a.getTaskId()===e&&!b[a.getId()||a.internalId]){c.push(a)}});a.remove(c);a.add(d);this.completeEdit()}});Ext.define('Gnt.widget.DurationField',{extend:'Ext.form.field.Number',alias:'widget.durationfield',alternateClassName:'Gnt.column.duration.Field',disableKeyFilter:!0,minValue:0,durationRegex:/(-?\d+(?:[.,]\d+)?)\s*(\w+)?/i,unitsRegex:{MILLI:/^ms$|^mil/i,SECOND:/^s$|^sec/i,MINUTE:/^m$|^min/i,HOUR:/^h$|^hr$|^hour/i,DAY:/^d$|^day/i,WEEK:/^w$|^wk|^week/i,MONTH:/^mo|^mnt/i,QUARTER:/^q$|^quar|^qrt/i,YEAR:/^y$|^yr|^year/i},durationUnit:'h',useAbbreviation:!1,rawToValue:function(b){var a=this.parseDuration(b);if(!a){return null}this.durationUnit=a.unit;return a.value!=null?a.value:null},valueToRaw:function(a){if(Ext.isNumber(a)){return parseFloat(Ext.Number.toFixed(a,this.decimalPrecision))+' '+Sch.util.Date[this.useAbbreviation?'getShortNameOfUnit':'getReadableNameOfUnit'](this.durationUnit,a>1)}return ''},parseDuration:function(a){if(a==null||!this.durationRegex.test(a)){return null}var b=this.durationRegex.exec(a);var e=this.parseValue(b[1]);var c=b[2];var d;if(c){Ext.iterate(this.unitsRegex,function(b,e){if(e.test(c)){d=Sch.util.Date.getUnitByName(b);return !1}})}return {value:e,unit:d||this.durationUnit}},getDurationValue:function(){return this.parseDuration(this.getRawValue())},getErrors:function(b){var a=this.parseDuration(b);if(!a){return ['Invalid number format']}return this.callParent([a.value])}});Ext.define('Gnt.widget.DurationEditor',{extend:'Ext.grid.CellEditor',alias:['widget.durationeditor','widget.durationcolumneditor'],alternateClassName:'Gnt.column.duration.Editor',context:null,decimalPrecision:2,getDurationUnitMethod:'getDurationUnit',setDurationMethod:'setDuration',useAbbreviation:!1,constructor:function(a){a=a||{};Ext.apply(this,a);a.field=a.field||Ext.create('Gnt.widget.DurationField',{useAbbreviation:this.useAbbreviation,decimalPrecision:this.decimalPrecision});this.callParent([a])},startEdit:function(c,b,a){this.context=a;this.field.durationUnit=a.record[this.getDurationUnitMethod]();return this.callParent(arguments)},completeEdit:function(c){var a=this,d=a.field,b;if(!a.editing){return}if(d.assertValue){d.assertValue()}b=a.getValue();if(!d.isValid()){if(a.revertInvalid!==!1){a.cancelEdit(c)}return}if(String(b)===String(a.startValue)&&a.ignoreNoChange){a.hideEdit(c);return}if(a.fireEvent('beforecomplete',a,b,a.startValue)!==!1){b=a.getValue();if(a.updateEl&&a.boundEl){a.boundEl.update(b)}a.hideEdit(c);var g=this.context;var f=g.record;var e=this.field.getDurationValue();f[this.setDurationMethod](e.value,e.unit);a.fireEvent('complete',a,b,a.startValue)}}});Ext.define('Gnt.column.Duration',{extend:'Ext.grid.column.Column',alias:'widget.durationcolumn',requires:['Gnt.widget.DurationField','Gnt.widget.DurationEditor'],text:'Duration',width:80,align:'left',decimalPrecision:2,getDurationUnitMethod:'getDurationUnit',setDurationMethod:'setDuration',useAbbreviation:!1,constructor:function(a){a=a||{};Ext.apply(this,a);a.editor=a.editor||Ext.create('Gnt.widget.DurationEditor',{useAbbreviation:this.useAbbreviation,decimalPrecision:this.decimalPrecision,getDurationUnitMethod:this.getDurationUnitMethod,setDurationMethod:this.setDurationMethod});if(!a.editor.isFormField){a.editor=Ext.ComponentManager.create(a.editor,'durationcolumneditor')}this.scope=this;this.callParent([a]);this.mon(this.editor,'beforestartedit',this.onBeforeStartEdit,this)},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.durationField}this.callParent(arguments)},onBeforeStartEdit:function(b){var a=b.context.record;return a.isEditable(this.dataIndex)},renderer:function(a,c,b){if(!Ext.isNumber(a)){return ''}if(!b.isEditable(this.dataIndex)){c.tdCls=(c.tdCls||'')+' sch-column-readonly'}a=parseFloat(Ext.Number.toFixed(a,this.decimalPrecision));return a+' '+Sch.util.Date[this.useAbbreviation?'getShortNameOfUnit':'getReadableNameOfUnit'](b[this.getDurationUnitMethod](),a>1)}});Ext.define('Gnt.column.Effort',{extend:'Gnt.column.Duration',alias:'widget.effortcolumn',header:'Effort',getDurationUnitMethod:'getEffortUnit',setDurationMethod:'setEffort',beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.effortField}this.callParent(arguments)}});Ext.define('Gnt.widget.Calendar',{extend:'Ext.picker.Date',alias:'widget.ganttcalendar',requires:['Gnt.data.Calendar','Sch.util.Date'],calendar:null,startDate:null,endDate:null,disabledDatesText:'Holiday',initComponent:function(){if(!this.calendar){Ext.Error.raise('Required attribute "calendar" missing during initialization of `Gnt.widget.Calendar`')}if(!this.startDate){Ext.Error.raise('Required attribute "startDate" missing during initialization of `Gnt.widget.Calendar`')}if(!this.endDate){this.endDate=Sch.util.Date.add(this.startDate,Sch.util.Date.MONTH,1)}this.setCalendar(this.calendar);this.minDate=this.value=this.startDate;this.injectDates();this.callParent(arguments)},injectDates:function(){var a=this;var b=a.disabledDates=[];Ext.each(a.calendar.getHolidaysRanges(a.startDate,a.endDate),function(c){c.forEachDate(function(d){b.push(Ext.Date.format(d,a.format))})});a.setDisabledDates(b)},setCalendar:function(b){var a={update:this.injectDates,remove:this.injectDates,add:this.injectDates,load:this.injectDates,clear:this.injectDates,scope:this};if(this.calendar){this.calendar.un(a)}this.calendar=b;b.on(a)}});Ext.define('Gnt.widget.calendar.DayGrid',{extend:'Ext.grid.Panel',title:'Day overrides',height:180,nameText:'Name',dateText:'Date',noNameText:'[Day override]',initComponent:function(){Ext.applyIf(this,{store:Ext.create('Gnt.data.Calendar',{proxy:'memory'}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],columns:[{header:this.nameText,dataIndex:'Name',flex:1,editor:{allowBlank:!1}},{header:this.dateText,dataIndex:'Date',width:100,xtype:'datecolumn',editor:{xtype:'datefield'}}]});this.callParent(arguments)}});Ext.define('Gnt.widget.calendar.WeekGrid',{extend:'Ext.grid.Panel',requires:['Gnt.model.WeekAvailability'],title:'Week overrides',border:!0,height:220,nameText:'Name',startDateText:'Start date',endDateText:'End date',initComponent:function(){Ext.applyIf(this,{store:Ext.create('Ext.data.Store',{model:'Gnt.model.WeekAvailability',proxy:'memory'})});Ext.applyIf(this,{columns:[{header:this.nameText,dataIndex:this.store.model.prototype.nameField,flex:1,editor:{allowBlank:!1}},{header:this.startDateText,dataIndex:this.store.model.prototype.startDateField,width:100,xtype:'datecolumn',editor:{xtype:'datefield'}},{header:this.endDateText,dataIndex:this.store.model.prototype.endDateField,width:100,xtype:'datecolumn',editor:{xtype:'datefield'}}],plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});this.callParent(arguments)}});Ext.define('Gnt.widget.calendar.ResourceCalendarGrid',{extend:'Ext.grid.Panel',requires:['Gnt.data.Calendar','Sch.util.Date'],alias:'widget.resourcecalendargrid',resourceStore:null,calendarStore:null,initComponent:function(){var a=this;this.calendarStore=this.calendarStore||Ext.create('Ext.data.Store',{fields:['Id','Name']});Ext.apply(a,{store:a.resourceStore,columns:[{header:'Name',dataIndex:'Name',flex:1},{header:'Calendar',dataIndex:'CalendarId',flex:1,renderer:function(b,i,e,h,g,f){if(!b){var c=e.getCalendar();b=c?c.calendarId:''}var d=a.calendarStore.getById(b);return d?d.get('Name'):b},editor:{xtype:'combobox',store:a.calendarStore,queryMode:'local',displayField:'Name',valueField:'Id',editable:!1,allowBlank:!1}}],border:!0,height:180,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});this.calendarStore.loadData(this.getCalendarData());this.callParent(arguments)},getCalendarData:function(){var a=[];Ext.Array.each(Gnt.data.Calendar.getAllCalendars(),function(b){a.push({Id:b.calendarId,Name:b.name||b.calendarId})});return a}});Ext.define('Gnt.widget.calendar.DayAvailabilityGrid',{extend:'Ext.grid.Panel',requires:['Gnt.data.Calendar','Sch.util.Date'],alias:'widget.dayavailabilitygrid',height:160,calendarDay:null,startText:'Start',endText:'End',addText:'Add',removeText:'Remove',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',getDayTypeRadioGroup:function(){return this.down('radiogroup[name="dayType"]')},initComponent:function(){Ext.applyIf(this,{store:Ext.create('Ext.data.Store',{fields:['startTime','endTime'],proxy:{type:'memory',reader:{type:'json'}}}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],dockedItems:[{xtype:'radiogroup',dock:'top',name:'dayType',padding:'0 5px',margin:0,items:[{boxLabel:this.workingTimeText,name:'IsWorkingDay',inputValue:!0},{boxLabel:this.nonworkingTimeText,name:'IsWorkingDay',inputValue:!1}],listeners:{change:this.onDayTypeChanged,scope:this}}],tbar:this.buildToolbar(),columns:[{header:this.startText,xtype:'datecolumn',format:'g:i a',dataIndex:'startTime',flex:1,editor:{xtype:'timefield',allowBlank:!1,initDate:'31/12/1899'}},{header:this.endText,xtype:'datecolumn',format:'g:i a',dataIndex:'endTime',flex:1,editor:{allowBlank:!1,xtype:'timefield',initDate:'31/12/1899'}}],listeners:{selectionchange:this.onAvailabilityGridSelectionChange,scope:this}});this.callParent(arguments)},buildToolbar:function(){this.addButton=new Ext.Button({text:this.addText,iconCls:'gnt-action-add',handler:this.addAvailability,scope:this});this.removeButton=new Ext.Button({text:this.removeText,iconCls:'gnt-action-remove',handler:this.removeAvailability,scope:this,disabled:!0});return [this.addButton,this.removeButton]},onAvailabilityGridSelectionChange:function(a){if(this.removeButton){this.removeButton.setDisabled(!a||a.getSelection().length===0)}},onDayTypeChanged:function(b){var a=b.getValue();if(Ext.isArray(a.IsWorkingDay)){return}this.getView().setDisabled(!a.IsWorkingDay)},addAvailability:function(){var a=this.getStore(),b=a.count();if(b>=5){return}a.add({startTime:new Date(0,0,0,12,0),endTime:new Date(0,0,0,13,0)});if(b+1>=5&&this.addButton){this.addButton.setDisabled(!0)}},removeAvailability:function(){var b=this.getStore(),d=b.count(),a=this.getSelectionModel();if(!a||a.getSelection().length===0){return}var c=a.getSelection()[0];b.remove(c);if(d<5&&this.addButton){this.addButton.setDisabled(!1)}},editAvailability:function(a){this.calendarDay=a;this.getDayTypeRadioGroup().setValue({IsWorkingDay:a.getIsWorkingDay()});var b=this.calendarDay.getAvailability();this.getStore().loadData(b)},isWorkingDay:function(){return this.getDayTypeRadioGroup().getValue().IsWorkingDay},isValid:function(){var b=this.getDayTypeRadioGroup().getValue().IsWorkingDay,a=[];if(b){try{a=this.getIntervals();this.calendarDay.verifyAvailability(a)}catch(c){Ext.MessageBox.alert('Error',c);return !1}}return !0},getIntervals:function(){var a=[];this.getStore().each(function(b){a.push({startTime:b.get('startTime'),endTime:b.get('endTime')})});return a}});Ext.define('Gnt.widget.calendar.WeekEditor',{extend:'Ext.form.Panel',requires:['Ext.grid.*','Gnt.data.Calendar','Sch.util.Date'],alias:'widget.calendarweekeditor',layout:'anchor',defaults:{border:!1,anchor:'100%'},getDefaultWeekAvailabilityHandler:null,startDate:null,endDate:null,startHeaderText:'Start',endHeaderText:'End',defaultTimeText:'Default time',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',addText:'Add',removeText:'Remove',weekAvailability:null,currentWeekDay:null,_weekDaysGrid:null,getWeekDaysGrid:function(){if(this._weekDaysGrid!=null){return this._weekDaysGrid}var a=Ext.Date.dayNames;return this._weekDaysGrid=Ext.create('Ext.grid.Panel',{hideHeaders:!0,height:160,columns:[{header:'',dataIndex:'name',flex:1}],store:Ext.create('Ext.data.JsonStore',{fields:['id','name'],idProperty:'id',data:[{id:1,name:a[1]},{id:2,name:a[2]},{id:3,name:a[3]},{id:4,name:a[4]},{id:5,name:a[5]},{id:6,name:a[6]},{id:0,name:a[0]}]}),listeners:{selectionchange:{fn:this.onWeekDaysListSelectionChange,scope:this}}})},_availabilityGrid:null,getAvailabilityGrid:function(){if(!this._availabilityGrid){this._availabilityGrid=Ext.create('Ext.grid.Panel',{height:160,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],tbar:[{text:this.addText,action:'add',handler:this.addAvailability,scope:this,iconCls:'gnt-action-add'},{text:this.removeText,iconCls:'gnt-action-remove',action:'remove',handler:this.removeAvailability,scope:this}],store:Ext.create('Ext.data.Store',{fields:['startTime','endTime'],proxy:{type:'memory',reader:{type:'json'}}}),columns:[{header:this.startHeaderText,xtype:'datecolumn',format:'g:i a',dataIndex:'startTime',flex:1,editor:{xtype:'timefield',allowBlank:!1,initDate:'31/12/1899'}},{header:this.endHeaderText,xtype:'datecolumn',format:'g:i a',dataIndex:'endTime',flex:1,editor:{allowBlank:!1,xtype:'timefield',initDate:'31/12/1899'}}],listeners:{selectionchange:this.onAvailabilityGridSelectionChange,scope:this}})}return this._availabilityGrid},getDayTypeRadioGroup:function(){return this.down('radiogroup[name="dayType"]')},initComponent:function(){if(!this.getDefaultWeekAvailabilityHandler&&!Ext.isFunction(this.getDefaultWeekAvailabilityHandler)){Ext.Error.raise('Required attribute "getDefaultWeekAvailabilityHandler" is missed during initialization of `Gnt.widget.calendar.WeekEditor`')}this.items=[{xtype:'radiogroup',padding:'0 5px',name:'dayType',items:[{boxLabel:this.defaultTimeText,name:'IsWorkingDay',inputValue:0},{boxLabel:this.workingTimeText,name:'IsWorkingDay',inputValue:1},{boxLabel:this.nonworkingTimeText,name:'IsWorkingDay',inputValue:2}],listeners:{change:{fn:this.onDayTypeChanged,scope:this}}},{layout:'column',padding:'0 0 5px 0',defaults:{border:!1},items:[{margin:'0 10px 0 5px',columnWidth:0.5,items:this.getWeekDaysGrid()},{columnWidth:0.5,margin:'0 5px 0 0',items:this.getAvailabilityGrid()}]}];this.callParent(arguments)},addAvailability:function(){var b=this.getAvailabilityGrid(),a=b.getStore(),c=a.count();if(c>=5){return}a.add({startTime:new Date(0,0,0,12,0),endTime:new Date(0,0,0,13,0)});if(c+1>=5){b.down('button[action="add"]').setDisabled(!0)}},removeAvailability:function(){var a=this.getAvailabilityGrid(),c=a.getStore(),e=c.count(),b=a.getSelectionModel();if(!b||b.getSelection().length===0){return}var d=b.getSelection()[0];c.remove(d);if(e<5){a.down('button[action="add"]').setDisabled(!1)}},editAvailability:function(d,e,c){this.startDate=d;this.endDate=e;this.weekAvailability=c;var a=this.getWeekDaysGrid(),b=a.getStore().getAt(0);a.getSelectionModel().select(b,!1,!0);this.refreshView(b)},applyChanges:function(a){if(!this.validateAndSave()){return !1}if(a&&Ext.isFunction(a)){a.call(this,this.weekAvailability)}},getIntervals:function(){var a=[];this.getAvailabilityGrid().getStore().each(function(b){a.push({startTime:b.get('startTime'),endTime:b.get('endTime')})});return a},onWeekDaysListSelectionChange:function(b,a){if(!this.validateAndSave()){return !1}this.refreshView(a[0])},validateAndSave:function(){var b=this.currentWeekDay.get('IsWorkingDay'),a=[];if(b){try{a=this.getIntervals();this.currentWeekDay.verifyAvailability(a)}catch(c){Ext.MessageBox.alert('Error',c);return !1}}this.currentWeekDay.setAvailability(a);return !0},refreshView:function(d){var g=d.getId(),a=this.weekAvailability[g],f=this.getDayTypeRadioGroup(),e=a.getAvailability(),c=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(a.getId()),b=!c?0:a.get('IsWorkingDay')?1:2;this.currentWeekDay=a;f.setValue({IsWorkingDay:[b]});this.getAvailabilityGrid().getStore().loadData(e)},onAvailabilityGridSelectionChange:function(a){var b=this.getAvailabilityGrid();b.down('button[action="remove"]').setDisabled(!a||a.getSelection().length===0)},onDayTypeChanged:function(h){var b=h.getValue();if(Ext.isArray(b.IsWorkingDay)){return}var e=this.getWeekDaysGrid(),f=e.getSelectionModel(),a=f.getSelection()[0].getId(),g=this.weekAvailability[a].get('Name'),d=[],i=Ext.Date.format(this.startDate,'Y/m/d'),j=Ext.Date.format(this.endDate,'Y/m/d');switch(b.IsWorkingDay){case 0:var c=this.getDefaultWeekAvailabilityHandler()[a];c.set('Name',g);c.set('Date',null);d=c.getAvailability();this.weekAvailability[a]=c;break;default:d=this.weekAvailability[a].getAvailability();this.currentWeekDay.set('Id',Ext.String.format('{0}-{1}-{2}',a,i,j));this.currentWeekDay.set('IsWorkingDay',b.IsWorkingDay===1);break;}this.getAvailabilityGrid().getStore().loadData(Ext.clone(d));this.getAvailabilityGrid().setDisabled(b.IsWorkingDay!==1)}});Ext.define('Gnt.widget.calendar.DatePicker',{extend:'Ext.picker.Date',alias:'widget.gntdatepicker',calendar:null,workingDayCls:'gnt-datepicker-workingday',nonWorkingDayCls:'gnt-datepicker-nonworkingday',overriddenDayCls:'gnt-datepicker-overriddenday',overriddenWeekDayCls:'gnt-datepicker-overriddenweekday',_weeks:null,getWeekOverrides:function(){return this._weeks},setWeekOverrides:function(a){this._weeks=a},_days:null,getDayOverrides:function(){return this._days},setDayOverrides:function(a){this._days=a},update:function(c,e){var d=this,a=0,b=d.cells.elements;this.removeCustomCls();this.callParent(arguments);for(;a<d.numDays;++a){c=b[a].firstChild.dateValue;b[a].className+=' '+this.getDateCls(c)}},getDateCls:function(a){var b='',g=0,f=this;a=new Date(a);if(a.getMonth()!==this.getActive().getMonth()){return}if(this.getDayOverrides().getOverrideDay(a)){b+=' '+this.overriddenDayCls;if(!this.getDayOverrides().isWorkingDay(a)){b+=' '+this.nonWorkingDayCls}}else {var d=null;this.getWeekOverrides().each(function(b){if(Ext.Date.between(a,b.getStartDate(),b.getEndDate())){d=b;return !0}});if(d){b+=' '+this.overriddenWeekDayCls;var e=(new Date(a)).getDay(),c=d.getAvailability();if(c&&c[e]&&c[e].getIsWorkingDay()===!1){b+=' '+f.nonWorkingDayCls}}else {if(!this.getDayOverrides().isWorkingDay(a)){b+=' '+this.nonWorkingDayCls}}}return b.length>0?b:this.workingDayCls},removeCustomCls:function(){this.cells.removeCls([this.overriddenDayCls,this.nonWorkingDayCls,this.workingDayCls,this.overriddenWeekDayCls])}});Ext.define('Gnt.widget.calendar.Calendar',{extend:'Ext.form.Panel',requires:['Ext.XTemplate','Gnt.data.Calendar','Gnt.widget.calendar.DayGrid','Gnt.widget.calendar.WeekGrid','Gnt.widget.calendar.DayAvailabilityGrid','Gnt.widget.calendar.WeekEditor','Gnt.widget.calendar.DatePicker'],alias:'widget.calendar',defaults:{padding:10,border:!1},workingDayCls:'gnt-datepicker-workingday',nonWorkingDayCls:'gnt-datepicker-nonworkingday',overriddenDayCls:'gnt-datepicker-overriddenday',overriddenWeekDayCls:'gnt-datepicker-overriddenweekday',calendar:null,dayOverrideNameHeaderText:'Name',dateText:'Date',addText:'Add',editText:'Edit',removeText:'Remove',workingDayText:'Working day',weekendsText:'Weekends',overriddenDayText:'Overridden day',overriddenWeekText:'Overridden week',defaultTimeText:'Default time',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',dayGridConfig:null,weekGridConfig:null,datePickerConfig:null,dayOverridesText:'Day overrides',weekOverridesText:'Week overrides',okText:'OK',cancelText:'Cancel',dayGrid:null,weekGrid:null,getDayGrid:function(){if(!this.dayGrid){this.dayGrid=Ext.create('Gnt.widget.calendar.DayGrid',Ext.apply({tbar:[{text:this.addText,action:'add',iconCls:'gnt-action-add',handler:this.addDay,scope:this},{text:this.editText,action:'edit',iconCls:'gnt-action-edit',handler:this.editDay,scope:this},{text:this.removeText,action:'remove',iconCls:'gnt-action-remove',handler:this.removeDay,scope:this}]},this.dayGridConfig||{}))}return this.dayGrid},getWeekGrid:function(){if(!this.weekGrid){this.weekGrid=Ext.create('Gnt.widget.calendar.WeekGrid',Ext.apply({tbar:[{text:this.addText,action:'add',iconCls:'gnt-action-add',handler:this.addWeek,scope:this},{text:this.editText,action:'edit',iconCls:'gnt-action-edit',handler:this.editWeek,scope:this},{text:this.removeText,action:'remove',iconCls:'gnt-action-remove',handler:this.removeWeek,scope:this}]},this.weekGridConfig||{}))}return this.weekGrid},datePicker:null,getDatePicker:function(){if(!this.datePicker){this.datePicker=Ext.create('Gnt.widget.calendar.DatePicker',this.datePickerConfig||{})}return this.datePicker},legendTpl:'<ul class="gnt-calendar-legend"><li class="gnt-calendar-legend-item"><div class="gnt-calendar-legend-itemstyle {workingDayCls}"></div><span class="gnt-calendar-legend-itemname">{workingDayText}</span><div style="clear: both"></div></li><li><div class="gnt-calendar-legend-itemstyle {nonWorkingDayCls}"></div><span class="gnt-calendar-legend-itemname">{weekendsText}</span><div style="clear: both"></div></li><li class="gnt-calendar-legend-override"><div class="gnt-calendar-legend-itemstyle {overriddenDayCls}">31</div><span class="gnt-calendar-legend-itemname">{overriddenDayText}</span><div style="clear: both"></div></li><li class="gnt-calendar-legend-override"><div class="gnt-calendar-legend-itemstyle {overriddenWeekDayCls}">31</div><span class="gnt-calendar-legend-itemname">{overriddenWeekText}</span><div style="clear: both"></div></li></ul>',dateInfoTpl:'<tpl if="isWorkingDay == true"><div>Working hours for {date}:</div></tpl><tpl if="isWorkingDay == false"><div>{date} is non-working</div></tpl><ul class="gnt-calendar-availabilities"><tpl for="availability"><li>{.}</li></tpl></ul><span>Based on: <tpl if="override == true">override "{name}" in calendar "{calendarName}"</tpl><tpl if="override == false">standard day in calendar "{calendarName}"</tpl></span>',initComponent:function(){var b=this;if(!(this.legendTpl instanceof Ext.Template)){this.legendTpl=new Ext.XTemplate(this.legendTpl)}if(!(this.dateInfoTpl instanceof Ext.Template)){this.dateInfoTpl=new Ext.XTemplate(this.dateInfoTpl)}if(!this.calendar){Ext.Error.raise('Required attribute "calendar" is missed during initialization of `Gnt.widget.Calendar`')}var d=this.getWeekGrid(),c=this.getDayGrid(),a=this.getDatePicker();this.dayGrid.on({selectionchange:this.onDayGridSelectionChange,validateedit:this.onDayGridValidateEdit,edit:this.onDayGridEdit,scope:this});this.dayGrid.store.on({update:this.refreshView,remove:this.refreshView,add:this.refreshView,scope:this});this.weekGrid.on({selectionchange:this.onWeekGridSelectionChange,validateedit:this.onWeekGridValidateEdit,edit:this.onWeekGridEdit,scope:this});this.weekGrid.store.on({update:this.refreshView,remove:this.refreshView,add:this.refreshView,scope:this});this.datePicker.on({select:this.onDateSelect,scope:this});this.fillDaysStore();this.fillWeeksStore();a.setWeekOverrides(d.getStore());a.setDayOverrides(c.getStore());this.dateInfoPanel=new Ext.Panel({cls:'gnt-calendar-dateinfo',columnWidth:0.33,border:!1,height:200});this.items=[{xtype:'container',layout:'hbox',pack:'start',align:'stretch',items:[{html:Ext.String.format('Calendar name: "{0}"',this.calendar.name),border:!1,flex:1},{xtype:'combobox',name:'cmb_parentCalendar',fieldLabel:'Parent calendar',store:Ext.create('Ext.data.Store',{fields:['Id','Name'],data:[{Id:-1,Name:'No parent'}].concat(b.calendar.getParentableCalendars())}),queryMode:'local',displayField:'Name',valueField:'Id',editable:!1,emptyText:'Select parent',value:b.calendar.parent?b.calendar.parent.calendarId:-1,flex:1}]},{layout:'column',defaults:{border:!1},items:[{margin:'0 15px 0 0',columnWidth:0.3,html:this.legendTpl.apply({workingDayText:this.workingDayText,weekendsText:this.weekendsText,overriddenDayText:this.overriddenDayText,overriddenWeekText:this.overriddenWeekText,workingDayCls:this.workingDayCls,nonWorkingDayCls:this.nonWorkingDayCls,overriddenDayCls:this.overriddenDayCls,overriddenWeekDayCls:this.overriddenWeekDayCls})},{columnWidth:0.37,margin:'0 5px 0 0',items:a},this.dateInfoPanel]},{xtype:'tabpanel',items:[c,d]}];this.callParent(arguments)},onRender:function(){this.onDateSelect(this.getDatePicker(),new Date());this.callParent(arguments)},fillDaysStore:function(){var a=[];this.calendar.each(function(b){if(!b.getDate()){return}a.push(Ext.create('Gnt.model.CalendarDay',{Date:b.getDate(),Id:b.getId(),Name:b.getName(),IsWorkingDay:b.getIsWorkingDay(),Availability:b.getAvailability()}))});this.getDayGrid().getStore().loadData(a)},fillWeeksStore:function(){var c=[],b=this,a=this.getWeekGrid().store.model.prototype;Ext.Array.each(this.calendar.nonStandardWeeksStartDates,function(g){var d=b.calendar.getNonStandardWeekByStartDate(g);var e={};var f=b.calendar.getDefaultWeekAvailability();e[a.nameField]=d.name;e[a.startDateField]=d.startDate;e[a.endDateField]=d.endDate;e[a.availabilityField]=f;Ext.Array.each(f,function(a){a.setName(d.name);a.clearDate(null)});Ext.Array.each(d.weekAvailability,function(b){var e=b.getId();var c=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(e);if(!c){return}var h=c[1];var a=Ext.create('Gnt.model.CalendarDay');a.clearDate(null);a.setId(e);a.setName(d.name);a.setIsWorkingDay(b.getIsWorkingDay());a.setAvailability(b.getAvailability());f[h]=a});c.push(e)});this.getWeekGrid().getStore().loadData(c)},reload:function(){var b=this.getWeekGrid(),a=this.getDayGrid();this.fillDaysStore();this.fillWeeksStore();this.getDatePicker().setWeekOverrides(b.getStore());this.getDatePicker().setDayOverrides(a.getStore())},editDay:function(){var b=this,d=this.getDayGrid().getSelectionModel();if(!d||d.getSelection().length===0){return}var e=d.getSelection()[0];var a=new Gnt.widget.calendar.DayAvailabilityGrid({addText:this.addText,removeText:this.removeText,workingTimeText:this.workingTimeText,nonworkingTimeText:this.nonworkingTimeText});var c=Ext.create('Ext.window.Window',{title:this.dayOverridesText,modal:!0,width:280,height:260,layout:'fit',items:a,buttons:[{text:this.okText,handler:function(){b.calendar.clearCache();if(a.isValid()){var d=a.calendarDay;d.setIsWorkingDay(a.isWorkingDay());d.setAvailability(a.getIntervals());b.applyCalendarDay(d,e);b.refreshView();c.close()}}},{text:this.cancelText,handler:function(){c.close()}}]});a.editAvailability(this.cloneCalendarDay(e));c.show()},addDay:function(){var c=this.getDatePicker().getValue(),a=this.getDayGrid(),b=Ext.create('Gnt.model.CalendarDay',{Name:'[Without name]',Cls:this.calendar.defaultNonWorkingTimeCssCls,Date:c,IsWorkingDay:!1});a.getStore().insert(0,b);a.getSelectionModel().select([b],!1,!1)},removeDay:function(){var e=this.getDayGrid(),c=e.getSelectionModel(),d=e.getStore();if(!c||c.getSelection().length===0){return}d.clearCache();var f=c.getSelection()[0],b=this.getDatePicker().getValue(),g=b.getDay(),a=this.getWeekOverrideDay(b),h=a!=null;d.remove(f);if(a==null){a=this.calendar.defaultWeekAvailability[g]}this.getDatePicker().setValue(b)},refreshView:function(){var a=this.getDatePicker().getValue(),c=this.getCalendarDay(a),f=this.getWeekGrid(),e=this.getDayGrid(),d=e.getStore().getOverrideDay(a),b;if(d){e.getSelectionModel().select([d],!1,!0)}else {b=this.getWeekOverrideByDate(a);if(b){f.getSelectionModel().select([b],!1,!0)}}var g={name:c.getName(),date:Ext.Date.format(a,'M j, Y'),calendarName:this.calendar.name||this.calendar.calendarId,availability:c.getAvailability(!0),override:!!(d||b),isWorkingDay:c.getIsWorkingDay()};this.dateInfoPanel.update(this.dateInfoTpl.apply(g))},onDayGridSelectionChange:function(a){if(!a||a.getSelection().length===0){return}var b=a.getSelection()[0],c=b.getDate(),d=this.getDayGrid();this.getDatePicker().setValue(c)},onDayGridEdit:function(c,a){if(a.field==='Date'){var b=Ext.Date.clearTime(a.value,!0);a.record.data[a.record.idProperty]=b-0;a.grid.getStore().clearCache();this.getDatePicker().setValue(a.value)}this.refreshView()},onDayGridValidateEdit:function(c,a){var b=a.grid.getStore();if(a.field===b.model.prototype.dateField&&b.getOverrideDay(a.value)&&a.value!==a.originalValue){Ext.MessageBox.alert('Error','There is already an override for this day');return !1}},onDateSelect:function(b,a){this.refreshView()},getCalendarDay:function(b){var a=this.getOverrideDay(b);if(a){return a}a=this.getWeekOverrideDay(b);if(a){return a}return this.calendar.defaultWeekAvailability[b.getDay()]},getOverrideDay:function(a){return this.getDayGrid().getStore().getOverrideDay(a)},getWeekOverrideDay:function(b){var e=new Date(b),c=this.getWeekOverrideByDate(b),d=e.getDay();if(c==null){return null}var a=c.getAvailability();if(!a){return null}return a[d]},getWeekOverrideByDate:function(b){var a=null;this.getWeekGrid().getStore().each(function(c){if(Ext.Date.between(b,c.getStartDate(),c.getEndDate())){a=c;return !0}});return a},editWeek:function(){var d=this.getWeekGrid().getSelectionModel(),a=this;if(!d||d.getSelection().length===0){return}var b=d.getSelection()[0];var e=new Gnt.widget.calendar.WeekEditor({getDefaultWeekAvailabilityHandler:function(){return a.getDefaultWeekAvailability()}});var c=Ext.create('Ext.window.Window',{title:this.weekOverridesText,modal:!0,width:370,defaults:{border:!1},layout:'fit',items:e,buttons:[{text:this.okText,handler:function(){a.calendar.clearCache();e.applyChanges(function(d){b.setAvailability(d);var e=a.getDatePicker().getValue(),f=d[e.getDay()];a.refreshView();c.close()})}},{text:this.cancelText,handler:function(){c.close()}}]});var f=[];Ext.Array.each(b.getAvailability(),function(b){f.push(a.cloneCalendarDay(b))});c.show();c.down('calendarweekeditor').editAvailability(b.getStartDate(),b.getEndDate(),f)},addWeek:function(){var b=this.getWeekGrid().getStore();var c=this.getDatePicker().getValue(),a=new b.model();a.setName('[Without name]');a.setStartDate(c);a.setEndDate(c);a.setAvailability(this.calendar.getDefaultWeekAvailability());b.insert(0,a);this.getWeekGrid().getSelectionModel().select([a],!1,!1)},removeWeek:function(){var c=this.getWeekGrid().getSelectionModel();if(!c||c.getSelection().length===0){return}var d=c.getSelection()[0],b=this.getDatePicker().getValue(),e=b.getDay(),a=this.getOverrideDay(b),f=!!a;a=a||this.calendar.defaultWeekAvailability[e];this.getWeekGrid().getStore().remove(d);this.getDatePicker().setValue(b);this.refreshView()},onWeekGridSelectionChange:function(a){if(!a||a.getSelection().length===0){return}var b=a.getSelection()[0],c=b.getStartDate(),e=c.getDay(),d=b.getAvailability()[e],f=this.getWeekGrid();if(d==null){d=this.calendar.defaultWeekAvailability[e]}this.getDatePicker().setValue(c)},onWeekGridEdit:function(j,a){var c=a.record,b=c.getStartDate(),g=c.getEndDate(),e=b.getDay(),d=c.getAvailability(),f=d[e];prot=a.grid.getStore().model.prototype;if(f==null){f=this.calendar.defaultWeekAvailability[e]}if(a.field==prot.startDateField||a.field==prot.endDateField){var h=Ext.Date.format(b,'Y/m/d');var i=Ext.Date.format(g,'Y/m/d');Ext.Array.each(d,function(c){var d=c.getId();var b=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(d);if(!b){return}c.set('Id',Ext.String.format('{0}-{1}-{2}',b[1],h,i))});this.getDatePicker().setValue(b)}this.refreshView()},onWeekGridValidateEdit:function(h,a){var f=a.record,c=f.getStartDate(),d=f.getEndDate(),e=!0;var g=a.grid.getStore();var b=g.model.prototype;if(a.field===b.startDateField&&d<a.value||a.field===b.endDateField&&c>a.value){Ext.MessageBox.alert('Error','StartDate greater then EndDate');return !1}g.each(function(i){var g=i.getStartDate(),f=i.getEndDate();if(g==c&&f==d){return}if(a.field==b.startDateField&&g<c&&a.value<=f||a.field==b.endDateField&&f>d&&a.value>=g){e=!1;return !0}});if(!e){Ext.MessageBox.alert('Error',"Dates shouldn't intersect");return !1}},applyChanges:function(a){var b=this.down('combobox[name="cmb_parentCalendar"]').getValue();this.calendar.parent=b?Gnt.data.Calendar.getCalendar(b):null;this.calendar.proxy.extraParams.parentId=this.calendar.parent?this.calendar.parent.calendarId:null;this.applyDays();this.applyWeeks();if(a&&Ext.isFunction(a)){a.call(this,this.calendar)}},applyCalendarDay:function(b,a){a.beginEdit();a.setId(b.getId());a.setName(b.getName());a.setIsWorkingDay(b.getIsWorkingDay());a.setDate(b.getDate());a.setAvailability(b.getAvailability());a.endEdit()},applyWeek:function(d,c){var a=this,b=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/;Ext.Array.each(d.getAvailability(),function(e,i){var f=!1,h=e.getId(),g=b.exec(h)?!1:!0;Ext.Array.each(c.weekAvailability,function(h){var k=h.getId(),j=b.exec(k);if(j[1]==i){if(g){a.calendar.remove(h)}else {a.applyCalendarDay(e,h)}f=!0;return f}});if(!f&&!g){a.calendar.add(e)}})},applyWeeks:function(){var a=this,c=this.getWeekGrid().getStore(),b=[],e=[],d=[];Ext.Array.each(this.calendar.nonStandardWeeksStartDates,function(d){var f=!1;c.each(function(c){var h=Ext.Date.clearTime(c.getStartDate());if(h===d){var g=a.calendar.getNonStandardWeekByDate(d);g.endDate==c.getEndDate()?e.push([c,g]):b.push(d);f=!0;return !0}});if(!f){b.push(d)}});c.each(function(b){if(a.calendar.getNonStandardWeekByDate(b.getStartDate()==null)){d.push(b)}});Ext.Array.each(b,function(b){a.calendar.removeNonStandardWeek(b)});Ext.Array.each(d,function(b){a.calendar.addNonStandardWeek(b.getStartDate(),b.getEndDate(),b.getAvailability())});Ext.Array.each(e,function(b){a.applyWeek(b[0],b[1])})},applyDays:function(){var c=this,a=this.getDayGrid().getStore(),b=[],e=[],d=[];this.calendar.each(function(c){var d=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(c.getId());if(d){return}a.getOverrideDay(c.getDate())==null?b.push(c):e.push(c)});a.each(function(a){if(c.calendar.getOverrideDay(a.getDate())==null){d.push(a)}});this.calendar.remove(b);this.calendar.add(d);Ext.Array.each(e,function(b){var d=a.getOverrideDay(b.getDate());c.applyCalendarDay(d,b)})},cloneCalendarDay:function(a){return Ext.create('Gnt.model.CalendarDay',{Date:a.getDate(),Id:a.getId(),Name:a.getName(),IsWorkingDay:a.getIsWorkingDay(),Availability:a.getAvailability()})},getDefaultWeekAvailability:function(){return this.calendar.defaultWeekAvailability},onDestroy:function(){this.getWeekGrid().destroy();this.getDayGrid().destroy();this.getDatePicker().destroy();this.callParent(arguments)}});Ext.onReady(function(){if(window.location.href.match('bryntum.com|ext-scheduler.com')){return}else {if(Sch&&Sch.view&&Sch.view.TimelineGridView){var b=!1;Sch.view.TimelineGridView.override({refresh:function(){this.callOverridden(arguments);if(b||!this.rendered){return}b=!0;Ext.Function.defer(function(){this.el.select(this.eventSelector).setOpacity(0.15)},10*60*1000,this);var d=this.el.parent().createChild({tag:'a',href:'http://www.bryntum.com/store',title:'Click here to purchase a license',style:'display:block;height:54px;width:230px;background: #fff url(http://www.bryntum.com/site-images/bryntum-trial.png) no-repeat;z-index:10000;border:1px solid #ddd;-webkit-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-border-radius:5px;-webkit-border-radius:5px;position:absolute;bottom:10px;right:15px;'});try{if(!Ext.util.Cookies.get('bmeval')){Ext.util.Cookies.set('bmeval',(new Date()).getTime(),Ext.Date.add(new Date(),Ext.Date.YEAR,2))}else {var c=Ext.util.Cookies.get('bmeval'),a=new Date(parseInt(c,10));if(Ext.Date.add(a,Ext.Date.DAY,45)<new Date()){this.el.select(this.eventSelector).hide();this.el.mask('Trial Period Expired!').setStyle('z-index',10000);this.refresh=Ext.emptyFn}}}catch(e){}}})}if(Sch&&Sch.view&&Sch.view.TimelineTreeView){var a=!1;Sch.view.TimelineTreeView.override({refresh:function(){this.callOverridden(arguments);if(a||!this.rendered){return}a=!0;Ext.Function.defer(function(){this.el.select(this.eventSelector).setOpacity(0.15)},10*60*1000,this);var b=this.el.parent().createChild({tag:'a',href:'http://www.bryntum.com/store',title:'Click here to purchase a license',style:'display:block;height:54px;width:230px;background: #fff url(http://www.bryntum.com/site-images/bryntum-trial.png) no-repeat;z-index:10000;border:1px solid #ddd;-webkit-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-border-radius:5px;-webkit-border-radius:5px;position:absolute;bottom:10px;right:15px;'});Ext.Function.defer(b.fadeOut,10000,b);try{if(!Ext.util.Cookies.get('bmeval')){Ext.util.Cookies.set('bmeval',(new Date()).getTime(),Ext.Date.add(new Date(),Ext.Date.YEAR,2))}else {var d=Ext.util.Cookies.get('bmeval'),c=new Date(parseInt(d,10));if(Ext.Date.add(c,Ext.Date.DAY,45)<new Date()){this.el.select(this.eventSelector).hide();this.el.mask('Trial Period Expired!').setStyle('z-index',10000);this.refresh=Ext.emptyFn}}}catch(e){}}})}}});Ext.data.Connection.override({parseStatus:function(b){var a=this.callOverridden(arguments);if(b===0){a.success=!0}return a}});Ext.onReady(function(){window._gaq=window._gaq||[];window._gaq.push(['_setAccount','UA-11046863-1']);window._gaq.push(['_setDomainName','none']);window._gaq.push(['_setAllowLinker',!0]);window._gaq.push(['_trackPageview']);(function(){var a=document.createElement('script');a.type='text/javascript';a.async=!0;a.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var b=document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a,b)})();window.onerror=function(c,b,a){if(!window.__reported&&c&&(a||b)){window.__reported=!0;try{var d=new Image();var f=Ext.versions&&Ext.versions.extjs&&Ext.versions.extjs.version;var e=Sch.VERSION||'-';d.src=Ext.String.format('http://bryntum.com/errlog.php?msg={0}&url={1}&line={2}&href={3}&extVersion={4}&prodVersion={5}&magic={6}',encodeURIComponent(c),encodeURIComponent(b),encodeURIComponent(a),encodeURIComponent(window.location.href),encodeURIComponent(f),encodeURIComponent(e),'maFSiO6W')}catch(g){}}}});Ext.define('Sch.util.Patch',{target:null,minVersion:null,maxVersion:null,reportUrl:null,description:null,applyFn:null,ieOnly:!1,onClassExtended:function(b,a){if(Sch.disableOverrides){return}if(a.ieOnly&&!Ext.isIE){return}if(a.applyFn){a.applyFn()}else {if((!a.minVersion||Ext.versions.extjs.equals(a.minVersion)||Ext.versions.extjs.isGreaterThan(a.minVersion))&&(!a.maxVersion||Ext.versions.extjs.equals(a.maxVersion)||Ext.versions.extjs.isLessThan(a.maxVersion))){a.requires[0].override(a.overrides)}}}});Ext.define('Sch.patches.LoadMask',{extend:'Sch.util.Patch',requires:['Ext.view.AbstractView'],minVersion:'4.1.0b3',reportURL:'http://www.sencha.com/forum/showthread.php?187700-4.1.0-B3-Ext.AbstractView-no-longer-binds-its-store-to-load-mask',description:'In Ext4.1 loadmask no longer bind the store',overrides:{}});Ext.define('Sch.patches.Table',{extend:'Sch.util.Patch',requires:['Ext.view.Table'],minVersion:'4.1.1',maxVersion:'4.1.1',reportURL:'http://www.sencha.com/forum/showthread.php?238026-4.1.1-Alt-row-styling-lost-after-record-update&p=874190#post874190',description:'In Ext4.1.1 when record is updated, the alternate row styling is lost',overrides:{onUpdate:function(d,b,c,e){var a=this.store.indexOf(b);this.callParent(arguments);this.doStripeRows(a,a)}}});Ext.define('Sch.patches.TreeView',{extend:'Sch.util.Patch',requires:['Ext.tree.View'],applyFn:function(){Ext.tree.View.addMembers({providedStore:null,initComponent:function(){var a=this,b=a.panel.getStore();if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}a.store=a.providedStore||new Ext.data.NodeStore({treeStore:b,recursive:!0,rootVisible:a.rootVisible});a.store.on({beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged,scope:a});if(a.node&&!a.store.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents('afteritemexpand','afteritemcollapse');a.callParent(arguments);a.on({element:'el',scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut});a.on({element:'el',scope:a,delegate:a.checkboxSelector,click:a.onCheckboxChange})}})}});Ext.define('Sch.patches.DataOperation',{extend:'Sch.util.Patch',requires:['Ext.data.Operation'],reportURL:'http://www.sencha.com/forum/showthread.php?198894-4.1-Ext.data.TreeStore-CRUD-regression.',description:'In Ext 4.1.0 newly created records do not get the Id returned by server applied',maxVersion:'4.1.0',overrides:{commitRecords:function(h){var b=this,g,d,a,e,c,f,i;if(!b.actionSkipSyncRe.test(b.action)){a=b.records;if(a&&a.length){if(a.length>1){if(b.action=='update'||a[0].clientIdProperty){g=new Ext.util.MixedCollection();g.addAll(h);for(d=a.length;d--;){c=a[d];e=g.findBy(b.matchClientRec,c);c.copyFrom(e)}}else {for(f=0,i=a.length;f<i;++f){c=a[f];e=h[f];if(c&&e){b.updateRecord(c,e)}}}}else {this.updateRecord(a[0],h[0])}if(b.actionCommitRecordsRe.test(b.action)){for(d=a.length;d--;){a[d].commit()}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){a.copyFrom(b)}}}});Ext.define('Sch.patches.TreeStore',{extend:'Sch.util.Patch',requires:['Ext.data.TreeStore'],description:'http://www.sencha.com/forum/showthread.php?208602-Model-s-Id-field-not-defined-after-sync-in-TreeStore-%28CRUD%29',maxVersion:'4.1.0',overrides:{onCreateRecords:function(c){this.callParent(arguments);var a=0,e=c.length,d=this.tree,b;for(;a<e;++a){b=c[a];d.onNodeIdChanged(b,null,b.getId())}},setRootNode:function(a,e){var b=this,c=b.model,d=c.prototype.idProperty;a=a||{};if(!a.isModel){Ext.applyIf(a,{text:'Root',allowDrag:!1});if(a[d]===undefined){a[d]=b.defaultRootId}Ext.data.NodeInterface.decorate(c);a=Ext.ModelManager.create(a,c)}else {if(a.isModel&&!a.isNode){Ext.data.NodeInterface.decorate(c)}}b.getProxy().getReader().buildExtractors(!0);b.tree.setRootNode(a);if(e!==!0&&!a.isLoaded()&&(b.autoLoad===!0||a.isExpanded())){b.load({node:a})}return a}}});Ext.define('Sch.util.Date',{requires:'Ext.Date',singleton:!0,unitsByName:{},constructor:function(){var b=Ext.Date;var d={MILLI:b.MILLI,SECOND:b.SECOND,MINUTE:b.MINUTE,HOUR:b.HOUR,DAY:b.DAY,WEEK:'w',MONTH:b.MONTH,QUARTER:'q',YEAR:b.YEAR};Ext.apply(this,d);var a=this;this.units=[a.MILLI,a.SECOND,a.MINUTE,a.HOUR,a.DAY,a.WEEK,a.MONTH,a.QUARTER,a.YEAR];for(var c in d){if(d.hasOwnProperty(c)){var e=d[c];a.unitNames[e]=a.unitNames[c];a.unitsByName[c]=e;a.unitsByName[e]=e}}},betweenLesser:function(c,d,b){var a=c.getTime();return d.getTime()<=a&&a<b.getTime()},constrain:function(b,c,a){return this.min(this.max(b,c),a)},compareUnits:function(d,c){var a=Ext.Array.indexOf(this.units,d),b=Ext.Array.indexOf(this.units,c);return a>b?1:a<b?-1:0},isUnitGreater:function(b,a){return this.compareUnits(b,a)>0},copyTimeValues:function(b,a){b.setHours(a.getHours());b.setMinutes(a.getMinutes());b.setSeconds(a.getSeconds());b.setMilliseconds(a.getMilliseconds())},add:function(b,e,c){var a=Ext.Date.clone(b);if(!e||c===0){return a}switch(e.toLowerCase()){case this.MILLI:a=new Date(b.getTime()+c);break;case this.SECOND:a=new Date(b.getTime()+c*1000);break;case this.MINUTE:a=new Date(b.getTime()+c*60000);break;case this.HOUR:a=new Date(b.getTime()+c*3600000);break;case this.DAY:a.setDate(b.getDate()+c);break;case this.WEEK:a.setDate(b.getDate()+c*7);break;case this.MONTH:var d=b.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(this.add(Ext.Date.getFirstDateOfMonth(b),this.MONTH,c)).getDate())};a.setDate(d);a.setMonth(a.getMonth()+c);break;case this.QUARTER:a=this.add(b,this.MONTH,c*3);break;case this.YEAR:a.setFullYear(b.getFullYear()+c);break;}return a},getMeasuringUnit:function(a){if(a===this.WEEK){return this.DAY}return a},getDurationInUnit:function(c,b,d){var a;switch(d){case this.YEAR:a=Math.round(this.getDurationInYears(c,b));break;case this.QUARTER:a=Math.round(this.getDurationInMonths(c,b)/3);break;case this.MONTH:a=Math.round(this.getDurationInMonths(c,b));break;case this.WEEK:a=Math.round(this.getDurationInDays(c,b))/7;break;case this.DAY:a=Math.round(this.getDurationInDays(c,b));break;case this.HOUR:a=Math.round(this.getDurationInHours(c,b));break;case this.MINUTE:a=Math.round(this.getDurationInMinutes(c,b));break;case this.SECOND:a=Math.round(this.getDurationInSeconds(c,b));break;case this.MILLI:a=Math.round(this.getDurationInMilliseconds(c,b));break;}return a},getUnitToBaseUnitRatio:function(b,a){if(b===a){return 1}switch(b){case this.YEAR:switch(a){case this.QUARTER:return 1/4;case this.MONTH:return 1/12;};break;case this.QUARTER:switch(a){case this.YEAR:return 4;case this.MONTH:return 1/3;};break;case this.MONTH:switch(a){case this.YEAR:return 12;case this.QUARTER:return 3;};break;case this.WEEK:switch(a){case this.DAY:return 1/7;case this.HOUR:return 1/168;};break;case this.DAY:switch(a){case this.WEEK:return 7;case this.HOUR:return 1/24;case this.MINUTE:return 1/1440;};break;case this.HOUR:switch(a){case this.DAY:return 24;case this.MINUTE:return 1/60;};break;case this.MINUTE:switch(a){case this.HOUR:return 60;case this.SECOND:return 1/60;case this.MILLI:return 1/60000;};break;case this.SECOND:switch(a){case this.MILLI:return 1/1000;};break;case this.MILLI:switch(a){case this.SECOND:return 1000;};break;}return -1},getDurationInMilliseconds:function(b,a){return a-b},getDurationInSeconds:function(b,a){return (a-b)/1000},getDurationInMinutes:function(b,a){return (a-b)/60000},getDurationInHours:function(b,a){return (a-b)/3600000},getDurationInDays:function(b,a){return (a-b)/86400000},getDurationInBusinessDays:function(d,e){var f=Math.round((e-d)/86400000),c=0,b;for(var a=0;a<f;a++){b=this.add(d,this.DAY,a).getDay();if(b!==6&&b!==0){c++}}return c},getDurationInMonths:function(b,a){return (a.getFullYear()-b.getFullYear())*12+(a.getMonth()-b.getMonth())},getDurationInYears:function(b,a){return this.getDurationInMonths(b,a)/12},min:function(b,a){return b<a?b:a},max:function(b,a){return b>a?b:a},intersectSpans:function(b,d,a,c){return this.betweenLesser(b,a,c)||this.betweenLesser(a,b,d)},getNameOfUnit:function(a){a=this.getUnitByName(a);switch(a.toLowerCase()){case this.YEAR:return 'YEAR';case this.QUARTER:return 'QUARTER';case this.MONTH:return 'MONTH';case this.WEEK:return 'WEEK';case this.DAY:return 'DAY';case this.HOUR:return 'HOUR';case this.MINUTE:return 'MINUTE';case this.SECOND:return 'SECOND';case this.MILLI:return 'MILLI';}throw 'Incorrect UnitName'},unitNames:{YEAR:{single:'year',plural:'years',abbrev:'yr'},QUARTER:{single:'quarter',plural:'quarters',abbrev:'q'},MONTH:{single:'month',plural:'months',abbrev:'mon'},WEEK:{single:'week',plural:'weeks',abbrev:'w'},DAY:{single:'day',plural:'days',abbrev:'d'},HOUR:{single:'hour',plural:'hours',abbrev:'h'},MINUTE:{single:'minute',plural:'minutes',abbrev:'min'},SECOND:{single:'second',plural:'seconds',abbrev:'s'},MILLI:{single:'ms',plural:'ms',abbrev:'ms'}},getReadableNameOfUnit:function(b,a){return this.unitNames[b][a?'plural':'single']},getShortNameOfUnit:function(a){return this.unitNames[a].abbrev},getUnitByName:function(a){if(!this.unitsByName[a]){Ext.Error.raise('Unknown unit name: '+a)}return this.unitsByName[a]},getNext:function(e,f,b,d){var a=Ext.Date.clone(e);b=b||1;switch(f){case this.DAY:Ext.Date.clearTime(a);a=this.add(a,this.DAY,b);break;case this.WEEK:var c=a.getDay();a=this.add(a,this.DAY,7*(b-1)+(c<d?d-c:7-c+d));break;case this.MONTH:a=this.add(a,this.MONTH,b);a.setDate(1);break;case this.QUARTER:a=this.add(a,this.MONTH,(b-1)*3+(3-a.getMonth()%3));break;case this.YEAR:a=new Date(a.getFullYear()+b,0,1);break;default:a=this.add(e,f,b);break;}return a},getNumberOfMsFromTheStartOfDay:function(a){return a-Ext.Date.clearTime(a,!0)||86400000},getNumberOfMsTillTheEndOfDay:function(a){return this.getStartOfNextDay(a,!0)-a},getStartOfNextDay:function(a,c){var b=this.add(Ext.Date.clearTime(a,c),this.DAY,1);if(b.getDate()==a.getDate()){var e=this.add(Ext.Date.clearTime(a,c),this.DAY,2).getTimezoneOffset();var d=a.getTimezoneOffset();b=this.add(b,this.MINUTE,d-e)}return b},getEndOfPreviousDay:function(b){var a=Ext.Date.clearTime(b,!0);if(a-b){return a}else {return this.add(a,this.DAY,-1)}},timeSpanContains:function(c,b,d,a){return d-c>=0&&b-a>=0}});Ext.define('Sch.util.DragTracker',{extend:'Ext.dd.DragTracker',xStep:1,yStep:1,setXStep:function(a){this.xStep=a},setYStep:function(a){this.yStep=a},getRegion:function(){var b=this.startXY,a=this.getXY(),c=Math.min(b[0],a[0]),d=Math.min(b[1],a[1]),f=Math.abs(b[0]-a[0]),e=Math.abs(b[1]-a[1]);return new Ext.util.Region(d,c+f,d+e,c)},onMouseDown:function(a,g){if(this.disabled||a.dragTracked){return}var f=a.getXY(),e,d,b=f[0],c=f[1];if(this.xStep>1){e=this.el.getX();b-=e;b=Math.round(b/this.xStep)*this.xStep;b+=e}if(this.yStep>1){d=this.el.getY();c-=d;c=Math.round(c/this.yStep)*this.yStep;c+=d}this.dragTarget=this.delegate?g:this.handle.dom;this.startXY=this.lastXY=[b,c];this.startRegion=Ext.fly(this.dragTarget).getRegion();if(this.fireEvent('mousedown',this,a)===!1||this.fireEvent('beforedragstart',this,a)===!1||this.onBeforeStart(a)===!1){return}this.mouseIsDown=!0;a.dragTracked=!0;if(this.preventDefault!==!1){a.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=Ext.defer(this.triggerStart,this.autoStart===!0?1000:this.autoStart,this,[a])}},onMouseMove:function(a,g){if(this.active&&Ext.isIE&&!a.browserEvent.button){a.preventDefault();this.onMouseUp(a);return}a.preventDefault();var c=a.getXY(),e=this.startXY;if(!this.active){if(Math.max(Math.abs(e[0]-c[0]),Math.abs(e[1]-c[1]))>this.tolerance){this.triggerStart(a)}else {return}}var b=c[0],d=c[1];if(this.xStep>1){b-=this.startXY[0];b=Math.round(b/this.xStep)*this.xStep;b+=this.startXY[0]}if(this.yStep>1){d-=this.startXY[1];d=Math.round(d/this.yStep)*this.yStep;d+=this.startXY[1]}var f=this.xStep>1||this.yStep>1;if(!f||b!==c[0]||d!==c[1]){this.lastXY=[b,d];if(this.fireEvent('mousemove',this,a)===!1){this.onMouseUp(a)}else {this.onDrag(a);this.fireEvent('drag',this,a)}}}});Ext.define('Sch.util.HeaderRenderers',{singleton:!0,requires:['Sch.util.Date','Ext.XTemplate'],constructor:function(){var a=Ext.create('Ext.XTemplate','<table class="sch-nested-hdr-tbl '+Ext.baseCSSPrefix+'column-header-text" cellpadding="0" cellspacing="0"><tr><tpl for="."><td style="width:{[100/xcount]}%" class="{cls} sch-dayheadercell-{dayOfWeek}">{text}</td></tpl></tr></table>').compile();var b=Ext.create('Ext.XTemplate','<table class="sch-nested-hdr-tbl" cellpadding="0" cellspacing="0"><tr><tpl for="."><td style="width:{[100/xcount]}%" class="{cls}">{text}</td></tpl></tr></table>').compile();return {quarterMinute:function(d,b,a,c){a.headerCls='sch-nested-hdr-pad';return '<table class="sch-nested-hdr-tbl" cellpadding="0" cellspacing="0"><tr><td>00</td><td>15</td><td>30</td><td>45</td></tr></table>'},dateCells:function(c,a,d){return function(i,h,g){g.headerCls='sch-nested-hdr-nopad';var e=[],f=Ext.Date.clone(i);while(f<h){e.push({text:Ext.Date.format(f,d)});f=Sch.util.Date.add(f,c,a)}e[0].cls='sch-nested-hdr-cell-first';e[e.length-1].cls='sch-nested-hdr-cell-last';return b.apply(e)}},dateNumber:function(f,e,d){d.headerCls='sch-nested-hdr-nopad';var c=[],b=Ext.Date.clone(f);while(b<e){c.push({dayOfWeek:b.getDay(),text:b.getDate()});b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)}return a.apply(c)},dayLetter:function(f,e,d){d.headerCls='sch-nested-hdr-nopad';var c=[],b=f;while(b<e){c.push({dayOfWeek:b.getDay(),text:Ext.Date.dayNames[b.getDay()].substr(0,1)});b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)}c[0].cls='sch-nested-hdr-cell-first';c[c.length-1].cls='sch-nested-hdr-cell-last';return a.apply(c)},dayStartEndHours:function(c,b,a){a.headerCls='sch-hdr-startend';return Ext.String.format('<span class="sch-hdr-start">{0}</span><span class="sch-hdr-end">{1}</span>',Ext.Date.format(c,'G'),Ext.Date.format(b,'G'))}}}});Ext.define('Sch.model.Customizable',{extend:'Ext.data.Model',customizableFields:null,onClassExtended:function(c,d,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(g,k){b.call(this,g,k);var e=g.prototype;if(!e.customizableFields){return}e.customizableFields=(g.superclass.customizableFields||[]).concat(e.customizableFields);var h=e.customizableFields;var j={};Ext.Array.each(h,function(b){if(typeof b=='string'){b={name:b}}j[b.name]=b});var f=e.fields;var i=[];f.each(function(b){if(b.isCustomizableField){i.push(b)}});f.removeAll(i);Ext.Object.each(j,function(q,n){n.isCustomizableField=!0;var i=n.name;var p=i==='Id'?'idProperty':i.charAt(0).toLowerCase()+i.substr(1)+'Field';var o=e[p];var b=o||i;if(f.containsKey(b)){f.getByKey(b).isCustomizableField=!0;h.push(new Ext.data.Field(Ext.applyIf({name:i,isCustomizableField:!0},f.getByKey(b))))}else {f.add(new Ext.data.Field(Ext.applyIf({name:b,isCustomizableField:!0},n)))}var m=Ext.String.capitalize(i);if(m!='Id'){var l='get'+m;var j='set'+m;if(!e[l]||e[l].__getterFor__&&e[l].__getterFor__!=b){e[l]=function(){return this.data[b]};e[l].__getterFor__=b}if(!e[j]||e[j].__setterFor__&&e[j].__setterFor__!=b){e[j]=function(e){return this.set(b,e)};e[j].__setterFor__=b}}})}},set:function(b,c){if(arguments.length===2){this.previous=this.previous||{};var a=this.get(b);if(a!==c){this.previous[b]=a}}this.callParent(arguments)},afterEdit:function(){this.callParent(arguments);delete this.previous},reject:function(){var a=this,c=a.modified,b;a.previous=a.previous||{};for(b in c){if(c.hasOwnProperty(b)){if(typeof c[b]!='function'){a.previous[b]=a.get(b)}}}a.callParent(arguments);delete a.previous}});Ext.define('Sch.patches.Model',{extend:'Sch.util.Patch',requires:'Sch.model.Customizable',reportURL:'http://www.sencha.com/forum/showthread.php?198250-4.1-Ext.data.Model-regression',description:'In Ext 4.1 Models cannot be subclassed',maxVersion:'4.1.0',applyFn:function(){try{Ext.define('Sch.foo',{extend:'Ext.data.Model',fields:['a']});Ext.define('Sch.foo.Sub',{extend:'Sch.foo',fields:['a']})}catch(a){Ext.data.Types.AUTO.convert=function(a){return a}}}});Ext.define('Sch.model.Range',{extend:'Sch.model.Customizable',requires:['Sch.util.Date','Sch.patches.DataOperation'],startDateField:'StartDate',endDateField:'EndDate',nameField:'Name',clsField:'Cls',customizableFields:[{name:'StartDate',type:'date',dateFormat:'c'},{name:'EndDate',type:'date',dateFormat:'c'},{name:'Cls',type:'string'},{name:'Name',type:'string'}],setStartEndDate:function(b,a){this.beginEdit();this.set(this.startDateField,b);this.set(this.endDateField,a);this.endEdit()},getDates:function(){var b=[],c=this.getEndDate();for(var a=Ext.Date.clearTime(this.getStartDate(),!0);a<c;a=Sch.util.Date.add(a,Sch.util.Date.DAY,1)){b.push(a)}return b},forEachDate:function(b,a){return Ext.each(this.getDates(),b,a)},isValid:function(){var a=this.callParent(arguments);if(a){var c=this.getStartDate(),b=this.getEndDate();a=!c||!b||b-c>=0}return a},shift:function(b,a){this.setStartEndDate(Sch.util.Date.add(this.getStartDate(),b,a),Sch.util.Date.add(this.getEndDate(),b,a))}});Ext.define('Sch.model.Resource',{extend:'Sch.model.Customizable',idProperty:'Id',nameField:'Name',customizableFields:['Id',{name:'Name',type:'string'}],getEventStore:function(){return this.stores[0]&&this.stores[0].eventStore||this.parentNode&&this.parentNode.getEventStore()},getEvents:function(a){var d=[],b,f=this.getId()||this.internalId;a=a||this.getEventStore();for(var c=0,e=a.getCount();c<e;c++){b=a.getAt(c);if(b.data[b.resourceIdField]===f){d.push(b)}}return d}});Ext.define('Sch.data.mixin.ResourceStore',{});Ext.define('Sch.data.ResourceStore',{extend:'Ext.data.Store',model:'Sch.model.Resource',mixins:['Sch.data.mixin.ResourceStore']});Ext.define('Sch.data.TimeAxis',{extend:'Ext.util.Observable',requires:['Ext.data.JsonStore','Sch.util.Date'],continuous:!0,autoAdjust:!0,constructor:function(a){Ext.apply(this,a);this.originalContinuous=this.continuous;this.addEvents('beforereconfigure','reconfigure');this.tickStore=new Ext.data.JsonStore({fields:['start','end']});this.tickStore.on('datachanged',function(){this.fireEvent('reconfigure',this)},this);this.callParent(arguments)},reconfigure:function(b){Ext.apply(this,b);var a=this.tickStore,c=this.generateTicks(this.start,this.end,this.unit,this.increment||1,this.mainUnit);if(this.fireEvent('beforereconfigure',this,this.start,this.end)!==!1){a.suspendEvents(!0);a.loadData(c);if(a.getCount()===0){Ext.Error.raise('Invalid time axis configuration or filter, please check your input data.')}a.resumeEvents()}},setTimeSpan:function(b,a){this.reconfigure({start:b,end:a})},filterBy:function(c,b){this.continuous=!1;b=b||this;var a=this.tickStore;a.clearFilter(!0);a.suspendEvents(!0);a.filter([{filterFn:function(d,a){return c.call(b,d.data,a)}}]);if(a.getCount()===0){Ext.Error.raise('Invalid time axis filter - no columns passed through the filter. Please check your filter method.');this.clearFilter()}a.resumeEvents()},isContinuous:function(){return this.continuous&&!this.tickStore.isFiltered()},clearFilter:function(){this.continuous=this.originalContinuous;this.tickStore.clearFilter()},generateTicks:function(a,h,g,d){var c=[],b,e=Sch.util.Date,f=0;g=g||this.unit;d=d||this.increment;if(this.autoAdjust){a=this.floorDate(a||this.getStart(),!1);h=this.ceilDate(h||e.add(a,this.mainUnit,this.defaultSpan),!1)}while(a<h){b=this.getNext(a,g,d);if(g===e.HOUR&&d>1&&c.length>0&&f===0){var i=c[c.length-1];f=(i.start.getHours()+d)%24-i.end.getHours();if(f!==0){b=e.add(b,e.HOUR,f)}}c.push({start:a,end:b});a=b}return c},getTickFromDate:function(b){if(this.getStart()>b||this.getEnd()<b){return -1}var e=this.tickStore.getRange(),c,d,a,f;for(a=0,f=e.length;a<f;a++){d=e[a].data.end;if(b<=d){c=e[a].data.start;return a+(b>c?(b-c)/(d-c):0)}}return -1},getDateFromTick:function(c,e){var g=this.tickStore.getCount();if(c===g){return this.getEnd()}var d=Math.floor(c),f=c-d,b=this.getAt(d);var a=Sch.util.Date.add(b.start,Sch.util.Date.MILLI,f*(b.end-b.start));if(e){a=this[e+'Date'](a)}return a},getAt:function(a){return this.tickStore.getAt(a).data},getCount:function(){return this.tickStore.getCount()},getTicks:function(){var a=[];this.tickStore.each(function(b){a.push(b.data)});return a},getStart:function(){return Ext.Date.clone(this.tickStore.first().data.start)},getEnd:function(){return Ext.Date.clone(this.tickStore.last().data.end)},roundDate:function(t){var a=Ext.Date.clone(t),c=this.getStart(),b=this.resolutionIncrement;switch(this.resolutionUnit){case Sch.util.Date.MILLI:var i=Sch.util.Date.getDurationInMilliseconds(c,a),h=Math.round(i/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,h);break;case Sch.util.Date.SECOND:var m=Sch.util.Date.getDurationInSeconds(c,a),s=Math.round(m/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,s*1000);break;case Sch.util.Date.MINUTE:var q=Sch.util.Date.getDurationInMinutes(c,a),f=Math.round(q/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.SECOND,f*60);break;case Sch.util.Date.HOUR:var p=Sch.util.Date.getDurationInHours(this.getStart(),a),n=Math.round(p/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MINUTE,n*60);break;case Sch.util.Date.DAY:var g=Sch.util.Date.getDurationInDays(c,a),j=Math.round(g/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.DAY,j);break;case Sch.util.Date.WEEK:Ext.Date.clearTime(a);var d=a.getDay()-this.weekStartDay,e;if(d<0){d=7+d};if(Math.round(d/7)===1){e=7-d}else {e=-d};a=Sch.util.Date.add(a,Sch.util.Date.DAY,e);break;case Sch.util.Date.MONTH:var r=Sch.util.Date.getDurationInMonths(c,a)+a.getDate()/Ext.Date.getDaysInMonth(a),l=Math.round(r/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MONTH,l);break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);a.setDate(1);a=Sch.util.Date.add(a,Sch.util.Date.MONTH,3-a.getMonth()%3);break;case Sch.util.Date.YEAR:var o=Sch.util.Date.getDurationInYears(c,a),k=Math.round(o/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.YEAR,k);break;}return a},floorDate:function(g,d,h){d=d!==!1;var a=Ext.Date.clone(g),c=d?this.getStart():null,b=this.resolutionIncrement,f;if(h){f=h}else {f=d?this.resolutionUnit:this.mainUnit}switch(f){case Sch.util.Date.MILLI:if(d){var l=Sch.util.Date.getDurationInMilliseconds(c,a),k=Math.floor(l/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,k)};break;case Sch.util.Date.SECOND:if(d){var p=Sch.util.Date.getDurationInSeconds(c,a),v=Math.floor(p/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,v*1000)}else {a.setMilliseconds(0)};break;case Sch.util.Date.MINUTE:if(d){var t=Sch.util.Date.getDurationInMinutes(c,a),i=Math.floor(t/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.SECOND,i*60)}else {a.setSeconds(0);a.setMilliseconds(0)};break;case Sch.util.Date.HOUR:if(d){var s=Sch.util.Date.getDurationInHours(this.getStart(),a),q=Math.floor(s/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MINUTE,q*60)}else {a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)};break;case Sch.util.Date.DAY:if(d){var j=Sch.util.Date.getDurationInDays(c,a),m=Math.floor(j/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.DAY,m)}else {Ext.Date.clearTime(a)};break;case Sch.util.Date.WEEK:var e=a.getDay();Ext.Date.clearTime(a);if(e!==this.weekStartDay){a=Sch.util.Date.add(a,Sch.util.Date.DAY,-(e>this.weekStartDay?e-this.weekStartDay:7-e-this.weekStartDay))};break;case Sch.util.Date.MONTH:if(d){var u=Sch.util.Date.getDurationInMonths(c,a),o=Math.floor(u/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MONTH,o)}else {Ext.Date.clearTime(a);a.setDate(1)};break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);a.setDate(1);a=Sch.util.Date.add(a,Sch.util.Date.MONTH,-(a.getMonth()%3));break;case Sch.util.Date.YEAR:if(d){var r=Sch.util.Date.getDurationInYears(c,a),n=Math.floor(r/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.YEAR,n)}else {a=new Date(g.getFullYear(),0,1)};break;}return a},ceilDate:function(g,c,e){var a=Ext.Date.clone(g);c=c!==!1;var f=c?this.resolutionIncrement:1,b=!1,d;if(e){d=e}else {d=c?this.resolutionUnit:this.mainUnit}switch(d){case Sch.util.Date.DAY:if(a.getMinutes()>0||a.getSeconds()>0||a.getMilliseconds()>0){b=!0};break;case Sch.util.Date.WEEK:Ext.Date.clearTime(a);if(a.getDay()!==this.weekStartDay){b=!0};break;case Sch.util.Date.MONTH:Ext.Date.clearTime(a);if(a.getDate()!==1){b=!0};break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);if(a.getMonth()%3!==0){b=!0};break;case Sch.util.Date.YEAR:Ext.Date.clearTime(a);if(a.getMonth()!==0&&a.getDate()!==1){b=!0};break;default:break;}if(b){return this.getNext(a,d,f)}else {return a}},getNext:function(b,c,a){return Sch.util.Date.getNext(b,c,a,this.weekStartDay)},getResolution:function(){return {unit:this.resolutionUnit,increment:this.resolutionIncrement}},setResolution:function(b,a){this.resolutionUnit=b;this.resolutionIncrement=a||1},shiftNext:function(a){a=a||this.getShiftIncrement();var b=this.getShiftUnit();this.setTimeSpan(Sch.util.Date.add(this.getStart(),b,a),Sch.util.Date.add(this.getEnd(),b,a))},shiftPrevious:function(a){a=-(a||this.getShiftIncrement());var b=this.getShiftUnit();this.setTimeSpan(Sch.util.Date.add(this.getStart(),b,a),Sch.util.Date.add(this.getEnd(),b,a))},getShiftUnit:function(){return this.shiftUnit||this.getMainUnit()},getShiftIncrement:function(){return this.shiftIncrement||1},getUnit:function(){return this.unit},getIncrement:function(){return this.increment},timeSpanInAxis:function(b,a){if(this.continuous){return Sch.util.Date.intersectSpans(b,a,this.getStart(),this.getEnd())}else {return a>b&&this.getTickFromDate(b)!==this.getTickFromDate(a)}},forEachInterval:function(b,c,a){a=a||this;if(b==='top'||b==='middle'&&this.headerConfig.bottom){this.forEachAuxInterval(b,c,a)}else {this.tickStore.each(function(d,e){return c.call(a,d.data.start,d.data.end,e)})}},forEachMainInterval:function(a,b){this.forEachInterval('middle',a,b)},forEachAuxInterval:function(d,g,c){c=c||this;var e=this.getEnd(),a=this.getStart(),f=0,b;while(a<e){b=Sch.util.Date.min(this.getNext(a,this.headerConfig[d].unit,this.headerConfig[d].increment||1),e);g.call(c,a,b,f);a=b;f++}}});Ext.define('Sch.preset.Manager',{extend:'Ext.util.MixedCollection',requires:['Sch.util.Date','Sch.util.HeaderRenderers'],singleton:!0,constructor:function(){this.callParent(arguments);this.registerDefaults()},registerPreset:function(e,a){if(a){var c=a.headerConfig;var b=Sch.util.Date;for(var d in c){if(c.hasOwnProperty(d)){if(b[c[d].unit]){c[d].unit=b[c[d].unit.toUpperCase()]}}}if(!a.timeColumnWidth){a.timeColumnWidth=50}if(a.timeResolution&&b[a.timeResolution.unit]){a.timeResolution.unit=b[a.timeResolution.unit.toUpperCase()]}if(a.shiftUnit&&b[a.shiftUnit]){a.shiftUnit=b[a.shiftUnit.toUpperCase()]}}if(this.isValidPreset(a)){if(this.containsKey(e)){this.removeAtKey(e)}this.add(e,a)}else {throw 'Invalid preset, please check your configuration'}},isValidPreset:function(a){var e=Sch.util.Date,b=!0,c=Sch.util.Date.units;for(var d in a.headerConfig){if(a.headerConfig.hasOwnProperty(d)){b=b&&Ext.Array.indexOf(c,a.headerConfig[d].unit)>=0}}if(a.timeResolution){b=b&&Ext.Array.indexOf(c,a.timeResolution.unit)>=0}if(a.shiftUnit){b=b&&Ext.Array.indexOf(c,a.shiftUnit)>=0}return b},getPreset:function(a){return this.get(a)},deletePreset:function(a){this.removeAtKey(a)},registerDefaults:function(){var c=this,a=this.defaultPresets;for(var b in a){c.registerPreset(b,a[b])}},defaultPresets:{minuteAndHour:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'HOUR',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'MINUTE',increment:'30',dateFormat:'i'},top:{unit:'HOUR',dateFormat:'D, GA/m'}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'DAY',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'HOUR',dateFormat:'G:i'},top:{unit:'DAY',dateFormat:'D d/m'}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d G:i',shiftUnit:'DAY',shiftIncrement:1,defaultSpan:5,timeResolution:{unit:'HOUR',increment:1},headerConfig:{middle:{unit:'DAY',dateFormat:'D d M'},top:{unit:'WEEK',dateFormat:'W M Y',renderer:function(a,c,b){return Sch.util.Date.getShortNameOfUnit('WEEK')+'.'+Ext.Date.format(a,'W M Y')}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'HOUR',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'MINUTE',increment:'30',dateFormat:'i'},top:{unit:'HOUR',dateFormat:'D, GA/m'}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'DAY',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'HOUR',dateFormat:'G:i'},top:{unit:'DAY',dateFormat:'D d/m'}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d G:i',shiftUnit:'DAY',shiftIncrement:1,defaultSpan:5,timeResolution:{unit:'HOUR',increment:1},headerConfig:{middle:{unit:'DAY',dateFormat:'D d M'},top:{unit:'WEEK',dateFormat:'W M Y',renderer:function(a,c,b){return Sch.util.Date.getShortNameOfUnit('WEEK')+'.'+Ext.Date.format(a,'W M Y')}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:1,timeResolution:{unit:'DAY',increment:1},headerConfig:{bottom:{unit:'DAY',increment:1,dateFormat:'d/m'},middle:{unit:'WEEK',dateFormat:'D d M',align:'left'}}},weekAndMonth:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:5,defaultSpan:6,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'WEEK',renderer:function(b,c,a){a.align='left';return Ext.Date.format(b,'d M')}},top:{unit:'MONTH',dateFormat:'M Y'}}},monthAndYear:{timeColumnWidth:110,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftIncrement:3,shiftUnit:'MONTH',defaultSpan:12,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'MONTH',dateFormat:'M Y'},top:{unit:'YEAR',dateFormat:'Y'}}},year:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'YEAR',shiftIncrement:1,defaultSpan:1,timeResolution:{unit:'MONTH',increment:1},headerConfig:{bottom:{unit:'QUARTER',renderer:function(a,c,b){return Ext.String.format(Sch.util.Date.getShortNameOfUnit('QUARTER').toUpperCase()+'{0}',Math.floor(a.getMonth()/3)+1)}},middle:{unit:'YEAR',dateFormat:'Y'}}},weekAndDayLetter:{timeColumnWidth:20,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:10,timeResolution:{unit:'DAY',increment:1},headerConfig:{bottom:{unit:'DAY',increment:1,renderer:function(a){return Ext.Date.dayNames[a.getDay()].substring(0,1)}},middle:{unit:'WEEK',dateFormat:'D d M Y',align:'left'}}},weekDateAndMonth:{timeColumnWidth:30,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:10,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'WEEK',dateFormat:'d'},top:{unit:'MONTH',dateFormat:'Y F',align:'left'}}}}});Ext.define('Sch.feature.AbstractTimeSpan',{extend:'Ext.AbstractPlugin',lockableScope:'normal',schedulerView:null,timeAxis:null,containerEl:null,expandToFitView:!1,disabled:!1,cls:null,template:null,store:null,renderElementsBuffered:!1,renderDelay:15,constructor:function(a){this.uniqueCls=this.uniqueCls||'sch-timespangroup-'+Ext.id();Ext.apply(this,a)},setDisabled:function(a){if(a){this.removeElements()}this.disabled=a},getElements:function(){if(this.containerEl){return this.containerEl.select('.'+this.uniqueCls)}return null},removeElements:function(){var a=this.getElements();if(a){a.remove()}},init:function(a){this.timeAxis=a.getTimeAxis();this.schedulerView=a.getSchedulingView();if(!this.store){Ext.Error.raise('Error: You must define a store for this plugin')}this.schedulerView.on({afterrender:this.onAfterRender,destroy:this.onDestroy,scope:this})},onAfterRender:function(b){var a=this.schedulerView;this.containerEl=a.el;a.mon(this.store,{load:this.renderElements,datachanged:this.renderElements,clear:this.renderElements,add:this.renderElements,remove:this.renderElements,update:this.refreshSingle,scope:this});if(Ext.data.NodeStore&&a.store instanceof Ext.data.NodeStore){if(a.animate){}else {a.mon(a.store,{expand:this.renderElements,collapse:this.renderElements,scope:this})}}a.on({refresh:this.renderElements,itemadd:this.renderElements,itemremove:this.renderElements,itemupdate:this.renderElements,groupexpand:this.renderElements,groupcollapse:this.renderElements,columnwidthchange:this.renderElements,resize:this.renderElements,scope:this});a.headerCt.on({add:this.renderElements,remove:this.renderElements,scope:this});a.ownerCt.up('panel').on({viewchange:this.renderElements,orientationchange:this.renderElements,scope:this});this.renderElements()},renderElements:function(){if(this.renderElementsBuffered||this.disabled||this.schedulerView.headerCt.getColumnCount()===0){return}this.renderElementsBuffered=!0;Ext.Function.defer(this.renderElementsInternal,this.renderDelay,this)},renderElementsInternal:function(){this.renderElementsBuffered=!1;if(this.disabled||this.schedulerView.isDestroyed||this.schedulerView.headerCt.getColumnCount()===0){return}this.removeElements();var c=this.timeAxis.getStart(),a=this.timeAxis.getEnd(),b=this.getElementData(c,a);this.template.insertFirst(this.containerEl,b)},getElementData:function(b,a){throw 'Abstract method call'},onDestroy:function(){if(this.store.autoDestroy){this.store.destroy()}},refreshSingle:function(g,c){var a=Ext.get(this.uniqueCls+'-'+c.internalId);if(a){var f=this.timeAxis.getStart(),d=this.timeAxis.getEnd(),b=this.getElementData(f,d,[c])[0],e=c.clsField||'Cls';a.dom.className=this.cls+' '+this.uniqueCls+' '+(b[e]||'');a.setTop(b.top);a.setLeft(b.left);a.setSize(b.width,b.height)}else {this.renderElements()}}});Ext.define('Sch.plugin.Lines',{extend:'Sch.feature.AbstractTimeSpan',cls:'sch-timeline',showTip:!0,innerTpl:null,init:function(c){this.callParent(arguments);var b=this.schedulerView;if(Ext.isString(this.innerTpl)){this.innerTpl=new Ext.XTemplate(this.innerTpl)}var a=this.innerTpl;if(!this.template){this.template=new Ext.XTemplate('<tpl for=".">','<div id="'+this.uniqueCls+'-{id}"'+(this.showTip?'title="{[this.getTipText(values)]}" ':'')+'class="'+this.cls+' '+this.uniqueCls+' {Cls}" style="left:{left}px;top:{top}px;height:{height}px;width:{width}px">'+(a?'{[this.renderInner(values)]}':'')+'</div>','</tpl>',{getTipText:function(a){return b.getFormattedDate(a.Date)+' '+(a.Text||'')},renderInner:function(b){return a.apply(b)}})}},getElementData:function(j,k,g){var l=this.store,i=this.schedulerView,f=g||l.getRange(),e=[],n=this.containerEl.lastBox?this.containerEl.lastBox.height:this.containerEl.getHeight(),b,c,a,m;for(var d=0,h=f.length;d<h;d++){b=f[d];c=b.get('Date');if(c&&Ext.Date.between(c,j,k)){a=i.getTimeSpanRegion(c,null,this.expandToFitView);e[e.length]=Ext.apply({id:b.internalId,left:a.left,top:a.top,width:Math.max(1,a.right-a.left),height:a.bottom-a.top},b.data)}}return e}});Ext.define('Sch.plugin.Zones',{extend:'Sch.feature.AbstractTimeSpan',innerTpl:null,requires:['Sch.model.Range'],cls:'sch-zone',init:function(b){if(Ext.isString(this.innerTpl)){this.innerTpl=new Ext.XTemplate(this.innerTpl)}var a=this.innerTpl;if(!this.template){this.template=new Ext.XTemplate('<tpl for="."><div id="'+this.uniqueCls+'-{id}" class="'+this.cls+' '+this.uniqueCls+' {Cls}" style="left:{left}px;top:{top}px;height:{height}px;width:{width}px">'+(a?'{[this.renderInner(values)]}':'')+'</div></tpl>',{renderInner:function(c){return a.apply(c)}})}this.callParent(arguments)},getElementData:function(h,i,j){var m=this.store,l=this.schedulerView,g=j||m.getRange(),f=[],b,d,c,a;for(var e=0,k=g.length;e<k;e++){b=g[e];d=b.getStartDate();c=b.getEndDate();if(d&&c&&Sch.util.Date.intersectSpans(d,c,h,i)){a=l.getTimeSpanRegion(Sch.util.Date.max(d,h),Sch.util.Date.min(c,i),this.expandToFitView);f[f.length]=Ext.apply({id:b.internalId,left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top,Cls:b.getCls()},b.data)}}return f}});Ext.define('Sch.plugin.Pan',{alias:'plugin.pan',extend:'Ext.AbstractPlugin',lockableScope:'normal',enableVerticalPan:!0,panel:null,constructor:function(a){Ext.apply(this,a)},init:function(a){this.panel=a.normalGrid||a;this.view=a.getSchedulingView();this.view.on('afterrender',this.onRender,this)},onRender:function(a){this.view.el.on('mousedown',this.onMouseDown,this,{delegate:'.'+this.view.timeCellCls})},onMouseDown:function(a,b){if(a.getTarget('.'+this.view.timeCellCls)&&!a.getTarget(this.view.eventSelector)){this.mouseX=a.getPageX();this.mouseY=a.getPageY();Ext.getBody().on('mousemove',this.onMouseMove,this);Ext.getDoc().on('mouseup',this.onMouseUp,this)}},onMouseMove:function(a){a.stopEvent();var b=a.getPageX(),c=a.getPageY(),e=b-this.mouseX,d=c-this.mouseY;this.panel.scrollByDeltaX(-e);this.mouseX=b;this.mouseY=c;if(this.enableVerticalPan){this.panel.scrollByDeltaY(-d)}},onMouseUp:function(a){Ext.getBody().un('mousemove',this.onMouseMove,this);Ext.getDoc().un('mouseup',this.onMouseUp,this)}});Ext.define('Sch.view.Locking',{extend:'Ext.grid.LockingView',scheduleEventRelayRe:/^(schedule|event|beforeevent|afterevent|dragcreate|beforedragcreate|afterdragcreate|beforetooltipshow)/,constructor:function(g){this.callParent(arguments);var c=this,e=[],f=c.scheduleEventRelayRe,d=g.normal.getView(),b=d.events,a;for(a in b){if(b.hasOwnProperty(a)&&f.test(a)){e.push(a)}}c.relayEvents(d,e)},getElementFromEventRecord:function(a){return this.normal.getView().getElementFromEventRecord(a)},onClear:function(){this.relayFn('onClear',arguments)},beginBulkUpdate:function(){this.relayFn('beginBulkUpdate',arguments)},endBulkUpdate:function(){this.relayFn('endBulkUpdate',arguments)},refreshKeepingScroll:function(){this.locked.getView().refresh();this.normal.getView().refreshKeepingScroll()}});Ext.define('Sch.column.Time',{extend:'Ext.grid.column.Column',alias:'timecolumn',draggable:!1,groupable:!1,hideable:!1,sortable:!1,fixed:!0,align:'center',tdCls:'sch-timetd',menuDisabled:!0,initComponent:function(){this.addEvents('timeheaderdblclick');this.enableBubble('timeheaderdblclick');this.callParent()},initRenderData:function(){var a=this;a.renderData.headerCls=a.renderData.headerCls||a.headerCls;return a.callParent(arguments)},onElDblClick:function(a,b){this.callParent(arguments);this.fireEvent('timeheaderdblclick',this,this.startDate,this.endDate,a)}},function(){Sch.column.Time.prototype.renderTpl=Sch.column.Time.prototype.renderTpl.replace('column-header-inner','column-header-inner sch-timeheader {headerCls}')});Ext.define('Sch.column.timeAxis.Horizontal',{extend:'Ext.grid.column.Column',alias:'widget.timeaxiscolumn',requires:['Ext.Date','Ext.XTemplate','Sch.column.Time','Sch.preset.Manager'],cls:'sch-timeaxiscolumn',timeAxis:null,renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" style="display:none" class="'+Ext.baseCSSPrefix+'column-header-text"></span><tpl if="topHeaderCells">{topHeaderCells}</tpl><tpl if="middleHeaderCells">{middleHeaderCells}</tpl></div>{%this.renderContainer(out,values)%}',headerRowTpl:'<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}" class="sch-header-row sch-header-row-{position}"><thead><tr>{cells}</tr></thead></table>',headerCellTpl:'<tpl for="."><td class="sch-column-header x-column-header {headerCls}" style="position : static; text-align: {align}; {style}" tabIndex="0" id="{headerId}" headerPosition="{position}" headerIndex="{index}"><div class="x-column-header-inner">{header}</div></td></tpl>',columnConfig:{},timeCellRenderer:null,timeCellRendererScope:null,columnWidth:null,previousWidth:null,previousHeight:null,initComponent:function(){if(!(this.headerRowTpl instanceof Ext.Template)){this.headerRowTpl=Ext.create('Ext.XTemplate',this.headerRowTpl)}if(!(this.headerCellTpl instanceof Ext.Template)){this.headerCellTpl=Ext.create('Ext.XTemplate',this.headerCellTpl)}this.columns=[{}];this.addEvents('timeheaderdblclick','timeaxiscolumnreconfigured');this.enableBubble('timeheaderdblclick');this.stubForResizer=new Ext.Component({isOnLeftEdge:function(){return !1},isOnRightEdge:function(){return !1},el:{dom:{style:{}}}});this.callParent(arguments);this.onTimeAxisReconfigure();this.mon(this.timeAxis,'reconfigure',this.onTimeAxisReconfigure,this)},getSchedulingView:function(){return this.getOwnerHeaderCt().view},onTimeAxisReconfigure:function(){var b=this.timeAxis,d=b.preset.timeColumnWidth,e=this.rendered&&this.getSchedulingView(),g=b.headerConfig,i=b.getStart(),j=b.getEnd(),h={renderer:this.timeColumnRenderer,scope:this,width:this.rendered?e.calculateTimeColumnWidth(d):d};delete this.previousWidth;delete this.previousHeight;var a=this.columnConfig=this.createColumns(this.timeAxis,g,h);Ext.suspendLayouts();this.removeAll();if(this.rendered){var c=this.el.child('.x-column-header-inner');c.select('table').remove();var f=this.initRenderData();if(a.top){Ext.core.DomHelper.append(c,f.topHeaderCells)}if(a.middle){Ext.core.DomHelper.append(c,f.middleHeaderCells)}if(!a.top&&!a.middle){this.addCls('sch-header-single-row')}else {this.removeCls('sch-header-single-row')}}Ext.resumeLayouts();this.add(a.bottom);if(this.rendered){if(this.fireEvent('timeaxiscolumnreconfigured',this)!==!1){e.refresh()}}},beforeRender:function(){var a=this.columnConfig;if(!a.middle&&!a.top){this.addCls('sch-header-single-row')}this.callParent(arguments)},timeColumnRenderer:function(k,d,f,j,a,e,l){var b='';if(Ext.isIE){d.style+=';z-index:'+(this.items.getCount()-a)}if(this.timeCellRenderer){var h=this.timeAxis,c=h.getAt(a),g=c.start,i=c.end;b=this.timeCellRenderer.call(this.timeCellRendererScope||this,d,f,j,a,e,g,i)}return b},initRenderData:function(){var a=this.columnConfig;var c=a.top?this.headerRowTpl.apply({cells:this.headerCellTpl.apply(a.top),position:'top',tstyle:'border-top : 0; width : 100px'}):'';var b=a.middle?this.headerRowTpl.apply({cells:this.headerCellTpl.apply(a.middle),position:'middle',tstyle:a.top?'width : 100px':'border-top : 0; width : 100px'}):'';return Ext.apply(this.callParent(arguments),{topHeaderCells:c,middleHeaderCells:b})},defaultRenderer:function(b,c,a){return Ext.Date.format(b,a)},createColumns:function(e,b,h){if(!e||!b){throw 'Invalid parameters passed to createColumns'}var d=[],a=b.bottom||b.middle,c,g=this;e.forEachInterval(b.bottom?'bottom':'middle',function(i,f,j){c={align:a.align||'center',headerCls:'',startDate:i,endDate:f};if(a.renderer){c.header=a.renderer.call(a.scope||g,i,f,c,j)}else {c.header=g.defaultRenderer(i,f,a.dateFormat)}d[d.length]=Ext.create('Sch.column.Time',Ext.apply(c,h))});var f=this.createHeaderRows(e,b);return {bottom:d,middle:f.middle,top:f.top}},createHeaderRows:function(b,a){var e={};if(a.top){var c;if(a.top.cellGenerator){c=a.top.cellGenerator.call(this,b.getStart(),b.getEnd())}else {c=this.createHeaderRow(b,a.top)}e.top=this.processHeaderRow(c,'top')}if(a.bottom){var d;if(a.middle.cellGenerator){d=a.middle.cellGenerator.call(this,b.getStart(),b.getEnd())}else {d=this.createHeaderRow(b,a.middle)}e.middle=this.processHeaderRow(d,'middle')}return e},processHeaderRow:function(a,b){var c=this;Ext.each(a,function(d,e){d.index=e;d.position=b;d.headerId=c.stubForResizer.id});return a},createHeaderRow:function(g,a){var i=[],c,h=g.getStart(),e=g.getEnd(),m=e-h,l=[],b=h,f=0,k,j=a.align||'center',d;while(b<e){d=Sch.util.Date.min(g.getNext(b,a.unit,a.increment||1),e);c={align:j,start:b,end:d,headerCls:''};if(a.renderer){c.header=a.renderer.call(a.scope||this,b,d,c,f)}else {c.header=this.defaultRenderer(b,d,a.dateFormat,c,f)}i.push(c);b=d;f++}return i},afterLayout:function(){delete this.columnWidth;this.callParent(arguments);var d=this.getWidth();var f=this.getHeight();if(d===this.previousWidth&&f===this.previousHeight){return}this.previousWidth=d;this.previousHeight=f;var g=this.columnConfig;var e=this;var a=this.el;var b=g.top;var i=0;var h=0;if(b){a.select('.sch-header-row-top').setWidth(this.lastBox.width);a.select('.sch-header-row-top td').each(function(a,f,d){var c=e.getHeaderGroupCellWidth(b[d].start,b[d].end);a.setVisibilityMode(Ext.Element.DISPLAY);if(c){i+=c;a.show();a.setWidth(c)}else {a.hide()}})}var c=g.middle;if(c){a.select('.sch-header-row-middle').setWidth(this.lastBox.width);a.select('.sch-header-row-middle td').each(function(a,f,d){var b=e.getHeaderGroupCellWidth(c[d].start,c[d].end);a.setVisibilityMode(Ext.Element.DISPLAY);if(b){h+=b;a.show();a.setWidth(b)}else {a.hide()}})}},getHeaderGroupCellWidth:function(e,c){var g=this.timeAxis.unit,h=this.timeAxis.increment,a,d=Sch.util.Date.getMeasuringUnit(g),f=Sch.util.Date.getDurationInUnit(e,c,d),b=this.getSchedulingView();if(this.timeAxis.isContinuous()){a=f*b.getSingleUnitInPixels(d)}else {a=b.getXYFromDate(c)[0]-b.getXYFromDate(e)[0]}return a},onElDblClick:function(c,f){this.callParent(arguments);var a=c.getTarget('.sch-column-header');if(a){var d=Ext.fly(a).getAttribute('headerPosition'),e=Ext.fly(a).getAttribute('headerIndex'),b=this.columnConfig[d][e];this.fireEvent('timeheaderdblclick',this,b.start,b.end,c)}},getTimeColumnWidth:function(){if(this.columnWidth===null){this.columnWidth=this.items.get(0).getWidth()}return this.columnWidth},setTimeColumnWidth:function(a){this.suspendEvents();this.items.each(function(b){b.setWidth(a)});this.resumeEvents()}});Ext.define('Sch.column.timeAxis.HorizontalSingle',{extend:'Sch.column.Time',alias:'widget.singletimeaxiscolumn',requires:['Ext.Date','Ext.XTemplate','Sch.preset.Manager'],cls:'sch-simple-timeaxis',timeAxis:null,trackHeaderOver:!0,compactCellWidthThreshold:16,renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" style="display:none" class="'+Ext.baseCSSPrefix+'column-header-text"></span><tpl if="topHeaderCells">{topHeaderCells}</tpl><tpl if="middleHeaderCells">{middleHeaderCells}</tpl><tpl if="bottomHeaderCells">{bottomHeaderCells}</tpl></div>{%this.renderContainer(out,values)%}',headerRowTpl:'<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}" class="sch-header-row sch-header-row-{position}"><thead><tr><tpl for="cells"><td class="sch-column-header x-column-header {headerCls}" style="position : static; text-align: {align}; {style}" tabIndex="0" id="{headerId}" headerPosition="{parent.position}" headerIndex="{[xindex-1]}"><div class="sch-simple-timeheader">{header}</div></td></tpl></tr></thead></table>',columnConfig:{},columnWidth:null,nbrTimeColumns:null,initComponent:function(){this.tdCls+=' sch-singletimetd';if(!(this.headerRowTpl instanceof Ext.Template)){this.headerRowTpl=Ext.create('Ext.XTemplate',this.headerRowTpl)}this.addEvents('timeheaderdblclick','timeaxiscolumnreconfigured');this.enableBubble('timeheaderdblclick');this.callParent(arguments);this.onTimeAxisReconfigure();this.mon(this.timeAxis,'reconfigure',this.onTimeAxisReconfigure,this);this.on('resize',this.refreshHeaderSizes,this);this.ownHoverCls=this.hoverCls;this.hoverCls=''},getSchedulingView:function(){return this.getOwnerHeaderCt().view},onTimeAxisReconfigure:function(){var g=this.timeAxis,i=g.preset.timeColumnWidth,j=this.rendered&&this.getSchedulingView(),m=g.headerConfig,n=g.getStart(),o=g.getEnd(),f=this.rendered?j.calculateTimeColumnWidth(i):i;var b=this.columnConfig=this.createHeaderRows(m);var d=b.bottom||b.middle;if(this.rendered){var c;var e=this.el.child('.x-column-header-inner');var a=e.dom;var l=a.style.display;var k=a.parentNode;a.style.display='none';k.removeChild(a);a.innerHTML='';var h=this.initRenderData();if(b.top){c=Ext.core.DomHelper.append(e,h.topHeaderCells);this.refreshHeaderRow('top',c)}if(b.middle){c=Ext.core.DomHelper.append(e,h.middleHeaderCells);this.refreshHeaderRow('middle',c)}if(b.bottom){c=Ext.core.DomHelper.append(e,h.bottomHeaderCells);this.refreshHeaderRow('bottom',c)}if(!b.top&&!b.middle){this.addCls('sch-header-single-row')}else {this.removeCls('sch-header-single-row')}k.appendChild(a);a.style.display=l;if(f!==this.columnWidth||this.nbrTimeColumns!==d.length){this.nbrTimeColumns=d.length;this.setTimeColumnWidth(f)}if(this.fireEvent('timeaxiscolumnreconfigured',this)!==!1){j.refreshKeepingResourceScroll(!0)}}else {if(f!==this.columnWidth||this.nbrTimeColumns!==d.length){this.nbrTimeColumns=d.length;this.setTimeColumnWidth(f)}}},beforeRender:function(){var b=this,a=this.columnConfig;if(!a.middle&&!a.top){b.addCls('sch-header-single-row')}b.callParent(arguments)},afterRender:function(){var a=this;if(this.trackHeaderOver){a.el.on({mousemove:a.highlightCell,delegate:'div.sch-simple-timeheader',scope:a});a.el.on({mouseleave:a.clearHighlight,scope:a})}a.callParent(arguments)},initRenderData:function(){var a=this.columnConfig;var c=a.top?this.headerRowTpl.apply({cells:a.top,position:'top',tstyle:'border-top : 0; width : 100px'}):'';var b=a.middle?this.headerRowTpl.apply({cells:a.middle,position:'middle',tstyle:a.top?'width : 100px':'border-top : 0; width : 100px'}):'';var d=a.bottom?this.headerRowTpl.apply({cells:a.bottom,position:'bottom',tstyle:'width : 100px'}):'';return Ext.apply(this.callParent(arguments),{topHeaderCells:c,middleHeaderCells:b,bottomHeaderCells:d})},defaultRenderer:function(b,c,a){return Ext.Date.format(b,a)},createHeaderRows:function(b){var c={};for(var a in b){if(b[a].cellGenerator){c[a]=b[a].cellGenerator.call(this,this.timeAxis.getStart(),this.timeAxis.getEnd())}else {c[a]=this.createHeaderRow(a,b[a])}}return c},createHeaderRow:function(e,a){var c=[],d=this,b,f=a.align||'center';this.timeAxis.forEachInterval(e,function(g,h,i){b={align:f,start:g,end:h,headerCls:''};if(a.renderer){b.header=a.renderer.call(a.scope||d,g,h,b,i)}else {b.header=d.defaultRenderer(g,h,a.dateFormat,b,i)}if(a.unit===Sch.util.Date.DAY&&(!a.increment||a.increment===1)){b.headerCls+=' sch-dayheadercell-'+g.getDay()}c.push(b)});return c},afterLayout:function(){this.callParent(arguments);this.refreshHeaderSizes()},refreshHeaderSizes:function(){var a=this.columnConfig;if(a.top){this.refreshHeaderRow('top')}if(a.middle){this.refreshHeaderRow('middle')}if(a.bottom){this.refreshHeaderRow('bottom')}},refreshHeaderRow:function(c,a){var f=this.el;var e=this.columnConfig[c];var d=this;var b;a=a||f.down('.sch-header-row-'+c,!0);Ext.fly(a).setWidth(d.getTotalWidth());Ext.fly(a).select(' thead > tr > td').each(function(f,h,g){b=d.getHeaderGroupCellWidth(e[g].start,e[g].end);f.setVisibilityMode(Ext.Element.DISPLAY);if(b){if(Ext.isSafari&&Ext.isMac){b-=2}f.show();f.setWidth(b-(Ext.chromeVersion===19?g?1:0:0))}else {f.hide()}});if(c==='bottom'){if(b<this.compactCellWidthThreshold){Ext.fly(a).addCls('sch-header-row-compact')}else {Ext.fly(a).removeCls('sch-header-row-compact')}}},getHeaderGroupCellWidth:function(e,c){var g=this.timeAxis.unit,h=this.timeAxis.increment,a,d=Sch.util.Date.getMeasuringUnit(g),f=Sch.util.Date.getDurationInUnit(e,c,d),b=this.getSchedulingView();if(this.timeAxis.isContinuous()){a=f*b.getSingleUnitInPixels(d)}else {a=b.getXYFromDate(c)[0]-b.getXYFromDate(e)[0]}return a},onElDblClick:function(c,f){var a=c.getTarget('.sch-column-header');if(a){var d=Ext.fly(a).getAttribute('headerPosition'),e=Ext.fly(a).getAttribute('headerIndex'),b=this.columnConfig[d][e];this.fireEvent('timeheaderdblclick',this,b.start,b.end,c)}},getTimeColumnWidth:function(){if(this.columnWidth===null){this.columnWidth=this.getWidth()/this.nbrTimeColumns}return this.columnWidth},setTimeColumnWidth:function(a){this.columnWidth=a;if(this.rendered){Ext.suspendLayouts();this.setWidth(a*this.nbrTimeColumns);Ext.resumeLayouts();this.refreshHeaderSizes();this.ownerCt.updateLayout()}else {this.setWidth(a*this.nbrTimeColumns)}},getTotalWidth:function(){return this.columnWidth*this.nbrTimeColumns},highlightCell:function(c,b){var a=this;if(b!==a.highlightedCell){a.clearHighlight();a.highlightedCell=b;Ext.fly(b).addCls(a.ownHoverCls)}},clearHighlight:function(){var a=this,b=a.highlightedCell;if(b){Ext.fly(b).removeCls(a.ownHoverCls);delete a.highlightedCell}}});Ext.define('Sch.mixin.Lockable',{extend:'Ext.grid.Lockable',requires:['Sch.column.timeAxis.Horizontal','Sch.column.timeAxis.HorizontalSingle'],findEditingPlugin:function(){var b=this.plugins||[];var c=this;var a;Ext.each(b,function(c,d){if(Ext.grid.plugin&&Ext.grid.plugin.CellEditing&&c instanceof Ext.grid.plugin.CellEditing){a=c;Ext.Array.remove(b,c);return !1}});return a},processSchedulerPlugins:function(){var f=[];var e=[];var g=[];var c=this.plugins||[];var b=this;for(var d=c.length-1;d>=0;d--){var a=c[d];if(a.lockableScope){switch(a.lockableScope){case 'top':g.push(a);break;case 'locked':f.push(a);break;case 'normal':e.push(a);break;}Ext.Array.remove(c,a)}}if(f.length>0){b.lockedGridConfig.plugins=(b.lockedGridConfig.plugins||[]).concat(f)}if(e.length>0){b.normalGridConfig.plugins=(b.normalGridConfig.plugins||[]).concat(e)}b.topPlugins=g},injectLockable:function(){var i=this.findEditingPlugin();var a=this;var e=Ext.data.TreeStore&&a.store instanceof Ext.data.TreeStore;var g=a.store.buffered;var h=a.getEventSelectionModel?a.getEventSelectionModel():a.getSelectionModel();a.lockedGridConfig=a.lockedGridConfig||{};a.normalGridConfig=a.schedulerConfig||a.normalGridConfig||{};var d=a.lockedGridConfig,f=a.normalGridConfig;Ext.applyIf(a.lockedGridConfig,{enableLocking:!1,lockable:!1,useArrows:!0,xtype:a.lockedXType,columnLines:a.columnLines,rowLines:a.rowLines,stateful:a.stateful,id:a.id+'_locked',delayScroll:function(){if(this.rendered){return this.self.prototype.delayScroll.apply(this,arguments)}},split:!0,animCollapse:!1,collapseDirection:'left',region:'west'});if(i){a.lockedGridConfig.plugins=(a.lockedGridConfig.plugins||[]).concat(i)}a.processSchedulerPlugins();Ext.applyIf(a.normalGridConfig,{layout:'fit',xtype:a.normalXType,viewType:a.viewType,enableLocking:!1,lockable:!1,sortableColumns:!1,enableColumnMove:!1,enableColumnResize:!1,enableColumnHide:!1,selModel:h,eventSelModel:h,_top:a,orientation:a.orientation,viewPreset:a.viewPreset,timeAxis:a.timeAxis,columnLines:a.columnLines,rowLines:a.rowLines,collapseDirection:'right',animCollapse:!1,region:'center'});a.bothCfgCopy=a.bothCfgCopy||Ext.grid.Panel&&Ext.grid.Panel.prototype.bothCfgCopy||['invalidateScrollerOnRefresh','hideHeaders','enableColumnHide','enableColumnMove','enableColumnResize','sortableColumns'];if(a.orientation==='vertical'){d.store=f.store=a.timeAxis.tickStore;a.mon(a.resourceStore,{clear:a.refreshResourceColumns,datachanged:a.refreshResourceColumns,load:a.refreshResourceColumns,scope:a})}if(d.width){a.syncLockedWidth=Ext.emptyFn;d.scroll='horizontal';d.scrollerOwner=!0}if(a.resourceStore){f.resourceStore=a.resourceStore}if(a.eventStore){f.eventStore=a.eventStore}if(a.dependencyStore){f.dependencyStore=a.dependencyStore}a.lockedViewConfig=a.lockedViewConfig||{};a.normalViewConfig=a.normalViewConfig||{};if(e&&g&&Ext.getScrollbarSize().width===0){a.lockedGridConfig.scroll='horizontal'}a.lockedViewConfig.enableAnimations=a.normalViewConfig.enableAnimations=!1;if(e){a.normalViewConfig.providedStore=a.lockedViewConfig.providedStore=a.createNodeStore(g,a.store)}var j=a.layout;this.callParent(arguments);if(a.topPlugins){a.plugins=a.topPlugins}if(d.width){a.lockedGrid.setWidth(d.width);a.normalGrid.getView().addCls('sch-timeline-horizontal-scroll')}else {if(a.normalGrid.collapsed){a.normalGrid.collapsed=!1;a.normalGrid.view.on('boxready',function(){a.normalGrid.collapse()},a,{delay:10})}}var c=a.lockedGrid.getView();var b=a.normalGrid.getView();if(g){c.on('render',this.onLockedViewRender,this);this.fixPagingScroller(a.normalGrid.verticalScroller);if(Ext.getScrollbarSize().width>0){c.on({scroll:{fn:a.onLockedViewScroll,element:'el',scope:a}})}}if(Ext.getScrollbarSize().width===0){c.addCls('sch-ganttpanel-force-locked-scroll')}if(e){this.setupLockableTree()}if(!b.deferInitialRefresh){var k=b.onRender;b.onRender=function(){this.doFirstRefresh=function(){};k.apply(this,arguments);delete this.doFirstRefresh}}if(g){b.el={un:function(){}};a.normalGrid.verticalScroller.bindView(b);delete b.el}a.view.clearListeners();c.on({refresh:a.updateSpacer,scope:a});a.view=Ext.create('Sch.view.Locking',{locked:a.lockedGrid,normal:a.normalGrid,panel:a});if(a.syncRowHeight){c.on('refresh',this.onLockedViewRefresh,this);if(e){a.mon(a.store,{beforeload:function(){c.un({itemadd:a.onViewItemAdd,scope:a});b.un({itemadd:a.onViewItemAdd,scope:a})},load:function(){c.un({itemadd:a.onViewItemAdd,scope:a});b.un({itemadd:a.onViewItemAdd,scope:a});a.prepareFullRowHeightSync();a.syncRowHeights()}});a.normalGrid.on('afteritemexpand',a.afterNormalGridItemExpand,a)}c.on({itemadd:a.onViewItemAdd,scope:a});b.on({itemadd:a.onViewItemAdd,itemupdate:a.onNormalViewItemUpdate,groupexpand:a.onNormalViewGroupExpand,scope:a});if(Ext.isIE9&&Ext.isStrict){a.onNormalViewItemUpdate=function(e,c,d){if(a.lockedGridDependsOnSchedule){var b=a.lockedGrid.getView();b.suspendEvents();b.onUpdate(a.lockedGrid.store,e);b.resumeEvents()}var f=a.normalGrid.getView().getNode(c);f.style.height=d.style.height;a.normalHeights[c]=d.style.height;a.syncRowHeights()}}}if(j!=='fit'){a.layout=j}a.normalGrid.on({collapse:a.onNormalGridCollapse,expand:a.onNormalGridExpand,scope:a});a.lockedGrid.on({collapse:a.onLockedGridCollapse,scope:a});if(this.lockedGrid.view.store!==this.normalGrid.view.store){Ext.Error.raise('Sch.mixin.Lockable setup failed, not sharing store between the two views')}},onLockedGridCollapse:function(){if(this.normalGrid.collapsed){this.normalGrid.expand()}},onNormalGridCollapse:function(){var a=this;if(!a.normalGrid.reExpander){a.normalGrid.reExpander=a.normalGrid.placeholder}if(!a.lockedGrid.rendered){a.lockedGrid.on('render',a.onNormalGridCollapse,a,{delay:1})}else {a.lastLockedWidth=a.lockedGrid.getWidth();a.lockedGrid.setWidth(a.getWidth()-35);if(a.lockedGrid.collapsed){a.lockedGrid.expand()}a.addCls('sch-normalgrid-collapsed')}},onNormalGridExpand:function(){this.removeCls('sch-normalgrid-collapsed');this.lockedGrid.setWidth(this.lastLockedWidth)},fixPagingScroller:function(a){var e=a.onViewRefresh;a.onViewRefresh=function(){e.apply(this,arguments);var c=this,b=c.store;if(b.getCount()===b.getTotalCount()||b.isFiltered()&&!b.remoteFilter){c.stretcher.setHeight(c.getScrollHeight())}};var b=a.view.lockingPartner;if(b){var d=a.onLockRefresh;var c=function(b){if(b.table.dom){d.apply(this,arguments)}};b.un('refresh',d,a);b.on('refresh',c,a);a.onLockRefresh=c}a.view.un('render',a.onViewRender,a);a.onViewRender=function(){var c=this,b=c.view.el;b.setStyle('position','relative');c.stretcher=b.createChild({style:{position:'absolute',width:'1px',height:0,top:0,left:0}},b.dom.firstChild)};a.view.on('render',a.onViewRender,a)},createNodeStore:function(b,a){return new Ext.data.NodeStore({buffered:b,purgePageCount:0,pageSize:1.0E10,treeStore:a,recursive:!0,refreshFromTree:function(){var f=this.eventsSuspended;this.suspendEvents();this.removeAll();var d=a.getRootNode(),c=[];var e=function(f){if(f!=d){c[c.length]=f}if(f.isExpanded()){var h=f.childNodes,i=h.length;for(var g=0;g<i;g++){e(h[g])}}};e(d);this.totalCount=c.length;this.cachePage(c,1);if(Ext.isNumber(this.eventsSuspended)||!f){this.resumeEvents()}}})},setupLockableTree:function(){var o;var h;var d=this;var f=d.store.buffered;var e=d.getView();var j=d.lockedGrid.getView();var g=d.normalGrid.getView();var a=g.store;var b=d.store;var i=d.normalGrid.verticalScroller;var l=function(c,d){var f=b.viewSize||50;var e=a.getTotalCount();if(e){var g=d-c+1;if(g<f&&e>=g){d=c+f-1}if(d>=e){c=e-(d-c);d=e-1;c=Math.max(0,c)}a.guaranteeRange(c,d)}};this.mon(b,'root-fill-start',function(){h=!0;a.suspendEvents();if(f){o=a.node;a.setNode()}});this.mon(b,'root-fill-end',function(){h=!1;if(f){a.refreshFromTree();a.resumeEvents();l(0,b.viewSize||50)}else {a.resumeEvents();e.refresh()}});if(f){var m,k;this.mon(a,'guaranteedrange',function(c,b,a){m=b;k=a});var c=function(){if(h){return}a.refreshFromTree();l(m||0,k||50);if(g.rendered){d.onNormalViewScroll()}};this.mon(b,{append:c,insert:c,remove:c,move:c,expand:c,collapse:c,sort:c,buffer:1})}this.mon(b,'filter',function(c,b){a.filter.apply(a,b);e.refresh()});this.mon(b,'clearfilter',function(b){a.clearFilter();e.refresh()});this.mon(b,'beforecascade',function(b){a.suspendEvents()});this.mon(b,'cascade',function(c,b){a.resumeEvents();if(b.nbrAffected>0){g.refreshKeepingScroll(!0);setTimeout(function(){j.saveScrollState();j.refresh();j.restoreScrollState()},0)}});if(f&&i){var n=i.onGuaranteedRange;i.onGuaranteedRange=function(){n.apply(this,arguments);Ext.suspendLayouts();e.refresh();Ext.resumeLayouts()}}},onNormalViewItemUpdate:function(e,c,b){if(this.lockedGridDependsOnSchedule){var a=this.lockedGrid.getView();a.suspendEvents();a.onUpdate(this.lockedGrid.store,e);a.resumeEvents()}var d=this.normalGrid.getView().getNode(c);var f=d.style.height!==b.style.height;d.style.height=b.style.height;this.normalHeights[c]=b.style.height;this.syncRowHeights(f)},afterNormalGridItemExpand:function(b){var a=this;var c=a.getSchedulingView();b.cascadeBy(function(e){if(e!==b){var d=c.getNode(e);if(d){var f=c.indexOf(d);a.normalHeights[f]=d.style.height}}});a.syncRowHeights(!0)},onViewItemAdd:function(c,f,e){var a=this.normalGrid.getView();var d=this.lockedGrid.getView();if(a.getNodes().length!==d.getNodes().length){return}var b=this.normalHeights;Ext.each(c,function(g,h){var d=a.getNode(g);if(d){b[d.viewIndex]=d.style.height}});this.syncRowHeights()},processColumns:function(c){var a=this.callParent(arguments);var b=[];Ext.each(c,function(d){if(d.position=='right'){d.processed=!0;if(!Ext.isNumber(d.width)){Ext.Error.raise('"Right" columns must have a fixed width')}b.push(d);Ext.Array.remove(a.locked.items,d);a.lockedWidth-=d.width}});if(this.orientation==='horizontal'){a.normal.items=[{xtype:this.lightWeight?'singletimeaxiscolumn':'timeaxiscolumn',timeAxis:this.timeAxis,timeCellRenderer:this.timeCellRenderer,timeCellRendererScope:this.timeCellRendererScope,trackHeaderOver:this.trackHeaderOver}].concat(b)}else {a.locked.items=[Ext.apply({xtype:'verticaltimeaxis',width:100,timeAxis:this.timeAxis},this.timeAxisColumnCfg||{})];a.lockedWidth=a.locked.items[0].width}return a},prepareFullRowHeightSync:function(){var a=this,c=a.normalGrid.getView(),d=a.lockedGrid.getView();if(!c.rendered||!d.rendered){return}var g=c.el,i=d.el,f=g.query(c.getItemSelector()),h=i.query(d.getItemSelector()),e=f.length,b=0;a.lockedHeights=[];a.normalHeights=[];if(h.length!==e){return}for(;b<e;b++){a.normalHeights[b]=f[b].style.height}},onLockedViewRefresh:function(){this.prepareFullRowHeightSync();this.syncRowHeights()},onNormalViewRefresh:function(){var a=this.lockedGrid.getView();if(this.lockedGridDependsOnSchedule){a.un('refresh',this.onLockedViewRefresh,this);this.lockedGrid.getView().refresh();a.on('refresh',this.onLockedViewRefresh,this)}this.prepareFullRowHeightSync();this.syncRowHeights()},syncRowHeights:function(i){if(!this.lockedGrid.getView().rendered||!this.normalGrid.getView().rendered){return}var a=this,g=a.lockedHeights,d=a.normalHeights,k=[],j=g.length||d.length,b=0,f,e,c,h;if(g.length||d.length){f=a.lockedGrid.getView();e=a.normalGrid.getView();c=f.el.query(f.getItemSelector());h=e.el.query(e.getItemSelector());if(h.length!==c.length){return}for(;b<j;b++){if(c[b]&&d[b]){c[b].style.height=d[b]}}a.lockedHeights=[];a.normalHeights=[]}if(i!==!1){a.updateSpacer()}},getMenuItems:function(){return function(){return Ext.grid.header.Container.prototype.getMenuItems.call(this)}},applyColumnsState:Ext.emptyFn,updateSpacer:function(){var d=this.lockedGrid.getView();var g=this.normalGrid.getView();if(d.rendered&&g.rendered&&d.el.child('table')&&!this.getSchedulingView().__lightRefresh){var a=this,c=d.el,f=g.el.dom,e=c.dom.id+'-spacer',h=f.offsetHeight-f.clientHeight+'px';a.spacerEl=Ext.getDom(e);if(a.spacerEl){a.spacerEl.style.height=h}else {var b;if(this.store.buffered){b=a.normalGrid.verticalScroller.stretcher.item(0).dom.parentNode===c.dom?a.normalGrid.verticalScroller.stretcher.item(0):a.normalGrid.verticalScroller.stretcher.item(1)}else {b=c}Ext.core.DomHelper.append(b,{id:e,cls:this.store.buffered?'sch-locked-buffered-spacer':'',style:'height: '+h})}}},onLockedViewRender:function(){var a=this.normalGrid;if(!this.lockedStretcher){var c=this.lockedGrid.getView().el;var d=this.lockedStretcher=c.createChild({cls:'x-stretcher',style:{position:'absolute',width:'1px',height:0,top:0,left:0}},c.dom.firstChild)}if(!a.rendered){a.getView().on('render',this.onLockedViewRender,this);return}a.getView().el.un('scroll',this.onNormalViewScroll,this);a.getView().el.on('scroll',this.onNormalViewScroll,this);var b=a.verticalScroller;b.stretcher.addCls('x-stretcher');b.stretcher=new Ext.dom.CompositeElement([this.lockedStretcher,b.stretcher])},onNormalViewGroupExpand:function(){this.prepareFullRowHeightSync();this.syncRowHeights()}});Ext.define('Sch.plugin.TreeCellEditing',{extend:'Ext.grid.plugin.CellEditing',init:function(a){this._grid=a;this.on('beforeedit',this.checkReadOnly,this);this.callParent(arguments)},checkReadOnly:function(){var a=this._grid;if(!(a instanceof Sch.panel.TimelineTreePanel)){a=a.up('tablepanel')}return !a.isReadOnly()},startEditByClick:function(a,c,g,d,f,e,b){if(b.getTarget(a.expanderSelector)){return}this.callParent(arguments)},startEdit:function(d,c){if(!d||!c){return}var a=this,e=a.getEditor(d,c),f=d.get(c.dataIndex),b=a.getEditingContext(d,c);d=b.record;c=b.column;a.completeEdit();if(c&&!c.getEditor(d)){return !1}if(e){b.originalValue=b.value=f;if(a.beforeEdit(b)===!1||a.fireEvent('beforeedit',b)===!1||b.cancel){return !1}a.context=b;a.setActiveEditor(e);a.setActiveRecord(d);a.setActiveColumn(c);a.grid.view.focusCell({column:b.colIdx,row:b.rowIdx});a.editTask.delay(15,e.startEdit,e,[a.getCell(d,c),b.value,b])}else {a.grid.getView().getEl(c).focus(Ext.isWebKit||Ext.isIE?10:!1)}},getEditingContext:function(b,a){var i=this,d=i.grid,g=d.store,c,e,f=d.getView(),h;if(Ext.isNumber(b)){c=b;b=g.getAt(c)}else {if(g.indexOf){c=g.indexOf(b)}else {c=f.indexOf(f.getNode(b))}}if(Ext.isNumber(a)){e=a;a=d.headerCt.getHeaderAtIndex(e)}else {e=a.getIndex()}h=b.get(a.dataIndex);return {grid:d,record:b,field:a.dataIndex,value:h,row:f.getNode(c),column:a,rowIdx:c,colIdx:e}},startEditByPosition:function(a){var b=this,c=b.grid,d=c.getSelectionModel(),e=b.view,g=this.view.getNode(a.row),h=c.headerCt.getHeaderAtIndex(a.column),f=e.getRecord(g);if(d.selectByPosition){d.selectByPosition(a)}b.startEdit(f,h)},onEditComplete:function(h,d,g){var a=this,f=a.grid,c=a.getActiveColumn(),e=f.getSelectionModel(),b;if(c){b=a.context.record;a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);if(!a.validateEdit()){return}if(!a.context.doNotUpdateRecord&&!b.isEqual(d,g)){b.set(c.dataIndex,d)}if(e.setCurrentPosition){e.setCurrentPosition(e.getCurrentPosition())}f.getView().getEl(c).focus();a.context.value=d;a.fireEvent('edit',a,a.context)}}});Ext.define('Sch.feature.ColumnLines',{extend:'Sch.plugin.Lines',cls:'sch-column-line',showTip:!1,requires:['Ext.data.Store'],init:function(a){this.timeAxis=a.getTimeAxis();this.store=Ext.create('Ext.data.JsonStore',{model:Ext.define('Sch.model.TimeLine',{extend:'Ext.data.Model',fields:['start',{name:'Date',convert:function(c,b){return b.data.start}}]}),data:a.getOrientation()==='horizontal'?this.getData():[]});this.callParent(arguments);var b=this.schedulerView;b.timeAxis.on('reconfigure',this.populate,this)},populate:function(){var a=this.schedulerView;var b=a.getOrientation()==='horizontal'&&a.store.getCount()>0;this.store.removeAll(b);if(b){this.store.add(this.getData())}},getElementData:function(){var a=this.schedulerView;if(a.getOrientation()==='horizontal'&&a.store.getCount()>0){return this.callParent(arguments)}return []},getData:function(){var a=[];this.timeAxis.forEachMainInterval(function(c,d,b){if(b>0){a.push({start:c})}});a.push({start:this.timeAxis.getEnd()});return a}});Ext.define('Sch.plugin.CurrentTimeLine',{extend:'Sch.plugin.Lines',tooltipText:'Current time',updateInterval:60000,autoUpdate:!0,init:function(c){var a=Ext.create('Ext.data.JsonStore',{model:Ext.define('TimeLineEvent',{extend:'Ext.data.Model',fields:['Date','Cls','Text']}),data:[{Date:new Date(),Cls:'sch-todayLine',Text:this.tooltipText}]});var b=a.first();if(this.autoUpdate){this.runner=Ext.create('Ext.util.TaskRunner');this.runner.start({run:function(){b.set('Date',new Date())},interval:this.updateInterval})}c.on('destroy',this.onHostDestroy,this);this.store=a;this.callParent(arguments)},onHostDestroy:function(){if(this.runner){this.runner.stopAll()}if(this.store.autoDestroy){this.store.destroy()}}});Ext.define('Sch.mixin.TimelineView',{requires:['Sch.column.Time','Sch.data.TimeAxis'],orientation:'horizontal',overScheduledEventClass:'sch-event-hover',selectedEventCls:'sch-event-selected',altColCls:'sch-col-alt',timeCellCls:'sch-timetd',timeCellSelector:'.sch-timetd',ScheduleEventMap:{click:'Click',dblclick:'DblClick',contextmenu:'ContextMenu',keydown:'KeyDown'},suppressFitCheck:0,forceFit:!1,inheritables:function(){return {cellBorderWidth:1,initComponent:function(){this.setOrientation(this.panel._top.orientation||this.orientation);this.addEvents('beforetooltipshow','scheduleclick','scheduledblclick','schedulecontextmenu','columnwidthchange');this.enableBubble('columnwidthchange');var b={},c=Sch.util.Date;b[c.DAY]=b[c.WEEK]=b[c.MONTH]=b[c.QUARTER]=b[c.YEAR]=null;Ext.applyIf(this,{eventPrefix:this.id+'-',largeUnits:b});this.callParent(arguments);if(this.orientation==='horizontal'){this.getTimeAxisColumn().on('timeaxiscolumnreconfigured',this.checkHorizontalFit,this)}var a=this.panel._top;Ext.apply(this,{eventRendererScope:a.eventRendererScope,eventRenderer:a.eventRenderer,eventBorderWidth:a.eventBorderWidth,timeAxis:a.timeAxis,dndValidatorFn:a.dndValidatorFn||Ext.emptyFn,resizeValidatorFn:a.resizeValidatorFn||Ext.emptyFn,createValidatorFn:a.createValidatorFn||Ext.emptyFn,tooltipTpl:a.tooltipTpl,validatorFnScope:a.validatorFnScope||this,snapToIncrement:a.snapToIncrement,timeCellRenderer:a.timeCellRenderer,timeCellRendererScope:a.timeCellRendererScope,readOnly:a.readOnly,eventResizeHandles:a.eventResizeHandles,enableEventDragDrop:a.enableEventDragDrop,enableDragCreation:a.enableDragCreation,dragConfig:a.dragConfig,dropConfig:a.dropConfig,resizeConfig:a.resizeConfig,createConfig:a.createConfig,tipCfg:a.tipCfg,orientation:a.orientation,getDateConstraints:a.getDateConstraints||Ext.emptyFn});if(this.emptyText){this.emptyText='<span class="sch-empty-text">'+this.emptyText+'</span>'}},onDestroy:function(){if(this.tip){this.tip.destroy()}this.callParent(arguments)},afterComponentLayout:function(){this.callParent(arguments);var b=this.getWidth();var a=this.getHeight();if(b===this.__prevWidth&&a===this.__prevHeight){return}this.__prevWidth=b;this.__prevHeight=a;if(!this.lockable&&!this.suppressFitCheck){this.checkHorizontalFit()}},beforeRender:function(){this.callParent(arguments);this.addCls('sch-timelineview');if(this.readOnly){this.addCls(this._cmpCls+'-readonly')}},afterRender:function(){this.callParent(arguments);if(this.overScheduledEventClass){this.mon(this.el,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.eventSelector,scope:this})}if(this.tooltipTpl){this.el.on('mousemove',this.setupTooltip,this,{single:!0})}this.setupTimeCellEvents()},processUIEvent:function(a){var d=this,b=a.getTarget(this.eventSelector),e=d.ScheduleEventMap,c=a.type;if(b&&c in e){this.fireEvent(this.scheduledEventName+c,this,this.resolveEventRecord(b),a)}else {this.callParent(arguments)}},refresh:function(){this.fixedNodes=0;this.callParent(arguments)},clearViewEl:function(){var c=this,b=c.getTargetEl();b.down('table').remove();if(this.emptyText){var a=b.down('.sch-empty-text');if(a){a.remove()}}},onMouseOver:function(b,a){if(a!==this.lastItem){this.lastItem=a;Ext.fly(a).addCls(this.overScheduledEventClass);this.fireEvent('eventmouseenter',this,this.resolveEventRecord(a),b)}},onMouseOut:function(a,b){if(this.lastItem){if(!a.within(this.lastItem,!0,!0)){Ext.fly(this.lastItem).removeCls(this.overScheduledEventClass);this.fireEvent('eventmouseleave',this,this.resolveEventRecord(this.lastItem),a);delete this.lastItem}}},highlightItem:function(b){if(b){var a=this;a.clearHighlight();a.highlightedItem=b;Ext.fly(b).addCls(a.overItemCls)}},shouldUpdateCell:function(){return !0}}},hasRightColumns:function(){return this.headerCt.items.getCount()>1},checkHorizontalFit:function(){if(this.orientation==='horizontal'){var a=this.getActualTimeColumnWidth();var c=this.getFittingColumnWidth();if(this.forceFit){if(c!=a){this.fitColumns()}}else {if(this.snapToIncrement){var b=this.calculateTimeColumnWidth(a);if(b>0&&b!==a){this.setColumnWidth(b)}}else {if(a<c){this.fitColumns()}}}}},getTimeAxisColumn:function(){return this.headerCt.items.get(0)},getFirstTimeColumn:function(){return this.headerCt.getGridColumns()[0]},getFormattedDate:function(a){return Ext.Date.format(a,this.getDisplayDateFormat())},getFormattedEndDate:function(a,b){var c=this.timeAxis,d=c.getResolution().unit;if(d in this.largeUnits&&a.getHours()===0&&a.getMinutes()===0&&!(a.getYear()===b.getYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate())){a=Sch.util.Date.add(a,Sch.util.Date.DAY,-1)}return Ext.Date.format(a,this.getDisplayDateFormat())},getDisplayDateFormat:function(){return this.displayDateFormat},setDisplayDateFormat:function(a){this.displayDateFormat=a},getSingleUnitInPixels:function(a){return Sch.util.Date.getUnitToBaseUnitRatio(this.timeAxis.getUnit(),a)*this.getSingleTickInPixels()/this.timeAxis.getIncrement()},getSingleTickInPixels:function(){throw 'Must be implemented by horizontal/vertical'},scrollEventIntoView:function(c,b){var a=this.getOuterElementFromEventRecord(c);if(a){a.scrollIntoView(this.el);if(b){if(typeof b==='boolean'){a.highlight()}else {a.highlight(null,b)}}}},calculateTimeColumnWidth:function(d){if(!this.panel.rendered){return d}var e=this.forceFit;var b=0,c=this.timeAxis.getUnit(),k=this.timeAxis.getCount(),a=Number.MAX_VALUE;if(this.snapToIncrement){var g=this.timeAxis.getResolution(),j=g.unit,h=g.increment;a=Sch.util.Date.getUnitToBaseUnitRatio(c,j)*h}var i=Sch.util.Date.getMeasuringUnit(c);a=Math.min(a,Sch.util.Date.getUnitToBaseUnitRatio(c,i));var f=Math.floor(this.getAvailableWidthForSchedule()/k);b=e||d<f?f:d;if(a>0&&(!e||a<1)){b=Math.round(Math.max(1,Math[e?'floor':'round'](a*b))/a)}return b},getFittingColumnWidth:function(){var a=Math.floor(this.getAvailableWidthForSchedule()/this.timeAxis.getCount());return this.calculateTimeColumnWidth(a)},fitColumns:function(b){var a=0;if(this.orientation==='horizontal'){a=this.getFittingColumnWidth()}else {a=Math.floor((this.panel.getWidth()-Ext.getScrollbarSize().width-1)/this.headerCt.getColumnCount())}this.setColumnWidth(a,b)},getAvailableWidthForSchedule:function(){var c=this.lastBox&&this.lastBox.width||this.getWidth();var b=this.headerCt.items.items;for(var a=1;a<b.length;a++){c-=b[a].getWidth()}return c-Ext.getScrollbarSize().width-1},getRightColumnsWidth:function(){var c=0;var b=this.headerCt.items.items;for(var a=1;a<b.length;a++){c+=b[a].getWidth()}return c},fixRightColumnsPositions:function(){var a=this.headerCt.items.items;var c=a[0].getWidth();for(var b=1;b<a.length;b++){var d=a[b];d.el.setLeft(c);c+=d.getWidth()}},getElementFromEventRecord:function(a){return Ext.get(this.eventPrefix+a.internalId)},getEventNodeByRecord:function(a){return document.getElementById(this.eventPrefix+a.internalId)},getOuterElementFromEventRecord:function(a){return Ext.get(this.eventPrefix+a.internalId)},resolveColumnIndex:function(a){return Math.floor(a/this.getActualTimeColumnWidth())},getStartEndDatesFromRegion:function(b,a){throw 'Must be implemented by horizontal/vertical'},setupTooltip:function(){var a=this,b=Ext.apply({renderTo:Ext.getBody(),delegate:a.eventSelector,target:a.el,anchor:'b'},a.tipCfg);a.tip=Ext.create('Ext.ToolTip',b);a.tip.on({beforeshow:function(a){if(!a.triggerElement||!a.triggerElement.id){return !1}var b=this.resolveEventRecord(a.triggerElement);if(!b||this.fireEvent('beforetooltipshow',this,b)===!1){return !1}a.update(this.tooltipTpl.apply(this.getDataForTooltipTpl(b)));return !0},scope:this})},getDataForTooltipTpl:function(a){return a.data},getTimeResolution:function(){return this.timeAxis.getResolution()},setTimeResolution:function(b,a){this.timeAxis.setResolution(b,a);if(this.snapToIncrement){this.refreshKeepingScroll()}},getEventIdFromDomNodeId:function(a){return a.substring(this.eventPrefix.length)},getDateFromDomEvent:function(b,a){return this.getDateFromXY(b.getXY(),a)},handleScheduleEvent:function(a){var b=a.getTarget('.'+this.timeCellCls,2);if(b){var c=this.getDateFromDomEvent(a,'floor');this.fireEvent('schedule'+a.type,this,c,this.indexOf(this.findItemByChild(b)),a)}},setupTimeCellEvents:function(){this.mon(this.el,{click:this.handleScheduleEvent,dblclick:this.handleScheduleEvent,contextmenu:this.handleScheduleEvent,scope:this},this)},getSnapPixelAmount:function(){if(this.snapToIncrement){var a=this.timeAxis.getResolution();return (a.increment||1)*this.getSingleUnitInPixels(a.unit)}else {return 1}},getActualTimeColumnWidth:function(){return this.headerCt.items.get(0).getTimeColumnWidth()},setSnapEnabled:function(a){this.snapToIncrement=a;if(a){this.refreshKeepingScroll()}},setReadOnly:function(a){this.readOnly=a;this[a?'addCls':'removeCls'](this._cmpCls+'-readonly')},isReadOnly:function(){return this.readOnly},setOrientation:function(a){this.orientation=a;Ext.apply(this,Sch.view[Ext.String.capitalize(a)].prototype.props)},getOrientation:function(){return this.orientation},translateToScheduleCoordinate:function(a){throw 'Abstract method call!'},translateToPageCoordinate:function(a){throw 'Abstract method call!'},getDateFromXY:function(c,b,a){throw 'Abstract method call!'},getXYFromDate:function(a,b){throw 'Abstract method call!'},getTimeSpanRegion:function(a,b){throw 'Abstract method call!'},getStart:function(){return this.timeAxis.getStart()},getEnd:function(){return this.timeAxis.getEnd()},setBarMargin:function(b,a){this.barMargin=b;if(!a){this.refreshKeepingScroll()}},setRowHeight:function(a,b){this.rowHeight=a||24;if(this.rendered&&!b){this.refreshKeepingScroll()}},refreshKeepingScroll:function(a){this.saveScrollState();if(this.lightRefresh){this.lightRefresh()}else {this.refresh()}this.restoreScrollState()},refreshKeepingResourceScroll:function(d){var a=this.el.dom,c=a.scrollTop,b=a.scrollLeft;if(this.lightRefresh){this.lightRefresh()}else {this.refresh()}if(this.getOrientation()==='horizontal'){a.scrollTop=c}else {a.scrollLeft=b}},lightRefresh:function(){var a=this.refreshSize;Ext.suspendLayouts();this.refreshSize=Ext.emptyFn;this.__lightRefresh=!0;this.refresh();delete this.__lightRefresh;this.refreshSize=a;Ext.resumeLayouts()}});Ext.apply(Sch,{VERSION:'2.1.7'});Ext.define('Sch.view.Horizontal',{props:{translateToScheduleCoordinate:function(a){return a-this.el.getX()+this.el.getScroll().left},translateToPageCoordinate:function(a){return a+this.el.getX()-this.el.getScroll().left},getDateFromXY:function(e,g,f){var b,c=f?e[0]:this.translateToScheduleCoordinate(e[0]),a=c/this.getActualTimeColumnWidth(),d=this.timeAxis.getCount();if(a<0||a>d){b=null}else {var h=a-this.resolveColumnIndex(c);if(h>2&&a>=d){return null}b=this.timeAxis.getDateFromTick(a,g)}return b},getXYFromDate:function(c,d){var a,b=this.timeAxis.getTickFromDate(c);if(b>=0){a=this.getActualTimeColumnWidth()*b}if(d===!1){a=this.translateToPageCoordinate(a)}return [a,0]},getEventBox:function(e,d){var b=Math.floor(this.getXYFromDate(e)[0]),c=Math.floor(this.getXYFromDate(d)[0]),a=Math;if(this.managedEventSizing){return {top:Math.max(0,this.barMargin-(Ext.isIE&&!Ext.isStrict)?0:this.eventBorderWidth-this.cellBorderWidth),left:a.min(b,c),width:a.max(1,a.abs(b-c)-this.eventBorderWidth),height:this.rowHeight-2*this.barMargin-this.eventBorderWidth}}return {left:a.min(b,c),width:a.max(1,a.abs(b-c))}},layoutEvents:function(b){var a=Ext.Array.clone(b);a.sort(this.sortEvents);var c=this.layoutEventsInBands(0,a);return c},layoutEventsInBands:function(a,b){var c=b[0],d=a===0?this.barMargin:a*this.rowHeight-(a-1)*this.barMargin;if(d>=this.cellBorderWidth){d-=this.cellBorderWidth}while(c){c.top=d;Ext.Array.remove(b,c);c=this.findClosestSuccessor(c,b)}a++;if(b.length>0){return this.layoutEventsInBands(a,b)}else {return a}},getScheduleRegion:function(a,h){var d=a?Ext.fly(this.getNodeByRecord(a)).getRegion():this.el.down('.x-grid-table').getRegion(),g=this.timeAxis.getStart(),j=this.timeAxis.getEnd(),b=this.getDateConstraints(a,h)||{start:g,end:j},c=this.translateToPageCoordinate(this.getXYFromDate(b.start)[0]),e=this.translateToPageCoordinate(this.getXYFromDate(b.end)[0])-this.eventBorderWidth,i=d.top+this.barMargin,f=d.bottom-this.barMargin-this.eventBorderWidth;return new Ext.util.Region(i,Math.max(c,e),f,Math.min(c,e))},getResourceRegion:function(m,b,d){var f=Ext.fly(this.getNodeByRecord(m)).getRegion(),e=this.timeAxis.getStart(),i=this.timeAxis.getEnd(),k=b?Sch.util.Date.max(e,b):e,l=d?Sch.util.Date.min(i,d):i,c=this.getXYFromDate(k)[0],h=this.getXYFromDate(l)[0]-this.eventBorderWidth,g=this.el.getTop(),a=this.el.getScroll(),n=f.top+1-g+a.top,j=f.bottom-1-g+a.top;return new Ext.util.Region(n,Math.max(c,h),j,Math.min(c,h))},collectRowData:function(a,k,m){var e=this.eventStore.getEventsForResource(k);if(e.length===0||this.headerCt.getColumnCount()===0){a.rowHeight=this.rowHeight;return a}var p=Sch.util.Date,g=this.timeAxis,l=g.getStart(),o=g.getEnd(),c=[],b,i;for(b=0,i=e.length;b<i;b++){var d=e[b],h=d.getStartDate(),j=d.getEndDate();if(h&&j&&g.timeSpanInAxis(h,j)){var n=this.generateTplData(d,l,o,k,m);c[c.length]=n}}var f=1;if(this.dynamicRowHeight){f=this.layoutEvents(c)}a.rowHeight=f*this.rowHeight-(f-1)*this.barMargin;a[this.getFirstTimeColumn().id]+='&#160;'+this.eventTpl.apply(c);return a},resolveResource:function(b){var a=this.findItemByChild(b);if(a){return this.getRecord(a)}return null},getTimeSpanRegion:function(d,h,g){var e=this.getXYFromDate(d)[0],f=this.getXYFromDate(h||d)[0],c,a;if(this.store.buffered){var b;if(this.panel.verticalScroller.stretcher instanceof Ext.CompositeElement){b=this.panel.verticalScroller.stretcher.first()}else {b=this.el.down('.x-stretcher')}if(b.dom.clientHeight){a=b}}if(!a){a=this.el.down('.x-grid-table')}if(g){c=Math.max(a?a.dom.clientHeight:0,this.el.dom.clientHeight)}else {c=a?a.dom.clientHeight:0}return new Ext.util.Region(0,Math.max(e,f),c,Math.min(e,f))},getStartEndDatesFromRegion:function(d,c){var a=this.getDateFromXY([d.left,0],c),b=this.getDateFromXY([d.right,0],c);if(b&&a){return {start:Sch.util.Date.min(a,b),end:Sch.util.Date.max(a,b)}}else {return null}},onEventAdd:function(f,c){var d={};for(var a=0,e=c.length;a<e;a++){var b=c[a].getResource();if(b){d[b.getId()]=b}}Ext.Object.each(d,function(b,a){this.onUpdate(this.resourceStore,a)},this)},onEventRemove:function(d,c){var b=this.getElementFromEventRecord(c);if(b){var a=this.resolveResource(b);b.fadeOut({callback:function(){if(Ext.tree.View&&this instanceof Ext.tree.View&&this.store.indexOf(a)){this.onUpdate(this.store,a)}else {if(this.resourceStore.indexOf(a)>=0){this.onUpdate(this.resourceStore,a)}}},scope:this})}},onEventUpdate:function(e,b,d){var a,c=b.previous;if(c&&c[b.resourceIdField]){a=b.getResource(c[b.resourceIdField]);if(a){this.onUpdate(this.resourceStore,a)}}a=b.getResource();if(a){this.onUpdate(this.resourceStore,a)}},getSingleTickInPixels:function(){return this.getActualTimeColumnWidth()},getColumnWidth:function(){if(this.getTimeAxisColumn()){return this.getTimeAxisColumn().getTimeColumnWidth()}},setColumnWidth:function(a,b){if(this.getTimeAxisColumn()){this.getTimeAxisColumn().setTimeColumnWidth(a);if(!b){this.refreshKeepingScroll()}}this.fireEvent('columnwidthchange',this,a)},getVisibleDateRange:function(){if(!this.rendered){return null}var b=this.getEl().getScroll(),d=this.panel.getStart(),f=this.panel.getEnd(),c=this.getWidth(),e=this.getEl().down('.x-grid-table').dom,a=e.clientWidth;if(a<c){return {startDate:d,endDate:f}}return {startDate:this.getDateFromXY([b.left,0],null,!0),endDate:this.getDateFromXY([Math.min(b.left+c,a),0],null,!0)}}}});Ext.define('Sch.view.TimelineTreeView',{extend:'Ext.tree.View',mixins:['Sch.mixin.TimelineView'],requires:['Sch.patches.TreeView'],cellBorderWidth:0,beforeRender:function(){this.addCls('sch-timelinetreeview');this.callParent(arguments)}},function(){this.override(Sch.mixin.TimelineView.prototype.inheritables()||{})});Ext.define('Sch.mixin.Zoomable',{zoomLevels:[{width:200,increment:1,resolution:1,preset:'year'},{width:100,increment:1,resolution:7,preset:'monthAndYear'},{width:30,increment:1,resolution:1,preset:'weekDateAndMonth'},{width:35,increment:1,resolution:1,preset:'weekAndMonth'},{width:50,increment:1,resolution:1,preset:'weekAndMonth'},{width:85,increment:1,resolution:1,preset:'weekAndMonth'},{width:50,increment:1,resolution:1,preset:'weekAndDay',resolutionUnit:'HOUR'},{width:100,increment:1,resolution:1,preset:'weekAndDay',resolutionUnit:'HOUR'},{width:50,increment:6,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:100,increment:6,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:60,increment:2,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:60,increment:1,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:30,increment:15,resolution:5,preset:'minuteAndHour'},{width:60,increment:15,resolution:5,preset:'minuteAndHour'},{width:130,increment:15,resolution:5,preset:'minuteAndHour'},{width:60,increment:5,resolution:5,preset:'minuteAndHour'},{width:100,increment:5,resolution:5,preset:'minuteAndHour'}],minZoomLevel:null,maxZoomLevel:null,visibleZoomFactor:5,cachedCenterDate:null,isFirstZoom:!0,isZooming:!1,initializeZooming:function(){this.zoomLevels=this.zoomLevels.slice();this.setMinZoomLevel(this.minZoomLevel||0);this.setMaxZoomLevel(this.maxZoomLevel!==null?this.maxZoomLevel:this.zoomLevels.length-1);this.on('viewchange',this.clearCenterDateCache,this)},getZoomLevelUnit:function(b){var a=Sch.preset.Manager.getPreset(b.preset).headerConfig;return a.bottom?a.bottom.unit:a.middle.unit},getMilliSecondsPerPixelForZoomLevel:function(a){var b=Sch.util.Date;return Math.round((b.add(new Date(1,0,1),this.getZoomLevelUnit(a),a.increment)-new Date(1,0,1))/a.width)},presetToZoomLevel:function(d){var a=Sch.preset.Manager.getPreset(d);var c=a.headerConfig;var b=c.bottom;var e=c.middle;return {preset:d,increment:(b?b.increment:e.increment)||1,resolution:a.timeResolution.increment,resolutionUnit:a.timeResolution.unit,width:a.timeColumnWidth}},calculateCurrentZoomLevel:function(){var a=this.presetToZoomLevel(this.viewPreset);var c=this.timeAxis.headerConfig;var b=c.bottom;var d=c.middle;a.width=this.timeAxis.preset.timeColumnWidth;a.increment=(b?b.increment:d.increment)||1;return a},getCurrentZoomLevelIndex:function(){var f=this.calculateCurrentZoomLevel();var b=this.getMilliSecondsPerPixelForZoomLevel(f);var c=this.zoomLevels;for(var a=0;a<c.length;a++){var d=this.getMilliSecondsPerPixelForZoomLevel(c[a]);if(d==b){return a}if(a===0&&b>d){return -0.5}if(a==c.length-1&&b<d){return c.length-1+0.5}var e=this.getMilliSecondsPerPixelForZoomLevel(c[a+1]);if(d>b&&b>e){return a+0.5}}throw "Can't find current zoom level index"},setMaxZoomLevel:function(a){if(a<0||a>=this.zoomLevels.length){throw new Error('Invalid range for `setMinZoomLevel`')}this.maxZoomLevel=a},setMinZoomLevel:function(a){if(a<0||a>=this.zoomLevels.length){throw new Error('Invalid range for `setMinZoomLevel`')}this.minZoomLevel=a},getViewportCenterDateCached:function(){if(this.cachedCenterDate){return this.cachedCenterDate}return this.cachedCenterDate=this.getViewportCenterDate()},clearCenterDateCache:function(){this.cachedCenterDate=null},zoomToLevel:function(d){d=Ext.Number.constrain(d,this.minZoomLevel,this.maxZoomLevel);var r=this.calculateCurrentZoomLevel();var q=this.getMilliSecondsPerPixelForZoomLevel(r);var a=this.zoomLevels[d];var p=this.getMilliSecondsPerPixelForZoomLevel(a);if(q==p){return null}var n=this;var k=this.getSchedulingView();var b=k.getEl();if(this.isFirstZoom){this.isFirstZoom=!1;b.on('scroll',this.clearCenterDateCache,this)}var h=this.orientation=='vertical';var g=this.getViewportCenterDateCached();var i=h?b.getHeight():b.getWidth();var c=Ext.clone(Sch.preset.Manager.getPreset(a.preset));var m=this.calculateOptimalDateRange(g,i,a);var f=c.headerConfig;var e=f.bottom;var j=f.middle;c[h?'rowHeight':'timeColumnWidth']=a.width;if(e){e.increment=a.increment}else {j.increment=a.increment}this.isZooming=!0;this.viewPreset=a.preset;var l=e?e.unit:j.unit;this.timeAxis.reconfigure({preset:c,headerConfig:f,unit:l,increment:a.increment,resolutionUnit:Sch.util.Date.getUnitByName(a.resolutionUnit||l),resolutionIncrement:a.resolution,weekStartDay:this.weekStartDay,mainUnit:j.unit,shiftUnit:c.shiftUnit,shiftIncrement:c.shiftIncrement||1,defaultSpan:c.defaultSpan||1,start:m.startDate||this.getStart(),end:m.endDate||this.getEnd()});var o=k.getXYFromDate(g,!0);b.on('scroll',function(){n.cachedCenterDate=g},this,{single:!0});if(h){b.scrollTo('top',o[1]-i/2)}else {b.scrollTo('left',o[0]-i/2)}n.isZooming=!1;this.fireEvent('zoomchange',this,d);return d},zoomIn:function(a){a=a||1;var b=this.getCurrentZoomLevelIndex();if(b>=this.zoomLevels.length-1){return null}return this.zoomToLevel(Math.floor(b)+a)},zoomOut:function(a){a=a||1;var b=this.getCurrentZoomLevelIndex();if(b<=0){return null}return this.zoomToLevel(Math.ceil(b)-a)},zoomInFull:function(){return this.zoomToLevel(this.maxZoomLevel)},zoomOutFull:function(){return this.zoomToLevel(this.minZoomLevel)},calculateOptimalDateRange:function(d,j,a){var c=Sch.util.Date;var b=Sch.preset.Manager.getPreset(a.preset).headerConfig;var f=b.top?b.top.unit:b.middle.unit;var g=this.getZoomLevelUnit(a);var e=Math.ceil(j/a.width*a.increment*this.visibleZoomFactor/2);var h=c.add(d,g,-e);var i=c.add(d,g,e);return {startDate:this.timeAxis.floorDate(h,!1,f),endDate:this.timeAxis.ceilDate(i,!1,f)}}});Ext.define('Sch.mixin.TimelinePanel',{requires:['Sch.util.Patch','Sch.patches.LoadMask','Sch.patches.Model','Sch.patches.Table','Sch.data.TimeAxis','Sch.feature.ColumnLines','Sch.view.Locking','Sch.mixin.Lockable','Sch.preset.Manager'],mixins:['Sch.mixin.Zoomable'],orientation:'horizontal',weekStartDay:1,snapToIncrement:!1,readOnly:!1,eventResizeHandles:'both',viewPreset:'weekAndDay',trackHeaderOver:!0,startDate:null,endDate:null,eventBorderWidth:1,syncCellHeight:Ext.emptyFn,tooltipTpl:null,tipCfg:{cls:'sch-tip',showDelay:1000,hideDelay:0,autoHide:!0,anchor:'b'},lightWeight:!0,timeCellRenderer:null,timeCellRendererScope:null,inheritables:function(){return {columnLines:!0,enableColumnMove:!1,enableLocking:!0,lockable:!0,lockedXType:null,normalXType:null,initComponent:function(){this.lightWeight=this.lightWeight&&!this.timeCellRenderer;this.addEvents('timeheaderdblclick','beforeviewchange','viewchange');if(!this.timeAxis){this.timeAxis=Ext.create('Sch.data.TimeAxis')}if(!this.columns&&!this.colModel){this.columns=[]}this.timeAxis.on('reconfigure',this.onTimeAxisReconfigure,this);if(this.enableLocking){this.self.mixin('lockable',Sch.mixin.Lockable);var a=0,c=this.columns.length,b;for(;a<c;++a){b=this.columns[a];if(b.locked!==!1){b.locked=!0}}this.switchViewPreset(this.viewPreset,this.startDate,this.endDate,!0)}this.callParent(arguments);if(this.lockable){this.applyViewSettings(this.timeAxis.preset);if(!this.viewPreset){throw 'You must define a valid view preset object. See Sch.preset.Manager class for reference'}if(this.lightWeight&&this.columnLines){this.columnLinesFeature=new Sch.feature.ColumnLines();this.columnLinesFeature.init(this)}}this.initializeZooming();this.relayEvents(this.getView(),['beforetooltipshow','scheduleclick','scheduledblclick','schedulecontextmenu'])},getState:function(){var a=this,b=a.callParent(arguments);Ext.apply(b,{viewPreset:a.viewPreset,startDate:a.getStart(),endDate:a.getEnd(),zoomMinLevel:a.zoomMinLevel,zoomMaxLevel:a.zoomMaxLevel,currentZoomLevel:a.currentZoomLevel});return b},getOrientation:function(){return this.orientation},applyState:function(a){var b=this;b.callParent(arguments);if(a&&a.viewPreset){b.switchViewPreset(a.viewPreset,a.startDate,a.endDate)}if(a&&a.currentZoomLevel){b.zoomToLevel(a.currentZoomLevel)}},beforeRender:function(){this.callParent(arguments);if(this.lockable){this.addCls('sch-'+this.orientation)}},afterRender:function(){this.callParent(arguments);if(this.lockable){this.lockedGrid.on('itemdblclick',function(d,a,e,c,b){if(this.orientation=='vertical'&&a){this.fireEvent('timeheaderdblclick',this,a.get('start'),a.get('end'),c,b)}},this)}else {var a=this.headerCt;if(a&&a.reorderer&&a.reorderer.dropZone){var b=a.reorderer.dropZone;b.positionIndicator=Ext.Function.createSequence(b.positionIndicator,function(){this.valid=!1})}}},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,function(){if(a.dom){this.syncHorizontalScroll(a.dom.scrollLeft)}},this)}}}},setReadOnly:function(a){this.getSchedulingView().setReadOnly(a)},isReadOnly:function(){return this.getSchedulingView().isReadOnly()},switchViewPreset:function(a,d,e,f){if(this.fireEvent('beforeviewchange',this,a,d,e)!==!1){if(Ext.isString(a)){this.viewPreset=a;a=Sch.preset.Manager.getPreset(a)}if(!a){throw 'View preset not found'}var b=a.headerConfig;var c={unit:b.bottom?b.bottom.unit:b.middle.unit,increment:(b.bottom?b.bottom.increment:b.middle.increment)||1,resolutionUnit:a.timeResolution.unit,resolutionIncrement:a.timeResolution.increment,weekStartDay:this.weekStartDay,mainUnit:b.middle.unit,shiftUnit:a.shiftUnit,headerConfig:a.headerConfig,shiftIncrement:a.shiftIncrement||1,preset:a,defaultSpan:a.defaultSpan||1};if(f){c.start=d||new Date();c.end=e}else {c.start=d||this.timeAxis.getStart();c.end=e}if(!f){this.applyViewSettings(a)}this.timeAxis.reconfigure(c)}},applyViewSettings:function(b){var a=this.getSchedulingView();a.setDisplayDateFormat(b.displayDateFormat);if(this.orientation==='horizontal'){a.setRowHeight(this.rowHeight||b.rowHeight,!0)}},getStart:function(){return this.timeAxis.getStart()},getEnd:function(){return this.timeAxis.getEnd()},getViewportCenterDate:function(){var d=this.getSchedulingView(),a=d.getEl(),c=a.getScroll(),b;if(this.orientation==='vertical'){b=[0,c.top+a.getHeight()/2]}else {b=[c.left+a.getWidth()/2,0]}return d.getDateFromXY(b,null,!0)},setTimeColumnWidth:function(b,a){this.getSchedulingView().setColumnWidth(b,a)},onTimeAxisReconfigure:function(){this.fireEvent('viewchange',this);if(this.stateful&&this.lockedGrid){this.saveState()}},getColumnsState:function(){var b=this,a=b.lockedGrid.headerCt.getColumnsState();return a},shiftNext:function(a){this.timeAxis.shiftNext(a)},shiftPrevious:function(a){this.timeAxis.shiftPrevious(a)},goToNow:function(){this.setTimeSpan(new Date())},setTimeSpan:function(b,a){if(this.timeAxis){this.timeAxis.setTimeSpan(b,a)}},setStart:function(a){this.setTimeSpan(a)},setEnd:function(a){this.setTimeSpan(null,a)},getTimeAxis:function(){return this.timeAxis},getResourceByEventRecord:function(a){return a.getResource()},scrollToDate:function(d,b){var a=this.getSchedulingView(),c=a.getXYFromDate(d,!0);if(this.orientation=='horizontal'){a.getEl().scrollTo('left',Math.max(0,c[0]),b)}else {a.getEl().scrollTo('top',Math.max(0,c[1]),b)}},getSchedulingView:function(){return this.lockable?this.normalGrid.getView():this.getView()},setOrientation:function(a){this.removeCls('sch-'+this.orientation);this.addCls('sch-'+a);this.orientation=a}});Ext.define('Sch.panel.TimelineTreePanel',{extend:'Ext.tree.Panel',requires:['Ext.data.TreeStore'],mixins:['Sch.mixin.TimelinePanel'],useArrows:!0,rootVisible:!1,constructor:function(a){a=a||{};a.animate=!1;this.callParent(arguments)},initComponent:function(){this.callParent(arguments);if(this.lockable&&this.lockedGrid.headerCt.query('treecolumn').length===0){Ext.Error.raise("You must define an Ext.tree.Column (or use xtype : 'treecolumn').")}},onRootChange:function(a){if(!this.lockable){this.callParent(arguments)}}},function(){this.override(Sch.mixin.TimelinePanel.prototype.inheritables()||{})});Ext.define('Sch.plugin.Printable',{extend:'Ext.AbstractPlugin',lockableScope:'top',docType:'<!DOCTYPE HTML>',beforePrint:Ext.emptyFn,afterPrint:Ext.emptyFn,autoPrintAndClose:!0,fakeBackgroundColor:!0,scheduler:null,constructor:function(a){Ext.apply(this,a)},init:function(a){this.scheduler=a;a.print=Ext.Function.bind(this.print,this)},mainTpl:'{docType}<html class="x-border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{title}</title>{styles}</head><body class="sch-print-body {bodyClasses}"><div class="sch-print-ct {componentClasses}" style="width:{totalWidth}px"><div class="sch-print-headerbg" style="border-left-width:{totalWidth}px;height:{headerHeight}px;"></div><div class="sch-print-header-wrap"><div style="left:-{lockedScroll}px;margin-right:-{lockedScroll}px;width:{[values.lockedWidth + values.lockedScroll]}px" class="sch-print-lockedheader x-grid-header-ct x-grid-header-ct-default x-docked x-docked-top x-grid-header-ct-docked-top x-grid-header-ct-default-docked-top x-box-layout-ct x-docked-noborder-top x-docked-noborder-right x-docked-noborder-left">{lockedHeader}</div><div style="left:{lockedWidth}px;width:{normalWidth}px;" class="sch-print-normalheader x-grid-header-ct x-grid-header-ct-default x-docked x-docked-top x-grid-header-ct-docked-top x-grid-header-ct-default-docked-top x-box-layout-ct x-docked-noborder-top x-docked-noborder-right x-docked-noborder-left"><div style="margin-left:-{normalScroll}px">{normalHeader}</div></div></div><div id="lockedRowsCt" style="left:-{lockedScroll}px;margin-right:-{lockedScroll}px;width:{[values.lockedWidth + values.lockedScroll]}px;top:{headerHeight}px;" class="sch-print-locked-rows-ct {innerLockedClasses} x-grid-inner-locked">{lockedRows}</div><div id="normalRowsCt" style="left:{lockedWidth}px;top:{headerHeight}px;width:{normalWidth}px" class="sch-print-normal-rows-ct {innerNormalClasses}"><div style="position:relative;overflow:visible;margin-left:-{normalScroll}px">{normalRows}</div></div></div><script type="text/javascript">{setupScript}</script></body></html>',getGridContent:function(a){var c=a.normalGrid,d=a.lockedGrid,f=d.getView(),g=c.getView(),m,i,e,j,k;this.beforePrint(a);var h=f.store.getRange();i=f.tpl.apply(f.collectData(h,0));e=g.tpl.apply(g.collectData(h,0));j=f.el.getScroll().left;k=g.el.getScroll().left;if(a.columnLinesFeature){var b=a.columnLinesFeature;var l=b.containerEl;b.containerEl=Ext.get(document.createElement('div'));b.renderElementsInternal();e=b.containerEl.dom.innerHTML+e;b.containerEl=l}this.afterPrint(a);return {normalHeader:c.headerCt.el.dom.innerHTML,lockedHeader:d.headerCt.el.dom.innerHTML,lockedRows:i,normalRows:e,lockedScroll:j,normalScroll:k,lockedWidth:d.getWidth(),normalWidth:c.getWidth(),headerHeight:c.headerCt.getHeight(),innerLockedClasses:d.view.el.dom.className,innerNormalClasses:c.view.el.dom.className+(this.fakeBackgroundColor?' sch-print-fake-background':''),width:a.getWidth()}},getStylesheets:function(){return Ext.getDoc().select('link[rel="stylesheet"]')},print:function(){var a=this.scheduler;if(!(this.mainTpl instanceof Ext.Template)){var h=22;this.mainTpl=Ext.create('Ext.XTemplate',this.mainTpl,{compiled:!0,disableFormats:!0})}var i=a.getView(),g=this.getStylesheets(),d=Ext.get(Ext.core.DomHelper.createDom({tag:'div'})),c;g.each(function(a){d.appendChild(a.dom.cloneNode(!0))});c=d.dom.innerHTML+'';var f=this.getGridContent(a),e=this.mainTpl.apply(Ext.apply({waitText:this.waitText,docType:this.docType,htmlClasses:'',bodyClasses:Ext.getBody().dom.className,componentClasses:a.el.dom.className,title:a.title||'',styles:c,totalWidth:a.getWidth(),setupScript:'('+this.setupScript.toString()+')();'},f));var b=window.open('','printgrid');b.document.write(e);b.document.close();if(this.autoPrintAndClose){b.print();if(!Ext.isChrome){b.close()}}},setupScript:function(){var f=document.getElementById('lockedRowsCt'),d=document.getElementById('normalRowsCt'),c=f.getElementsByTagName('tr'),b=d.getElementsByTagName('tr'),e=b.length,a=0;for(;a<e;a++){c[a].style.height=b[a].style.height}}});Ext.define('Sch.plugin.PdfExport',{extend:'Ext.util.Observable',mixins:['Ext.AbstractPlugin'],lockableScope:'top',printServer:undefined,tpl:new Ext.XTemplate('<!DOCTYPE html><html class="x-border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{column}/{row}</title>{styles}</head><body class="{bodyClasses}">{[this.showHeader(values)]}<div class="{componentClasses}" style="height:{bodyHeight}px; width:{totalWidth}px">{HTML}</div></body></html>',{disableFormats:!0,showHeader:function(a){if(a.showHeader){return '<div class="sch-pdfprint-header" style="width:'+a.totalWidth+'px"><h2>'+a.column+'/'+a.row+'</h2></div>'}return ''}}),exportDialogClassName:'Sch.widget.PdfExportDialog',exportDialogConfig:{},defaultConfig:{format:'A4',orientation:'portrait',range:'complete',showHeader:!0},pageSizes:{A5:{width:5.8,height:8.3},A4:{width:8.3,height:11.7},A3:{width:11.7,height:16.5},Letter:{width:8.5,height:11}},openAfterExport:!0,DPI:72,constructor:function(a){this.callParent(arguments);this.addEvents('hidedialogwindow','showdialogerror','updateprogressbar')},init:function(a){this.scheduler=a;a.showExportDialog=Ext.Function.bind(this.showExportDialog,this);a.doExport=Ext.Function.bind(this.doExport,this)},showExportDialog:function(){var a=this,b=a.scheduler.getSchedulingView();if(!a.win){a.win=Ext.create(a.exportDialogClassName,{plugin:a,exportDialogConfig:Ext.apply({startDate:this.scheduler.getStart(),endDate:this.scheduler.getEnd(),rowHeight:b.rowHeight,columnWidth:b.getSingleTickInPixels()},a.exportDialogConfig)})}a.win.show()},getStylesheets:function(){var c=Ext.getDoc().select('link[rel="stylesheet"]'),a=Ext.get(Ext.core.DomHelper.createDom({tag:'div'})),b;c.each(function(b){a.appendChild(b.dom.cloneNode(!0))});b=a.dom.innerHTML+'';return b},doExport:function(v,t,w){var a=this,c=a.scheduler,e=c.getSchedulingView(),u=a.getStylesheets(),b=v||a.defaultConfig;a.mask();a.fireEvent('updateprogressbar',0.1);if(c.expandAll){c.expandAll()}var A=c.lockedGrid,k=c.normalGrid,r=e.rowHeight,h=c.timeAxis.getTicks(),l=e.getSingleTickInPixels(),q={width:c.getWidth(),height:c.getHeight(),rowHeight:r,columnWidth:l,startDate:c.getStart(),endDate:c.getEnd(),normalWidth:k.getWidth(),normalPosition:k.getPosition()},f,i;if(b.orientation==='landscape'){f=a.pageSizes[b.format].height*a.DPI;i=a.pageSizes[b.format].width*a.DPI}else {f=a.pageSizes[b.format].width*a.DPI;i=a.pageSizes[b.format].height*a.DPI}var z=41,p=k.headerCt.getHeight(),n=Math.floor(i)-p-(b.showHeader?z:0);if(b.range!=='complete'){var g,d,j,m,o;if(b.range==='date'){g=new Date(b.dateFrom);d=new Date(b.dateTo);d=Sch.util.Date.add(d,Sch.util.Date.DAY,1)}else {if(b.range==='current'){j=e.getVisibleDateRange();g=j.startDate;d=j.endDate}}m=Math.floor(e.timeAxis.getTickFromDate(g));o=Math.floor(e.timeAxis.getTickFromDate(d));h=h.filter(function(b,a){return a>=m&&a<=o});c.setTimeSpan(g,d)}c.setWidth(f);c.setTimeColumnWidth(l);if(c.ownerCt){c.ownerCt.suspendLayouts()}var s=a.calculatePages(b,h,l,f,n),y={ticks:h,printHeight:n,paperWidth:f,headerHeight:p,styles:u,config:b},x=a.getExportJsonHtml(s,y);a.fireEvent('updateprogressbar',0.4);if(a.printServer){Ext.Ajax.request({type:'POST',url:a.printServer,params:{html:{array:x},format:b.format,orientation:b.orientation,range:b.range},success:function(b){a.onSuccess(b,t)},failure:function(b){a.onFailure(b,w)},scope:a})}else {throw 'Server url not defined !'}a.restorePanel(q)},calculatePages:function(p,o,a,h,i){var m=this,b=m.scheduler,k=b.lockedGrid,c=b.getSchedulingView().rowHeight,g=k.getWidth(),f=Math.floor(h/a),d=Math.floor((h-g)/a),j=Math.ceil((o.length-d)/f)+1,n=b.getSchedulingView().store.getCount(),e=Math.floor(i/c),l=Math.ceil(n/e);return {columnsAmountLocked:d,columnsAmountNormal:f,rowsAmount:e,rowPages:l,columnPages:j,timeColumnWidth:a,lockedGridWidth:g,rowHeight:c,panelHTML:{}}},getExportJsonHtml:function(c,f){var g=this,d=g.scheduler,v=c.columnsAmountLocked,j=c.columnsAmountNormal,s=c.rowsAmount,w=c.rowPages,q=c.columnPages,i=c.panelHTML,u=c.timeColumnWidth,x=f.paperWidth,r=f.printHeight,p=f.headerHeight,t=f.styles,y=f.config,a=f.ticks,o=[],b,k,n,l,z,m;for(var e=0;e<q;e+=1){if(e===0){b=Ext.Number.constrain(v-1,e,a.length-1);d.setTimeSpan(a[e].start,a[b].end)}else {if(!k){k=d.lockedGrid.hide()}if(a[b+j]){d.setTimeSpan(a[b+1].start,a[b+j].end);b=b+j}else {d.setTimeSpan(a[b+1].start,a[a.length-1].end)}}d.setTimeColumnWidth(u);for(var h=0;h<w;h+=1){g.hideRows(s,h);i.dom=d.body.dom.innerHTML;i.k=h;i.i=e;l=g.resizePanelHTML(i);n=g.tpl.apply(Ext.apply({bodyClasses:Ext.getBody().dom.className,bodyHeight:r+p,componentClasses:d.el.dom.className,styles:t,showHeader:y.showHeader,HTML:l.dom.innerHTML,totalWidth:x,headerHeight:p,column:e+1,row:h+1}));m={html:n};o.push(m);g.showRows()}}return Ext.JSON.encode(o)},resizePanelHTML:function(g){var a=Ext.get(Ext.core.DomHelper.createDom({tag:'div',html:g.dom})),c=this.scheduler,d=c.lockedGrid,b=c.normalGrid;var f=[a.select('#'+c.id+'-targetEl').first(),a.select('#'+d.id).first(),a.select('#'+d.body.id).first(),a.select('#'+d.body.child('.x-grid-view').id).first()],e=[a.select('#'+b.id).first(),a.select('#'+b.headerCt.id).first(),a.select('#'+b.body.id).first(),a.select('#'+b.getView().id).first()];Ext.Array.each(f,function(a){if(a){a.setHeight('100%')}});Ext.Array.each(e,function(a,b){if(b===1){a.setWidth('100%')}else {a.applyStyles({height:'100%',width:'100%'})}});return a},onSuccess:function(c,d){var a=this,b=Ext.JSON.decode(c.responseText);a.fireEvent('updateprogressbar',1);if(b.success===!0){setTimeout(function(){a.fireEvent('hidedialogwindow');a.unmask();if(a.openAfterExport){window.open(b.url,'PDF_Print')}},a.win?a.win.hideTime:3000)}else {a.fireEvent('showdialogerror',b.msg);a.unmask()}if(d){d.call(this,c)}},onFailure:function(b,a){this.fireEvent('showdialogerror',this);if(a){a.call(this,b)}},hideRows:function(c,g){var f=this.scheduler.lockedGrid.getEl().select('.x-grid-row'),b=this.scheduler.normalGrid.getEl().select('.x-grid-row'),d=c*g,e=d+c;for(var a=0;a<b.elements.length;a+=1){if(a<d||a>=e){f.elements[a].className+=' sch-none';b.elements[a].className+=' sch-none'}}},showRows:function(){var b=this.scheduler.lockedGrid.getEl().select('.x-grid-row'),a=this.scheduler.normalGrid.getEl().select('.x-grid-row');b.each(function(a){a.removeCls('sch-none')});a.each(function(a){a.removeCls('sch-none')})},mask:function(){var a=Ext.getBody().mask();a.addCls('sch-pdf-mask')},unmask:function(){Ext.getBody().unmask()},restorePanel:function(b){var a=this.scheduler;a.setWidth(b.width);a.setHeight(b.height);a.setTimeSpan(b.startDate,b.endDate);a.setTimeColumnWidth(b.columnWidth,!0);a.getSchedulingView().setRowHeight(b.rowHeight);a.lockedGrid.show();a.normalGrid.setWidth(b.normalWidth);a.normalGrid.setPosition(b.normalPosition[0]);a.ownerCt&&a.ownerCt.resumeLayouts()},destroy:function(){if(this.win){this.win.destroy()}}});Ext.define('Sch.widget.ResizePicker',{extend:'Ext.Panel',alias:'widget.dualrangepicker',width:200,height:200,border:!0,collapsible:!1,bodyStyle:'position:relative;margin:5px',verticalCfg:{height:120,value:24,increment:2,minValue:20,maxValue:80,reverse:!0},horizontalCfg:{width:120,value:100,minValue:25,increment:5,maxValue:200},initComponent:function(){var a=this;a.addEvents('change','changecomplete','select');a.horizontalCfg.value=a.dialog.columnWidth;a.verticalCfg.value=a.dialog.rowHeight;a.dockedItems=[a.vertical=new Ext.slider.Single(Ext.apply({dock:'left',style:'margin-top:10px',vertical:!0,listeners:{change:a.onSliderChange,changecomplete:a.onSliderChangeComplete,scope:a}},a.verticalCfg)),a.horizontal=new Ext.slider.Single(Ext.apply({dock:'top',style:'margin-left:28px',listeners:{change:a.onSliderChange,changecomplete:a.onSliderChangeComplete,scope:a}},a.horizontalCfg))];a.callParent(arguments)},afterRender:function(){var a=this;a.addCls('sch-ux-range-picker');a.valueHandle=this.body.createChild({cls:'sch-ux-range-value',cn:{tag:'span'}});a.valueSpan=this.valueHandle.down('span');var b=new Ext.dd.DD(this.valueHandle);Ext.apply(b,{startDrag:function(){a.dragging=!0;this.constrainTo(a.body)},onDrag:function(){a.onHandleDrag.apply(a,arguments)},endDrag:function(){a.onHandleEndDrag.apply(a,arguments);a.dragging=!1},scope:this});this.setValues(this.getValues());this.callParent(arguments);this.body.on('click',this.onBodyClick,this)},onBodyClick:function(b,c){var a=[b.getXY()[0]-8-this.body.getX(),b.getXY()[1]-8-this.body.getY()];this.valueHandle.setLeft(Ext.Number.constrain(a[0],0,this.getAvailableWidth()));this.valueHandle.setTop(Ext.Number.constrain(a[1],0,this.getAvailableHeight()));this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]));this.onSliderChangeComplete()},getAvailableWidth:function(){return this.body.getWidth()-18},getAvailableHeight:function(){return this.body.getHeight()-18},onHandleDrag:function(){this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]))},onHandleEndDrag:function(){this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]))},getValuesFromXY:function(a){var d=a[0]/this.getAvailableWidth();var b=a[1]/this.getAvailableHeight();var e=Math.round((this.horizontalCfg.maxValue-this.horizontalCfg.minValue)*d);var c=Math.round((this.verticalCfg.maxValue-this.verticalCfg.minValue)*b)+this.verticalCfg.minValue;return [e+this.horizontalCfg.minValue,c]},getXYFromValues:function(a){var c=this.horizontalCfg.maxValue-this.horizontalCfg.minValue;var f=this.verticalCfg.maxValue-this.verticalCfg.minValue;var b=Math.round((a[0]-this.horizontalCfg.minValue)*this.getAvailableWidth()/c);var d=a[1]-this.verticalCfg.minValue;var e=Math.round(d*this.getAvailableHeight()/f);return [b,e]},updatePosition:function(){var b=this.getValues();var a=this.getXYFromValues(this.getValues());this.valueHandle.setLeft(Ext.Number.constrain(a[0],0,this.getAvailableWidth()));this.valueHandle.setTop(Ext.Number.constrain(a[1],0,this.getAvailableHeight()));this.positionValueText();this.valueSpan.update('['+b.toString()+']')},positionValueText:function(){var a=this.valueHandle.getTop(!0);var b=this.valueHandle.getLeft(!0);this.valueSpan.setLeft(b>30?-30:10);this.valueSpan.setTop(a>10?-20:20)},setValues:function(a){this.horizontal.setValue(a[0]);if(this.verticalCfg.reverse){this.vertical.setValue(this.verticalCfg.maxValue+this.verticalCfg.minValue-a[1])}else {this.vertical.setValue(a[1])}if(!this.dragging){this.updatePosition()}this.positionValueText();this.valueSpan.update('['+a.toString()+']')},getValues:function(){var a=this.vertical.getValue();if(this.verticalCfg.reverse){a=this.verticalCfg.maxValue-a+this.verticalCfg.minValue}return [this.horizontal.getValue(),a]},onSliderChange:function(){this.fireEvent('change',this,this.getValues());if(!this.dragging){this.updatePosition()}},onSliderChangeComplete:function(){this.fireEvent('changecomplete',this,this.getValues())},afterLayout:function(){this.callParent(arguments);this.updatePosition()}});Ext.define('Sch.widget.ExportDialogForm',{extend:'Ext.form.Panel',dialog:null,layout:{type:'vbox'},requires:['Sch.widget.ResizePicker'],border:!1,bodyPadding:10,initComponent:function(){var b=this,a=b.dialog;Ext.apply(this,{fieldDefaults:{labelAlign:'top',labelWidth:100,labelStyle:'font-weight:bold'},items:[{width:a.getWidth()-40,xtype:'combo',value:'complete',triggerAction:'all',forceSelection:!0,editable:!1,fieldLabel:a.rangeFieldLabel,name:'range',itemId:'rangeField',queryMode:'local',displayField:'name',valueField:'value',store:Ext.create('Ext.data.Store',{fields:['name','value'],data:[{name:a.completeView,value:'complete'},{name:a.dateRange,value:'date'},{name:a.currentView,value:'current'}]})},{xtype:'dualrangepicker',itemId:'rangePicker',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-pickertext">'+a.pickerText+':</span>'),dialog:a,hidden:!0},{width:a.getWidth()-40,xtype:'datefield',fieldLabel:b.dateRangeFrom,name:'dateFrom',itemId:'dateFromField',hidden:!0,allowBlank:!1,cls:'sch-pdfexportdialog-date',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-datelabel">'+a.dateRangeFrom+':</span>'),maxValue:a.endDate,minValue:a.startDate,value:a.startDate,validator:function(c){var b=new Date(c);return b>=a.startDate}},{width:a.getWidth()-40,xtype:'datefield',name:'dateTo',itemId:'dateToField',hidden:!0,allowBlank:!1,cls:'sch-pdfexportdialog-date',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-datelabel">'+a.dateRangeTo+':</span>'),maxValue:a.endDate,minValue:a.startDate,value:a.endDate,validator:function(c){var b=new Date(c);return b<=a.endDate}},{width:a.getWidth()-40,xtype:'checkboxfield',fieldLabel:a.showHeaderLabel,name:'showHeader',checked:!0},{width:a.getWidth()-40,xtype:'combo',value:'A4',triggerAction:'all',forceSelection:!0,editable:!1,fieldLabel:a.formatFieldLabel,name:'format',queryMode:'local',store:['A5','A4','A3','Letter']},{width:a.getWidth()-40,xtype:'combo',value:'portrait',triggerAction:'all',forceSelection:!0,editable:!1,afterSubTpl:new Ext.XTemplate('<span id="sch-pdfexportdialog-imagePortrait"></span><span id="sch-pdfexportdialog-imageLandscape" class="sch-none"></span>'),fieldLabel:a.orientationFieldLabel,name:'orientation',cls:'sch-pdfexportdialog-orientation',itemId:'orientationField',displayField:'name',valueField:'value',queryMode:'local',store:Ext.create('Ext.data.Store',{fields:['name','value'],data:[{name:a.orientationPortrait,value:'portrait'},{name:a.orientationLandscape,value:'landscape'}]})},new Ext.ProgressBar({text:a.progressBarText,width:a.getWidth()-40,animate:!0,hidden:!0,itemId:'progressBar',id:'print-widget-progressbar'})]});b.callParent(arguments);if(!b.progressBar){b.progressBar=new Ext.ProgressBar({text:a.progressBarText,width:a.getWidth()-40,animate:!0,hidden:!0,itemId:'progressBar',id:'print-widget-progressbar'})}b.items.add(b.progressBar);b.dateFromField=b.getComponent('dateFromField');b.dateToField=b.getComponent('dateToField');b.rangePicker=b.getComponent('rangePicker');b.getComponent('orientationField').on('change',b.onChange,b);b.getComponent('rangeField').on('change',b.onChange,b);b.form.relayEvents(b.dialog,['updateprogressbar','hideprogressbar','showprogressbar']);var c={hideprogressbar:b.hideProgressBar,showprogressbar:b.showProgressBar,updateprogressbar:b.updateProgressBar,scope:b};b.form.on(c)},onChange:function(b,a){if(b.name==='range'){switch(a){case 'complete':this.dateFromField.hide();this.dateToField.hide();this.rangePicker.hide();break;case 'date':this.dateFromField.show();this.dateToField.show();this.rangePicker.hide();break;case 'current':this.dateFromField.hide();this.dateToField.hide();this.rangePicker.show();this.rangePicker.expand(!0);break;}}if(b.name==='orientation'){switch(a){case 'landscape':Ext.get('sch-pdfexportdialog-imagePortrait').toggleCls('sch-none');Ext.get('sch-pdfexportdialog-imageLandscape').toggleCls('sch-none');break;case 'portrait':Ext.get('sch-pdfexportdialog-imagePortrait').toggleCls('sch-none');Ext.get('sch-pdfexportdialog-imageLandscape').toggleCls('sch-none');break;}}},showProgressBar:function(){this.progressBar&&this.progressBar.show()},hideProgressBar:function(){this.progressBar&&this.progressBar.hide()},updateProgressBar:function(a){this.progressBar&&this.progressBar.updateProgress(a)},destroy:function(){this.progressBar&&this.progressBar.destroy();this.callParent(arguments)}});Ext.define('Sch.widget.ExportDialogButtons',{extend:'Ext.panel.Panel',dialog:null,height:35,border:!1,collapsible:!1,items:[],initComponent:function(){Ext.apply(this,{width:this.dialog.getWidth(),items:[{xtype:'button',scale:'medium',text:this.dialog.exportButtonText,handler:function(){var a=this.dialog.form.getForm();if(a.isValid()){var b=a.getValues();this.dialog.fireEvent('showprogressbar');this.dialog.plugin.doExport(b)}},scope:this},{xtype:'button',scale:'medium',text:this.dialog.cancelButtonText,handler:function(){this.dialog.hideDialog()},scope:this}]});this.callParent(arguments)}});Ext.define('Sch.widget.PdfExportDialog',{extend:'Ext.window.Window',alias:'widget.exportdialog',modal:!1,width:240,height:310,cls:'sch-pdfexportdialog',frame:!1,header:!1,title:null,layout:'fit',resizable:!1,draggable:!0,plugin:null,hideTime:2000,formPanel:null,buttonsPanel:null,progressBar:null,items:[],tpl:Ext.create('Ext.XTemplate','<div class="sch-pdfexportdialog-header"><h4>{headerText}</h4><span id="sch-pdfexportdialog-close"></span></div><div class="sch-pdfexportdialog-form" id="sch-pdfexportdialog-form"></div><div class="sch-pdfexportdialog-msg sch-none"><span id="sch-pdfexportdialog-msg"></span></div><div class="sch-pdfexportdialog-button" id="sch-pdfexportdialog-button"></div>',{compiled:!0}),generalError:'An error occured, try again.',dialogHeader:'PDF Settings',formatFieldLabel:'Paper format',orientationFieldLabel:'Orientation',rangeFieldLabel:'Export range',showHeaderLabel:'Add page number',orientationPortrait:'Portrait',orientationLandscape:'Landscape',completeView:'Complete schedule',currentView:'Current view',dateRange:'Date range',dateRangeFrom:'Export from',pickerText:'Resize column/rows to desired value',dateRangeTo:'Export to',exportButtonText:'Export',cancelButtonText:'Cancel',progressBarText:'Exporting...',requires:['Ext.ProgressBar','Sch.widget.ExportDialogForm'],constructor:function(a){Ext.apply(this,a.exportDialogConfig);this.callParent(arguments)},initComponent:function(){var a=this,b={hidedialogwindow:a.hideDialog,showdialogerror:a.showError,updateprogressbar:function(b){a.fireEvent('updateprogressbar',b)},scope:this};a.html=a.tpl.apply({headerText:a.dialogHeader});a.plugin.on(b);a.callParent(arguments)},destroy:function(){this.form.destroy();this.buttons.destroy();this.callParent(arguments)},afterRender:function(){var a=this;a.buttons=a.buttonsPanel||new Sch.widget.ExportDialogButtons({renderTo:'sch-pdfexportdialog-button',dialog:a,width:a.getWidth(),height:35});a.form=a.formPanel||new Sch.widget.ExportDialogForm({dialog:a,renderTo:'sch-pdfexportdialog-form'});a.on('changecomplete',function(d,b){a.plugin.scheduler.setTimeColumnWidth(b[0],!0);if(a.form.rangePicker.verticalCfg.reverse){var c=b[1]-a.form.rangePicker.verticalCfg.maxValue+a.form.rangePicker.verticalCfg.minValue;a.plugin.scheduler.getSchedulingView().setRowHeight(c)}else {a.plugin.scheduler.getSchedulingView().setRowHeight(b[1])}});a.form.on('resize',a.setTipHeight,a);a.relayEvents(a.form.rangePicker,['change','changecomplete','select']);Ext.get('sch-pdfexportdialog-close').on('click',a.hideDialog,a)},setTipHeight:function(){var a=this,c=a.getHeight(),b=a.form.getHeight();if(!a.oldFormHeight){a.oldFormHeight=b}else {a.form.suspendEvents();a.setHeight(a.getHeight()+b-a.oldFormHeight);a.form.resumeEvents();a.oldFormHeight=b}},hideDialog:function(){var a=this;a.fireEvent('updateprogressbar',0);a.fireEvent('hideprogressbar');a.form.show();a.form.getForm().reset();a.buttons.show();a.hide()},showError:function(c){var a=this,b;c=c||a.generalErrorText;a.fireEvent('hideprogressbar');a.form.hide();a.buttons.hide();b=a.getEl().select('.sch-pdfexportdialog-msg').first();b.dom.innerHTML=c;b.removeCls('sch-none');setTimeout(function(){b.dom.innerHTML='';b.addCls('sch-none');a.hideDialog()},a.hideTime)}});Ext.define('Gnt.model.WeekAvailability',{extend:'Sch.model.Range',customizableFields:[{name:'Availability'}],availabilityField:'Availability',set:function(b,a){if(b===this.nameField){Ext.Array.each(this.getAvailability(),function(c){c.setName(a)})}this.callParent(arguments)},getAvailability:function(){return this.get(this.availabilityField)||[]},setAvailability:function(a){var b=this.getName();Ext.Array.each(a,function(c){c.setName(b)});this.set(this.availabilityField,a)}});Ext.define('Gnt.model.CalendarDay',{requires:['Ext.data.Types'],extend:'Sch.model.Customizable',idProperty:'Id',customizableFields:[{name:'Date',type:'date',dateFormat:'c',convert:function(c,a){if(!c){return}var b=Ext.data.Types.DATE.convert.call(this,c);if(b){Ext.Date.clearTime(b)}if(a.data[a.idProperty]==null){a.data[a.idProperty]=b-0}return b}},{name:'Id'},{name:'IsWorkingDay',type:'boolean',defaultValue:!1},{name:'Cls',defaultValue:'gnt-holiday'},'Name',{name:'Availability',convert:function(a,b){if(a){return Ext.typeOf(a)==='string'?[a]:a}else {return []}}}],availabilityCache:null,dateField:'Date',isWorkingDayField:'IsWorkingDay',clsField:'Cls',nameField:'Name',availabilityField:'Availability',setDate:function(b){var a=Ext.Date.clearTime(b,!0);this.data[this.idProperty]=a-0;this.set(this.dateField,a)},clearDate:function(){this.data[this.idProperty]=null},getAvailability:function(b){var c=this;if(b){return this.get(this.availabilityField)}if(this.availabilityCache){return this.availabilityCache}var a=[];Ext.Array.each(this.get(this.availabilityField),function(d){a.push(Ext.typeOf(d)==='string'?c.parseInterval(d):d)});this.verifyAvailability(a);return this.availabilityCache=a},setAvailability:function(a){this.availabilityCache=null;this.set(this.availabilityField,this.stringifyIntervals(a));this.getAvailability()},verifyAvailability:function(a){a.sort(function(c,b){return c.startTime-b.startTime});Ext.Array.each(a,function(b){if(b.startTime>b.endTime){throw 'Start time is greater than end time'}});for(var b=1;b<a.length;b++){var c=a[b-1];var d=a[b];if(c.endTime>d.startTime){throw 'Availability intervals should not intersect'}}},prependZero:function(a){return a<10?'0'+a:a},stringifyInterval:function(b){var c=b.startTime;var a=b.endTime;return this.prependZero(c.getHours())+':'+this.prependZero(c.getMinutes())+'-'+this.prependZero(a.getHours())+':'+this.prependZero(a.getMinutes())},stringifyIntervals:function(b){var c=this;var a=[];Ext.Array.each(b,function(d){if(Ext.typeOf(d)==='string'){a.push(d)}else {a.push(c.stringifyInterval(d))}});return a},parseInterval:function(b){var a=/(\d\d):(\d\d)-(\d\d):(\d\d)/.exec(b);if(!a){throw 'Invalid format for availability string: '+b+'. It should have exact format: hh:mm-hh:mm'}return {startTime:new Date(0,0,0,a[1],a[2]),endTime:new Date(0,0,0,a[3],a[4])}},getTotalHours:function(){return this.getTotalMS()/1000/60/60},getTotalMS:function(){var a=0;Ext.Array.each(this.getAvailability(),function(b){a+=b.endTime-b.startTime});return a},addAvailabilityInterval:function(c,b){var a;if(c instanceof Date){a={startTime:c,endTime:b}}else {a=this.parseInterval(c+(b?'-'+b:''))}var d=this.getAvailability().concat(a);this.verifyAvailability(d);this.setAvailability(d)},removeAvailbilityInterval:function(b){var a=this.getAvailability();a.splice(b,1);this.setAvailability(a)},getAvailabilityIntervalsFor:function(a){a=typeof a=='number'?new Date(a):a;var d=a.getFullYear();var e=a.getMonth();var c=a.getDate();var b=[];Ext.Array.each(this.getAvailability(),function(f){var g=f.endTime.getDate();b.push({startDate:new Date(d,e,c,f.startTime.getHours(),f.startTime.getMinutes()),endDate:new Date(d,e,c+(g==1?1:0),f.endTime.getHours(),f.endTime.getMinutes())})});return b},getAvailabilityStartFor:function(b){var a=this.getAvailabilityIntervalsFor(b);if(!a.length){return null}return a[0].startDate},getAvailabilityEndFor:function(b){var a=this.getAvailabilityIntervalsFor(b);if(!a.length){return null}return a[a.length-1].endDate}});Ext.define('Gnt.model.Assignment',{extend:'Sch.model.Customizable',idProperty:'Id',customizableFields:[{name:'Id'},{name:'ResourceId'},{name:'TaskId'},{name:'Units',type:'float',defaultValue:100}],resourceIdField:'ResourceId',taskIdField:'TaskId',unitsField:'Units',isPersistable:function(){var a=this.getTask(),b=this.getResource();return a&&!a.phantom&&b&&!b.phantom},getUnits:function(){return Math.max(0,this.get(this.unitsField))},setUnits:function(a){if(a<0){throw "`Units` value for an assignment can't be less than 0"}this.set(this.unitsField,a)},getResourceName:function(){var a=this.stores[0].getResourceStore().getById(this.getResourceId());if(a){return a.getName()}return ''},getTask:function(a){return (a||this.stores[0].getTaskStore()).getById(this.getTaskId())},getResource:function(){return this.stores[0].getResourceStore().getByInternalId(this.getResourceId())},getInternalId:function(){return this.getId()||this.internalId},getEffort:function(c){var a=this.getTask();var b=0;a.forEachAvailabilityIntervalWithResources({startDate:a.getStartDate(),endDate:a.getEndDate(),resources:[this.getResource()]},function(g,f,a){var d;for(var e in a){d=a[e].units}b+=(f-g)*d/100});return a.getProjectCalendar().convertMSDurationToUnit(b,c||a.getEffortUnit())}});Ext.define('Gnt.model.Dependency',{extend:'Sch.model.Customizable',inheritableStatics:{Type:{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}},idProperty:'Id',customizableFields:[{name:'Id'},{name:'From'},{name:'To'},{name:'Type',type:'int',defaultValue:2},{name:'Lag',type:'int',defaultValue:0},{name:'Cls'}],fromField:'From',toField:'To',typeField:'Type',lagField:'Lag',clsField:'Cls',constructor:function(a){this.callParent(arguments);if(a){if(a.fromTask){if(a.fromTask instanceof Gnt.model.Task){this.setSourceTask(a.fromTask)}else {this.setSourceId(a.fromTask)}}if(a.toTask){if(a.toTask instanceof Gnt.model.Task){this.setTargetTask(a.toTask)}else {this.setTargetId(a.toTask)}}if(Ext.isDefined(a.type)){this.setType(a.type)}}},getTaskStore:function(){return this.stores[0].taskStore},getSourceTask:function(a){return this.getTaskStore().getById(this.getSourceId())},setSourceTask:function(a){this.setSourceId(a.getId()||a.internalId)},getTargetTask:function(){return this.getTaskStore().getById(this.getTargetId())},setTargetTask:function(a){this.setTargetId(a.getId()||a.internalId)},getSourceId:function(){return this.get(this.fromField)},setSourceId:function(a){this.set(this.fromField,a)},getTargetId:function(){return this.get(this.toField)},setTargetId:function(a){this.set(this.toField,a)},isPersistable:function(){var a=this.getSourceTask(),b=this.getTargetTask();return a&&!a.phantom&&b&&!b.phantom},isValid:function(b){var a=this.callParent(arguments);if(a&&this.stores[0]){a=this.stores[0].isValidDependency(this.getSourceId(),this.getTargetId(),!0)}return a}});Ext.define('Gnt.model.Resource',{extend:'Sch.model.Resource',customizableFields:['CalendarId'],calendarIdField:'CalendarId',getTaskStore:function(){return this.stores[0].getTaskStore()},getEventStore:function(){return this.getTaskStore()},getEvents:function(){return this.getTasks()},getTasks:function(){var a=[];this.forEachAssignment(function(c){var b=c.getTask();if(b){a.push(b)}});return a},getCalendar:function(a){return a?this.getOwnCalendar():this.getOwnCalendar()||this.getProjectCalendar()},getOwnCalendar:function(){var a=this.getCalendarId();return a?Gnt.data.Calendar.getCalendar(a):null},getProjectCalendar:function(){return this.stores[0].getTaskStore().getCalendar()},setCalendar:function(a){},getInternalId:function(){return this.getId()||this.internalId},assignTo:function(a,c){var b=a instanceof Gnt.model.Task?a:this.getTaskStore().getById(a);return b.assign(this,c)},unassignFrom:function(){return this.unAssignFrom.apply(this,arguments)},unAssignFrom:function(a){var b=a instanceof Gnt.model.Task?a:this.getTaskStore().getById(a);b.unAssign(this)},forEachAssignment:function(b,a){a=a||this;var c=this.getInternalId();this.getTaskStore().getAssignmentStore().each(function(d){if(d.getResourceId()==c){return b.call(a,d)}})},collectAvailabilityIntervalPoints:function(g,i,h,a,f){for(var d=0;d<g.length;d++){var e=g[d];var b=e.startDate-0;var c=e.endDate-0;if(!a[b]){a[b]=[];f.push(b)}a[b].push(i(b));if(!a[c]){a[c]=[];f.push(c)}a[c].push(h(c))}},forEachAvailabilityIntervalWithTasks:function(m,u,k){k=k||this;var b=m.startDate;var c=m.endDate;if(!b||!c){throw 'Both `startDate` and `endDate` are required for `forEachAvailabilityIntervalWithTasks`'}var f=new Date(b);var w=m.includeAllIntervals;var v=this.getCalendar();var n=[];var i=[];var l=[];this.forEachAssignment(function(d){var a=d.getTask();if(a.getStartDate()>c||a.getEndDate()<b){return}i.push(a);l.push(a.getCalendar());n.push(d)});if(!i.length){return}var t=Sch.util.Date;var e=[b-0,c-0];var g={};g[b-0]=[{type:'00-intervalStart'}];g[c-0]=[{type:'00-intervalEnd'}];var a;while(f<c){this.collectAvailabilityIntervalPoints(v.getAvailabilityIntervalsFor(f),function(){return {type:'00-resourceAvailabilityStart'}},function(){return {type:'01-resourceAvailabilityEnd'}},g,e);for(a=0;a<l.length;a++){this.collectAvailabilityIntervalPoints(l[a].getAvailabilityIntervalsFor(f),function(){return {type:'02-taskAvailabilityStart',assignment:n[a],taskId:i[a].getInternalId(),units:n[a].getUnits()}},function(){return {type:'03-taskAvailabilityEnd',taskId:i[a].getInternalId()}},g,e)}f=t.getStartOfNextDay(f)}e.sort();var r=!1;var s={};var o=0;for(a=0;a<e.length-1;a++){var q=g[e[a]];q.sort(function(b,a){return b.type<a.type});for(var p=0;p<q.length;p++){var d=q[p];if(d.type=='00-resourceAvailabilityStart'){r=!0}if(d.type=='01-resourceAvailabilityEnd'){r=!1}if(d.type=='02-taskAvailabilityStart'){s[d.taskId]=d;o++}if(d.type=='03-taskAvailabilityEnd'){delete s[d.taskId];o--}}if(w||r&&o){var j=e[a];var h=e[a+1];if(j>c||h<b){continue}if(j<b){j=b-0}if(h>c){h=c-0}if(u.call(k,j,h,s)===!1){return !1}}}},getAllocationInfo:function(b){var a=[];this.forEachAvailabilityIntervalWithTasks(b,function(h,g,c){var f=0;var d=[];for(var e in c){f+=c[e].units;d.push(c[e].assignment)}a.push({startDate:new Date(h),endDate:new Date(g),totalAllocation:f,assignments:d})});return a}});Ext.define('Gnt.model.task.More',{indent:function(){var a=this.previousSibling;if(a){this.isMove=!0;a.appendChild(this);delete this.isMove;a.set('leaf',!1);a.expand()}},outdent:function(){var a=this.parentNode;if(a&&!a.isRoot()){a.set('leaf',a.childNodes.length===1);this.isMove=!0;if(a.nextSibling){a.parentNode.insertBefore(this,a.nextSibling)}else {a.parentNode.appendChild(this)}delete this.isMove}},getAllDependencies:function(a){a=a||this.getDependencyStore();return a.getDependenciesForTask(this)},hasIncomingDependencies:function(a){var c=this.getId()||this.internalId;a=a||this.getDependencyStore();var b=a.findBy(function(b){return b.getTargetId()==c});return b>=0},getIncomingDependencies:function(a){a=a||this.getDependencyStore();return a.getIncomingDependenciesForTask(this)},getOutgoingDependencies:function(a){a=a||this.getDependencyStore();return a.getOutgoingDependenciesForTask(this)},constrain:function(a){if(this.isManuallyScheduled()){return !1}var e=!1;a=a||this.getTaskStore();var c=this.getConstrainContext(a);if(c){var b=c.startDate;var d=c.endDate;if(b&&b-this.getStartDate()!==0){this.setStartDate(b,!0,a.skipWeekendsDuringDragDrop);e=!0}else {if(d&&d-this.getEndDate()!==0){this.setEndDate(d,!0,a.skipWeekendsDuringDragDrop);e=!0}}}return e},getConstrainContext:function(g){var f=this.getIncomingDependencies();if(!f.length){return null}var h=g||this.getTaskStore(),d=Gnt.model.Dependency.Type,b=new Date(0),a=new Date(0),i=Ext.Date,e=this.getCalendar(),c;Ext.each(f,function(j){var i=j.getSourceTask();if(i){var k=j.getLag()||0,h=i.getStartDate(),f=i.getEndDate();switch(j.getType()){case d.StartToEnd:h=e.skipWorkingDays(h,k);if(a<h){a=h;c=i};break;case d.StartToStart:h=e.skipWorkingDays(h,k);if(b<h){b=h;c=i};break;case d.EndToStart:f=e.skipWorkingDays(f,k);if(b<f){b=f;c=i};break;case d.EndToEnd:f=e.skipWorkingDays(f,k);if(a<f){a=f;c=i};break;default:throw 'Invalid dependency type: '+j.getType();}}});return {startDate:b>0?b:null,endDate:a>0?a:null,constrainingTask:c}},getCriticalPaths:function(){var b=[this],a=this.getConstrainContext();while(a){b.push(a.constrainingTask);a=a.constrainingTask.getConstrainContext()}return b},cascadeChanges:function(a,b){a=a||this.getTaskStore();if(this.isLeaf()){if(this.constrain(a)){this.recalculateParents();b.nbrAffected++}}Ext.each(this.getOutgoingDependencies(),function(d){var c=d.getTargetTask();if(c&&!c.isManuallyScheduled()){c.cascadeChanges(a,b)}})},addSubtask:function(a){this.set('leaf',!1);this.appendChild(a);this.expand()},addSuccessor:function(a){var e=this.rec,c=this.getTaskStore(),b=this.getDependencyStore();a=a||new this.self();a.calendar=a.calendar||this.getCalendar();a.taskStore=c;a.setStartDate(this.getEndDate(),!0,c.skipWeekendsDuringDragDrop);a.setDuration(1,Sch.util.Date.DAY);this.addTaskBelow(a);var d=new b.model({fromTask:this,toTask:a,type:b.model.Type.EndToStart});b.add(d)},addMilestone:function(a){var c=this.getTaskStore();a=a||new this.self();var b=this.getEndDate();if(b){a.calendar=a.calendar||this.getCalendar();a.setStartEndDate(b,b,c.skipWeekendsDuringDragDrop)}this.addTaskBelow(a)},addPredecessor:function(a){var b=this.getDependencyStore();a=a||new this.self();a.calendar=a.calendar||this.getCalendar();a.beginEdit();a.set(this.startDateField,a.calculateStartDate(this.getStartDate(),1,Sch.util.Date.DAY));a.set(this.endDateField,this.getStartDate());a.set(this.durationField,1);a.set(this.durationUnitField,Sch.util.Date.DAY);a.endEdit();this.addTaskAbove(a);var c=new b.model({fromTask:a,toTask:this,type:b.model.Type.EndToStart});b.add(c)},getSuccessors:function(){var g=this.getId()||this.internalId;var a=a||this.getDependencyStore();var h=this.getTaskStore(),e=[];for(var b=0,f=a.getCount();b<f;b++){var d=a.getAt(b);if(d.getSourceId()==g){var c=d.getTargetTask();if(c){e.push(c)}}}return e},getPredecessors:function(){var f=this.getId()||this.internalId;var a=a||this.getDependencyStore();var g=this.getTaskStore(),d=[];for(var b=0,e=a.getCount();b<e;b++){var c=a.getAt(b);if(c.getTargetId()==f){d.push(c.getSourceTask())}}return d},addTaskAbove:function(a){a=a||new this.self();this.parentNode.insertBefore(a,this)},addTaskBelow:function(a){a=a||new this.self();if(this.nextSibling){this.parentNode.insertBefore(a,this.nextSibling)}else {this.parentNode.appendChild(a)}},isAbove:function(a){var b=this,c=Math.min(b.data.depth,a.data.depth);while(b.data.depth>c){b=b.parentNode}while(a.data.depth>c){a=a.parentNode}while(a.parentNode!==b.parentNode){a=a.parentNode;b=b.parentNode}return a.data.index>b.data.index}});Ext.define('Gnt.model.Task',{extend:'Sch.model.Range',requires:['Sch.util.Date','Ext.data.NodeInterface'],mixins:['Gnt.model.task.More'],idProperty:'Id',customizableFields:[{name:'Id'},{name:'Duration',type:'number',useNull:!0},{name:'Effort',type:'number',useNull:!0},{name:'EffortUnit',type:'string',defaultValue:'h'},{name:'CalendarId',type:'string'},{name:'DurationUnit',type:'string',defaultValue:'d',convert:function(a){return a||'d'}},{name:'PercentDone',type:'int',defaultValue:0},{name:'ManuallyScheduled',type:'boolean',defaultValue:!1},{name:'SchedulingMode',type:'string',defaultValue:'Normal'},{name:'BaselineStartDate',type:'date',dateFormat:'c'},{name:'BaselineEndDate',type:'date',dateFormat:'c'},{name:'BaselinePercentDone',type:'int',defaultValue:0},{name:'Draggable',type:'boolean',persist:!1,defaultValue:!0},{name:'Resizable',persist:!1},{name:'PhantomId',type:'string'},{name:'PhantomParentId',type:'string'}],draggableField:'Draggable',resizableField:'Resizable',nameField:'Name',durationField:'Duration',durationUnitField:'DurationUnit',effortField:'Effort',effortUnitField:'EffortUnit',percentDoneField:'PercentDone',manuallyScheduledField:'ManuallyScheduled',schedulingModeField:'SchedulingMode',calendarIdField:'CalendarId',baselineStartDateField:'BaselineStartDate',baselineEndDateField:'BaselineEndDate',baselinePercentDoneField:'BaselinePercentDone',calendar:null,dependencyStore:null,taskStore:null,phantomIdField:'PhantomId',phantomParentIdField:'PhantomParentId',normalized:!1,recognizedSchedulingModes:['Normal','Manual','FixedDuration','EffortDriven','DynamicAssignment'],constructor:function(){this.getModifiedFieldNames=function(){if(this.__isFilling__){return []}delete this.getModifiedFieldNames;return this.getModifiedFieldNames()};this.callParent(arguments)},normalize:function(){var d=this.getDuration(),e=this.getDurationUnit(),b=this.getStartDate(),a=this.getEndDate(),f=this.getSchedulingMode(),c=this.data;if(a&&this.inclusiveEndDate){var i=this.fields.getByKey(this.endDateField).dateFormat;var j=i&&!Ext.Date.formatContainsHourInfo(i)||a.getHours()===0&&a.getMinutes()===0&&a.getSeconds()===0&&a.getMilliseconds()===0;if(j){if(Ext.isNumber(d)){a=c[this.endDateField]=this.calculateEndDate(b,d,e)}else {a=c[this.endDateField]=Ext.Date.add(a,Ext.Date.DAY,1)}}}if(d==null&&b&&a){c[this.durationField]=this.calculateDuration(b,a,e)}if((f=='Normal'||this.isManuallyScheduled())&&a==null&&b&&Ext.isNumber(d)){c[this.endDateField]=this.calculateEndDate(b,d,e)}if(f=='EffortDriven'||f=='FixedDuration'){var g=this.get(this.effortField),h=this.getEffortUnit();if(g==null&&b&&a){c[this.effortField]=this.calculateEffort(b,a,h)}if(a==null&&b&&g){c[this.endDateField]=this.calculateEffortDrivenEndDate(b,g,h);if(d==null){c[this.durationField]=this.calculateDuration(b,c[this.endDateField],e)}}}this.normalized=!0},normalizeEffort:function(){var d=this.childNodes;var b=0;for(var a=0;a<d.length;a++){var c=d[a];if(!c.isLeaf()){c.normalizeEffort()}b+=c.getEffort('MILLI')}if(this.getEffort('MILLI')!=b){this.data[this.effortField]=this.getProjectCalendar().convertMSDurationToUnit(b,this.getEffortUnit())}},getInternalId:function(){return this.getId()||this.internalId},getCalendar:function(a){return a?this.getOwnCalendar():this.getOwnCalendar()||this.getProjectCalendar()},getOwnCalendar:function(){var a=this.get(this.calendarIdField);return a?Gnt.data.Calendar.getCalendar(a):this.calendar},getProjectCalendar:function(){var a=this.stores[0];var b=a&&a.getCalendar&&a.getCalendar()||this.parentNode&&this.parentNode.getProjectCalendar()||this.isRoot()&&this.calendar;if(!b){Ext.Error.raise("Can't find a project calendar in `getProjectCalendar`")}return b},setCalendar:function(a){this.calendar=a},getDependencyStore:function(){var a=this.dependencyStore||this.getTaskStore().dependencyStore;if(!a){Ext.Error.raise("Can't find a dependencyStore in `getDependencyStore`")}return a},getResourceStore:function(){return this.getTaskStore().getResourceStore()},getAssignmentStore:function(){return this.getTaskStore().getAssignmentStore()},getTaskStore:function(b){if(this.taskStore){return this.taskStore}var a=this.stores[0]&&this.stores[0].taskStore||this.parentNode&&this.parentNode.getTaskStore(b);if(!a&&!b){Ext.Error.raise("Can't find a taskStore in `getTaskStore`")}return this.taskStore=a},isManuallyScheduled:function(){return this.get(this.schedulingModeField)=='Manual'||this.get(this.manuallyScheduledField)},setManuallyScheduled:function(a){if(a){this.set(this.schedulingModeField,'Manual')}else {if(this.get(this.schedulingModeField)=='Manual'){this.set(this.schedulingModeField,'Normal')}}return this.set(this.manuallyScheduledField,a)},setSchedulingMode:function(a){if(Ext.Array.indexOf(this.recognizedSchedulingModes,a)==-1){throw 'Unrecognized scheduling mode: '+a}this.beginEdit();this.set(this.schedulingModeField,a);if(a==='FixedDuration'){this.updateEffortBasedOnDuration()}if(a==='EffortDriven'){this.updateDurationBasedOnEffort()}this.endEdit()},skipNonWorkingTime:function(a,b){var c=!1;this.forEachAvailabilityIntervalWithResources(b?{startDate:a}:{endDate:a,isForward:!1},function(e,d,f){a=b?e:d;c=!0;return !1});return c?new Date(a):this.getCalendar().skipNonWorkingTime(a,b)},setStartDate:function(a,f,e){this.beginEdit();var d=this.getCalendar();if(e&&!this.isManuallyScheduled()){if(!this.isMilestone()||d.isHoliday(a-1)){a=this.skipNonWorkingTime(a,!0)}}var c=this.getSchedulingMode();this.set(this.startDateField,a);if(f!==!1){if(c=='EffortDriven'){this.set(this.endDateField,this.calculateEffortDrivenEndDate(a,this.getEffort()))}else {var b=this.getDuration();if(Ext.isNumber(b)){this.set(this.endDateField,this.calculateEndDate(a,b,this.getDurationUnit()))}}}else {if(this.getEndDate()){this.set(this.durationField,this.calculateDuration(a,this.getEndDate(),this.getDurationUnit()))}}this.onPotentialEffortChange();this.endEdit()},setEndDate:function(a,d,c){this.beginEdit();var e=this.getCalendar();if(c&&!this.isManuallyScheduled()){a=this.skipNonWorkingTime(a,!1)}if(d!==!1){var b=this.getDuration();if(Ext.isNumber(b)){this.set(this.startDateField,this.calculateStartDate(a,b,this.getDurationUnit()));this.set(this.endDateField,a)}else {this.set(this.endDateField,a)}}else {this.set(this.endDateField,a);if(this.getStartDate()){this.set(this.durationField,this.calculateDuration(this.getStartDate(),a,this.getDurationUnit()))}}this.onPotentialEffortChange();this.endEdit()},setStartEndDate:function(a,b,c){this.beginEdit();if(c&&!this.isManuallyScheduled()){a=a&&this.skipNonWorkingTime(a,!0);b=b&&this.skipNonWorkingTime(b,!1)}this.set(this.startDateField,a);this.set(this.endDateField,b);this.set(this.durationField,this.calculateDuration(a,b,this.getDurationUnit()));this.onPotentialEffortChange();this.endEdit()},getDuration:function(a){if(!a){return this.get(this.durationField)}var b=this.getProjectCalendar(),c=b.convertDurationToMs(this.get(this.durationField),this.get(this.durationUnitField));return b.convertMSDurationToUnit(c,a)},getEffort:function(a){var b=this.get(this.effortField)||0;if(!a){return b}var c=this.getProjectCalendar(),d=c.convertDurationToMs(b,this.get(this.effortUnitField));return c.convertMSDurationToUnit(d,a)},setEffort:function(b,a){a=a||this.get(this.effortUnitField);this.beginEdit();this.set(this.effortField,b);this.set(this.effortUnitField,a);if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}this.endEdit()},getCalendarDuration:function(a){return this.getProjectCalendar().convertMSDurationToUnit(this.getEndDate()-this.getStartDate(),a||this.get(this.durationUnitField))},setDuration:function(b,a){a=a||this.get(this.durationUnitField);this.beginEdit();this.set(this.endDateField,this.calculateEndDate(this.getStartDate(),b,a));this.set(this.durationField,b);this.set(this.durationUnitField,a);this.onPotentialEffortChange();this.endEdit()},calculateStartDate:function(e,d,a){a=a||this.getDurationUnit();if(this.isManuallyScheduled()){return Sch.util.Date.add(b,a,-d)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var c=this.getProjectCalendar().convertDurationToMs(d,a||this.getDurationUnit());var b;this.forEachAvailabilityIntervalWithResources({endDate:e,isForward:!1},function(h,g,i){var f=g-h;if(f>=c){b=new Date(g-c);return !1}else {c-=f}});return b}else {return this.getCalendar().calculateStartDate(e,d,a)}}},calculateEndDate:function(b,d,a){a=a||this.getDurationUnit();if(this.isManuallyScheduled()){return Sch.util.Date.add(b,a,d)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var c=this.getProjectCalendar().convertDurationToMs(d,a||this.getDurationUnit());var e;this.forEachAvailabilityIntervalWithResources({startDate:b},function(g,h,i){var f=h-g;if(f>=c){e=new Date(g+c);return !1}else {c-=f}});return e}else {return this.getCalendar().calculateEndDate(b,d,a)}}},calculateDuration:function(b,c,a){a=a||this.getDurationUnit();if(!b||!c){return 0}if(this.isManuallyScheduled()){return this.getProjectCalendar().convertMSDurationToUnit(c-b,a)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var d=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:c},function(f,e,g){d+=e-f});return this.getProjectCalendar().convertMSDurationToUnit(d,a)}else {return this.getCalendar().calculateDuration(b,c,a)}}},forEachAvailabilityIntervalWithResources:function(p,A,u){u=u||this;var C=this;var h=p.startDate;var i=p.endDate;var m=p.isForward!==!1;if(m?!h:!i){throw new Error('At least `startDate` or `endDate` is required, depending from the `isForward` option')}var l=new Date(m?h:i);var w=p.includeEmptyIntervals;var x=this.getOwnCalendar();var v=Boolean(x);var E=this.getProjectCalendar();var n,s,j;if(p.resources){n=p.resources;j=[];s=[];Ext.each(n,function(a){s.push(a.getCalendar());j.push(C.getAssignmentFor(a))})}else {j=this.getAssignments();if(!j.length){return}n=[];s=[];Ext.each(j,function(b){var a=b.getResource();n.push(a);s.push(a.getCalendar())})}var z=Sch.util.Date;var a,e,o,b,c;var D=m?!i:!h;while(D||(m?l<i:l>h)){var f={};var g=[];if(v){var B=x.getAvailabilityIntervalsFor(l-(m?0:1));for(e=0;e<B.length;e++){o=B[e];b=o.startDate-0;c=o.endDate-0;if(!f[b]){f[b]=[];g.push(b)}f[b].push({type:'00-taskAvailailabilityStart',typeBackward:'01-taskAvailailabilityStart'});g.push(c);f[c]=f[c]||[];f[c].push({type:'01-taskAvailailabilityEnd',typeBackward:'00-taskAvailailabilityEnd'})}}for(a=0;a<s.length;a++){var y=s[a].getAvailabilityIntervalsFor(l);for(e=0;e<y.length;e++){o=y[e];b=o.startDate-0;c=o.endDate-0;if(!f[b]){f[b]=[];g.push(b)}f[b].push({type:'02-resourceAvailailabilityStart',typeBackward:'03-resourceAvailailabilityStart',assignment:j[a],resourceId:n[a].getInternalId(),units:j[a].getUnits()});if(!f[c]){f[c]=[];g.push(c)}f[c].push({type:'03-resourceAvailailabilityEnd',typeBackward:'02-resourceAvailailabilityEnd',assignment:j[a],resourceId:n[a].getInternalId(),units:j[a].getUnits()})}}g.sort();var t=!1;var r={};var q=0;var k,d;if(m){for(a=0;a<g.length;a++){k=f[g[a]];k.sort(function(b,a){return b.type<a.type});for(e=0;e<k.length;e++){d=k[e];if(d.type=='00-taskAvailailabilityStart'){t=!0}if(d.type=='01-taskAvailailabilityEnd'){t=!1}if(d.type=='02-resourceAvailailabilityStart'){r[d.resourceId]=d;q++}if(d.type=='03-resourceAvailailabilityEnd'){delete r[d.resourceId];q--}}if((t||!v)&&(q||w)){b=g[a];c=g[a+1];if(b>=i||c<=h){continue}if(b<h){b=h-0}if(c>i){c=i-0}if(A.call(u,b,c,r)===!1){return !1}}}}else {for(a=g.length-1;a>=0;a--){k=f[g[a]];k.sort(function(b,a){return b.typeBackward<a.typeBackward});for(e=0;e<k.length;e++){d=k[e];if(d.typeBackward=='00-taskAvailailabilityEnd'){t=!0}if(d.typeBackward=='01-taskAvailailabilityStart'){t=!1}if(d.typeBackward=='02-resourceAvailailabilityEnd'){r[d.resourceId]=d;q++}if(d.typeBackward=='03-resourceAvailailabilityStart'){delete r[d.resourceId];q--}}if((t||!v)&&(q||w)){b=g[a-1];c=g[a];if(b>i||c<=h){continue}if(b<h){b=h-0}if(c>i){c=i-0}if(A.call(u,b,c,r)===!1){return !1}}}}l=m?z.getStartOfNextDay(l):z.getEndOfPreviousDay(l)}},calculateEffortDrivenEndDate:function(b,e,d){var a=this.getProjectCalendar().convertDurationToMs(e,d||this.getEffortUnit());var c=new Date(b);this.forEachAvailabilityIntervalWithResources({startDate:b},function(i,l,h){var j=0;for(var k in h){j+=h[k].units}var g=l-i;var f=j*g/100;if(f>=a){c=new Date(i+a/f*g);return !1}else {a-=f}});return c},recalculateParents:function(){var c=new Date(9999,0,0),b=new Date(0),a=this.parentNode;if(a&&a.childNodes.length>0){var f=0;for(var g=0,k=a.childNodes.length;g<k;g++){f+=a.childNodes[g].getEffort('MILLI')}if(a.getEffort('MILLI')!=f){a.setEffort(this.getProjectCalendar().convertMSDurationToUnit(f,a.getEffortUnit()))}}var e,d;if(a&&!a.isRoot()&&a.childNodes.length>0){if(!a.isManuallyScheduled()){for(var h=0,j=a.childNodes.length;h<j;h++){var i=a.childNodes[h];c=Sch.util.Date.min(c,i.getStartDate()||c);b=Sch.util.Date.max(b,i.getEndDate()||b)}e=c-new Date(9999,0,0)!==0&&a.getStartDate()-c!==0;d=b-new Date(0)!==0&&a.getEndDate()-b!==0;if(e&&d){a.setStartEndDate(c,b,!1)}else {if(e){a.setStartDate(c,d,!1)}else {if(d){a.setEndDate(b,!1,!1)}}}}if(!e&&!d){a.recalculateParents()}}},isMilestone:function(){return this.getDuration()===0},isBaselineMilestone:function(){var b=this.getBaselineStartDate(),a=this.getBaselineEndDate();if(b&&a){return a-b===0}return !1},afterEdit:function(b){if(this.stores.length>0||!this.normalized){this.callParent(arguments)}else {var a=this.taskStore||this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterEdit(this,b)}this.callParent(arguments)}},afterCommit:function(){this.callParent(arguments);if(this.stores.length>0||!this.normalized){return}var a=this.taskStore||this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterCommit(this)}},afterReject:function(){if(this.stores.length>0){this.callParent(arguments)}else {var a=this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterReject(this)}this.callParent(arguments)}},getDurationUnit:function(){return this.get(this.durationUnitField)||'d'},getEffortUnit:function(){return this.get(this.effortUnitField)||'d'},getBaselinePercentDone:function(){return this.get(this.baselinePercentDoneField)||0},isPersistable:function(){var a=this.parentNode;return !a.phantom},getResources:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=[];if(b){b.each(function(b){if(b.getTaskId()==c){a.push(b.getResource())}})}return a},getAssignments:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=[];if(b){b.each(function(b){if(b.getTaskId()==c){a.push(b)}})}return a},hasAssignments:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=!1;if(b){b.each(function(b){if(b.getTaskId()==c){a=!0;return !1}})}return a},getAssignmentFor:function(a){var c=this.getAssignmentStore(),e=this.getInternalId(),d=a instanceof Gnt.model.Resource?a.getInternalId():a;var b;if(c){c.each(function(c){if(c.getTaskId()==e&&c.getResourceId()==d){b=c;return !1}})}return b||null},unassign:function(){return this.unAssign.apply(this,arguments)},unAssign:function(a){var b=this.getAssignmentStore();var c=a instanceof Gnt.model.Resource?a.getInternalId():a;b.removeAt(b.find('ResourceId',c))},assign:function(a,h){var b=this.getTaskStore(),g=this.getInternalId(),e=b.getAssignmentStore(),d=b.getResourceStore();var f=a instanceof Gnt.model.Resource?a.getInternalId():a;e.each(function(b){if(b.getTaskId()==g&&b.getResourceId()==f){throw "Resource can't be assigned twice to the same task"}});if(a instanceof Gnt.model.Resource&&d.indexOf(a)==-1){d.add(a)}var c=new Gnt.model.Assignment({TaskId:g,ResourceId:f,Units:h});e.add(c);return c},calculateEffort:function(b,d,c){var a=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:d},function(i,h,e){var f=0;for(var g in e){f+=e[g].units}a+=(h-i)*f/100});return this.getProjectCalendar().convertMSDurationToUnit(a,c||this.getEffortUnit())},updateAssignments:function(){var e={};var b=this.getStartDate();var c=this.getEndDate();var a=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:c},function(d,c,b){for(var e in b){a+=c-d}});if(!a){return}var d=this.getEffort(Sch.util.Date.MILLI);Ext.Array.each(this.getAssignments(),function(b){b.setUnits(d/a*100)})},updateEffortBasedOnDuration:function(){this.setEffort(this.calculateEffort(this.getStartDate(),this.getEndDate()))},updateDurationBasedOnEffort:function(){this.setEndDate(this.calculateEffortDrivenEndDate(this.getStartDate(),this.getEffort(),this.getEffortUnit()),!1)},onPotentialEffortChange:function(){if(this.getSchedulingMode()==='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}},onAssignmentMutation:function(){if(this.getSchedulingMode()==='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}},onAssignmentStructureMutation:function(){if(this.getSchedulingMode()=='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}},adjustToCalendar:function(){if(this.get('leaf')&&!this.isManuallyScheduled()){var a=this.hasIncomingDependencies();if(a){this.constrain()}else {this.setStartDate(this.getStartDate(),!0,!0)}}},isEditable:function(a){if((a===this.durationField||a===this.endDateField)&&this.getSchedulingMode()==='EffortDriven'){return !1}if(a===this.effortField&&this.getSchedulingMode()==='FixedDuration'){return !1}return !0},isDraggable:function(){return this.getDraggable()},isResizable:function(){return this.getResizable()},ensureSingleSyncForMethod:function(){return function(){var a=this.getTaskStore(!0);var b;if(a&&a.autoSync&&!a.autoSyncSuspended){b=!0;a.suspendAutoSync()}var c=this.callParent(arguments);if(b){a.resumeAutoSync();a.sync()}return c}},getId:function(){var a=this.data[this.idProperty];return a&&a!=='root'?a:null}},function(){Ext.data.NodeInterface.decorate(this);var a=['addPredecessor','addSubtask','addSuccessor','indent','outdent','remove','insertBefore','appendChild'];this.override({remove:function(){var a=this.parentNode;var b=this.callParent(arguments);if(a.childNodes.length===0&&this.getTaskStore().recalculateParents){a.set('leaf',!0)}return b},insertBefore:function(a){if(this.phantom){this.data[this.phantomIdField]=a.data[this.phantomParentIdField]=this.internalId}return this.callParent(arguments)},appendChild:function(a){if(this.phantom){this.data[this.phantomIdField]=a.data[this.phantomParentIdField]=this.internalId}return this.callParent(arguments)}});Ext.each(a,function(b){var a={};a[b]=this.prototype.ensureSingleSyncForMethod(this.prototype[b]);this.override(a)},this)});Ext.define('Gnt.data.Calendar',{extend:'Ext.data.Store',requires:['Ext.Date','Gnt.model.CalendarDay','Sch.model.Range','Sch.util.Date'],model:'Gnt.model.CalendarDay',daysPerMonth:30,daysPerWeek:7,hoursPerDay:24,unitsInMs:null,defaultNonWorkingTimeCssCls:'gnt-holiday',weekendsAreWorkdays:!1,weekendFirstDay:6,weekendSecondDay:0,holidaysCache:null,availabilityIntervalsCache:null,weekAvailability:null,defaultWeekAvailability:null,nonStandardWeeksByStartDate:null,nonStandardWeeksStartDates:null,calendarId:null,parent:null,defaultAvailability:['00:00-24:00'],name:null,statics:{getCalendar:function(a){if(a instanceof Gnt.data.Calendar){return a}return Ext.data.StoreManager.lookup('GNT_CALENDAR:'+a)},getAllCalendars:function(){var a=[];Ext.data.StoreManager.each(function(b){if(b instanceof Gnt.data.Calendar){a.push(b)}});return a}},constructor:function(a){a=a||{};if(a.calendarId){this.storeId='GNT_CALENDAR:'+a.calendarId}this.callParent(arguments);var c=this;var b=this.parent=Gnt.data.Calendar.getCalendar(a.parent);if(a.parent&&!this.parent){throw new Error('Invalid parent specified for calendar')}this.unitsInMs={MILLI:1,SECOND:1000,MINUTE:60*1000,HOUR:60*60*1000,DAY:this.hoursPerDay*60*60*1000,WEEK:this.daysPerWeek*this.hoursPerDay*60*60*1000,MONTH:this.daysPerMonth*this.hoursPerDay*60*60*1000,QUARTER:3*this.daysPerMonth*24*60*60*1000,YEAR:4*3*this.daysPerMonth*24*60*60*1000};this.defaultWeekAvailability=this.getDefaultWeekAvailability(this.weekendsAreWorkdays);Ext.Array.each(a.weekAvailability||[],function(b,d){if(b){b.setDate(new Date(0,0,d));b.set(b.idProperty,'WEEKDAY:'+d)}c.add(b)});this.holidaysCache={};this.availabilityIntervalsCache={};this.on({clear:this.clearCache,datachanged:this.clearCache,update:this.clearCache,load:this.updateAvailability,scope:this});b&&b.on('clearcache',this.clearCache,this);this.updateAvailability()},getDefaultWeekAvailability:function(f){var e=this.defaultAvailability;var d=this.weekendFirstDay;var c=this.weekendSecondDay;var b=[];for(var a=0;a<7;a++){b.push(f||a!=d&&a!=c?new Gnt.model.CalendarDay({Availability:Ext.Array.clone(e),IsWorkingDay:!0}):new Gnt.model.CalendarDay({Availability:[]}))}return b},updateAvailability:function(){var c=this.weekAvailability=[];var b=this.nonStandardWeeksStartDates=[];var a=this.nonStandardWeeksByStartDate={};this.each(function(g){var h=g.getId();var d=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(h);var e;if(d){var f=Ext.Date.parse(d[2],'Y/m/d')-0;var i=Ext.Date.parse(d[3],'Y/m/d')-0;e=d[1];if(!a[f]){a[f]={startDate:new Date(f),endDate:new Date(i),name:g.getName(),weekAvailability:[]};b.push(f)}a[f].weekAvailability[e]=g}d=/^WEEKDAY:(\d+)$/.exec(h);if(d){e=d[1];if(e<0||e>6){throw new Error('Incorrect week day index')}c[e]=g}});b.sort()},intersectsWithCurrentWeeks:function(b,d){var e=this.nonStandardWeeksStartDates;var c=this.nonStandardWeeksByStartDate;var a=!1;Ext.Array.each(e,function(g){var e=c[g].startDate;var f=c[g].endDate;if(e<=b&&b<f||e<d&&d<=f){a=!0;return !1}});return a},addNonStandardWeek:function(a,b,c){a=Ext.Date.clearTime(new Date(a));b=Ext.Date.clearTime(new Date(b));if(this.intersectsWithCurrentWeeks(a,b)){throw new Error('Can not add intersecting week')}Ext.Array.each(c,function(d,e){if(d){d.set(d.idProperty,e+'-'+Ext.Date.format(a,'Y/m/d')+'-'+Ext.Date.format(b,'Y/m/d'))}});a=a-0;b=b-0;this.nonStandardWeeksStartDates.push(a);this.nonStandardWeeksStartDates.sort();this.nonStandardWeeksByStartDate[a]={startDate:new Date(a),endDate:new Date(b),weekAvailability:c};this.add(Ext.Array.clean(c))},getNonStandardWeekByStartDate:function(a){return this.nonStandardWeeksByStartDate[Ext.Date.clearTime(new Date(a))-0]},getNonStandardWeekByDate:function(a){a=Ext.Date.clearTime(new Date(a))-0;var d=this.nonStandardWeeksStartDates;var e=this.nonStandardWeeksByStartDate;for(var c=0;c<d.length;c++){var b=e[d[c]];if(b.startDate<=a&&a<=b.endDate){return b}}return null},removeNonStandardWeek:function(a){a=Ext.Date.clearTime(new Date(a))-0;var b=this.getNonStandardWeekByStartDate(a);if(!b){return}this.remove(Ext.Array.clean(b.weekAvailability));delete this.nonStandardWeeksByStartDate[a];Ext.Array.remove(this.nonStandardWeeksStartDates,a)},clearCache:function(){this.holidaysCache={};this.availabilityIntervalsCache={};this.fireEvent('clearcache',this)},setWeekendsAreWorkDays:function(a){if(a!==this.weekendsAreWorkdays){this.weekendsAreWorkdays=a;this.clearCache();this.defaultWeekAvailability=this.getDefaultWeekAvailability(this.weekendsAreWorkdays)}},areWeekendsWorkDays:function(){return this.weekendsAreWorkdays},getCalendarDay:function(a){a=typeof a=='number'?new Date(a):a;var b=this.getOverrideDay(a);if(b){return b}return this.getDefaultCalendarDay(a.getDay(),a)},getOverrideDay:function(a){var b=this.getOwnCalendarDay(a);if(b){return b}if(this.parent){return this.parent.getOverrideDay(a)}return null},getOwnCalendarDay:function(a){a=typeof a=='number'?new Date(a):a;return this.getById(Ext.Date.clearTime(a,!0)-0)},getDefaultCalendarDay:function(a,c){if(c){var b=this.getNonStandardWeekByDate(c);if(b&&b.weekAvailability[a]){return b.weekAvailability[a]}}if(this.weekAvailability[a]){return this.weekAvailability[a]}if(this.parent){return this.parent.getDefaultCalendarDay(a)}return this.defaultWeekAvailability[a]},isHoliday:function(a){var b=a-0;var c=this.holidaysCache;if(c[b]!=null){return c[b]}a=typeof a=='number'?new Date(a):a;var d=this.getCalendarDay(a);if(!d){throw "Can't find day for "+a}return c[b]=!d.getIsWorkingDay()},isWeekend:function(b){var a=b.getDay();return a===this.weekendFirstDay||a===this.weekendSecondDay},isWorkingDay:function(a){return !this.isHoliday(a)},convertMSDurationToUnit:function(a,b){return a/this.unitsInMs[Sch.util.Date.getNameOfUnit(b)]},convertDurationToMs:function(b,a){return b*this.unitsInMs[Sch.util.Date.getNameOfUnit(a)]},getHolidaysRanges:function(d,e,j){if(d>e){Ext.Error.raise("startDate can't be bigger than endDate")}d=Ext.Date.clearTime(d,!0);e=Ext.Date.clearTime(e,!0);var c=[],a,b;for(b=d;b<e;b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)){if(this.isHoliday(b)||this.weekendsAreWorkdays&&j&&this.isWeekend(b)){var i=this.getCalendarDay(b);var g=i&&i.getCls()||this.defaultNonWorkingTimeCssCls;var f=Sch.util.Date.add(b,Sch.util.Date.DAY,1);if(!a){a={StartDate:b,EndDate:f,Cls:g}}else {if(a.Cls==g){a.EndDate=f}else {c.push(a);a={StartDate:b,EndDate:f,Cls:g}}}}else {if(a){c.push(a);a=null}}}if(a){c.push(a)}var h=[];Ext.each(c,function(a){h.push(Ext.create('Sch.model.Range',{StartDate:a.StartDate,EndDate:a.EndDate,Cls:a.Cls}))});return h},forEachAvailabilityInterval:function(j,n,i){i=i||this;var q=this;var b=j.startDate;var c=j.endDate;var a=j.isForward!==!1;if(a?!b:!c){throw new Error('At least `startDate` or `endDate` is required, depending from the `isForward` option')}var d=new Date(a?b:c);var p=a?!c:!b;var l=Sch.util.Date;while(p||(a?d<c:d>b)){var f=this.getAvailabilityIntervalsFor(d-(a?0:1));for(var e=a?0:f.length-1;a?e<f.length:e>=0;a?e++:e--){var k=f[e];var g=k.startDate;var h=k.endDate;if(g>=c||h<=b){continue}var m=g<b?b:g;var o=h>c?c:h;if(n.call(i,m,o)===!1){return !1}}d=a?l.getStartOfNextDay(d):l.getEndOfPreviousDay(d)}},calculateDuration:function(b,d,c){var a=0;this.forEachAvailabilityInterval({startDate:b,endDate:d},function(f,e){a+=e-f});return this.convertMSDurationToUnit(a,c)},calculateEndDate:function(b,a,d){if(!a){return new Date(b)}var f=Sch.util.Date,c;a=this.convertDurationToMs(a,d);var e=a===0&&Ext.Date.clearTime(b,!0)-b===0?f.add(b,Sch.util.Date.DAY,-1):b;this.forEachAvailabilityInterval({startDate:e},function(e,f){var g=f-e;var h=e.getTimezoneOffset()-f.getTimezoneOffset();if(g>=a){c=new Date(e-0+a);return !1}else {a-=g+h*60*1000}});return c},calculateStartDate:function(c,a,d){if(!a){return new Date(c)}var b;a=this.convertDurationToMs(a,d);this.forEachAvailabilityInterval({endDate:c,isForward:!1},function(g,e){var f=e-g;if(f>=a){b=new Date(e-a);return !1}else {a-=f}});return b},skipNonWorkingTime:function(a,b){this.forEachAvailabilityInterval(b?{startDate:a}:{endDate:a,isForward:!1},function(d,c){a=b?d:c;return !1});return new Date(a)},skipWorkingDays:function(f,b){var d=0,c=b>0,e=Sch.util.Date,a=Ext.Date.clone(f);b=Math.abs(b);while(d<b){if(!this.isHoliday(a-(c?0:1))){d++;if(c){a=e.getStartOfNextDay(a,!0)}else {a=e.getEndOfPreviousDay(a)}}if(c||d<b){a=this.skipNonWorkingTime(a,c)}}e.copyTimeValues(a,f);return a},getAvailabilityIntervalsFor:function(a){a=Ext.Date.clearTime(new Date(a))-0;if(this.availabilityIntervalsCache[a]){return this.availabilityIntervalsCache[a]}return this.availabilityIntervalsCache[a]=this.getCalendarDay(a).getAvailabilityIntervalsFor(a)},getParentableCalendars:function(){var c=this,a=[],d=Gnt.data.Calendar.getAllCalendars();var b=function(a){if(!a.parent){return !1}if(a.parent==c){return !0}return b(a.parent)};Ext.Array.each(d,function(d){if(d===c){return}if(!b(d)){a.push({Id:d.calendarId,Name:d.name||d.calendarId})}});return a}});Ext.define('Gnt.data.calendar.BusinessTime',{extend:'Gnt.data.Calendar',daysPerMonth:20,daysPerWeek:5,hoursPerDay:8,defaultAvailability:['08:00-12:00','13:00-17:00']});Ext.define('Gnt.data.TaskStore',{extend:'Ext.data.TreeStore',requires:['Sch.patches.TreeStore','Gnt.model.Task','Gnt.data.Calendar'],model:'Gnt.model.Task',calendar:null,dependencyStore:null,resourceStore:null,assignmentStore:null,weekendsAreWorkdays:!1,buffered:!1,pageSize:null,cascadeChanges:!1,batchSync:!0,recalculateParents:!0,skipWeekendsDuringDragDrop:!0,cascadeDelay:0,cascading:!1,isFillingRoot:!1,constructor:function(a){this.addEvents('root-fill-start','root-fill-end','filter','clearfilter','beforecascade','cascade');a=a||{};if(!a.calendar){var b={};if(a.hasOwnProperty('weekendsAreWorkdays')){b.weekendsAreWorkdays=a.weekendsAreWorkdays}else {if(this.self.prototype.hasOwnProperty('weekendsAreWorkdays')&&this.self!=Gnt.data.TaskStore){b.weekendsAreWorkdays=this.weekendsAreWorkdays}}a.calendar=new Gnt.data.Calendar(b)}this.hasListeners={};this.on({'root-fill-end':this.onRootFillEnd,remove:this.onTaskDeleted,beforesync:this.onTaskStoreBeforeSync,write:this.onTaskStoreWrite,scope:this});var c=a.dependencyStore;if(c){delete a.dependencyStore;this.setDependencyStore(c)}var d=a.resourceStore;if(d){delete a.resourceStore;this.setResourceStore(d)}var f=a.assignmentStore;if(f){delete a.assignmentStore;this.setAssignmentStore(f)}var e=a.calendar;if(e){delete a.calendar;this.setCalendar(e)}this.callParent([a]);if(Ext.data.reader.Xml&&this.getProxy().getReader() instanceof Ext.data.reader.Xml){Ext.override(this.getProxy().getReader(),{extractData:function(b){var c=this.record;if(c!=b.nodeName){b=Ext.DomQuery.select('>'+c,b)}else {b=[b]}return Ext.data.reader.Xml.superclass.extractData.apply(this,[b])}})}if(this.autoSync&&this.batchSync){this.sync=Ext.Function.createBuffered(this.sync,500)}},loadData:function(d,u){var a=this,i=a.getRootNode(),w=u?u.addRecords:!1;if(!d.length){return}else {if(!i){i=a.setRootNode()}a.suspendAutoSync();a.suspendEvents();if(!w){i.removeAll()}var x=d.length,p=a.model,g=[],m=typeof d[0].get==='function',l,c,s,k,e,o,t,h,q;for(var b=0;b<x;b++){c=a.getById(d[b].getId?d[b].getId():d[b].Id);l=0;if(c){k=m?d[b].get('parentId'):d[b].parentId;e=c.get('parentId');o=m?d[b].get('index'):d[b].index;t=c.get('index');if(m){c.set(d[b].data)}else {c.set(d[b])}if((k||k===null?k!==e:!1)||(o?o!==t:!1)){h=k===null?i:a.getById(k);q=e===null?i:a.getById(e)}else {l=1}}else {c=m?new p(d[b].data):new p(d[b]);e=c.get('parentId');if(e){h=a.getById(e)}else {if(e===null){h=i}}}if(h&&!l){a.moveChildren(c,h,q)}else {if(typeof h==='undefined'&&!l){s={node:c,index:c.get('index')||0,parentId:c.get('parentId')};g.push(s)}}}var j=0,r=g.length,f,n;while(g.length){if(j>g.length-1){j=0}f=g[j];n=f.parentId===null?i:a.getById(f.parentId);if(n){var v=a.nodeIsChild(f.node,h);if(v){n.insertChild(f.index,f.node);a.fixNodeDates(f.node);g.splice(j,1)}}j+=1;if(j===r-1&&g.length===r){throw 'Invalid data, possible infinite loop.'}}if(a.nodesToExpand){b=0;for(var y=a.nodesToExpand.length;b<y;b+=1){c=a.nodesToExpand[b];if(c.childNodes.length){c.expand()}}delete a.nodesToExpand}this.fireEvent('datachanged');this.fireEvent('refresh');a.resumeAutoSync();a.resumeEvents();if(a.autoSync){a.sync()}}},fixNodeDates:function(a){var c=a.calculateDuration(a.getStartDate(),a.getEndDate(),a.getDurationUnit()),b;a.set({Duration:c});if(a.childNodes.length){b=a.getChildAt(0);b.recalculateParents()}else {a.recalculateParents()}},nodeIsChild:function(b,c){var d=c.getId(),a=!0;if(b.childNodes.length){b.cascadeBy(function(e){if(e.getId()===d){a=!1;return !1}})}return a},moveChildren:function(a,d,e){if(a.get('expanded')){if(!this.nodesToExpand){this.nodesToExpand=[]}this.nodesToExpand.push(a);a.set('expanded',!1)}var b,f=this.nodeIsChild(a,d),c=e||this.getById(a.get('parentId'));if(f){if(a.childNodes.length){b=a.copy(null,!0);a.removeAll()}if(c&&c.getId()!==d.getId()){c.removeChild(a)}d.insertChild(a.get('index')||0,a);if(b){b.cascadeBy(function(f){if(f!==b){var c=f.copy(null);a.insertChild(c.get('index')||0,c)}})}this.fixNodeDates(a)}},onNodeAdded:function(g,a){if(!a.normalized&&!a.isRoot()){a.normalize()}if(Ext.isIE){var b=this,f=b.getProxy(),c=f.getReader(),d=a.raw||a[a.persistenceProperty],e;Ext.Array.remove(b.removed,a);if(!a.isLeaf()){e=c.getRoot(d);if(e){b.fillNode(a,c.extractData(e));if(d[c.root]){delete d[c.root]}}}if(b.autoSync&&!b.autoSyncSuspended&&(a.phantom||a.dirty)){b.sync()}}else {this.callParent(arguments)}},setRootNode:function(){var a=this;this.tree.setRootNode=Ext.Function.createInterceptor(this.tree.setRootNode,function(b){Ext.apply(b,{calendar:a.calendar,taskStore:a,dependencyStore:a.dependencyStore,phantom:!1,dirty:!1})});var b=this.callParent(arguments);delete this.tree.setRootNode;return b},fillNode:function(c,a){this.isFillingNode=!0;if(c.isRoot()){this.isFillingRoot=!0;this.un({remove:this.onNodeUpdated,append:this.onNodeUpdated,insert:this.onNodeUpdated,update:this.onTaskUpdated,scope:this});this.fireEvent('root-fill-start',this,c,a)}var d=this,g=a?a.length:0,b=0,f;if(g&&d.sortOnLoad&&!d.remoteSort&&d.sorters&&d.sorters.items){f=Ext.create('Ext.util.MixedCollection');f.addAll(a);f.sort(d.sorters.items);a=f.items}c.set('loaded',!0);if(this.buffered){for(;b<g;b++){var e=a[b];e.__isFilling__=!0;c.appendChild(e,!0,!0);this.onNodeAdded(null,e);this.tree.registerNode(e)}}else {for(;b<g;b++){a[b].__isFilling__=!0;c.appendChild(a[b],!1,!0)}}if(c.isRoot()){this.getRootNode().cascadeBy(function(b){delete b.__isFilling__});this.isFillingRoot=!1;this.on({remove:this.onNodeUpdated,append:this.onNodeUpdated,insert:this.onNodeUpdated,update:this.onTaskUpdated,scope:this});this.fireEvent('root-fill-end',this,c,a)}delete this.isFillingNode;return a},onRootFillEnd:function(b,a){a.normalizeEffort()},getById:function(a){return this.tree.getNodeById(a)},setDependencyStore:function(a){if(this.dependencyStore){this.dependencyStore.un({add:this.onDependencyAddOrUpdate,update:this.onDependencyAddOrUpdate,beforesync:this.onBeforeDependencySync,scope:this})}this.dependencyStore=Ext.StoreMgr.lookup(a);if(a){a.taskStore=this;a.on({add:this.onDependencyAddOrUpdate,update:this.onDependencyAddOrUpdate,scope:this})}},setResourceStore:function(a){this.resourceStore=Ext.StoreMgr.lookup(a);a.taskStore=this},getResourceStore:function(){return this.resourceStore||null},setAssignmentStore:function(a){if(this.assignmentStore){this.assignmentStore.un({add:this.onAssignmentStructureMutation,update:this.onAssignmentMutation,remove:this.onAssignmentStructureMutation,scope:this})}this.assignmentStore=Ext.StoreMgr.lookup(a);a.taskStore=this;a.on({add:this.onAssignmentStructureMutation,update:this.onAssignmentMutation,remove:this.onAssignmentStructureMutation,scope:this})},getAssignmentStore:function(){return this.assignmentStore||null},renormalizeTasks:function(b,a){if(a instanceof Gnt.model.Task){a.adjustToCalendar()}else {this.getRootNode().cascadeBy(function(c){c.adjustToCalendar()})}},getCalendar:function(){return this.calendar||null},setCalendar:function(a){var c={datachanged:this.renormalizeTasks,update:this.renormalizeTasks,clear:this.renormalizeTasks,scope:this};if(this.calendar){this.calendar.un(c)}this.calendar=a;a.on(c);var b=this.tree&&this.getRootNode();if(b){b.calendar=a}},filter:function(){this.fireEvent('filter',this,arguments)},clearFilter:function(){this.fireEvent('clearfilter',this)},getCriticalPaths:function(){var c=this.getRootNode(),b=[],a=new Date(0);c.cascadeBy(function(b){a=Sch.util.Date.max(b.getEndDate(),a)});c.cascadeBy(function(c){if(a-c.getEndDate()===0&&!c.isRoot()){b.push(c)}});var d=[];Ext.each(b,function(a){d.push(a.getCriticalPaths())});return d},onNodeUpdated:function(b,a){if(!this.cascading&&this.recalculateParents&&!this.isFillingNode){a.recalculateParents()}},onTaskUpdated:function(d,a,c){var b=a.previous;if(!this.cascading&&!this.isFillingNode&&c!==Ext.data.Model.COMMIT&&(b&&(a.startDateField in b||a.endDateField in b||'parentId' in b||a.effortField in b))){if(this.cascadeChanges){Ext.Function.defer(this.cascadeChangesForTask,this.cascadeDelay,this,[a])}if(this.recalculateParents){a.recalculateParents()}}},cascadeChangesForTask:function(c){var a=this,b={nbrAffected:0};Ext.each(c.getOutgoingDependencies(),function(e){var d=e.getTargetTask();if(d){if(!a.cascading){a.fireEvent('beforecascade',a)}a.cascading=!0;d.cascadeChanges(a,b)}});if(a.cascading){a.cascading=!1;a.fireEvent('cascade',a,b)}},onTaskDeleted:function(c,b){var a=this.dependencyStore;if(a&&!b.isReplace&&!b.isMove){a.remove(b.getAllDependencies(a))}},onAssignmentMutation:function(c,a){var b=this;Ext.each(a,function(e){var d=e.getTask(b);if(d){d.onAssignmentMutation(e)}})},onAssignmentStructureMutation:function(c,a){var b=this;Ext.each(a,function(d){d.getTask(b).onAssignmentStructureMutation(d)})},onDependencyAddOrUpdate:function(d,c){if(this.cascadeChanges){var b=this,a;Ext.each(c,function(e){a=e.getTargetTask();if(a){a.constrain(b)}})}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew,this)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated,this)},filterNew:function(a){return a.phantom===!0&&a.isValid()&&a!=this.tree.root},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()&&a!=this.tree.root},onTaskStoreBeforeSync:function(a,e){var b=a.create;if(b){for(var c,d=b.length-1;d>=0;d--){c=b[d];if(c.isPersistable()){c._phantomId=c.internalId}else {if(this.autoSync){Ext.Array.remove(b,c)}}}if(b.length===0){delete a.create}}return Boolean(a.create&&a.create.length>0||a.update&&a.update.length>0||a.destroy&&a.destroy.length>0)},onTaskStoreWrite:function(e,b){var c=this.dependencyStore;if(!c||b.action!=='create'){return}var d=b.getRecords(),a;Ext.each(d,function(d){a=d.getId();if(!d.phantom&&a!==d._phantomId){Ext.each(c.getNewRecords(),function(c){var g=c.getSourceId();var f=c.getTargetId();if(g===d._phantomId){c.setSourceId(a)}else {if(f===d._phantomId){c.setTargetId(a)}}});Ext.each(d.childNodes,function(c){if(c.phantom){c.set('parentId',a)}});delete d._phantomId}})},getTotalTimeSpan:function(){var a=new Date(9999,0,1),b=new Date(0),c=Sch.util.Date;this.getRootNode().cascadeBy(function(d){if(d.getStartDate()){a=c.min(d.getStartDate(),a)}if(d.getEndDate()){b=c.max(d.getEndDate(),b)}});a=a<new Date(9999,0,1)?a:null;b=b>new Date(0)?b:null;return {start:a,end:b||a||null}},getCount:function(b){var a=b===!1?0:-1;this.getRootNode().cascadeBy(function(){a++});return a},toArray:function(){var a=[];this.getRootNode().cascadeBy(function(b){a.push(b)});return a},remove:function(a){Ext.each(a,function(b){b.remove()})},indent:function(a){a=Ext.isArray(a)?a:[a];var b=Ext.Array.sort(a,function(c,b){return c.data.index>b.data.index});Ext.each(b,function(b){b.indent()})},outdent:function(a){var b=Ext.Array.sort(a,function(c,b){return c.data.index>b.data.index});Ext.each(b,function(b){b.indent()});Ext.each(a,function(b){b.outdent()})},getTasksForResource:function(a){return a.getTasks()},getEventsForResource:function(a){return this.getTasksForResource(a)},ensureSingleSyncForMethod:function(){return function(){var a;if(this.autoSync&&!this.autoSyncSuspended){a=!0;this.suspendAutoSync()}var b=this.callParent(arguments);if(a){this.resumeAutoSync();this.sync()}return b}}},function(){var a=['indent','outdent','afterEdit','remove'];Ext.each(a,function(b){var a={};a[b]=this.prototype.ensureSingleSyncForMethod(this.prototype[b]);this.override(a)},this)});Ext.define('Gnt.data.DependencyStore',{extend:'Ext.data.Store',model:'Gnt.model.Dependency',constructor:function(){this.callParent(arguments);this.init()},init:function(){this.on({beforesync:this.onBeforeSyncOperation,scope:this})},onBeforeSyncOperation:function(a,d){if(a.create){for(var c,b=a.create.length-1;b>=0;b--){c=a.create[b];if(!c.isPersistable()){Ext.Array.remove(a.create,c)}}if(a.create.length===0){delete a.create}}return Boolean(a.create&&a.create.length>0||a.update&&a.update.length>0||a.destroy&&a.destroy.length>0)},getDependenciesForTask:function(c){var f=c.getId()||c.internalId;var d=[],e=this;for(var b=0,g=e.getCount();b<g;b++){var a=e.getAt(b);if(a.getSourceId()==f||a.getTargetId()==f){d.push(a)}}return d},getIncomingDependenciesForTask:function(b){var g=b.getId()||b.internalId;var d=[],e=this;for(var a=0,f=e.getCount();a<f;a++){var c=e.getAt(a);if(c.getTargetId()==g){d.push(c)}}return d},getOutgoingDependenciesForTask:function(b){var g=b.getId()||b.internalId;var d=[],e=this;for(var a=0,f=e.getCount();a<f;a++){var c=e.getAt(a);if(c.getSourceId()==g){d.push(c)}}return d},hasTransitiveDependency:function(d,b,a){var c=this;return this.findBy(function(e){var f=e.getTargetId();if(e.getSourceId()===d){return f===b&&e!==a?!0:c.hasTransitiveDependency(e.getTargetId(),b,a)}})>=0},isValidDependency:function(b,c,g){var d=!0;var a,f,e;if(b instanceof Gnt.model.Dependency){a=b.getSourceId();f=this.getSourceTask(a);c=b.getTargetId();e=this.getTargetTask(c)}else {a=b;f=this.getSourceTask(a);e=this.getTargetTask(c)}if(!g&&b instanceof Gnt.model.Dependency){d=b.isValid()}else {d=a&&c&&a!==c}if(d){if(f&&e&&(f.contains(e)||e.contains(f))){d=!1}var h=g||b instanceof Gnt.model.Dependency;if(d&&(!h&&this.areTasksLinked(a,c)||this.hasTransitiveDependency(c,a,h?b:null))){d=!1}}return d},areTasksLinked:function(b,a){var c=this;b=b instanceof Gnt.model.Task?b.getId()||b.internalId:b;a=a instanceof Gnt.model.Task?a.getId()||a.internalId:a;return this.findBy(function(e){var c=e.getTargetId(),d=e.getSourceId();if(d===b&&c===a||d===a&&c===a){return !0}})>=0},getSourceTask:function(a){var b=a instanceof Gnt.model.Dependency?dependency.getSourceId():a;return this.getTaskStore().getById(b)},getTargetTask:function(a){var b=a instanceof Gnt.model.Dependency?dependency.getSourceId():a;return this.getTaskStore().getById(b)},getTaskStore:function(){return this.taskStore}});Ext.define('Gnt.data.ResourceStore',{requires:['Gnt.model.Resource'],extend:'Sch.data.ResourceStore',model:'Gnt.model.Resource',taskStore:null,getTaskStore:function(){return this.taskStore||null},getAssignmentStore:function(){return this.assignmentStore||null},getByInternalId:function(a){return this.data.getByKey(a)||this.getById(a)}});Ext.define('Gnt.data.AssignmentStore',{requires:['Gnt.model.Assignment'],extend:'Ext.data.Store',model:'Gnt.model.Assignment',taskStore:null,getTaskStore:function(){return this.taskStore},getResourceStore:function(){return this.getTaskStore().resourceStore},getByInternalId:function(a){return this.data.getByKey(a)||this.getById(a)}});Ext.define('Gnt.template.Task',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px;">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-task-bar {cls}" unselectable="on" style="width:{width}px;{style}">'+(a.enableDependencyDragDrop?'<div unselectable="on" class="sch-gantt-terminal sch-gantt-terminal-start"></div>':'')+(a.resizeHandles==='both'||a.resizeHandles==='left'?'<div class="sch-resizable-handle sch-gantt-task-handle sch-resizable-handle-west"></div>':'')+'<div class="sch-gantt-progress-bar" style="width:{percentDone}%;{progressBarStyle}" unselectable="on">&#160;</div>'+(a.resizeHandles==='both'||a.resizeHandles==='right'?'<div class="sch-resizable-handle sch-gantt-task-handle sch-resizable-handle-east"></div>':'')+(a.enableDependencyDragDrop?'<div unselectable="on" class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+(a.enableProgressBarResize?'<div style="left:{percentDone}%" class="sch-gantt-progressbar-handle"></div>':'')+'</div>'+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.template.Milestone',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+(a.printable?'<img id="'+a.prefix+'{id}" src="'+a.imgSrc+'" class="sch-gantt-item sch-gantt-milestone-diamond {cls}" unselectable="on" style="{style}" />':'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-milestone-diamond {cls}" unselectable="on" style="{style}">'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-start"></div><div class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+'</div>')+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.template.ParentTask',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px;">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-parenttask-bar {cls}" style="width:{width}px; {style}"><div class="sch-gantt-progress-bar" style="width:{percentDone}%;{progressBarStyle}">&#160;</div>'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-start"></div>':'')+'<div class="sch-gantt-parenttask-arrow sch-gantt-parenttask-leftarrow"></div><div class="sch-gantt-parenttask-arrow sch-gantt-parenttask-rightarrow"></div>'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+'</div>'+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.Tooltip',{extend:'Ext.ToolTip',requires:['Ext.Template'],startText:'Starts: ',endText:'Ends: ',durationText:'Duration:',mode:'startend',cls:'sch-tip',height:40,autoHide:!1,anchor:'b-tl',maskOnDisable:!1,initComponent:function(){if(this.mode==='startend'&&!this.startEndTemplate){this.startEndTemplate=(new Ext.Template('<div class="sch-timetipwrap {cls}"><div>'+this.startText+'{startText}</div><div>'+this.endText+'{endText}</div></div>')).compile()}if(this.mode==='duration'&&!this.durationTemplate){this.durationTemplate=(new Ext.Template('<div class="sch-timetipwrap {cls}">','<div>'+this.startText+' {startText}</div>','<div>'+this.durationText+' {duration} {unit}</div>','</div>')).compile()}this.callParent(arguments)},update:function(e,c,d,b){var a;if(this.mode==='duration'){a=this.getDurationContent(e,c,d,b)}else {a=this.getStartEndContent(e,c,d,b)}this.callParent([a])},getStartEndContent:function(a,c,h,i){var e=this.gantt,g=e.getFormattedDate(a),d=g,f;if(c-a>0){d=e.getFormattedEndDate(c,a)}var b={cls:h?'sch-tip-ok':'sch-tip-notok',startText:g,endText:d};if(this.showClock){Ext.apply(b,{startHourDegrees:roundedStart.getHours()*30,startMinuteDegrees:roundedStart.getMinutes()*6});if(c){Ext.apply(b,{endHourDegrees:f.getHours()*30,endMinuteDegrees:f.getMinutes()*6})}}return this.startEndTemplate.apply(b)},getDurationContent:function(d,e,f,a){var b=a.getDurationUnit()||Sch.util.Date.DAY;var c=a.calculateDuration(d,e,b);return this.durationTemplate.apply({cls:f?'sch-tip-ok':'sch-tip-notok',startText:this.gantt.getFormattedDate(d),duration:parseFloat(Ext.Number.toFixed(c,1)),unit:Sch.util.Date.getReadableNameOfUnit(b,c>1)})},show:function(a){if(a){this.setTarget(a)}this.callParent([])}});Ext.define('Gnt.feature.TaskDragDrop',{extend:'Ext.dd.DragZone',requires:['Gnt.Tooltip','Ext.dd.StatusProxy','Ext.dd.ScrollManager'],onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,constructor:function(b){b=b||{};Ext.apply(this,b);this.proxy=this.proxy||Ext.create('Ext.dd.StatusProxy',{shadow:!1,dropAllowed:'sch-gantt-dragproxy',dropNotAllowed:'sch-gantt-dragproxy',ensureAttachedToBody:Ext.emptyFn});var a=this,c=a.gantt;if(a.useTooltip){a.tip=Ext.create('Gnt.Tooltip',{gantt:c})}a.callParent([c.el,Ext.apply(b,{ddGroup:a.gantt.id+'-task-dd'})]);a.scroll=!1;a.isTarget=!0;a.ignoreSelf=!1;a.addInvalidHandleClass('sch-resizable-handle');a.addInvalidHandleClass('x-resizable-handle');a.addInvalidHandleClass('sch-gantt-terminal');a.addInvalidHandleClass('sch-gantt-progressbar-handle');Ext.dd.ScrollManager.register(a.gantt.el);a.gantt.ownerCt.el.appendChild(this.proxy.el);a.gantt.on({destroy:a.cleanUp,scope:a})},useTooltip:!0,validatorFn:function(a,b,d,c){return !0},validatorFnScope:null,cleanUp:function(){if(this.tip){this.tip.destroy()}this.destroy()},containerScroll:!1,dropAllowed:'sch-gantt-dragproxy',dropNotAllowed:'sch-gantt-dragproxy',destroy:function(){this.callParent(arguments);Ext.dd.ScrollManager.unregister(this.gantt.el)},autoOffset:function(b,e){var a=this.dragData.repairXY,d=b-a[0],c=e-a[1];this.setDelta(d,c)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=c;this.maxX=b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=!0},setYConstraint:function(a,c,b){this.topConstraint=a;this.bottomConstraint=c;this.minY=a;this.maxY=c;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=!0},constrainTo:function(b,a){this.resetConstraints();this.initPageX=b.left;this.initPageY=a.top;this.setXConstraint(b.left,b.right-(a.right-a.left),this.xTickSize);this.setYConstraint(a.top-1,a.top-1,this.yTickSize)},onDragOver:function(f,g){var a=this.dragData,c=a.record,d=this.gantt,e=this.proxy.el.getX()+d.getXOffset(c),b=d.getDateFromXY([e,0],'round');if(!a.hidden){Ext.fly(a.sourceNode).hide();a.hidden=!0}if(!b||b-a.start===0){return}a.start=b;this.valid=this.validatorFn.call(this.validatorFnScope||d,c,b,a.duration,f)!==!1;if(this.tip){this.tip.update(b,c.calculateEndDate(b,c.getDuration(),c.getDurationUnit()),this.valid)}},onStartDrag:function(){var a=this.dragData.record;if(this.tip){this.tip.enable();this.tip.show(Ext.get(this.dragData.sourceNode));this.tip.update(a.getStartDate(),a.getEndDate(),!0)}this.gantt.fireEvent('taskdragstart',this.gantt,a)},getDragData:function(f){var a=this.gantt,b=f.getTarget(a.eventSelector);if(b&&!f.getTarget('.sch-gantt-baseline-item')){var e=Ext.get(b),c=a.resolveTaskRecord(e);if(a.fireEvent('beforetaskdrag',a,c,f)===!1){return null}var g=b.cloneNode(!0),d=a.getSnapPixelAmount(),h=e.getXY();g.id=Ext.id();if(d<=1){Ext.fly(g).setStyle('left',0)}this.constrainTo(Ext.fly(a.findItemByChild(b)).getRegion(),e.getRegion());if(d>=1){this.setXConstraint(this.leftConstraint,this.rightConstraint,d)}return {sourceNode:b,repairXY:h,ddel:g,record:c,duration:Sch.util.Date.getDurationInMinutes(c.getStartDate(),c.getEndDate())}}return null},afterRepair:function(){Ext.fly(this.dragData.sourceNode).show();if(this.tip){this.tip.hide()}this.dragging=!1},getRepairXY:function(){this.gantt.fireEvent('afterdnd',this.gantt);return this.dragData.repairXY},onDragDrop:function(f,c){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c),h=this.dragData,a=this.gantt,b=h.record,g=h.start;var d=!1;if(this.tip){this.tip.disable()}if(this.valid&&g&&b.getStartDate()-g!==0){a.taskStore.on('update',function(){d=!0},null,{single:!0});b.setStartDate(g,!0,a.taskStore.skipWeekendsDuringDragDrop);if(d){a.fireEvent('taskdrop',a,b);if(Ext.isIE9){this.proxy.el.setStyle('visibility','hidden');Ext.Function.defer(this.onValidDrop,10,this,[e,f,c])}else {this.onValidDrop(e,f,c)}}}if(!d){this.onInvalidDrop(e,f,c)}a.fireEvent('aftertaskdrop',a,b)}});Ext.define('Gnt.feature.DependencyDragDrop',{extend:'Ext.util.Observable',constructor:function(b){this.addEvents('beforednd','dndstart','drop','afterdnd');var a=b.ganttView;Ext.apply(this,{el:a.el,ddGroup:a.id+'-sch-dependency-dd',ganttView:a,dependencyStore:a.getDependencyStore()});this.el.on('mousemove',function(){this.setupDragZone();this.setupDropZone()},this,{single:!0});this.callParent(arguments)},fromText:'From: <strong>{0}</strong> {1}<br/>',toText:'To: <strong>{0}</strong> {1}',startText:'Start',endText:'End',useLineProxy:!0,terminalSelector:'.sch-gantt-terminal',destroy:function(){if(this.dragZone){this.dragZone.destroy()}if(this.dropZone){this.dropZone.destroy()}if(this.lineProxyEl){this.lineProxyEl.destroy()}},initLineProxy:function(c,b){var a=this.lineProxyEl=this.el.createChild({cls:'sch-gantt-connector-proxy'});a.alignTo(c,b?'l':'r');Ext.apply(this,{containerTop:this.el.getTop(),containerLeft:this.el.getLeft(),startXY:a.getXY(),startScrollLeft:this.el.dom.scrollLeft,startScrollTop:this.el.dom.scrollTop})},updateLineProxy:function(l){var m=this.lineProxyEl,c=l[0]-this.startXY[0]+this.el.dom.scrollLeft-this.startScrollLeft,b=l[1]-this.startXY[1]+this.el.dom.scrollTop-this.startScrollTop,h=Math.max(1,Math.sqrt(Math.pow(c,2)+Math.pow(b,2))-2),g=Math.atan2(b,c)-Math.PI/2,e;if(Ext.isIE){var j=Math.cos(g),i=Math.sin(g),k='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+j+', M12 = '+-i+', M21 = '+i+', M22 = '+j+')',d,f;if(this.el.dom.scrollTop!==this.startScrollTop){d=this.startScrollTop-this.containerTop}else {d=this.el.dom.scrollTop-this.containerTop}if(this.el.dom.scrollLeft!==this.startScrollLeft){f=this.startScrollLeft-this.containerLeft}else {f=this.el.dom.scrollLeft-this.containerLeft}e={height:h+'px',top:Math.min(0,b)+this.startXY[1]+d+(b<0?2:0)+'px',left:Math.min(0,c)+this.startXY[0]+f+(c<0?2:0)+'px',filter:k,'-ms-filter':k}}else {var a='rotate('+g+'rad)';e={height:h+'px','-o-transform':a,'-webkit-transform':a,'-moz-transform':a,transform:a}}m.show().setStyle(e)},setupDragZone:function(){var a=this,b=this.ganttView;this.dragZone=Ext.create('Ext.dd.DragZone',this.el,{ddGroup:this.ddGroup,onStartDrag:function(){this.el.addCls('sch-gantt-dep-dd-dragging');a.fireEvent('dndstart',a);if(a.useLineProxy){var b=this.dragData;a.initLineProxy(b.sourceNode,b.isStart)}},getDragData:function(f){var c=f.getTarget(a.terminalSelector);if(c){var d=b.resolveTaskRecord(c);if(a.fireEvent('beforednd',this,d)===!1){return null}var e=!!c.className.match('sch-gantt-terminal-start'),g=Ext.core.DomHelper.createDom({cls:'sch-dd-dependency',children:[{tag:'span',cls:'sch-dd-dependency-from',html:Ext.String.format(a.fromText,d.getName(),e?a.startText:a.endText)},{tag:'span',cls:'sch-dd-dependency-to',html:Ext.String.format(a.toText,'','')}]});return {fromId:d.getId()||d.internalId,isStart:e,repairXY:Ext.fly(c).getXY(),ddel:g,sourceNode:Ext.fly(c).up(b.eventSelector)}}return !1},afterRepair:function(){this.el.removeCls('sch-gantt-dep-dd-dragging');this.dragging=!1;a.fireEvent('afterdnd',this)},onMouseUp:function(){this.el.removeCls('sch-gantt-dep-dd-dragging');if(a.lineProxyEl){if(Ext.isIE){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}else {a.lineProxyEl.animate({to:{height:0},duration:500,callback:function(){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}})}}},getRepairXY:function(){return this.dragData.repairXY}})},setupDropZone:function(){var a=this,b=this.ganttView;this.dropZone=Ext.create('Ext.dd.DropZone',this.el,{ddGroup:this.ddGroup,getTargetFromEvent:function(b){if(a.useLineProxy){a.updateLineProxy(b.getXY())}return b.getTarget(a.terminalSelector)},onNodeEnter:function(a,c,e,d){var b=a.className.match('sch-gantt-terminal-start');Ext.fly(a).addCls(b?'sch-gantt-terminal-start-drophover':'sch-gantt-terminal-end-drophover')},onNodeOut:function(a,c,e,d){var b=a.className.match('sch-gantt-terminal-start');Ext.fly(a).removeCls(b?'sch-gantt-terminal-start-drophover':'sch-gantt-terminal-end-drophover')},onNodeOver:function(d,e,j,i){var c=b.resolveTaskRecord(d),f=c.getId()||c.internalId,g=d.className.match('sch-gantt-terminal-start'),h=Ext.String.format(a.toText,c.getName(),g?a.startText:a.endText);e.proxy.el.down('.sch-dd-dependency-to').update(h);if(a.dependencyStore.isValidDependency(i.fromId,f)){return this.dropAllowed}else {return this.dropNotAllowed}},onNodeDrop:function(g,k,j,f){var c,e=!0,d=Gnt.model.Dependency.Type,h=b.resolveTaskRecord(g),i=h.getId()||h.internalId;if(a.lineProxyEl){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}this.el.removeCls('sch-gantt-dep-dd-dragging');if(f.isStart){if(g.className.match('sch-gantt-terminal-start')){c=d.StartToStart}else {c=d.StartToEnd}}else {if(g.className.match('sch-gantt-terminal-start')){c=d.EndToStart}else {c=d.EndToEnd}}e=a.dependencyStore.isValidDependency(f.fromId,i);if(e){a.fireEvent('drop',this,f.fromId,i,c)}a.fireEvent('afterdnd',this);return e}})}});Ext.define('Gnt.feature.DragCreator',{requires:['Ext.Template','Sch.util.DragTracker','Gnt.Tooltip'],constructor:function(a){Ext.apply(this,a||{});this.init()},disabled:!1,showDragTip:!0,dragTolerance:2,setDisabled:function(a){this.disabled=a;if(this.dragTip){this.dragTip.setDisabled(a)}},getProxy:function(){if(!this.proxy){this.proxy=this.template.append(this.ganttView.ownerCt.el,{},!0)}return this.proxy},onBeforeDragStart:function(c){var a=this.ganttView,d=c.getTarget('.'+a.timeCellCls,2);if(d){var b=a.resolveTaskRecord(d);var e=a.getDateFromDomEvent(c);if(!this.disabled&&d&&!b.getStartDate()&&!b.getEndDate()&&a.fireEvent('beforedragcreate',a,b,e,c)!==!1){c.stopEvent();this.taskRecord=b;this.originalStart=e;this.rowRegion=a.getScheduleRegion(this.taskRecord,this.originalStart);this.dateConstraints=a.getDateConstraints(this.resourceRecord,this.originalStart);return !0}}return !1},onDragStart:function(){var a=this,c=a.ganttView,b=a.getProxy();a.start=a.originalStart;a.end=a.start;a.rowBoundaries={top:a.rowRegion.top,bottom:a.rowRegion.bottom};b.setRegion({top:a.rowBoundaries.top,right:a.tracker.startXY[0],bottom:a.rowBoundaries.bottom,left:a.tracker.startXY[0]});b.show();a.ganttView.fireEvent('dragcreatestart',a.ganttView);if(a.showDragTip){a.dragTip.update(a.start,a.end,!0,this.taskRecord);a.dragTip.enable();a.dragTip.show(b)}},onDrag:function(f){var a=this,e=a.ganttView,c=a.tracker.getRegion().constrainTo(a.rowRegion),d=e.getStartEndDatesFromRegion(c,'round');if(!d){return}a.start=d.start||a.start;a.end=d.end||a.end;var b=a.dateConstraints;if(b){a.end=Sch.util.Date.constrain(a.end,b.start,b.end);a.start=Sch.util.Date.constrain(a.start,b.start,b.end)}if(a.showDragTip){a.dragTip.update(a.start,a.end,!0,this.taskRecord)}Ext.apply(c,a.rowBoundaries);this.getProxy().setRegion(c)},onDragEnd:function(c){var a=this.ganttView,b=!0;if(this.showDragTip){this.dragTip.disable()}if(!this.start||!this.end||this.end<this.start){b=!1}if(b){this.taskRecord.setStartEndDate(this.start,this.end);a.fireEvent('dragcreateend',a,this.taskRecord,c)}this.proxy.hide();a.fireEvent('afterdragcreate',a)},init:function(){var b=this.ganttView,c=b.el,a=Ext.Function.bind;this.lastTime=new Date();this.template=this.template||Ext.create('Ext.Template','<div class="sch-gantt-dragcreator-proxy"></div>',{compiled:!0,disableFormats:!0});b.on({destroy:this.onGanttDestroy,scope:this});this.tracker=new Sch.util.DragTracker({el:c,tolerance:this.dragTolerance,onBeforeStart:a(this.onBeforeDragStart,this),onStart:a(this.onDragStart,this),onDrag:a(this.onDrag,this),onEnd:a(this.onDragEnd,this)});if(this.showDragTip){this.dragTip=Ext.create('Gnt.Tooltip',{mode:'duration',cls:'sch-gantt-dragcreate-tip',gantt:b})}},onGanttDestroy:function(){if(this.dragTip){this.dragTip.destroy()}if(this.tracker){this.tracker.destroy()}if(this.proxy){Ext.destroy(this.proxy);this.proxy=null}}});Ext.define('Gnt.feature.LabelEditor',{extend:'Ext.Editor',labelPosition:'',constructor:function(b,a){this.ganttView=b;this.ganttView.on('afterrender',this.onGanttRender,this);this.callParent([a])},edit:function(a){var b=this.ganttView.getElementFromEventRecord(a).up(this.ganttView.eventWrapSelector);this.record=a;this.startEdit(b.down(this.delegate),this.dataIndex?a.get(this.dataIndex):'')},delegate:'',dataIndex:'',shadow:!1,completeOnEnter:!0,cancelOnEsc:!0,ignoreNoChange:!0,onGanttRender:function(a){if(!this.field.width){this.autoSize='width'}this.on({beforestartedit:function(b,d,c){return a.fireEvent('labeledit_beforestartedit',a,this.record,c,b)},beforecomplete:function(c,d,b){return a.fireEvent('labeledit_beforecomplete',a,d,b,this.record,c)},complete:function(d,b,c){this.record.set(this.dataIndex,b);a.fireEvent('labeledit_complete',a,b,c,this.record,d)},scope:this});a.el.on('dblclick',function(c,b){this.edit(a.resolveTaskRecord(b))},this,{delegate:this.delegate})}});Ext.define('Gnt.feature.ProgressBarResize',{requires:['Ext.QuickTip','Ext.resizer.Resizer'],constructor:function(b){Ext.apply(this,b||{});var a=this.gantt;a.on({destroy:this.cleanUp,scope:this});a.mon(a.el,'mousedown',this.onMouseDown,this,{delegate:'.sch-gantt-progressbar-handle'});this.callParent(arguments)},useTooltip:!0,increment:10,onMouseDown:function(d,c){var a=this.gantt,b=a.resolveTaskRecord(c);if(a.fireEvent('beforeprogressbarresize',a,b)!==!1){var e=Ext.fly(c).prev('.sch-gantt-progress-bar');d.stopEvent();this.createResizable(e,b,d);a.fireEvent('progressbarresizestart',a,b)}},createResizable:function(a,b,e){var h=e.getTarget(),f=a.up(this.gantt.eventSelector),d=f.getWidth()-4,g=d*this.increment/100;var c=Ext.create('Ext.resizer.Resizer',{target:a,taskRecord:b,handles:'e',minWidth:0,maxWidth:d,minHeight:1,widthIncrement:g,listeners:{resizedrag:this.partialResize,resize:this.afterResize,scope:this}});c.resizeTracker.onMouseDown(e,c.east.dom);f.select('.x-resizable-handle, .sch-gantt-terminal, .sch-gantt-progressbar-handle').hide();if(this.useTooltip){if(!this.tip){this.tip=Ext.create('Ext.ToolTip',{autoHide:!1,anchor:'b',html:'%'})}this.tip.setTarget(a);this.tip.show();this.tip.body.update(b.getPercentDone()+'%')}},partialResize:function(c,b){var a=Math.round(b*100/(c.maxWidth*this.increment))*this.increment;if(this.tip){this.tip.body.update(a+'%')}},afterResize:function(a,b,e,f){var d=a.taskRecord;if(this.tip){this.tip.hide()}var c=Math.round(b*100/(a.maxWidth*this.increment))*this.increment;a.taskRecord.setPercentDone(c);a.destroy();this.gantt.fireEvent('afterprogressbarresize',this.gantt,d)},cleanUp:function(){if(this.tip){this.tip.destroy()}}});Ext.define('Gnt.feature.TaskResize',{constructor:function(b){Ext.apply(this,b);var a=this.gantt;a.on({destroy:this.cleanUp,scope:this});a.mon(a.el,'mousedown',this.onMouseDown,this,{delegate:'.sch-resizable-handle'});this.callParent(arguments)},showDuration:!0,useTooltip:!0,validatorFn:Ext.emptyFn,validatorFnScope:null,onMouseDown:function(b){var a=this.gantt,d=b.getTarget(a.eventSelector),c=a.resolveTaskRecord(d);if(a.fireEvent('beforetaskresize',a,c,b)===!1){return}b.stopEvent();this.createResizable(Ext.get(d),c,b);a.fireEvent('taskresizestart',a,c)},createResizable:function(a,b,e){var j=e.getTarget(),h=this.gantt,c=!!j.className.match('sch-resizable-handle-west'),d=h.getSnapPixelAmount(),k=a.getWidth(),i=a.up('.x-grid-row').getRegion();this.resizable=Ext.create('Ext.resizer.Resizer',{startLeft:a.getLeft(),startRight:a.getRight(),target:a,taskRecord:b,handles:c?'w':'e',constrainTo:i,minHeight:1,minWidth:d,widthIncrement:d,listeners:{resizedrag:this[c?'partialWestResize':'partialEastResize'],resize:this.afterResize,scope:this}});this.resizable.resizeTracker.onMouseDown(e,this.resizable[c?'west':'east'].dom);if(this.useTooltip){if(!this.tip){this.tip=Ext.create('Gnt.Tooltip',{mode:this.showDuration?'duration':'startend',gantt:this.gantt})}var f=b.getStartDate(),g=b.getEndDate();this.tip.show(a);this.tip.update(f,g,!0,b)}},partialEastResize:function(a,f,h,g){var c=this.gantt,b=c.getDateFromXY([a.startLeft+Math.min(f,this.resizable.maxWidth),0],'round');if(!b||a.end-b===0){return}var d=a.taskRecord.getStartDate(),e=this.validatorFn.call(this.validatorFnScope||this,a.taskRecord,d,b)!==!1;a.end=b;c.fireEvent('partialtaskresize',c,a.taskRecord,d,b,a.el,g);if(this.useTooltip){this.tip.update(d,b,e,a.taskRecord)}},partialWestResize:function(a,f,h,g){var d=this.gantt,b=d.getDateFromXY([a.startRight-Math.min(f,this.resizable.maxWidth),0],'round');if(!b||a.start-b===0){return}var c=a.taskRecord.getEndDate(),e=this.validatorFn.call(this.validatorFnScope||this,a.taskRecord,b,c)!==!1;a.start=b;d.fireEvent('partialtaskresize',d,a.taskRecord,b,c,a.el,g);if(this.useTooltip){this.tip.update(b,c,e,a.taskRecord)}},afterResize:function(d,k,j,i){if(this.useTooltip){this.tip.hide()}var c=d.taskRecord,f=c.getStartDate(),h=c.getEndDate(),a=d.start||f,b=d.end||h,e=this.gantt;d.destroy();if(a&&b&&(a-f||b-h)&&this.validatorFn.call(this.validatorFnScope||this,c,a,b,i)!==!1){var g=this.gantt.taskStore.skipWeekendsDuringDragDrop;if(a-f!==0){c.setStartDate(a<=b?a:b,!1,g)}else {c.setEndDate(a<=b?b:a,!1,g)}}else {e.refreshKeepingScroll()}e.fireEvent('aftertaskresize',e,c)},cleanUp:function(){if(this.tip){this.tip.destroy()}}});Ext.define('Gnt.feature.WorkingTime',{extend:'Sch.plugin.Zones',requires:['Ext.data.Store','Sch.model.Range'],expandToFitView:!0,calendar:null,init:function(a){if(!this.calendar){Ext.Error.raise("Required attribute 'calendar' missed during initialization of 'Gnt.feature.WorkingTime'")}this.bindCalendar(this.calendar);Ext.apply(this,{store:new Ext.data.Store({model:'Sch.model.Range'})});this.callParent(arguments);a.on('viewchange',this.onViewChange,this);this.onViewChange()},bindCalendar:function(b){var a={datachanged:this.refresh,update:this.refresh,scope:this,delay:1};if(this.calendar){this.calendar.un(a)}b.on(a);this.calendar=b},onViewChange:function(){var a=Sch.util.Date;if(a.compareUnits(this.timeAxis.unit,a.WEEK)>0){this.setDisabled(!0)}else {this.setDisabled(!1);this.refresh()}},refresh:function(){var a=this.schedulerView;this.store.removeAll(!0);this.store.add(this.calendar.getHolidaysRanges(a.getStart(),a.getEnd(),!0))}});Ext.define('Gnt.plugin.DependencyEditor',{extend:'Ext.form.FormPanel',mixins:['Ext.AbstractPlugin'],lockableScope:'normal',requires:['Ext.form.DisplayField','Ext.form.ComboBox','Ext.form.NumberField','Gnt.model.Dependency'],hideOnBlur:!0,fromText:'From',toText:'To',typeText:'Type',lagText:'Lag',endToStartText:'Finish-To-Start',startToStartText:'Start-To-Start',endToEndText:'Finish-To-Finish',startToEndText:'Start-To-Finish',showLag:!1,border:!1,height:150,width:260,frame:!0,labelWidth:60,constrain:!1,initComponent:function(){Ext.apply(this,{items:this.buildFields(),defaults:{width:240},floating:!0,hideMode:'offsets'});this.callParent(arguments)},beforeRender:function(){this.addCls('sch-gantt-dependencyeditor');this.callParent(arguments)},init:function(a){a.on('dependencydblclick',this.onDependencyDblClick,this);a.on('render',this.onGanttRender,this,{delay:50});this.gantt=a;this.taskStore=a.getTaskStore()},onGanttRender:function(){this.render(Ext.getBody());this.collapse(Ext.Component.DIRECTION_TOP,!0);this.hide();if(this.hideOnBlur){this.mon(Ext.getBody(),'click',this.onMouseClick,this)}},show:function(a,b){this.dependencyRecord=a;this.getForm().loadRecord(a);this.fromLabel.setValue(this.dependencyRecord.getSourceTask().getName());this.toLabel.setValue(this.dependencyRecord.getTargetTask().getName());this.callParent([]);this.el.setXY(b);this.expand(!this.constrain);if(this.constrain){this.doConstrain(Ext.util.Region.getRegion(Ext.getBody()))}},buildFields:function(){var d=this,b=Gnt.model.Dependency,a=b.Type,c=[this.fromLabel=Ext.create('Ext.form.DisplayField',{fieldLabel:this.fromText}),this.toLabel=Ext.create('Ext.form.DisplayField',{fieldLabel:this.toText}),this.typeField=Ext.create('Ext.form.ComboBox',{name:b.prototype.nameField,fieldLabel:this.typeText,triggerAction:'all',queryMode:'local',valueField:'value',displayField:'text',editable:!1,store:Ext.create('Ext.data.JsonStore',{fields:['text','value'],data:[{text:this.endToStartText,value:a.EndToStart},{text:this.startToStartText,value:a.StartToStart},{text:this.endToEndText,value:a.EndToEnd},{text:this.startToEndText,value:a.StartToEnd}]})})];if(this.showLag){c.push(this.lagField=Ext.create('Ext.form.NumberField',{name:b.prototype.lagField,fieldLabel:this.lagText}))}return c},onDependencyDblClick:function(d,a,b,c){if(this.lagField){this.lagField.name=a.lagField}if(this.typeField){this.typeField.name=a.typeField}if(a!=this.dependencyRecord){this.show(a,b.getXY())}},onMouseClick:function(a){if(this.collapsed||a.within(this.getEl())||a.getTarget('.x-layer')||a.getTarget('.sch-ignore-click')){return}this.collapse()},afterCollapse:function(){delete this.dependencyRecord;this.hide();this.callParent(arguments)}});Ext.define('Gnt.plugin.TaskContextMenu',{extend:'Ext.menu.Menu',mixins:['Ext.AbstractPlugin'],lockableScope:'top',requires:['Gnt.model.Dependency'],plain:!0,triggerEvent:'taskcontextmenu',texts:{newTaskText:'New task',newMilestoneText:'New milestone',deleteTask:'Delete task(s)',editLeftLabel:'Edit left label',editRightLabel:'Edit right label',add:'Add...',deleteDependency:'Delete dependency...',addTaskAbove:'Task above',addTaskBelow:'Task below',addMilestone:'Milestone',addSubtask:'Sub-task',addSuccessor:'Successor',addPredecessor:'Predecessor'},grid:null,rec:null,lastHighlightedItem:null,createMenuItems:function(){var a=this.texts;return [{handler:this.deleteTask,requiresTask:!0,scope:this,text:a.deleteTask},{handler:this.editLeftLabel,requiresTask:!0,scope:this,text:a.editLeftLabel},{handler:this.editRightLabel,requiresTask:!0,scope:this,text:a.editRightLabel},{text:a.add,menu:{plain:!0,items:[{handler:this.addTaskAboveAction,requiresTask:!0,scope:this,text:a.addTaskAbove},{handler:this.addTaskBelowAction,scope:this,text:a.addTaskBelow},{handler:this.addMilestone,requiresTask:!0,scope:this,text:a.addMilestone},{handler:this.addSubtask,requiresTask:!0,scope:this,text:a.addSubtask},{handler:this.addSuccessor,requiresTask:!0,scope:this,text:a.addSuccessor},{handler:this.addPredecessor,requiresTask:!0,scope:this,text:a.addPredecessor}]}},{text:a.deleteDependency,requiresTask:!0,menu:{plain:!0,listeners:{beforeshow:this.populateDependencyMenu,mouseover:this.onDependencyMouseOver,mouseleave:this.onDependencyMouseOut,scope:this}}}]},buildMenuItems:function(){this.items=this.createMenuItems()},initComponent:function(){this.buildMenuItems();this.callParent(arguments)},init:function(a){a.on('destroy',this.cleanUp,this);var b=a.getSchedulingView(),c=a.lockedGrid.getView();if(this.triggerEvent==='itemcontextmenu'){c.on('itemcontextmenu',this.onItemContextMenu,this);b.on('itemcontextmenu',this.onItemContextMenu,this)}b.on('taskcontextmenu',this.onTaskContextMenu,this);b.on('containercontextmenu',this.onContainerContextMenu,this);c.on('containercontextmenu',this.onContainerContextMenu,this);this.grid=a},populateDependencyMenu:function(d){var b=this.grid,e=b.getTaskStore(),c=this.rec.getAllDependencies(),a=b.dependencyStore;d.removeAll();if(c.length===0){return !1}var f=this.rec.getId()||this.rec.internalId;Ext.each(c,function(b){var g=b.getSourceId(),c=e.getById(g==f?b.getTargetId():g);if(c){d.add({depId:b.internalId,text:Ext.util.Format.ellipsis(c.getName(),30),scope:this,handler:function(e){var c;a.each(function(a){if(a.internalId==e.depId){c=a;return !1}});a.remove(c)}})}},this)},onDependencyMouseOver:function(d,a,c){if(a){var b=this.grid.getSchedulingView();if(this.lastHighlightedItem){b.unhighlightDependency(this.lastHighlightedItem.depId)}this.lastHighlightedItem=a;b.highlightDependency(a.depId)}},onDependencyMouseOut:function(b,a){if(this.lastHighlightedItem){this.grid.getSchedulingView().unhighlightDependency(this.lastHighlightedItem.depId)}},cleanUp:function(){this.destroy()},onTaskContextMenu:function(c,a,b){this.activateMenu(a,b)},onItemContextMenu:function(c,a,e,d,b){this.activateMenu(a,b)},onContainerContextMenu:function(b,a){this.activateMenu(null,a)},activateMenu:function(b,a){if(this.grid.isReadOnly()){return}a.stopEvent();this.rec=b;var c=this.query('[requiresTask]');Ext.each(c,function(c){c.setDisabled(!b)});this.showAt(a.getXY())},copyTask:function(b){var c=this.grid.getTaskStore().model;var a=new c({leaf:!0});a.setPercentDone(0);a.setName(this.texts.newTaskText);a.set(a.startDateField,b&&b.getStartDate()||null);a.set(a.endDateField,b&&b.getEndDate()||null);a.set(a.durationField,b&&b.getDuration()||null);a.set(a.durationUnitField,b&&b.getDurationUnit()||'d');return a},addTaskAbove:function(a){var b=this.rec;if(b){b.addTaskAbove(a)}else {this.grid.taskStore.getRootNode().appendChild(a)}},addTaskBelow:function(a){var b=this.rec;if(b){b.addTaskBelow(a)}else {this.grid.taskStore.getRootNode().appendChild(a)}},deleteTask:function(){var a=this.grid.getSelectionModel().selected;this.grid.taskStore.remove(a.items)},editLeftLabel:function(){this.grid.getSchedulingView().editLeftLabel(this.rec)},editRightLabel:function(){this.grid.getSchedulingView().editRightLabel(this.rec)},addTaskAboveAction:function(){this.addTaskAbove(this.copyTask(this.rec))},addTaskBelowAction:function(){this.addTaskBelow(this.copyTask(this.rec))},addSubtask:function(){var a=this.rec;a.addSubtask(this.copyTask(a))},addSuccessor:function(){var a=this.rec;a.addSuccessor(this.copyTask(a))},addPredecessor:function(){var a=this.rec;a.addPredecessor(this.copyTask(a))},addMilestone:function(){var a=this.rec,b=this.copyTask(a);a.addTaskBelow(b);b.setStartEndDate(a.getEndDate(),a.getEndDate())}});Ext.define('Gnt.plugin.PdfExport',{extend:'Sch.plugin.PdfExport',getExportJsonHtml:function(a,g){var b=this.scheduler.getSchedulingView(),c=b.dependencyView,d=c.painter.getDependencyTplData(b.dependencyStore.getRange()),e=c.lineTpl.apply(d),f={dependencies:e,rowsAmount:a.rowsAmount,columnsAmountNormal:a.columnsAmountNormal,columnsAmountLocked:a.columnsAmountLocked,timeColumnWidth:a.timeColumnWidth,lockedGridWidth:a.lockedGridWidth,rowHeight:a.rowHeight};a.panelHTML=f;return this.callParent(arguments)},resizePanelHTML:function(a){var b=this.callParent(arguments),c=b.select('.sch-dependencyview-ct').first(),f=a.k*a.rowsAmount*a.rowHeight,e=a.i*a.timeColumnWidth*(a.i===1?a.columnsAmountLocked:a.columnsAmountNormal);c.dom.innerHTML=a.dependencies;c.applyStyles({top:-f+'px',left:-e+'px'});var d=b.select('.x-splitter').first();d.setHeight('100%');return b}});Ext.define('Gnt.plugin.Printable',{extend:'Sch.plugin.Printable',getGridContent:function(f){var a=this.callParent(arguments),c=f.getSchedulingView(),d=c.dependencyView,e=d.painter.getDependencyTplData(c.dependencyStore.getRange()),b;b=a.normalRows;a.normalRows=d.lineTpl.apply(e)+b;return a}});Ext.define('Gnt.view.DependencyPainter',{extend:'Ext.util.Observable',requires:['Ext.util.Region'],constructor:function(a){a=a||{};Ext.apply(this,a,{xOffset:8,yOffset:7,midRowOffset:6,arrowOffset:8})},getTaskBox:function(d){var h=Sch.util.Date,j=d.getStartDate(),l=d.getEndDate(),o=this.ganttView.getStart(),n=this.ganttView.getEnd(),a=this.ganttView,e=a.getXYFromDate(h.max(j,o))[0],g=a.getXYFromDate(h.min(l,n))[0],q=this.taskStore.buffered,c,b=Ext.get(a.getEventNodeByRecord(d));if(!d.isVisible()||!j||!l||!h.intersectSpans(j,l,o,n)){return null}if(b||q){var m=this.view.getXOffset(d),f,i,r=!0;if(e>m){e-=m}g+=m-1;if(!d.isMilestone()&&Ext.isIE){if((Ext.isIE7||Ext.isIE6)&&!Ext.isIEQuirks){g+=5;e-=2}else {if((Ext.isIE6||Ext.isIE7||Ext.isIE8)&&Ext.isIEQuirks){g+=1;e-=2}}}if(b){c=b.getOffsetsTo(a.el);f=c[1]+a.el.getScroll().top;i=f+b.getHeight()}else {var p=a.store.first();var k=a.getNodes();if(d.isAbove(p)){b=Ext.get(k[0]);c=b.getOffsetsTo(a.el);c[1]-=this.ganttView.rowHeight}else {b=Ext.get(k[k.length-1]);c=b.getOffsetsTo(a.el);c[1]+=this.ganttView.rowHeight}f=c[1]+a.el.getScroll().top;i=f+b.getHeight();r=!1}return {top:f,right:g,bottom:i,left:e,rendered:!1}}},getRenderData:function(f){var b=f.getSourceTask(),a=f.getTargetTask();if(!b||!a){return null}var c=this.getTaskBox(b);var d=this.getTaskBox(a);if(this.taskStore.buffered&&c&&!c.rendered&&d&&!d.rendered){var g=this.ganttView.store.first();var e=this.ganttView.store.last();if(b.isAbove(g)&&a.isAbove(g)||e.isAbove(b)&&e.isAbove(a)){return null}}return {fromBox:c,toBox:d}},getDependencyTplData:function(f){var d=this,l=d.taskStore;if(!Ext.isArray(f)){f=[f]}if(f.length===0||l.getCount()<=0){return}var j=[],g=Gnt.model.Dependency.Type,o=d.ganttView,e,n,m,c,b,a;for(var i=0,k=f.length;i<k;i++){a=f[i];var h=this.getRenderData(a);if(h){c=h.fromBox;b=h.toBox;if(c&&b){switch(a.getType()){case g.StartToEnd:e=d.getStartToEndCoordinates(c,b);break;case g.StartToStart:e=d.getStartToStartCoordinates(c,b);break;case g.EndToStart:e=d.getEndToStartCoordinates(c,b);break;case g.EndToEnd:e=d.getEndToEndCoordinates(c,b);break;default:throw 'Invalid dependency type: '+a.getType();}if(e){j.push({lineCoordinates:e,id:a.internalId,cls:a.getCls()})}}}}return j},getStartToStartCoordinates:function(c,b,h,j){var a=c.left,g=c.top-1+(c.bottom-c.top)/2,f=b.left,d=b.top-1+(b.bottom-b.top)/2,i=c.top<b.top?d-this.yOffset-this.midRowOffset:d+this.yOffset+this.midRowOffset,e=this.xOffset+this.arrowOffset;if(a>f+this.xOffset){e+=a-f}return [{x1:a,y1:g,x2:a-e,y2:g},{x1:a-e,y1:g,x2:a-e,y2:d},{x1:a-e,y1:d,x2:f-this.arrowOffset,y2:d}]},getStartToEndCoordinates:function(g,f){var c=g.left,d=g.top-1+(g.bottom-g.top)/2,e=f.right,b=f.top-1+(f.bottom-f.top)/2,i=g.top<f.top?b-this.yOffset-this.midRowOffset:b+this.yOffset+this.midRowOffset,j,a;if(e>c+this.xOffset-this.arrowOffset||Math.abs(e-c)<2*(this.xOffset+this.arrowOffset)){a=c-this.xOffset-this.arrowOffset;var h=e+this.xOffset+this.arrowOffset;j=[{x1:c,y1:d,x2:a,y2:d},{x1:a,y1:d,x2:a,y2:i},{x1:a,y1:i,x2:h,y2:i},{x1:h,y1:i,x2:h,y2:b},{x1:h,y1:b,x2:e+this.arrowOffset,y2:b}]}else {a=c-this.xOffset-this.arrowOffset;j=[{x1:c,y1:d,x2:a,y2:d},{x1:a,y1:d,x2:a,y2:b},{x1:a,y1:b,x2:e+this.arrowOffset,y2:b}]}return j},getEndToStartCoordinates:function(h,g){var e=h.right,b=h.top-1+(h.bottom-h.top)/2,f=g.left,a=g.top-1+(g.bottom-g.top)/2,j=h.top<g.top?a-this.yOffset-this.midRowOffset:a+this.yOffset+this.midRowOffset,i,c;if(f>=e-6&&a>b){c=Math.max(e-6,f)+this.xOffset;a=g.top;i=[{x1:e,y1:b,x2:c,y2:b},{x1:c,y1:b,x2:c,y2:a-this.arrowOffset}]}else {c=e+this.xOffset+this.arrowOffset;var d=f-this.xOffset-this.arrowOffset;if(a>b||f<e+2*this.arrowOffset){i=[{x1:e,y1:b,x2:c,y2:b},{x1:c,y1:b,x2:c,y2:j},{x1:c,y1:j,x2:d,y2:j},{x1:d,y1:j,x2:d,y2:a},{x1:d,y1:a,x2:f-this.arrowOffset,y2:a}]}else {i=[{x1:e,y1:b,x2:d,y2:b},{x1:d,y1:b,x2:d,y2:a},{x1:d,y1:a,x2:f-this.arrowOffset,y2:a}]}}return i},getEndToEndCoordinates:function(b,d){var e=b.right,g=b.top-1+(b.bottom-b.top)/2,c=d.right+this.arrowOffset,f=d.top-1+(d.bottom-d.top)/2,a=c+this.xOffset+this.arrowOffset;if(e>c+this.xOffset){a+=e-c}return [{x1:e,y1:g,x2:a,y2:g},{x1:a,y1:g,x2:a,y2:f},{x1:a,y1:f,x2:c,y2:f}]}});Ext.define('Gnt.view.Dependency',{extend:'Ext.util.Observable',requires:['Gnt.feature.DependencyDragDrop','Gnt.view.DependencyPainter'],containerEl:null,ganttView:null,painter:null,taskStore:null,store:null,dnd:null,lineTpl:null,enableDependencyDragDrop:!0,renderAllDepsBuffered:!1,dependencyCls:'sch-dependency',selectedCls:'sch-dependency-selected',constructor:function(b){this.callParent(arguments);var a=this.ganttView;a.on({refresh:this.renderAllDependenciesBuffered,scope:this});this.bindTaskStore(a.getTaskStore());this.bindDependencyStore(b.store);if(!this.lineTpl){this.lineTpl=Ext.create('Ext.XTemplate','<tpl for=".">'+Ext.String.format('<tpl for="lineCoordinates"><div class="{0} sch-dep-{parent.id} {0}-line {parent.cls}-line " style="left:{[Math.min(values.x1, values.x2)]}px;top:{[Math.min(values.y1, values.y2)]}px;width:{[Math.abs(values.x1-values.x2)'+(Ext.isBorderBox?'+2':'')+']}px;height:{[Math.abs(values.y1-values.y2)'+(Ext.isBorderBox?'+2':'')+']}px"></div></tpl><div style="left:{[values.lineCoordinates[values.lineCoordinates.length - 1].x2]}px;top:{[values.lineCoordinates[values.lineCoordinates.length - 1].y2]}px" class="{0}-arrow-ct {0} sch-dep-{id} {cls}-arrow-ct"><img src="'+Ext.BLANK_IMAGE_URL+'" class="{0}-arrow {0}-arrow-{[this.getArrowDirection(values.lineCoordinates)]} {cls}-arrow" /></div>',this.dependencyCls)+'</tpl>',{compiled:!0,disableFormats:!0,getArrowDirection:function(c){var a=c[c.length-1];if(a.x1===a.x2){return 'down'}else {if(a.x1>a.x2){return 'left'}else {return 'right'}}}})}this.painter=Ext.create('Gnt.view.DependencyPainter',Ext.apply({rowHeight:a.rowHeight,taskStore:this.taskStore,view:a},b));this.addEvents('beforednd','dndstart','drop','afterdnd','beforecascade','cascade','dependencydblclick');if(this.enableDependencyDragDrop){this.dnd=Ext.create('Gnt.feature.DependencyDragDrop',{ganttView:this.ganttView});this.dnd.on('drop',this.onDependencyDrop,this);this.relayEvents(this.dnd,['beforednd','dndstart','afterdnd','drop'])}this.containerEl=this.containerEl.createChild({cls:'sch-dependencyview-ct'});this.ganttView.mon(this.containerEl,'dblclick',this.onDependencyDblClick,this,{delegate:'.'+this.dependencyCls});if(a.rendered){this.renderAllDependenciesBuffered()}},bindDependencyStore:function(a){a.on({datachanged:this.renderAllDependenciesBuffered,load:this.renderAllDependenciesBuffered,add:this.onDependencyAdd,update:this.onDependencyUpdate,remove:this.onDependencyDelete,scope:this});this.store=a},unBindDependencyStore:function(){this.store.un({datachanged:this.renderAllDependenciesBuffered,load:this.renderAllDependenciesBuffered,add:this.onDependencyAdd,update:this.onDependencyUpdate,remove:this.onDependencyDelete,scope:this})},bindTaskStore:function(a){var b=this.ganttView;if(b.animate){b.on({afterexpand:this.renderAllDependenciesBuffered,aftercollapse:this.renderAllDependenciesBuffered,scope:this})}else {a.on({expand:this.renderAllDependenciesBuffered,collapse:this.renderAllDependenciesBuffered,scope:this})}a.on({cascade:this.onTaskStoreCascade,'root-fill-start':this.onRootFillStart,remove:this.renderAllDependenciesBuffered,insert:this.renderAllDependenciesBuffered,append:this.renderAllDependenciesBuffered,move:this.renderAllDependenciesBuffered,update:this.onTaskUpdated,scope:this});this.taskStore=a},onTaskStoreCascade:function(b,a){if(a&&a.nbrAffected>0){this.renderAllDependenciesBuffered()}},unBindTaskStore:function(a){a=a||this.taskStore;var b=this.ganttView;if(!a){return}if(b.animate){b.un({afterexpand:this.renderAllDependenciesBuffered,aftercollapse:this.renderAllDependenciesBuffered,scope:this})}else {a.un({expand:this.renderAllDependenciesBuffered,collapse:this.renderAllDependenciesBuffered,scope:this})}a.un({cascade:this.onTaskStoreCascade,remove:this.renderAllDependenciesBuffered,insert:this.renderAllDependenciesBuffered,append:this.renderAllDependenciesBuffered,move:this.renderAllDependenciesBuffered,'root-fill-start':this.onRootFillStart,scope:this});a.un({update:this.onTaskUpdated,scope:this})},onRootFillStart:function(){var a=this.taskStore;this.unBindTaskStore(a);this.taskStore.on('root-fill-end',function(){this.bindTaskStore(a)},this,{single:!0})},onDependencyDblClick:function(b,a){var c=this.getRecordForDependencyEl(a);this.fireEvent('dependencydblclick',this,c,b,a)},highlightDependency:function(a){if(!(a instanceof Ext.data.Model)){a=this.getDependencyRecordByInternalId(a)}this.getElementsForDependency(a).addCls(this.selectedCls)},unhighlightDependency:function(a){if(!(a instanceof Ext.data.Model)){a=this.getDependencyRecordByInternalId(a)}this.getElementsForDependency(a).removeCls(this.selectedCls)},getElementsForDependency:function(a){var b=a instanceof Ext.data.Model?a.internalId:a;return this.containerEl.select('.sch-dep-'+b)},depRe:new RegExp('sch-dep-([^\\s]+)'),getDependencyRecordByInternalId:function(d){var b,a,c;for(a=0,c=this.store.getCount();a<c;a++){b=this.store.getAt(a);if(b.internalId==d){return b}}return null},getRecordForDependencyEl:function(d){var a=d.className.match(this.depRe),b=null;if(a&&a[1]){var c=a[1];b=this.getDependencyRecordByInternalId(c)}return b},renderAllDependenciesBuffered:function(){var a=this;this.containerEl.update('');setTimeout(function(){if(!a.ganttView.isDestroyed){a.renderAllDependencies()}},0)},renderAllDependencies:function(){if(!this.containerEl.dom){return}this.getDependencyElements().remove();this.renderDependencies(this.store.data.items)},getDependencyElements:function(){return this.containerEl.select('.'+this.dependencyCls)},renderDependencies:function(a){if(a){var b=this.painter.getDependencyTplData(a);this.lineTpl[Ext.isIE?'insertFirst':'append'](this.containerEl,b)}},renderTaskDependencies:function(a){var c=[];if(!Ext.isArray(a)){a=[a]}for(var b=0,d=a.length;b<d;b++){c=c.concat(a[b].getAllDependencies())}this.renderDependencies(c)},onDependencyUpdate:function(b,a){this.removeDependencyElements(a,!1);this.renderDependencies(a)},onDependencyAdd:function(b,a){this.renderDependencies(a)},removeDependencyElements:function(a,b){if(b!==!1){this.getElementsForDependency(a).fadeOut({remove:!0})}else {this.getElementsForDependency(a).remove()}},onDependencyDelete:function(b,a){this.removeDependencyElements(a)},dimEventDependencies:function(a){this.containerEl.select(this.depRe+a).setOpacity(0.2)},clearSelectedDependencies:function(){this.containerEl.select('.'+this.selectedCls).removeCls(this.selectedCls)},onTaskUpdated:function(c,a,b){if(!this.taskStore.cascading&&b!=Ext.data.Model.COMMIT&&(!a.previous||a.startDateField in a.previous||a.endDateField in a.previous)){this.updateDependencies(a)}},updateDependencies:function(a){if(!Ext.isArray(a)){a=[a]}var b=this;Ext.each(a,function(c){Ext.each(c.getAllDependencies(),function(d){b.removeDependencyElements(d,!1)})});this.renderTaskDependencies(a)},onDependencyDrop:function(e,c,b,d){var a=new this.store.model({fromTask:c,toTask:b,type:d});if(this.store.isValidDependency(a)){this.store.add(a)}},destroy:function(){if(this.dnd){this.dnd.destroy()}this.unBindTaskStore();this.unBindDependencyStore()}});Ext.define('Gnt.view.Gantt',{extend:'Sch.view.TimelineTreeView',alias:['widget.ganttview'],requires:['Gnt.view.Dependency','Gnt.model.Task','Gnt.template.Task','Gnt.template.ParentTask','Gnt.template.Milestone','Gnt.feature.TaskDragDrop','Gnt.feature.ProgressBarResize','Gnt.feature.TaskResize','Sch.view.Horizontal'],uses:['Gnt.feature.LabelEditor','Gnt.feature.DragCreator'],_cmpCls:'sch-ganttview',rowHeight:22,barMargin:4,scheduledEventName:'task',trackOver:!1,toggleOnDblClick:!1,milestoneOffset:8,parentTaskOffset:6,eventSelector:'.sch-gantt-item',eventWrapSelector:'.sch-event-wrap',progressBarResizer:null,taskResizer:null,taskDragDrop:null,dragCreator:null,dependencyView:null,resizeConfig:null,dragDropConfig:null,constructor:function(b){var a=b.panel._top;Ext.apply(this,{taskStore:a.taskStore,dependencyStore:a.dependencyStore,enableDependencyDragDrop:a.enableDependencyDragDrop,enableTaskDragDrop:a.enableTaskDragDrop,enableProgressBarResize:a.enableProgressBarResize,enableDragCreation:a.enableDragCreation,allowParentTaskMove:a.allowParentTaskMove,toggleParentTasksOnClick:a.toggleParentTasksOnClick,resizeHandles:a.resizeHandles,enableBaseline:a.baselineVisible||a.enableBaseline,leftLabelField:a.leftLabelField,rightLabelField:a.rightLabelField,eventTemplate:a.eventTemplate,parentEventTemplate:a.parentEventTemplate,milestoneTemplate:a.milestoneTemplate,resizeConfig:a.resizeConfig,dragDropConfig:a.dragDropConfig});this.addEvents('taskclick','taskdblclick','taskcontextmenu','beforetaskresize','taskresizestart','partialtaskresize','aftertaskresize','beforeprogressbarresize','progressbarresizestart','afterprogressbarresize','beforetaskdrag','taskdragstart','taskdrop','aftertaskdrop','labeledit_beforestartedit','labeledit_beforecomplete','labeledit_complete','beforedependencydrag','dependencydragstart','dependencydrop','afterdependencydragdrop');this.callParent(arguments)},initComponent:function(){this.configureLabels();this.setupGanttEvents();this.callParent(arguments);this.setupTemplates()},getDependencyStore:function(){return this.dependencyStore},configureFeatures:function(){if(this.enableProgressBarResize!==!1){this.progressBarResizer=Ext.create('Gnt.feature.ProgressBarResize',{gantt:this});this.on({beforeprogressbarresize:this.onBeforeTaskProgressBarResize,progressbarresizestart:this.onTaskProgressBarResizeStart,afterprogressbarresize:this.onTaskProgressBarResizeEnd,scope:this})}if(this.resizeHandles!=='none'){this.taskResizer=Ext.create('Gnt.feature.TaskResize',Ext.apply({gantt:this,validatorFn:this.resizeValidatorFn||Ext.emptyFn,validatorFnScope:this.validatorFnScope||this},this.resizeConfig||{}));this.on({beforedragcreate:this.onBeforeDragCreate,beforetaskresize:this.onBeforeTaskResize,taskresizestart:this.onTaskResizeStart,aftertaskresize:this.onTaskResizeEnd,scope:this})}if(this.enableTaskDragDrop){this.taskDragDrop=Ext.create('Gnt.feature.TaskDragDrop',Ext.apply({gantt:this,validatorFn:this.dndValidatorFn||Ext.emptyFn,validatorFnScope:this.validatorFnScope||this},this.dragDropConfig));this.on({beforetaskdrag:this.onBeforeTaskDrag,taskdragstart:this.onDragDropStart,aftertaskdrop:this.onDragDropEnd,scope:this})}if(this.enableDragCreation){this.dragCreator=Ext.create('Gnt.feature.DragCreator',Ext.apply({ganttView:this}))}},prepareData:function(f,e,c){var a=this,b={},d=a.gridDataColumns||a.getGridColumns();b[d[0].id]=this.renderTask(c);return b},renderTask:function(a){var f=a.getStartDate(),x=this.timeAxis,y=Sch.util.Date,b={},m='',e=x.getStart(),c=x.getEnd(),i=a.isMilestone(),z=a.isLeaf(),g,h,d;if(f){var s=a.getEndDate()||Sch.util.Date.add(f,Sch.util.Date.DAY,1),A=Sch.util.Date.intersectSpans(f,s,e,c);if(A){d=s>c;h=y.betweenLesser(f,e,c);var t=Math.floor(this.getXYFromDate(h?f:e)[0]),v=Math.floor(this.getXYFromDate(d?c:s)[0]),j=i?0:v-t;if(!i&&!z){if(d){j+=this.parentTaskOffset}else {j+=2*this.parentTaskOffset}}b={id:a.internalId,leftOffset:i?v||t:t,width:Math.max(1,j),percentDone:Math.min(a.getPercentDone()||0,100)};g=this.eventRenderer.call(this.eventRendererScope||this,a,b,a.store)||{};var l=this.leftLabelField,k=this.rightLabelField,n;if(l){b.leftLabel=l.renderer.call(l.scope||this,a.data[l.dataIndex],a)}if(k){b.rightLabel=k.renderer.call(k.scope||this,a.data[k.dataIndex],a)}Ext.apply(b,g);if(i){n=this.milestoneTemplate}else {b.width=Math.max(1,j);var q='';if(d){q=' sch-event-endsoutside '}if(!h){q=' sch-event-startsoutside '}b.ctcls=(b.ctcls||'')+q;n=this[z?'eventTemplate':'parentEventTemplate']}var p=' sch-event-resizable-'+a.getResizable();if(a.dirty){p+=' sch-dirty '}if(a.isDraggable()===!1){p+=' sch-event-fixed '}b.cls=(b.cls||'')+(a.getCls()||'')+p;m+=n.apply(b)}}if(this.enableBaseline){var r=a.getBaselineStartDate(),o=a.getBaselineEndDate();if(!g){g=this.eventRenderer.call(this,a,b,a.store)||{}}if(r&&o){d=o>c;h=y.betweenLesser(r,e,c);var u=a.isBaselineMilestone(),B=u?this.baselineMilestoneTemplate:a.isLeaf()?this.baselineTaskTemplate:this.baselineParentTaskTemplate,w=Math.floor(this.getXYFromDate(h?r:e)[0]),C=u?0:Math.floor(this.getXYFromDate(d?c:o)[0])-w;m+=B.apply({basecls:g.basecls||'',id:a.internalId+'-base',percentDone:a.getBaselinePercentDone(),leftOffset:w,width:Math.max(1,C)})}}return m},setupTemplates:function(){var a={leftLabel:!!this.leftLabelField,rightLabel:!!this.rightLabelField,prefix:this.eventPrefix,enableDependencyDragDrop:this.enableDependencyDragDrop!==!1,resizeHandles:this.resizeHandles,enableProgressBarResize:this.enableProgressBarResize};if(!this.eventTemplate){a.baseCls='sch-gantt-task {ctcls}';this.eventTemplate=Ext.create('Gnt.template.Task',a)}if(!this.parentEventTemplate){a.baseCls='sch-gantt-parent-task {ctcls}';this.parentEventTemplate=Ext.create('Gnt.template.ParentTask',a)}if(!this.milestoneTemplate){a.baseCls='sch-gantt-milestone {ctcls}';this.milestoneTemplate=Ext.create('Gnt.template.Milestone',a)}if(this.enableBaseline){a={prefix:this.eventPrefix};if(!this.baselineTaskTemplate){a.baseCls='sch-gantt-task-baseline sch-gantt-baseline-item {basecls}';this.baselineTaskTemplate=Ext.create('Gnt.template.Task',a)}if(!this.baselineParentTaskTemplate){a.baseCls='sch-gantt-parenttask-baseline sch-gantt-baseline-item {basecls}';this.baselineParentTaskTemplate=Ext.create('Gnt.template.ParentTask',a)}if(!this.baselineMilestoneTemplate){a.baseCls='sch-gantt-milestone-baseline sch-gantt-baseline-item {basecls}';this.baselineMilestoneTemplate=Ext.create('Gnt.template.Milestone',a)}}},getDependencyView:function(){return this.dependencyView},getTaskStore:function(){return this.taskStore},initDependencies:function(){if(this.dependencyStore){var a=this,b=Ext.create('Gnt.view.Dependency',{containerEl:a.el,ganttView:a,enableDependencyDragDrop:a.enableDependencyDragDrop,store:a.dependencyStore});b.on({beforednd:a.onBeforeDependencyDrag,dndstart:a.onDependencyDragStart,drop:a.onDependencyDrop,afterdnd:a.onAfterDependencyDragDrop,beforecascade:a.onBeforeCascade,cascade:a.onCascade,scope:a});a.dependencyView=b;a.relayEvents(b,['dependencydblclick'])}},setupGanttEvents:function(){var a=this.getSelectionModel();if(this.toggleParentTasksOnClick){this.on({taskclick:function(b,a){if(!a.isLeaf()){this.toggle(a)}},scope:this})}},configureLabels:function(){var c={renderer:function(a){return a},dataIndex:undefined};var b=this.leftLabelField;if(b){if(Ext.isString(b)){b=this.leftLabelField={dataIndex:b}}Ext.applyIf(b,c);if(b.editor){b.editor=Ext.create('Gnt.feature.LabelEditor',this,{alignment:'r-r',delegate:'.sch-gantt-label-left',labelPosition:'left',field:b.editor,dataIndex:b.dataIndex})}}var a=this.rightLabelField;if(a){if(Ext.isString(a)){a=this.rightLabelField={dataIndex:a}}Ext.applyIf(a,c);if(a.editor){a.editor=Ext.create('Gnt.feature.LabelEditor',this,{alignment:'l-l',delegate:'.sch-gantt-label-right',labelPosition:'right',field:a.editor,dataIndex:a.dataIndex})}}this.on('labeledit_beforestartedit',this.onBeforeLabelEdit,this)},onBeforeTaskDrag:function(b,a){return !this.readOnly&&(this.allowParentTaskMove||a.isLeaf())},onDragDropStart:function(){if(this.tip){this.tip.disable()}},onDragDropEnd:function(){if(this.tip){this.tip.enable()}},onTaskProgressBarResizeStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onTaskProgressBarResizeEnd:function(){if(this.tip){this.tip.enable()}},onTaskResizeStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onTaskResizeEnd:function(){if(this.tip){this.tip.enable()}},onBeforeDragCreate:function(){return !this.readOnly},onBeforeTaskResize:function(b,a){return !this.readOnly&&a.getSchedulingMode()!=='EffortDriven'},onBeforeTaskProgressBarResize:function(){return !this.readOnly},onBeforeLabelEdit:function(){return !this.readOnly},onBeforeEdit:function(){return !this.readOnly},beforeRender:function(){this.addCls('sch-ganttview');this.callParent(arguments)},afterRender:function(){this.initDependencies();this.callParent(arguments);this.el.on('mousemove',this.configureFeatures,this,{single:!0})},resolveTaskRecord:function(a){var b=this.findItemByChild(a);if(b){return this.getRecord(this.findItemByChild(a))}return null},resolveEventRecord:function(a){return this.resolveTaskRecord(a)},highlightTask:function(a,b){if(!(a instanceof Ext.data.Model)){a=this.taskStore.getById(a)}if(a){var c=this.getNode(a);if(c){Ext.fly(c).addCls('sch-gantt-task-highlighted')}var d=a.getId()||a.internalId;if(b!==!1){this.dependencyStore.each(function(c){if(c.getSourceId()==d){this.highlightDependency(c.id);this.highlightTask(c.getTargetId(),b)}},this)}}},unhighlightTask:function(a,b){if(!(a instanceof Ext.data.Model)){a=this.taskStore.getById(a)}if(a){Ext.fly(this.getNode(a)).removeCls('sch-gantt-task-highlighted');var c=a.getId()||a.internalId;if(b!==!1){this.dependencyStore.each(function(d){if(d.getSourceId()==c){this.unhighlightDependency(d.id);this.unhighlightTask(d.getTargetId(),b)}},this)}}},clearSelectedTasksAndDependencies:function(){this.getSelectionModel().deselectAll();this.getDependencyView().clearSelectedDependencies();this.el.select('tr.sch-gantt-task-highlighted').removeCls('sch-gantt-task-highlighted')},getCriticalPaths:function(){return this.taskStore.getCriticalPaths()},highlightCriticalPaths:function(){this.clearSelectedTasksAndDependencies();var g=this.getCriticalPaths(),f=this.getDependencyView(),e=this.dependencyStore,b,a,c,d;Ext.each(g,function(g){for(a=0,c=g.length;a<c;a++){b=g[a];this.highlightTask(b,!1);if(a<c-1){d=e.getAt(e.findBy(function(c){return c.getTargetId()===(b.getId()||b.internalId)&&c.getSourceId()===(g[a+1].getId()||g[a+1].internalId)}));f.highlightDependency(d)}}},this);this.addCls('sch-gantt-critical-chain');this.getSelectionModel().setLocked(!0)},unhighlightCriticalPaths:function(){this.el.removeCls('sch-gantt-critical-chain');this.getSelectionModel().setLocked(!1);this.clearSelectedTasksAndDependencies()},getXOffset:function(b){var a=0;if(b.isMilestone()){a=this.milestoneOffset}else {if(!b.isLeaf()){a=this.parentTaskOffset}}return a},onDestroy:function(){if(this.dependencyView){this.dependencyView.destroy()}this.callParent(arguments)},highlightDependency:function(a){this.dependencyView.highlightDependency(a)},unhighlightDependency:function(a){this.dependencyView.unhighlightDependency(a)},onBeforeDependencyDrag:function(b,a){return this.fireEvent('beforedependencydrag',this,a)},onDependencyDragStart:function(a){this.fireEvent('dependencydragstart',this);if(this.tip){this.tip.disable()}},onDependencyDrop:function(d,b,a,c){this.fireEvent('dependencydrop',this,this.taskStore.getNodeById(b),this.taskStore.getById(a),c)},onAfterDependencyDragDrop:function(){this.fireEvent('afterdependencydragdrop',this);if(this.tip){this.tip.enable()}},onBeforeCascade:function(a,b){this.taskStore.un('update',this.onUpdate,this)},onCascade:function(a,b){this.taskStore.on('update',this.onUpdate,this)},onUpdate:function(d,b,c,a){if(a&&a.length===1&&a[0]==='expanded'){return}this.callParent(arguments)},getLeftEditor:function(){return this.leftLabelField.editor},getRightEditor:function(){return this.rightLabelField.editor},editLeftLabel:function(b){var a=this.leftLabelField&&this.getLeftEditor();if(a){a.edit(b)}},editRightLabel:function(b){var a=this.rightLabelField&&this.getRightEditor();if(a){a.edit(b)}},getOuterElementFromEventRecord:function(b){var a=this.callParent([b]);return a&&a.up(this.eventWrapSelector)||null},getDependenciesForTask:function(a){console.warn('`ganttPanel.getDependenciesForTask()` is deprecated, use `task.getAllDependencies()` instead');return a.getAllDependencies()},setNewTemplate:function(){var a=this,b=a.headerCt.getColumnsForTpl(!0);a.tpl=a.getTableChunker().getTableTpl({columns:[b[0]],features:a.features})}});Ext.define('Gnt.panel.Gantt',{extend:'Sch.panel.TimelineTreePanel',alias:['widget.ganttpanel'],alternateClassName:['Sch.gantt.GanttPanel'],requires:['Gnt.view.Gantt','Gnt.model.Dependency','Gnt.data.ResourceStore','Gnt.data.AssignmentStore','Gnt.feature.WorkingTime','Gnt.data.Calendar','Gnt.data.TaskStore','Gnt.data.DependencyStore'],uses:['Sch.plugin.CurrentTimeLine'],lockedXType:'treepanel',normalXType:'ganttpanel',viewType:'ganttview',syncRowHeight:!1,layout:'border',lightWeight:!0,leftLabelField:null,rightLabelField:null,highlightWeekends:!0,weekendsAreWorkdays:!1,skipWeekendsDuringDragDrop:!0,enableTaskDragDrop:!0,enableDependencyDragDrop:!0,enableProgressBarResize:!1,toggleParentTasksOnClick:!0,addRowOnTab:!0,recalculateParents:!0,cascadeChanges:!1,showTodayLine:!1,enableBaseline:!1,baselineVisible:!1,enableAnimations:!1,workingTimePlugin:null,todayLinePlugin:null,allowParentTaskMove:!1,enableDragCreation:!0,eventRenderer:Ext.emptyFn,eventRendererScope:null,eventTemplate:null,parentEventTemplate:null,milestoneTemplate:null,autoHeight:null,calendar:null,taskStore:null,dependencyStore:null,resourceStore:null,assignmentStore:null,columnLines:!1,dndValidatorFn:Ext.emptyFn,resizeHandles:'both',resizeValidatorFn:Ext.emptyFn,resizeConfig:null,dragDropConfig:null,initStores:function(){var a=Ext.StoreMgr.lookup(this.taskStore||this.store);if(!a){Ext.Error.raise('You must specify a taskStore config')}if(!(a instanceof Gnt.data.TaskStore)){Ext.Error.raise('A `taskStore` should be an instance of `Gnt.data.TaskStore` (or of a subclass)')}Ext.apply(this,{store:a,taskStore:a});var d=this.calendar=a.calendar;if(this.needToTranslateOption('weekendsAreWorkdays')){d.setWeekendsAreWorkDays(this.weekendsAreWorkdays)}if(a.dependencyStore){this.dependencyStore=a.dependencyStore}else {if(this.dependencyStore){this.dependencyStore=Ext.StoreMgr.lookup(this.dependencyStore);a.setDependencyStore(this.dependencyStore)}else {this.dependencyStore=Ext.create('Gnt.data.DependencyStore');a.setDependencyStore(this.dependencyStore)}}if(!(this.dependencyStore instanceof Gnt.data.DependencyStore)){Ext.Error.raise('The Gantt dependency store should be a Gnt.data.DependencyStore, or a subclass thereof.')}var b;if(a.getResourceStore()){b=a.getResourceStore()}else {if(this.resourceStore){b=Ext.StoreMgr.lookup(this.resourceStore)}else {b=Ext.create('Gnt.data.ResourceStore')}}if(!(b instanceof Gnt.data.ResourceStore)){Ext.Error.raise('A `ResourceStore` should be an instance of `Gnt.data.ResourceStore` (or of a subclass)')}var c;if(a.getAssignmentStore()){c=a.getAssignmentStore()}else {if(this.assignmentStore){c=Ext.StoreMgr.lookup(this.assignmentStore)}else {c=Ext.create('Gnt.data.AssignmentStore')}}if(!(c instanceof Gnt.data.AssignmentStore)){Ext.Error.raise('An `assignmentStore` should be an instance of `Gnt.data.AssignmentStore` (or of a subclass)')}if(this.lockable){this.bindAssignmentStore(c,!0);this.bindResourceStore(b,!0)}},initComponent:function(){if(Ext.isBoolean(this.showBaseline)){this.enableBaseline=this.baselineVisible=this.showBaseline;this.showBaseline=Gnt.panel.Gantt.prototype.showBaseline}this.autoHeight=!1;this.initStores();if(this.needToTranslateOption('cascadeChanges')){this.setCascadeChanges(this.cascadeChanges)}if(this.needToTranslateOption('recalculateParents')){this.setRecalculateParents(this.recalculateParents)}if(this.needToTranslateOption('skipWeekendsDuringDragDrop')){this.setSkipWeekendsDuringDragDrop(this.skipWeekendsDuringDragDrop)}if(this.lockable){this.lockedGridConfig=this.lockedGridConfig||{};Ext.apply(this.lockedGridConfig,{columnLines:!0,rowLines:!0});this.configureFunctionality()}this.callParent(arguments);var b=this.getSchedulingView();this.relayEvents(b,['taskclick','taskdblclick','taskcontextmenu','beforetaskresize','taskresizestart','partialtaskresize','aftertaskresize','beforeprogressbarresize','progressbarresizestart','afterprogressbarresize','beforetaskdrag','taskdragstart','taskdrop','aftertaskdrop','labeledit_beforestartedit','labeledit_beforecomplete','labeledit_complete','beforedependencydrag','dependencydragstart','dependencydrop','afterdependencydragdrop','dependencydblclick']);if(this.lockable){this.bodyCls=(this.bodyCls||'')+' sch-ganttpanel-container-body';b.store.calendar=this.calendar;this.fixSelectionModel();if(this.addRowOnTab){var a=this.lockedGrid,c=this.getSelectionModel();c.onEditorTab=Ext.Function.createInterceptor(c.onEditorTab,function(d,g){var e=a.view,c=d.getActiveRecord(),f=d.getActiveColumn(),b=e.getPosition(c,f);if(b.column===a.headerCt.getColumnCount()-1&&b.row===a.view.store.getCount()-1){c.addTaskBelow({leaf:!0})}})}}},needToTranslateOption:function(a){return this.hasOwnProperty(a)||this.self.prototype.hasOwnProperty(a)&&this.self!=Gnt.panel.Gantt},fixSelectionModel:function(){var b=this.getSelectionModel();var a=this.lockedGrid.getView();var c=this.normalGrid.getView();a.__lockedType='locked';c.__lockedType='normal';var f=a.onAdd;a.onAdd=function(){b.__preventUpdateOf='normal';f.apply(this,arguments);delete b.__preventUpdateOf};var e=c.onAdd;c.onAdd=function(){b.__preventUpdateOf='locked';e.apply(this,arguments);delete b.__preventUpdateOf};var d=a.store;a.bindStore(null);c.bindStore(null);a.bindStore(d);c.bindStore(d);Ext.apply(b,{onSelectChange:function(f,g,d,i){var a=this,e=a.views,j=e.length,k=a.store,c=k.indexOf(f),h=g?'select':'deselect',b=0;if((d||a.fireEvent('before'+h,a,f,c))!==!1&&i()!==!1){for(;b<j;b++){if(!this.__preventUpdateOf||e[b].__lockedType!=this.__preventUpdateOf){if(g){e[b].onRowSelect(c,d)}else {e[b].onRowDeselect(c,d)}}}if(!d){a.fireEvent(h,a,f,c)}}}})},getDependencyView:function(){return this.getSchedulingView().getDependencyView()},disableWeekendHighlighting:function(a){this.workingTimePlugin.setDisabled(a)},resolveTaskRecord:function(a){return this.getSchedulingView().resolveTaskRecord(a)},fitTimeColumns:function(){this.getSchedulingView().fitColumns()},getResourceStore:function(){return this.getTaskStore().getResourceStore()},getAssignmentStore:function(){return this.getTaskStore().getAssignmentStore()},getTaskStore:function(){return this.taskStore},getDependencyStore:function(){return this.dependencyStore},onDragDropStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onDragDropEnd:function(){if(this.tip){this.tip.enable()}},configureFunctionality:function(){var a=this.plugins=[].concat(this.plugins||[]);if(this.highlightWeekends){this.workingTimePlugin=Ext.create('Gnt.feature.WorkingTime',{calendar:this.calendar});a.push(this.workingTimePlugin)}if(this.showTodayLine){this.todayLinePlugin=new Sch.plugin.CurrentTimeLine();a.push(this.todayLinePlugin)}},beforeRender:function(){if(this.lockable){var a=' sch-ganttpanel sch-horizontal ';if(this.highlightWeekends){a+=' sch-ganttpanel-highlightweekends '}this.addCls(a);if(this.baselineVisible){this.showBaseline()}}this.callParent(arguments)},afterRender:function(){this.callParent(arguments);if(this.lockable){this.applyPatches()}},showBaseline:function(){this.addCls('sch-ganttpanel-showbaseline')},hideBaseline:function(){this.removeCls('sch-ganttpanel-showbaseline')},toggleBaseline:function(){this.toggleCls('sch-ganttpanel-showbaseline')},zoomToFit:function(){var a=this.taskStore.getTotalTimeSpan();if(a.start&&a.end&&a.start<a.end){this.setTimeSpan(a.start,a.end);this.fitTimeColumns()}},getCascadeChanges:function(){return this.taskStore.cascadeChanges},setCascadeChanges:function(a){this.taskStore.cascadeChanges=a},getRecalculateParents:function(){return this.taskStore.recalculateParents},setRecalculateParents:function(a){this.taskStore.recalculateParents=a},setSkipWeekendsDuringDragDrop:function(a){this.taskStore.skipWeekendsDuringDragDrop=this.skipWeekendsDuringDragDrop=a},getSkipWeekendsDuringDragDrop:function(){return this.taskStore.skipWeekendsDuringDragDrop},applyPatches:function(){if(Ext.tree.plugin&&Ext.tree.plugin.TreeViewDragDrop){var a;Ext.each(this.lockedGrid.getView().plugins,function(b){if(b instanceof Ext.tree.plugin.TreeViewDragDrop){a=b;return !1}});if(!a||!a.dropZone){return}a.dropZone.handleNodeDrop=function(d,a,k){var g=this,m=g.view,f=a.parentNode,p=m.getStore(),n=[],i,b,h,e,c,l,j,o;if(d.copy){i=d.records;d.records=[];for(b=0,h=i.length;b<h;b++){d.records.push(Ext.apply({},i[b].data))}}g.cancelExpand();if(k=='before'){e=f.insertBefore;c=[null,a];a=f}else {if(k=='after'){if(a.nextSibling){e=f.insertBefore;c=[null,a.nextSibling]}else {e=f.appendChild;c=[null]}a=f}else {if(!a.isExpanded()){l=!0}e=a.appendChild;c=[null]}}j=function(){var f;for(b=0,h=d.records.length;b<h;b++){c[0]=d.records[b];c[0].isMove=!0;f=e.apply(a,c);delete c[0].isMove;if(Ext.enableFx&&g.dropHighlight){n.push(m.getNode(f))}}if(Ext.enableFx&&g.dropHighlight){Ext.Array.forEach(n,function(b){if(b){Ext.fly(b.firstChild?b.firstChild:b).highlight(g.dropHighlightColor)}})}};if(l){a.expand(!1,j)}else {j()}}}},bindResourceStore:function(b,c){var a=this;if(!c&&a.resourceStore){if(b!==a.resourceStore&&a.resourceStore.autoDestroy){a.resourceStore.destroy()}else {a.mun(a.resourceStore,{scope:a,datachanged:a.onResourceStoreDataChanged})}if(!b){a.resourceStore=null}}if(b){b=Ext.data.StoreManager.lookup(b);a.mon(b,{scope:a,datachanged:a.onResourceStoreDataChanged});this.taskStore.setResourceStore(b)}a.resourceStore=b;if(b&&!c){a.getView().refreshKeepingScroll()}},bindAssignmentStore:function(b,c){var a=this;if(!c&&a.assignmentStore){if(b!==a.assignmentStore&&a.assignmentStore.autoDestroy){a.assignmentStore.destroy()}else {a.mun(a.assignmentStore,{scope:a,datachanged:a.onAssignmentStoreDataChanged})}if(!b){a.assignmentStore=null}}if(b){b=Ext.data.StoreManager.lookup(b);a.mon(b,{scope:a,datachanged:a.onAssignmentStoreDataChanged});this.taskStore.setAssignmentStore(b)}a.assignmentStore=b;if(b&&!c){a.getView().refreshKeepingScroll()}},onResourceStoreDataChanged:function(){this.getView().refreshKeepingScroll()},onAssignmentStoreDataChanged:function(){this.getView().refreshKeepingScroll()}});Ext.define('Gnt.column.EndDate',{extend:'Ext.grid.column.Date',alias:'widget.enddatecolumn',requires:['Ext.grid.CellEditor'],text:'Finish',width:100,align:'left',task:null,editorFormat:null,constructor:function(a){a=a||{};var b=a.field||a.editor;delete a.field;delete a.editor;this.field=Ext.create('Ext.grid.CellEditor',{ignoreNoChange:!0,field:b||{xtype:'datefield',format:a.editorFormat||a.format||this.format||Ext.Date.defaultFormat},listeners:{beforecomplete:this.onBeforeEditComplete,scope:this}});this.callParent([a]);this.scope=this;this.renderer=a.renderer||this.rendererFunc;this.editorFormat=this.editorFormat||this.format},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.endDateField}this.callParent(arguments)},rendererFunc:function(a,c,b){if(!a){return}if(!b.isEditable(this.dataIndex)){c.tdCls=(c.tdCls||'')+' sch-column-readonly'}if(b.getEndDate()>b.getStartDate()&&a-Ext.Date.clearTime(a,!0)===0&&!Ext.Date.formatContainsHourInfo(this.format)){a=Sch.util.Date.add(a,Sch.util.Date.MILLI,-1)}return Ext.util.Format.date(a,this.format)},afterRender:function(){this.callParent(arguments);var a=this.ownerCt.up('treepanel');a.on({edit:this.onTreeEdit,beforeedit:this.onBeforeTreeEdit,scope:this})},onBeforeTreeEdit:function(a){if(a.column==this){a.doNotUpdateRecord=!0;var c=this.task=a.record;if(!c.isEditable(this.dataIndex)){return !1}if(c.getEndDate()>c.getStartDate()){var b=a.value;if(b-Ext.Date.clearTime(b,!0)===0&&!Ext.Date.formatContainsHourInfo(this.editorFormat)){b=Sch.util.Date.add(b,Sch.util.Date.MILLI,-1)}a.value=Ext.Date.parse(Ext.Date.format(b,this.editorFormat),this.editorFormat)}}},onBeforeEditComplete:function(c,a,b){if(this.task&&a<this.task.getStartDate()){return !1}},onTreeEdit:function(d,a){if(a.column===this&&a.value){var c=a.record;var b=a.value;if(!Ext.Date.formatContainsHourInfo(this.editorFormat)){b=c.getCalendar().getCalendarDay(b).getAvailabilityEndFor(b)||b}a.record.setEndDate(b,!1)}}});Ext.define('Gnt.column.PercentDone',{extend:'Ext.grid.column.Number',alias:'widget.percentdonecolumn',text:'% Done',width:50,format:'0',align:'center',field:{xtype:'numberfield',minValue:0,maxValue:100},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.percentDoneField}this.callParent(arguments)}});Ext.define('Gnt.column.StartDate',{extend:'Ext.grid.column.Date',alias:'widget.startdatecolumn',text:'Start',width:100,align:'left',editorFormat:null,constructor:function(a){a=a||{};var b=a.field||a.editor;delete a.field;delete a.editor;this.field=Ext.create('Ext.grid.CellEditor',{ignoreNoChange:!0,field:b||{xtype:'datefield',format:a.editorFormat||a.format||this.format||Ext.Date.defaultFormat}});this.callParent([a]);this.editorFormat=this.editorFormat||this.format},beforeRender:function(){var a=this.up('treepanel');if(!this.dataIndex){this.dataIndex=a.store.model.prototype.startDateField}this.callParent(arguments);a.on({edit:this.onTreeEdit,beforeedit:this.onBeforeTreeEdit,scope:this})},onBeforeTreeEdit:function(a){if(a.column==this){a.doNotUpdateRecord=!0;var c=a.record;if(!c.isEditable(this.dataIndex)){return !1}var b=a.value;if(b){a.value=Ext.Date.parse(Ext.Date.format(b,this.editorFormat),this.editorFormat)}}},onTreeEdit:function(d,a){var c=a.record;var b=a.value;if(a.column==this&&b&&b-a.originalValue!==0){c.setStartDate(b,!0,c.getTaskStore().skipWeekendsDuringDragDrop)}}});Ext.define('Gnt.column.WBS',{extend:'Ext.grid.column.Column',alias:'widget.wbscolumn',text:'#',width:40,align:'left',dataIndex:'index',renderer:function(f,g,a,h,e,d){var c=d.getRootNode(),b=[];while(a!==c){b.push(a.data.index+1);a=a.parentNode}return b.reverse().join('.')}});Ext.define('Gnt.column.SchedulingMode',{extend:'Ext.grid.column.Column',alias:'widget.schedulingmodecolumn',text:'Mode',width:100,align:'left',data:[['FixedDuration','Fixed duration'],['EffortDriven','Effort driven'],['DynamicAssignment','Dynamic assignment'],['Manual','Manual'],['Normal','Normal']],modeNames:null,pickerAlign:'tl-bl?',matchFieldWidth:!0,constructor:function(a){a=a||{};var c=a.field||a.editor;a.field=c||{xtype:'combo',editable:!1,store:this.data,pickerAlign:this.pickerAlign,matchFieldWidth:this.matchFieldWidth};var b=this.modeNames={};Ext.Array.each(this.data,function(c){b[c[0]]=c[1]});this.scope=this;this.callParent([a])},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.schedulingModeField}this.callParent(arguments)},renderer:function(a){return this.modeNames[a]},afterRender:function(){this.callParent(arguments);this.tree=this.ownerCt.up('treepanel');this.tree.on('edit',this.onTreeEdit,this)},onTreeEdit:function(b,a){if(a.column==this){a.record.setSchedulingMode(a.value)}}});Ext.define('Gnt.column.ResourceAssignment',{extend:'Ext.grid.column.Column',alias:'widget.resourceassignmentcolumn',text:'Assigned Resources',tdCls:'sch-assignment-cell',showUnits:!0,assignmentStore:null,initComponent:function(){this.formatString='{0}'+(this.showUnits?' [{1}%]':'');this.callParent(arguments)},afterRender:function(){this.scope=this;this.callParent(arguments);this.assignmentStore=this.getOwnerHeaderCt().up('ganttpanel').assignmentStore},renderer:function(j,m,e,h,l,k,i){var d=[],c=this.assignmentStore,a,g=e.getInternalId();if(c.resourceStore.getCount()>0){for(var b=0,f=c.getCount();b<f;b++){a=c.getAt(b);if(a.getTaskId()===g){d.push(Ext.String.format(this.formatString,a.getResourceName(),a.getUnits()))}}return d.join(', ')}}});Ext.define('Gnt.column.ResourceName',{extend:'Ext.grid.column.Column',alias:'widget.resourcenamecolumn',text:'Resource Name',dataIndex:'ResourceName',flex:1,align:'left'});Ext.define('Gnt.column.AssignmentUnits',{extend:'Ext.grid.column.Number',alias:'widget.assignmentunitscolumn',text:'Units',dataIndex:'Units',format:'0 %',align:'left'});Ext.define('Gnt.widget.AssignmentGrid',{requires:['Gnt.model.Resource','Gnt.model.Assignment','Gnt.column.ResourceName','Gnt.column.AssignmentUnits','Ext.grid.plugin.CellEditing'],extend:'Ext.grid.Panel',alias:'widget.assignmentgrid',readOnly:!1,cls:'gnt-assignmentgrid',defaultAssignedUnits:100,sorter:{sorterFn:function(c,b){var a=c.getUnits(),d=b.getUnits();if(!a&&!d||a&&d){return c.get('ResourceName')<b.get('ResourceName')?-1:1}return a?-1:1}},constructor:function(a){this.store=Ext.create('Ext.data.JsonStore',{model:Ext.define('Gnt.model.AssignmentEditing',{extend:'Gnt.model.Assignment',fields:['ResourceName']})});this.columns=this.buildColumns();if(!this.readOnly){this.plugins=this.buildPlugins()}Ext.apply(this,{selModel:{selType:'checkboxmodel',mode:'MULTI',checkOnly:!0,selectByPosition:function(b){var c=this.store.getAt(b.row);this.select(c,!0)}}});this.callParent(arguments)},initComponent:function(){this.loadResources();this.resourceStore.on({datachanged:this.loadResources,scope:this});this.getSelectionModel().on('select',this.onSelect,this,{delay:50});this.callParent(arguments)},onSelect:function(b,a){if((!this.cellEditing||!this.cellEditing.getActiveEditor())&&!a.getUnits()){a.setUnits(this.defaultAssignedUnits)}},loadResources:function(){var d=[],a=this.resourceStore,c;for(var b=0,e=a.getCount();b<e;b++){c=a.getAt(b).getId();d.push({ResourceId:c,ResourceName:a.getById(c).getName()})}this.store.loadData(d)},buildPlugins:function(){var a=this.cellEditing=Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1});a.on('edit',this.onEditingDone,this);return [a]},onEditingDone:function(b,a){if(a.value){this.getSelectionModel().select(a.record,!0)}else {this.getSelectionModel().deselect(a.record);a.record.reject()}},buildColumns:function(){return [{xtype:'resourcenamecolumn',resourceStore:this.resourceStore},{xtype:'assignmentunitscolumn',assignmentStore:this.assignmentStore,editor:{xtype:'numberfield',minValue:0,step:10}}]},loadTaskAssignments:function(e){var a=this.store,c=this.getSelectionModel();c.deselectAll(!0);for(var b=0,d=a.getCount();b<d;b++){a.getAt(b).data.Units='';a.getAt(b).data.Id=null}a.suspendEvents();var f=this.assignmentStore.queryBy(function(a){return a.getTaskId()===e});f.each(function(d){var b=a.findRecord('ResourceId',d.getResourceId(),0,!1,!0,!0);if(b){b.setUnits(d.getUnits());b.set(b.idProperty,d.getId());c.select(b,!0,!0)}});a.resumeEvents();a.sort(this.sorter);this.getView().refresh()}});Ext.define('Gnt.widget.AssignmentField',{extend:'Ext.form.field.Picker',alias:'widget.assignmenteditor',requires:['Gnt.widget.AssignmentGrid'],matchFieldWidth:!1,editable:!1,cancelText:'Cancel',closeText:'Save and Close',assignmentStore:null,resourceStore:null,gridConfig:null,createPicker:function(){var a=new Gnt.widget.AssignmentGrid(Ext.apply({ownerCt:this.ownerCt,renderTo:document.body,frame:!0,floating:!0,hidden:!0,height:200,width:300,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,fbar:this.buildButtons()},this.gridConfig||{}));return a},buildButtons:function(){return ['->',{text:this.closeText,handler:function(){Ext.Function.defer(this.onGridClose,Ext.isIE&&!Ext.isIE9?60:30,this)},scope:this},{text:this.cancelText,handler:this.collapse,scope:this}]},onExpand:function(){var b=this.resourceStore,a=this.picker;a.loadTaskAssignments(this.taskId)},onGridClose:function(){var b=this.picker.getSelectionModel(),a=b.selected;this.fireEvent('select',this,a);this.collapse()},collapseIf:function(a){var b=this;if(this.picker&&!a.getTarget('.x-editor')&&!a.getTarget('.x-menu-item')){b.callParent(arguments)}}});Ext.define('Gnt.widget.AssignmentCellEditor',{extend:'Ext.grid.CellEditor',requires:['Gnt.model.Assignment','Gnt.widget.AssignmentField'],assignmentStore:null,resourceStore:null,taskId:null,fieldConfig:null,allowBlur:!1,constructor:function(a){a=a||{};var b=a.fieldConfig||{};this.field=Ext.create('Gnt.widget.AssignmentField',Ext.apply(b,{assignmentStore:a.assignmentStore,resourceStore:a.resourceStore}));this.field.on({select:this.onSelect,collapse:this.cancelEdit,scope:this});this.callParent(arguments)},startEdit:function(b,d,c){this.parentEl=null;var a=b.child('div').dom.innerHTML;this.taskId=this.field.taskId=c.record.getInternalId();this.callParent([b,a==='&nbsp;'?'':a]);this.field.expand()},onSelect:function(g,f){var a=this.assignmentStore,e=this.taskId;var b={};var d=[];f.each(function(i){var h=i.getUnits();if(h>0){var j=i.getId();if(j){b[j]=!0;a.getById(j).setUnits(h)}else {var c=Ext.create(a.model);c.setTaskId(e);c.setResourceId(i.getResourceId());c.setUnits(h);b[c.internalId]=!0;d.push(c)}}});var c=[];a.each(function(a){if(a.getTaskId()===e&&!b[a.getId()||a.internalId]){c.push(a)}});a.remove(c);a.add(d);this.completeEdit()}});Ext.define('Gnt.widget.DurationField',{extend:'Ext.form.field.Number',alias:'widget.durationfield',alternateClassName:'Gnt.column.duration.Field',disableKeyFilter:!0,minValue:0,durationRegex:/(-?\d+(?:[.,]\d+)?)\s*(\w+)?/i,unitsRegex:{MILLI:/^ms$|^mil/i,SECOND:/^s$|^sec/i,MINUTE:/^m$|^min/i,HOUR:/^h$|^hr$|^hour/i,DAY:/^d$|^day/i,WEEK:/^w$|^wk|^week/i,MONTH:/^mo|^mnt/i,QUARTER:/^q$|^quar|^qrt/i,YEAR:/^y$|^yr|^year/i},durationUnit:'h',useAbbreviation:!1,rawToValue:function(b){var a=this.parseDuration(b);if(!a){return null}this.durationUnit=a.unit;return a.value!=null?a.value:null},valueToRaw:function(a){if(Ext.isNumber(a)){return parseFloat(Ext.Number.toFixed(a,this.decimalPrecision))+' '+Sch.util.Date[this.useAbbreviation?'getShortNameOfUnit':'getReadableNameOfUnit'](this.durationUnit,a>1)}return ''},parseDuration:function(a){if(a==null||!this.durationRegex.test(a)){return null}var b=this.durationRegex.exec(a);var e=this.parseValue(b[1]);var c=b[2];var d;if(c){Ext.iterate(this.unitsRegex,function(b,e){if(e.test(c)){d=Sch.util.Date.getUnitByName(b);return !1}})}return {value:e,unit:d||this.durationUnit}},getDurationValue:function(){return this.parseDuration(this.getRawValue())},getErrors:function(b){var a=this.parseDuration(b);if(!a){return ['Invalid number format']}return this.callParent([a.value])}});Ext.define('Gnt.widget.DurationEditor',{extend:'Ext.grid.CellEditor',alias:['widget.durationeditor','widget.durationcolumneditor'],alternateClassName:'Gnt.column.duration.Editor',context:null,decimalPrecision:2,getDurationUnitMethod:'getDurationUnit',setDurationMethod:'setDuration',useAbbreviation:!1,constructor:function(a){a=a||{};Ext.apply(this,a);a.field=a.field||Ext.create('Gnt.widget.DurationField',{useAbbreviation:this.useAbbreviation,decimalPrecision:this.decimalPrecision});this.callParent([a])},startEdit:function(c,b,a){this.context=a;this.field.durationUnit=a.record[this.getDurationUnitMethod]();return this.callParent(arguments)},completeEdit:function(c){var a=this,d=a.field,b;if(!a.editing){return}if(d.assertValue){d.assertValue()}b=a.getValue();if(!d.isValid()){if(a.revertInvalid!==!1){a.cancelEdit(c)}return}if(String(b)===String(a.startValue)&&a.ignoreNoChange){a.hideEdit(c);return}if(a.fireEvent('beforecomplete',a,b,a.startValue)!==!1){b=a.getValue();if(a.updateEl&&a.boundEl){a.boundEl.update(b)}a.hideEdit(c);var g=this.context;var f=g.record;var e=this.field.getDurationValue();f[this.setDurationMethod](e.value,e.unit);a.fireEvent('complete',a,b,a.startValue)}}});Ext.define('Gnt.column.Duration',{extend:'Ext.grid.column.Column',alias:'widget.durationcolumn',requires:['Gnt.widget.DurationField','Gnt.widget.DurationEditor'],text:'Duration',width:80,align:'left',decimalPrecision:2,getDurationUnitMethod:'getDurationUnit',setDurationMethod:'setDuration',useAbbreviation:!1,constructor:function(a){a=a||{};Ext.apply(this,a);a.editor=a.editor||Ext.create('Gnt.widget.DurationEditor',{useAbbreviation:this.useAbbreviation,decimalPrecision:this.decimalPrecision,getDurationUnitMethod:this.getDurationUnitMethod,setDurationMethod:this.setDurationMethod});if(!a.editor.isFormField){a.editor=Ext.ComponentManager.create(a.editor,'durationcolumneditor')}this.scope=this;this.callParent([a]);this.mon(this.editor,'beforestartedit',this.onBeforeStartEdit,this)},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.durationField}this.callParent(arguments)},onBeforeStartEdit:function(b){var a=b.context.record;return a.isEditable(this.dataIndex)},renderer:function(a,c,b){if(!Ext.isNumber(a)){return ''}if(!b.isEditable(this.dataIndex)){c.tdCls=(c.tdCls||'')+' sch-column-readonly'}a=parseFloat(Ext.Number.toFixed(a,this.decimalPrecision));return a+' '+Sch.util.Date[this.useAbbreviation?'getShortNameOfUnit':'getReadableNameOfUnit'](b[this.getDurationUnitMethod](),a>1)}});Ext.define('Gnt.column.Effort',{extend:'Gnt.column.Duration',alias:'widget.effortcolumn',header:'Effort',getDurationUnitMethod:'getEffortUnit',setDurationMethod:'setEffort',beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.effortField}this.callParent(arguments)}});Ext.define('Gnt.widget.Calendar',{extend:'Ext.picker.Date',alias:'widget.ganttcalendar',requires:['Gnt.data.Calendar','Sch.util.Date'],calendar:null,startDate:null,endDate:null,disabledDatesText:'Holiday',initComponent:function(){if(!this.calendar){Ext.Error.raise('Required attribute "calendar" missing during initialization of `Gnt.widget.Calendar`')}if(!this.startDate){Ext.Error.raise('Required attribute "startDate" missing during initialization of `Gnt.widget.Calendar`')}if(!this.endDate){this.endDate=Sch.util.Date.add(this.startDate,Sch.util.Date.MONTH,1)}this.setCalendar(this.calendar);this.minDate=this.value=this.startDate;this.injectDates();this.callParent(arguments)},injectDates:function(){var a=this;var b=a.disabledDates=[];Ext.each(a.calendar.getHolidaysRanges(a.startDate,a.endDate),function(c){c.forEachDate(function(d){b.push(Ext.Date.format(d,a.format))})});a.setDisabledDates(b)},setCalendar:function(b){var a={update:this.injectDates,remove:this.injectDates,add:this.injectDates,load:this.injectDates,clear:this.injectDates,scope:this};if(this.calendar){this.calendar.un(a)}this.calendar=b;b.on(a)}});Ext.define('Gnt.widget.calendar.DayGrid',{extend:'Ext.grid.Panel',title:'Day overrides',height:180,nameText:'Name',dateText:'Date',noNameText:'[Day override]',initComponent:function(){Ext.applyIf(this,{store:Ext.create('Gnt.data.Calendar',{proxy:'memory'}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],columns:[{header:this.nameText,dataIndex:'Name',flex:1,editor:{allowBlank:!1}},{header:this.dateText,dataIndex:'Date',width:100,xtype:'datecolumn',editor:{xtype:'datefield'}}]});this.callParent(arguments)}});Ext.define('Gnt.widget.calendar.WeekGrid',{extend:'Ext.grid.Panel',requires:['Gnt.model.WeekAvailability'],title:'Week overrides',border:!0,height:220,nameText:'Name',startDateText:'Start date',endDateText:'End date',initComponent:function(){Ext.applyIf(this,{store:Ext.create('Ext.data.Store',{model:'Gnt.model.WeekAvailability',proxy:'memory'})});Ext.applyIf(this,{columns:[{header:this.nameText,dataIndex:this.store.model.prototype.nameField,flex:1,editor:{allowBlank:!1}},{header:this.startDateText,dataIndex:this.store.model.prototype.startDateField,width:100,xtype:'datecolumn',editor:{xtype:'datefield'}},{header:this.endDateText,dataIndex:this.store.model.prototype.endDateField,width:100,xtype:'datecolumn',editor:{xtype:'datefield'}}],plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});this.callParent(arguments)}});Ext.define('Gnt.widget.calendar.ResourceCalendarGrid',{extend:'Ext.grid.Panel',requires:['Gnt.data.Calendar','Sch.util.Date'],alias:'widget.resourcecalendargrid',resourceStore:null,calendarStore:null,initComponent:function(){var a=this;this.calendarStore=this.calendarStore||Ext.create('Ext.data.Store',{fields:['Id','Name']});Ext.apply(a,{store:a.resourceStore,columns:[{header:'Name',dataIndex:'Name',flex:1},{header:'Calendar',dataIndex:'CalendarId',flex:1,renderer:function(b,i,e,h,g,f){if(!b){var c=e.getCalendar();b=c?c.calendarId:''}var d=a.calendarStore.getById(b);return d?d.get('Name'):b},editor:{xtype:'combobox',store:a.calendarStore,queryMode:'local',displayField:'Name',valueField:'Id',editable:!1,allowBlank:!1}}],border:!0,height:180,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});this.calendarStore.loadData(this.getCalendarData());this.callParent(arguments)},getCalendarData:function(){var a=[];Ext.Array.each(Gnt.data.Calendar.getAllCalendars(),function(b){a.push({Id:b.calendarId,Name:b.name||b.calendarId})});return a}});Ext.define('Gnt.widget.calendar.DayAvailabilityGrid',{extend:'Ext.grid.Panel',requires:['Gnt.data.Calendar','Sch.util.Date'],alias:'widget.dayavailabilitygrid',height:160,calendarDay:null,startText:'Start',endText:'End',addText:'Add',removeText:'Remove',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',getDayTypeRadioGroup:function(){return this.down('radiogroup[name="dayType"]')},initComponent:function(){Ext.applyIf(this,{store:Ext.create('Ext.data.Store',{fields:['startTime','endTime'],proxy:{type:'memory',reader:{type:'json'}}}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],dockedItems:[{xtype:'radiogroup',dock:'top',name:'dayType',padding:'0 5px',margin:0,items:[{boxLabel:this.workingTimeText,name:'IsWorkingDay',inputValue:!0},{boxLabel:this.nonworkingTimeText,name:'IsWorkingDay',inputValue:!1}],listeners:{change:this.onDayTypeChanged,scope:this}}],tbar:this.buildToolbar(),columns:[{header:this.startText,xtype:'datecolumn',format:'g:i a',dataIndex:'startTime',flex:1,editor:{xtype:'timefield',allowBlank:!1,initDate:'31/12/1899'}},{header:this.endText,xtype:'datecolumn',format:'g:i a',dataIndex:'endTime',flex:1,editor:{allowBlank:!1,xtype:'timefield',initDate:'31/12/1899'}}],listeners:{selectionchange:this.onAvailabilityGridSelectionChange,scope:this}});this.callParent(arguments)},buildToolbar:function(){this.addButton=new Ext.Button({text:this.addText,iconCls:'gnt-action-add',handler:this.addAvailability,scope:this});this.removeButton=new Ext.Button({text:this.removeText,iconCls:'gnt-action-remove',handler:this.removeAvailability,scope:this,disabled:!0});return [this.addButton,this.removeButton]},onAvailabilityGridSelectionChange:function(a){if(this.removeButton){this.removeButton.setDisabled(!a||a.getSelection().length===0)}},onDayTypeChanged:function(b){var a=b.getValue();if(Ext.isArray(a.IsWorkingDay)){return}this.getView().setDisabled(!a.IsWorkingDay)},addAvailability:function(){var a=this.getStore(),b=a.count();if(b>=5){return}a.add({startTime:new Date(0,0,0,12,0),endTime:new Date(0,0,0,13,0)});if(b+1>=5&&this.addButton){this.addButton.setDisabled(!0)}},removeAvailability:function(){var b=this.getStore(),d=b.count(),a=this.getSelectionModel();if(!a||a.getSelection().length===0){return}var c=a.getSelection()[0];b.remove(c);if(d<5&&this.addButton){this.addButton.setDisabled(!1)}},editAvailability:function(a){this.calendarDay=a;this.getDayTypeRadioGroup().setValue({IsWorkingDay:a.getIsWorkingDay()});var b=this.calendarDay.getAvailability();this.getStore().loadData(b)},isWorkingDay:function(){return this.getDayTypeRadioGroup().getValue().IsWorkingDay},isValid:function(){var b=this.getDayTypeRadioGroup().getValue().IsWorkingDay,a=[];if(b){try{a=this.getIntervals();this.calendarDay.verifyAvailability(a)}catch(c){Ext.MessageBox.alert('Error',c);return !1}}return !0},getIntervals:function(){var a=[];this.getStore().each(function(b){a.push({startTime:b.get('startTime'),endTime:b.get('endTime')})});return a}});Ext.define('Gnt.widget.calendar.WeekEditor',{extend:'Ext.form.Panel',requires:['Ext.grid.*','Gnt.data.Calendar','Sch.util.Date'],alias:'widget.calendarweekeditor',layout:'anchor',defaults:{border:!1,anchor:'100%'},getDefaultWeekAvailabilityHandler:null,startDate:null,endDate:null,startHeaderText:'Start',endHeaderText:'End',defaultTimeText:'Default time',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',addText:'Add',removeText:'Remove',weekAvailability:null,currentWeekDay:null,_weekDaysGrid:null,getWeekDaysGrid:function(){if(this._weekDaysGrid!=null){return this._weekDaysGrid}var a=Ext.Date.dayNames;return this._weekDaysGrid=Ext.create('Ext.grid.Panel',{hideHeaders:!0,height:160,columns:[{header:'',dataIndex:'name',flex:1}],store:Ext.create('Ext.data.JsonStore',{fields:['id','name'],idProperty:'id',data:[{id:1,name:a[1]},{id:2,name:a[2]},{id:3,name:a[3]},{id:4,name:a[4]},{id:5,name:a[5]},{id:6,name:a[6]},{id:0,name:a[0]}]}),listeners:{selectionchange:{fn:this.onWeekDaysListSelectionChange,scope:this}}})},_availabilityGrid:null,getAvailabilityGrid:function(){if(!this._availabilityGrid){this._availabilityGrid=Ext.create('Ext.grid.Panel',{height:160,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],tbar:[{text:this.addText,action:'add',handler:this.addAvailability,scope:this,iconCls:'gnt-action-add'},{text:this.removeText,iconCls:'gnt-action-remove',action:'remove',handler:this.removeAvailability,scope:this}],store:Ext.create('Ext.data.Store',{fields:['startTime','endTime'],proxy:{type:'memory',reader:{type:'json'}}}),columns:[{header:this.startHeaderText,xtype:'datecolumn',format:'g:i a',dataIndex:'startTime',flex:1,editor:{xtype:'timefield',allowBlank:!1,initDate:'31/12/1899'}},{header:this.endHeaderText,xtype:'datecolumn',format:'g:i a',dataIndex:'endTime',flex:1,editor:{allowBlank:!1,xtype:'timefield',initDate:'31/12/1899'}}],listeners:{selectionchange:this.onAvailabilityGridSelectionChange,scope:this}})}return this._availabilityGrid},getDayTypeRadioGroup:function(){return this.down('radiogroup[name="dayType"]')},initComponent:function(){if(!this.getDefaultWeekAvailabilityHandler&&!Ext.isFunction(this.getDefaultWeekAvailabilityHandler)){Ext.Error.raise('Required attribute "getDefaultWeekAvailabilityHandler" is missed during initialization of `Gnt.widget.calendar.WeekEditor`')}this.items=[{xtype:'radiogroup',padding:'0 5px',name:'dayType',items:[{boxLabel:this.defaultTimeText,name:'IsWorkingDay',inputValue:0},{boxLabel:this.workingTimeText,name:'IsWorkingDay',inputValue:1},{boxLabel:this.nonworkingTimeText,name:'IsWorkingDay',inputValue:2}],listeners:{change:{fn:this.onDayTypeChanged,scope:this}}},{layout:'column',padding:'0 0 5px 0',defaults:{border:!1},items:[{margin:'0 10px 0 5px',columnWidth:0.5,items:this.getWeekDaysGrid()},{columnWidth:0.5,margin:'0 5px 0 0',items:this.getAvailabilityGrid()}]}];this.callParent(arguments)},addAvailability:function(){var b=this.getAvailabilityGrid(),a=b.getStore(),c=a.count();if(c>=5){return}a.add({startTime:new Date(0,0,0,12,0),endTime:new Date(0,0,0,13,0)});if(c+1>=5){b.down('button[action="add"]').setDisabled(!0)}},removeAvailability:function(){var a=this.getAvailabilityGrid(),c=a.getStore(),e=c.count(),b=a.getSelectionModel();if(!b||b.getSelection().length===0){return}var d=b.getSelection()[0];c.remove(d);if(e<5){a.down('button[action="add"]').setDisabled(!1)}},editAvailability:function(d,e,c){this.startDate=d;this.endDate=e;this.weekAvailability=c;var a=this.getWeekDaysGrid(),b=a.getStore().getAt(0);a.getSelectionModel().select(b,!1,!0);this.refreshView(b)},applyChanges:function(a){if(!this.validateAndSave()){return !1}if(a&&Ext.isFunction(a)){a.call(this,this.weekAvailability)}},getIntervals:function(){var a=[];this.getAvailabilityGrid().getStore().each(function(b){a.push({startTime:b.get('startTime'),endTime:b.get('endTime')})});return a},onWeekDaysListSelectionChange:function(b,a){if(!this.validateAndSave()){return !1}this.refreshView(a[0])},validateAndSave:function(){var b=this.currentWeekDay.get('IsWorkingDay'),a=[];if(b){try{a=this.getIntervals();this.currentWeekDay.verifyAvailability(a)}catch(c){Ext.MessageBox.alert('Error',c);return !1}}this.currentWeekDay.setAvailability(a);return !0},refreshView:function(d){var g=d.getId(),a=this.weekAvailability[g],f=this.getDayTypeRadioGroup(),e=a.getAvailability(),c=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(a.getId()),b=!c?0:a.get('IsWorkingDay')?1:2;this.currentWeekDay=a;f.setValue({IsWorkingDay:[b]});this.getAvailabilityGrid().getStore().loadData(e)},onAvailabilityGridSelectionChange:function(a){var b=this.getAvailabilityGrid();b.down('button[action="remove"]').setDisabled(!a||a.getSelection().length===0)},onDayTypeChanged:function(h){var b=h.getValue();if(Ext.isArray(b.IsWorkingDay)){return}var e=this.getWeekDaysGrid(),f=e.getSelectionModel(),a=f.getSelection()[0].getId(),g=this.weekAvailability[a].get('Name'),d=[],i=Ext.Date.format(this.startDate,'Y/m/d'),j=Ext.Date.format(this.endDate,'Y/m/d');switch(b.IsWorkingDay){case 0:var c=this.getDefaultWeekAvailabilityHandler()[a];c.set('Name',g);c.set('Date',null);d=c.getAvailability();this.weekAvailability[a]=c;break;default:d=this.weekAvailability[a].getAvailability();this.currentWeekDay.set('Id',Ext.String.format('{0}-{1}-{2}',a,i,j));this.currentWeekDay.set('IsWorkingDay',b.IsWorkingDay===1);break;}this.getAvailabilityGrid().getStore().loadData(Ext.clone(d));this.getAvailabilityGrid().setDisabled(b.IsWorkingDay!==1)}});Ext.define('Gnt.widget.calendar.DatePicker',{extend:'Ext.picker.Date',alias:'widget.gntdatepicker',calendar:null,workingDayCls:'gnt-datepicker-workingday',nonWorkingDayCls:'gnt-datepicker-nonworkingday',overriddenDayCls:'gnt-datepicker-overriddenday',overriddenWeekDayCls:'gnt-datepicker-overriddenweekday',_weeks:null,getWeekOverrides:function(){return this._weeks},setWeekOverrides:function(a){this._weeks=a},_days:null,getDayOverrides:function(){return this._days},setDayOverrides:function(a){this._days=a},update:function(c,e){var d=this,a=0,b=d.cells.elements;this.removeCustomCls();this.callParent(arguments);for(;a<d.numDays;++a){c=b[a].firstChild.dateValue;b[a].className+=' '+this.getDateCls(c)}},getDateCls:function(a){var b='',g=0,f=this;a=new Date(a);if(a.getMonth()!==this.getActive().getMonth()){return}if(this.getDayOverrides().getOverrideDay(a)){b+=' '+this.overriddenDayCls;if(!this.getDayOverrides().isWorkingDay(a)){b+=' '+this.nonWorkingDayCls}}else {var d=null;this.getWeekOverrides().each(function(b){if(Ext.Date.between(a,b.getStartDate(),b.getEndDate())){d=b;return !0}});if(d){b+=' '+this.overriddenWeekDayCls;var e=(new Date(a)).getDay(),c=d.getAvailability();if(c&&c[e]&&c[e].getIsWorkingDay()===!1){b+=' '+f.nonWorkingDayCls}}else {if(!this.getDayOverrides().isWorkingDay(a)){b+=' '+this.nonWorkingDayCls}}}return b.length>0?b:this.workingDayCls},removeCustomCls:function(){this.cells.removeCls([this.overriddenDayCls,this.nonWorkingDayCls,this.workingDayCls,this.overriddenWeekDayCls])}});Ext.define('Gnt.widget.calendar.Calendar',{extend:'Ext.form.Panel',requires:['Ext.XTemplate','Gnt.data.Calendar','Gnt.widget.calendar.DayGrid','Gnt.widget.calendar.WeekGrid','Gnt.widget.calendar.DayAvailabilityGrid','Gnt.widget.calendar.WeekEditor','Gnt.widget.calendar.DatePicker'],alias:'widget.calendar',defaults:{padding:10,border:!1},workingDayCls:'gnt-datepicker-workingday',nonWorkingDayCls:'gnt-datepicker-nonworkingday',overriddenDayCls:'gnt-datepicker-overriddenday',overriddenWeekDayCls:'gnt-datepicker-overriddenweekday',calendar:null,dayOverrideNameHeaderText:'Name',dateText:'Date',addText:'Add',editText:'Edit',removeText:'Remove',workingDayText:'Working day',weekendsText:'Weekends',overriddenDayText:'Overridden day',overriddenWeekText:'Overridden week',defaultTimeText:'Default time',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',dayGridConfig:null,weekGridConfig:null,datePickerConfig:null,dayOverridesText:'Day overrides',weekOverridesText:'Week overrides',okText:'OK',cancelText:'Cancel',dayGrid:null,weekGrid:null,getDayGrid:function(){if(!this.dayGrid){this.dayGrid=Ext.create('Gnt.widget.calendar.DayGrid',Ext.apply({tbar:[{text:this.addText,action:'add',iconCls:'gnt-action-add',handler:this.addDay,scope:this},{text:this.editText,action:'edit',iconCls:'gnt-action-edit',handler:this.editDay,scope:this},{text:this.removeText,action:'remove',iconCls:'gnt-action-remove',handler:this.removeDay,scope:this}]},this.dayGridConfig||{}))}return this.dayGrid},getWeekGrid:function(){if(!this.weekGrid){this.weekGrid=Ext.create('Gnt.widget.calendar.WeekGrid',Ext.apply({tbar:[{text:this.addText,action:'add',iconCls:'gnt-action-add',handler:this.addWeek,scope:this},{text:this.editText,action:'edit',iconCls:'gnt-action-edit',handler:this.editWeek,scope:this},{text:this.removeText,action:'remove',iconCls:'gnt-action-remove',handler:this.removeWeek,scope:this}]},this.weekGridConfig||{}))}return this.weekGrid},datePicker:null,getDatePicker:function(){if(!this.datePicker){this.datePicker=Ext.create('Gnt.widget.calendar.DatePicker',this.datePickerConfig||{})}return this.datePicker},legendTpl:'<ul class="gnt-calendar-legend"><li class="gnt-calendar-legend-item"><div class="gnt-calendar-legend-itemstyle {workingDayCls}"></div><span class="gnt-calendar-legend-itemname">{workingDayText}</span><div style="clear: both"></div></li><li><div class="gnt-calendar-legend-itemstyle {nonWorkingDayCls}"></div><span class="gnt-calendar-legend-itemname">{weekendsText}</span><div style="clear: both"></div></li><li class="gnt-calendar-legend-override"><div class="gnt-calendar-legend-itemstyle {overriddenDayCls}">31</div><span class="gnt-calendar-legend-itemname">{overriddenDayText}</span><div style="clear: both"></div></li><li class="gnt-calendar-legend-override"><div class="gnt-calendar-legend-itemstyle {overriddenWeekDayCls}">31</div><span class="gnt-calendar-legend-itemname">{overriddenWeekText}</span><div style="clear: both"></div></li></ul>',dateInfoTpl:'<tpl if="isWorkingDay == true"><div>Working hours for {date}:</div></tpl><tpl if="isWorkingDay == false"><div>{date} is non-working</div></tpl><ul class="gnt-calendar-availabilities"><tpl for="availability"><li>{.}</li></tpl></ul><span>Based on: <tpl if="override == true">override "{name}" in calendar "{calendarName}"</tpl><tpl if="override == false">standard day in calendar "{calendarName}"</tpl></span>',initComponent:function(){var b=this;if(!(this.legendTpl instanceof Ext.Template)){this.legendTpl=new Ext.XTemplate(this.legendTpl)}if(!(this.dateInfoTpl instanceof Ext.Template)){this.dateInfoTpl=new Ext.XTemplate(this.dateInfoTpl)}if(!this.calendar){Ext.Error.raise('Required attribute "calendar" is missed during initialization of `Gnt.widget.Calendar`')}var d=this.getWeekGrid(),c=this.getDayGrid(),a=this.getDatePicker();this.dayGrid.on({selectionchange:this.onDayGridSelectionChange,validateedit:this.onDayGridValidateEdit,edit:this.onDayGridEdit,scope:this});this.dayGrid.store.on({update:this.refreshView,remove:this.refreshView,add:this.refreshView,scope:this});this.weekGrid.on({selectionchange:this.onWeekGridSelectionChange,validateedit:this.onWeekGridValidateEdit,edit:this.onWeekGridEdit,scope:this});this.weekGrid.store.on({update:this.refreshView,remove:this.refreshView,add:this.refreshView,scope:this});this.datePicker.on({select:this.onDateSelect,scope:this});this.fillDaysStore();this.fillWeeksStore();a.setWeekOverrides(d.getStore());a.setDayOverrides(c.getStore());this.dateInfoPanel=new Ext.Panel({cls:'gnt-calendar-dateinfo',columnWidth:0.33,border:!1,height:200});this.items=[{xtype:'container',layout:'hbox',pack:'start',align:'stretch',items:[{html:Ext.String.format('Calendar name: "{0}"',this.calendar.name),border:!1,flex:1},{xtype:'combobox',name:'cmb_parentCalendar',fieldLabel:'Parent calendar',store:Ext.create('Ext.data.Store',{fields:['Id','Name'],data:[{Id:-1,Name:'No parent'}].concat(b.calendar.getParentableCalendars())}),queryMode:'local',displayField:'Name',valueField:'Id',editable:!1,emptyText:'Select parent',value:b.calendar.parent?b.calendar.parent.calendarId:-1,flex:1}]},{layout:'column',defaults:{border:!1},items:[{margin:'0 15px 0 0',columnWidth:0.3,html:this.legendTpl.apply({workingDayText:this.workingDayText,weekendsText:this.weekendsText,overriddenDayText:this.overriddenDayText,overriddenWeekText:this.overriddenWeekText,workingDayCls:this.workingDayCls,nonWorkingDayCls:this.nonWorkingDayCls,overriddenDayCls:this.overriddenDayCls,overriddenWeekDayCls:this.overriddenWeekDayCls})},{columnWidth:0.37,margin:'0 5px 0 0',items:a},this.dateInfoPanel]},{xtype:'tabpanel',items:[c,d]}];this.callParent(arguments)},onRender:function(){this.onDateSelect(this.getDatePicker(),new Date());this.callParent(arguments)},fillDaysStore:function(){var a=[];this.calendar.each(function(b){if(!b.getDate()){return}a.push(Ext.create('Gnt.model.CalendarDay',{Date:b.getDate(),Id:b.getId(),Name:b.getName(),IsWorkingDay:b.getIsWorkingDay(),Availability:b.getAvailability()}))});this.getDayGrid().getStore().loadData(a)},fillWeeksStore:function(){var c=[],b=this,a=this.getWeekGrid().store.model.prototype;Ext.Array.each(this.calendar.nonStandardWeeksStartDates,function(g){var d=b.calendar.getNonStandardWeekByStartDate(g);var e={};var f=b.calendar.getDefaultWeekAvailability();e[a.nameField]=d.name;e[a.startDateField]=d.startDate;e[a.endDateField]=d.endDate;e[a.availabilityField]=f;Ext.Array.each(f,function(a){a.setName(d.name);a.clearDate(null)});Ext.Array.each(d.weekAvailability,function(b){var e=b.getId();var c=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(e);if(!c){return}var h=c[1];var a=Ext.create('Gnt.model.CalendarDay');a.clearDate(null);a.setId(e);a.setName(d.name);a.setIsWorkingDay(b.getIsWorkingDay());a.setAvailability(b.getAvailability());f[h]=a});c.push(e)});this.getWeekGrid().getStore().loadData(c)},reload:function(){var b=this.getWeekGrid(),a=this.getDayGrid();this.fillDaysStore();this.fillWeeksStore();this.getDatePicker().setWeekOverrides(b.getStore());this.getDatePicker().setDayOverrides(a.getStore())},editDay:function(){var b=this,d=this.getDayGrid().getSelectionModel();if(!d||d.getSelection().length===0){return}var e=d.getSelection()[0];var a=new Gnt.widget.calendar.DayAvailabilityGrid({addText:this.addText,removeText:this.removeText,workingTimeText:this.workingTimeText,nonworkingTimeText:this.nonworkingTimeText});var c=Ext.create('Ext.window.Window',{title:this.dayOverridesText,modal:!0,width:280,height:260,layout:'fit',items:a,buttons:[{text:this.okText,handler:function(){b.calendar.clearCache();if(a.isValid()){var d=a.calendarDay;d.setIsWorkingDay(a.isWorkingDay());d.setAvailability(a.getIntervals());b.applyCalendarDay(d,e);b.refreshView();c.close()}}},{text:this.cancelText,handler:function(){c.close()}}]});a.editAvailability(this.cloneCalendarDay(e));c.show()},addDay:function(){var c=this.getDatePicker().getValue(),a=this.getDayGrid(),b=Ext.create('Gnt.model.CalendarDay',{Name:'[Without name]',Cls:this.calendar.defaultNonWorkingTimeCssCls,Date:c,IsWorkingDay:!1});a.getStore().insert(0,b);a.getSelectionModel().select([b],!1,!1)},removeDay:function(){var e=this.getDayGrid(),c=e.getSelectionModel(),d=e.getStore();if(!c||c.getSelection().length===0){return}d.clearCache();var f=c.getSelection()[0],b=this.getDatePicker().getValue(),g=b.getDay(),a=this.getWeekOverrideDay(b),h=a!=null;d.remove(f);if(a==null){a=this.calendar.defaultWeekAvailability[g]}this.getDatePicker().setValue(b)},refreshView:function(){var a=this.getDatePicker().getValue(),c=this.getCalendarDay(a),f=this.getWeekGrid(),e=this.getDayGrid(),d=e.getStore().getOverrideDay(a),b;if(d){e.getSelectionModel().select([d],!1,!0)}else {b=this.getWeekOverrideByDate(a);if(b){f.getSelectionModel().select([b],!1,!0)}}var g={name:c.getName(),date:Ext.Date.format(a,'M j, Y'),calendarName:this.calendar.name||this.calendar.calendarId,availability:c.getAvailability(!0),override:!!(d||b),isWorkingDay:c.getIsWorkingDay()};this.dateInfoPanel.update(this.dateInfoTpl.apply(g))},onDayGridSelectionChange:function(a){if(!a||a.getSelection().length===0){return}var b=a.getSelection()[0],c=b.getDate(),d=this.getDayGrid();this.getDatePicker().setValue(c)},onDayGridEdit:function(c,a){if(a.field==='Date'){var b=Ext.Date.clearTime(a.value,!0);a.record.data[a.record.idProperty]=b-0;a.grid.getStore().clearCache();this.getDatePicker().setValue(a.value)}this.refreshView()},onDayGridValidateEdit:function(c,a){var b=a.grid.getStore();if(a.field===b.model.prototype.dateField&&b.getOverrideDay(a.value)&&a.value!==a.originalValue){Ext.MessageBox.alert('Error','There is already an override for this day');return !1}},onDateSelect:function(b,a){this.refreshView()},getCalendarDay:function(b){var a=this.getOverrideDay(b);if(a){return a}a=this.getWeekOverrideDay(b);if(a){return a}return this.calendar.defaultWeekAvailability[b.getDay()]},getOverrideDay:function(a){return this.getDayGrid().getStore().getOverrideDay(a)},getWeekOverrideDay:function(b){var e=new Date(b),c=this.getWeekOverrideByDate(b),d=e.getDay();if(c==null){return null}var a=c.getAvailability();if(!a){return null}return a[d]},getWeekOverrideByDate:function(b){var a=null;this.getWeekGrid().getStore().each(function(c){if(Ext.Date.between(b,c.getStartDate(),c.getEndDate())){a=c;return !0}});return a},editWeek:function(){var d=this.getWeekGrid().getSelectionModel(),a=this;if(!d||d.getSelection().length===0){return}var b=d.getSelection()[0];var e=new Gnt.widget.calendar.WeekEditor({getDefaultWeekAvailabilityHandler:function(){return a.getDefaultWeekAvailability()}});var c=Ext.create('Ext.window.Window',{title:this.weekOverridesText,modal:!0,width:370,defaults:{border:!1},layout:'fit',items:e,buttons:[{text:this.okText,handler:function(){a.calendar.clearCache();e.applyChanges(function(d){b.setAvailability(d);var e=a.getDatePicker().getValue(),f=d[e.getDay()];a.refreshView();c.close()})}},{text:this.cancelText,handler:function(){c.close()}}]});var f=[];Ext.Array.each(b.getAvailability(),function(b){f.push(a.cloneCalendarDay(b))});c.show();c.down('calendarweekeditor').editAvailability(b.getStartDate(),b.getEndDate(),f)},addWeek:function(){var b=this.getWeekGrid().getStore();var c=this.getDatePicker().getValue(),a=new b.model();a.setName('[Without name]');a.setStartDate(c);a.setEndDate(c);a.setAvailability(this.calendar.getDefaultWeekAvailability());b.insert(0,a);this.getWeekGrid().getSelectionModel().select([a],!1,!1)},removeWeek:function(){var c=this.getWeekGrid().getSelectionModel();if(!c||c.getSelection().length===0){return}var d=c.getSelection()[0],b=this.getDatePicker().getValue(),e=b.getDay(),a=this.getOverrideDay(b),f=!!a;a=a||this.calendar.defaultWeekAvailability[e];this.getWeekGrid().getStore().remove(d);this.getDatePicker().setValue(b);this.refreshView()},onWeekGridSelectionChange:function(a){if(!a||a.getSelection().length===0){return}var b=a.getSelection()[0],c=b.getStartDate(),e=c.getDay(),d=b.getAvailability()[e],f=this.getWeekGrid();if(d==null){d=this.calendar.defaultWeekAvailability[e]}this.getDatePicker().setValue(c)},onWeekGridEdit:function(j,a){var c=a.record,b=c.getStartDate(),g=c.getEndDate(),e=b.getDay(),d=c.getAvailability(),f=d[e];prot=a.grid.getStore().model.prototype;if(f==null){f=this.calendar.defaultWeekAvailability[e]}if(a.field==prot.startDateField||a.field==prot.endDateField){var h=Ext.Date.format(b,'Y/m/d');var i=Ext.Date.format(g,'Y/m/d');Ext.Array.each(d,function(c){var d=c.getId();var b=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(d);if(!b){return}c.set('Id',Ext.String.format('{0}-{1}-{2}',b[1],h,i))});this.getDatePicker().setValue(b)}this.refreshView()},onWeekGridValidateEdit:function(h,a){var f=a.record,c=f.getStartDate(),d=f.getEndDate(),e=!0;var g=a.grid.getStore();var b=g.model.prototype;if(a.field===b.startDateField&&d<a.value||a.field===b.endDateField&&c>a.value){Ext.MessageBox.alert('Error','StartDate greater then EndDate');return !1}g.each(function(i){var g=i.getStartDate(),f=i.getEndDate();if(g==c&&f==d){return}if(a.field==b.startDateField&&g<c&&a.value<=f||a.field==b.endDateField&&f>d&&a.value>=g){e=!1;return !0}});if(!e){Ext.MessageBox.alert('Error',"Dates shouldn't intersect");return !1}},applyChanges:function(a){var b=this.down('combobox[name="cmb_parentCalendar"]').getValue();this.calendar.parent=b?Gnt.data.Calendar.getCalendar(b):null;this.calendar.proxy.extraParams.parentId=this.calendar.parent?this.calendar.parent.calendarId:null;this.applyDays();this.applyWeeks();if(a&&Ext.isFunction(a)){a.call(this,this.calendar)}},applyCalendarDay:function(b,a){a.beginEdit();a.setId(b.getId());a.setName(b.getName());a.setIsWorkingDay(b.getIsWorkingDay());a.setDate(b.getDate());a.setAvailability(b.getAvailability());a.endEdit()},applyWeek:function(d,c){var a=this,b=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/;Ext.Array.each(d.getAvailability(),function(e,i){var f=!1,h=e.getId(),g=b.exec(h)?!1:!0;Ext.Array.each(c.weekAvailability,function(h){var k=h.getId(),j=b.exec(k);if(j[1]==i){if(g){a.calendar.remove(h)}else {a.applyCalendarDay(e,h)}f=!0;return f}});if(!f&&!g){a.calendar.add(e)}})},applyWeeks:function(){var a=this,c=this.getWeekGrid().getStore(),b=[],e=[],d=[];Ext.Array.each(this.calendar.nonStandardWeeksStartDates,function(d){var f=!1;c.each(function(c){var h=Ext.Date.clearTime(c.getStartDate());if(h===d){var g=a.calendar.getNonStandardWeekByDate(d);g.endDate==c.getEndDate()?e.push([c,g]):b.push(d);f=!0;return !0}});if(!f){b.push(d)}});c.each(function(b){if(a.calendar.getNonStandardWeekByDate(b.getStartDate()==null)){d.push(b)}});Ext.Array.each(b,function(b){a.calendar.removeNonStandardWeek(b)});Ext.Array.each(d,function(b){a.calendar.addNonStandardWeek(b.getStartDate(),b.getEndDate(),b.getAvailability())});Ext.Array.each(e,function(b){a.applyWeek(b[0],b[1])})},applyDays:function(){var c=this,a=this.getDayGrid().getStore(),b=[],e=[],d=[];this.calendar.each(function(c){var d=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(c.getId());if(d){return}a.getOverrideDay(c.getDate())==null?b.push(c):e.push(c)});a.each(function(a){if(c.calendar.getOverrideDay(a.getDate())==null){d.push(a)}});this.calendar.remove(b);this.calendar.add(d);Ext.Array.each(e,function(b){var d=a.getOverrideDay(b.getDate());c.applyCalendarDay(d,b)})},cloneCalendarDay:function(a){return Ext.create('Gnt.model.CalendarDay',{Date:a.getDate(),Id:a.getId(),Name:a.getName(),IsWorkingDay:a.getIsWorkingDay(),Availability:a.getAvailability()})},getDefaultWeekAvailability:function(){return this.calendar.defaultWeekAvailability},onDestroy:function(){this.getWeekGrid().destroy();this.getDayGrid().destroy();this.getDatePicker().destroy();this.callParent(arguments)}});Ext.onReady(function(){if(window.location.href.match('bryntum.com|ext-scheduler.com')){return}else {if(Sch&&Sch.view&&Sch.view.TimelineGridView){var b=!1;Sch.view.TimelineGridView.override({refresh:function(){this.callOverridden(arguments);if(b||!this.rendered){return}b=!0;Ext.Function.defer(function(){this.el.select(this.eventSelector).setOpacity(0.15)},10*60*1000,this);var d=this.el.parent().createChild({tag:'a',href:'http://www.bryntum.com/store',title:'Click here to purchase a license',style:'display:block;height:54px;width:230px;background: #fff url(http://www.bryntum.com/site-images/bryntum-trial.png) no-repeat;z-index:10000;border:1px solid #ddd;-webkit-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-border-radius:5px;-webkit-border-radius:5px;position:absolute;bottom:10px;right:15px;'});try{if(!Ext.util.Cookies.get('bmeval')){Ext.util.Cookies.set('bmeval',(new Date()).getTime(),Ext.Date.add(new Date(),Ext.Date.YEAR,2))}else {var c=Ext.util.Cookies.get('bmeval'),a=new Date(parseInt(c,10));if(Ext.Date.add(a,Ext.Date.DAY,45)<new Date()){this.el.select(this.eventSelector).hide();this.el.mask('Trial Period Expired!').setStyle('z-index',10000);this.refresh=Ext.emptyFn}}}catch(e){}}})}if(Sch&&Sch.view&&Sch.view.TimelineTreeView){var a=!1;Sch.view.TimelineTreeView.override({refresh:function(){this.callOverridden(arguments);if(a||!this.rendered){return}a=!0;Ext.Function.defer(function(){this.el.select(this.eventSelector).setOpacity(0.15)},10*60*1000,this);var b=this.el.parent().createChild({tag:'a',href:'http://www.bryntum.com/store',title:'Click here to purchase a license',style:'display:block;height:54px;width:230px;background: #fff url(http://www.bryntum.com/site-images/bryntum-trial.png) no-repeat;z-index:10000;border:1px solid #ddd;-webkit-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-border-radius:5px;-webkit-border-radius:5px;position:absolute;bottom:10px;right:15px;'});Ext.Function.defer(b.fadeOut,10000,b);try{if(!Ext.util.Cookies.get('bmeval')){Ext.util.Cookies.set('bmeval',(new Date()).getTime(),Ext.Date.add(new Date(),Ext.Date.YEAR,2))}else {var d=Ext.util.Cookies.get('bmeval'),c=new Date(parseInt(d,10));if(Ext.Date.add(c,Ext.Date.DAY,45)<new Date()){this.el.select(this.eventSelector).hide();this.el.mask('Trial Period Expired!').setStyle('z-index',10000);this.refresh=Ext.emptyFn}}}catch(e){}}})}}});Ext.data.Connection.override({parseStatus:function(b){var a=this.callOverridden(arguments);if(b===0){a.success=!0}return a}});Ext.onReady(function(){window._gaq=window._gaq||[];window._gaq.push(['_setAccount','UA-11046863-1']);window._gaq.push(['_setDomainName','none']);window._gaq.push(['_setAllowLinker',!0]);window._gaq.push(['_trackPageview']);(function(){var a=document.createElement('script');a.type='text/javascript';a.async=!0;a.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var b=document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a,b)})();window.onerror=function(c,b,a){if(!window.__reported&&c&&(a||b)){window.__reported=!0;try{var d=new Image();var f=Ext.versions&&Ext.versions.extjs&&Ext.versions.extjs.version;var e=Sch.VERSION||'-';d.src=Ext.String.format('http://bryntum.com/errlog.php?msg={0}&url={1}&line={2}&href={3}&extVersion={4}&prodVersion={5}&magic={6}',encodeURIComponent(c),encodeURIComponent(b),encodeURIComponent(a),encodeURIComponent(window.location.href),encodeURIComponent(f),encodeURIComponent(e),'maFSiO6W')}catch(g){}}}});var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(a,c,b){if(a==Array.prototype||a==Object.prototype){return a}a[c]=b.value;return a};$jscomp.getGlobal=function(d){var c=['object'==typeof globalThis&&globalThis,d,'object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global];for(var b=0;b<c.length;++b){var a=c[b];if(a&&a['Math']==Math){return a}}return {valueOf:function(){throw new Error('Cannot find global object')}}.valueOf()};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol==='function'&&typeof Symbol('x')==='symbol';$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX='$jscp$';var $jscomp$lookupPolyfilledValue=function(b,a){var c=$jscomp.propertyToPolyfillSymbol[a];if(c==null){return b[a]}var d=b[c];return d!==undefined?d:b[a]};$jscomp.polyfill=function(c,a,b,d){if(!a){return}if($jscomp.ISOLATE_POLYFILLS){$jscomp.polyfillIsolated(c,a,b,d)}else {$jscomp.polyfillUnisolated(c,a,b,d)}};$jscomp.polyfillUnisolated=function(i,h,j,k){var a=$jscomp.global;var b=i.split('.');for(var d=0;d<b.length-1;d++){var g=b[d];if(!(g in a)){return}a=a[g]}var e=b[b.length-1];var f=a[e];var c=h(f);if(c==f||c==null){return}$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:c})};$jscomp.polyfillIsolated=function(m,k,j,o){var c=m.split('.');var f=c.length===1;var n=c[0];var a;if(!f&&n in $jscomp.polyfills){a=$jscomp.polyfills}else {a=$jscomp.global}for(var e=0;e<c.length-1;e++){var h=c[e];if(!(h in a)){return}a=a[h]}var b=c[c.length-1];var g=$jscomp.IS_SYMBOL_NATIVE&&j==='es6'?a[b]:null;var d=k(g);if(d==null){return}if(f){$jscomp.defineProperty($jscomp.polyfills,b,{configurable:!0,writable:!0,value:d})}else if(d!==g){if($jscomp.propertyToPolyfillSymbol[b]===undefined){var l=Math.random()*1000000000>>>0;$jscomp.propertyToPolyfillSymbol[b]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global['Symbol'](b):$jscomp.POLYFILL_PREFIX+l+'$'+b}var i=$jscomp.propertyToPolyfillSymbol[b];$jscomp.defineProperty(a,i,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(f,g,i){var c=this.length;f=toInteger(f);g=toInteger(g);var h=i===undefined?c:toInteger(i);var e=f<0?Math.max(c+f,0):Math.min(f,c);var b=g<0?Math.max(c+g,0):Math.min(g,c);var d=h<0?Math.max(c+h,0):Math.min(h,c);if(e<b){while(b<d){if(b in this){this[e++]=this[b++]}else {delete this[e++];b++}}}else {d=Math.min(d,c+b-e);e+=d-b;while(d>b){if(--d in this){this[--e]=this[d]}else {delete this[--e]}}}return this};function toInteger(c){var b=Number(c);if(b===Infinity||b===-Infinity){return b}return b|0}return b},'es6','es3');$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}}};$jscomp.arrayIterator=function(a){return {next:$jscomp.arrayIteratorImpl(a)}};$jscomp.initSymbol=function(){};$jscomp.polyfill('Symbol',function(c){if(c){return c}var b=function(b,a){this.$jscomp$symbol$id_=b;this.description;$jscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:a})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var f=Math.random()*1000000000>>>0;var d='jscomp_symbol_'+f+'_';var e=0;var a=function(f){if(this instanceof a){throw new TypeError('Symbol is not a constructor')}return new b(d+(f||'')+'_'+e++,f)};return a},'es6','es3');$jscomp.polyfill('Symbol.iterator',function(e){if(e){return e}var a=Symbol('Symbol.iterator');var d=['Array','Int8Array','Uint8Array','Uint8ClampedArray','Int16Array','Uint16Array','Int32Array','Uint32Array','Float32Array','Float64Array'];for(var c=0;c<d.length;c++){var b=$jscomp.global[d[c]];if(typeof b==='function'&&typeof b.prototype[a]!='function'){$jscomp.defineProperty(b.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}}return a},'es6','es3');$jscomp.polyfill('Symbol.asyncIterator',function(a){if(a){return a}return Symbol('Symbol.asyncIterator')},'es9','es3');$jscomp.iteratorPrototype=function(b){var a={next:b};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,e){if(a instanceof String){a=a+''}var d=0;var c=!1;var b={next:function(){if(!c&&d<a.length){var b=d++;return {value:e(b,a[b]),done:!1}}c=!0;return {done:!0,value:void 0}}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.prototype.flat',function(a){if(a){return a}var b=function(b){b=b===undefined?1:b;var c=[];for(var e=0;e<this.length;e++){var d=this[e];if(Array.isArray(d)&&b>0){var f=Array.prototype.flat.call(d,b-1);c.push.apply(c,f)}else {c.push(d)}}return c};return b},'es9','es5');$jscomp.polyfill('Array.prototype.flatMap',function(a){if(a){return a}var b=function(e,f){var b=[];for(var c=0;c<this.length;c++){var d=e.call(f,this[c],c,this);if(Array.isArray(d)){b.push.apply(b,d)}else {b.push(d)}}return b};return b},'es9','es5');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){c=c!=null?c:function(d){return d};var e=[];var f=typeof Symbol!='undefined'&&Symbol.iterator&&b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;var j=0;while(!(h=b.next()).done){e.push(c.call(g,h.value,j++))}}else {var i=b.length;for(var d=0;d<i;d++){e.push(c.call(g,b[d],d))}}return e};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,g){var c=this;if(c instanceof String){c=String(c)}var f=c.length;var b=g||0;if(b<0){b=Math.max(b+f,0)}for(;b<f;b++){var e=c[b];if(e===d||Object.is(e,d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es8','es3');$jscomp.makeIterator=function(a){var b=typeof Symbol!='undefined'&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.makeAsyncIterator=function(a){var b=a[Symbol.asyncIterator];if(b!==undefined){return b.call(a)}return new $jscomp.AsyncIteratorFromSyncWrapper($jscomp.makeIterator(a))};$jscomp.AsyncIteratorFromSyncWrapper=function(a){this[Symbol.asyncIterator]=function(){return this};this[Symbol.iterator]=function(){return a};this.next=function(b){return Promise.resolve(a.next(b))};if(a['throw']!==undefined){this['throw']=function(b){return Promise.resolve(a['throw'](b))}}if(a['return']!==undefined){this['return']=function(b){return Promise.resolve(a['return'](b))}}};$jscomp.AsyncGeneratorWrapper$ActionEnum={YIELD_VALUE:0,YIELD_STAR:1,AWAIT_VALUE:2};$jscomp.AsyncGeneratorWrapper$ActionRecord=function(a,b){this.action=a;this.value=b};$jscomp.AsyncGeneratorWrapper$GeneratorMethod={NEXT:'next',THROW:'throw',RETURN:'return'};$jscomp.AsyncGeneratorWrapper$ExecutionFrame_=function(b,d,a,c){this.method=b;this.param=d;this.resolve=a;this.reject=c};$jscomp.AsyncGeneratorWrapper$ExecutionNode_=function(a,b){this.frame=a;this.next=b};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_=function(){this.head_=null;this.tail_=null};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.isEmpty=function(){return this.head_===null};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.first=function(){if(this.head_){return this.head_.frame}else {throw new Error('no frames in executionQueue')}};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.drop=function(){if(this.head_){this.head_=this.head_.next;if(!this.head_){this.tail_=null}}};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.enqueue=function(b){var a=new $jscomp.AsyncGeneratorWrapper$ExecutionNode_(b,null);if(this.tail_){this.tail_.next=a;this.tail_=a}else {this.head_=a;this.tail_=a}};$jscomp.AsyncGeneratorWrapper=function(b){this.generator_=b;this.delegate_=null;this.executionQueue_=new $jscomp.AsyncGeneratorWrapper$ExecutionQueue_();this[Symbol.asyncIterator]=function(){return this};var a=this;this.boundHandleDelegateResult_=function(c){a.handleDelegateResult_(c)};this.boundHandleDelegateError_=function(c){a.handleDelegateError_(c)};this.boundRejectAndClose_=function(c){a.rejectAndClose_(c)}};$jscomp.AsyncGeneratorWrapper.prototype.enqueueMethod_=function(b,c){var a=this;return new Promise(function(e,f){var d=a.executionQueue_.isEmpty();a.executionQueue_.enqueue(new $jscomp.AsyncGeneratorWrapper$ExecutionFrame_(b,c,e,f));if(d){a.runFrame_()}})};$jscomp.AsyncGeneratorWrapper.prototype.next=function(a){return this.enqueueMethod_($jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT,a)};$jscomp.AsyncGeneratorWrapper.prototype['return']=function(a){return this.enqueueMethod_($jscomp.AsyncGeneratorWrapper$GeneratorMethod.RETURN,new $jscomp.AsyncGeneratorWrapper$ActionRecord($jscomp.AsyncGeneratorWrapper$ActionEnum.YIELD_VALUE,a))};$jscomp.AsyncGeneratorWrapper.prototype['throw']=function(a){return this.enqueueMethod_($jscomp.AsyncGeneratorWrapper$GeneratorMethod.THROW,a)};$jscomp.AsyncGeneratorWrapper.prototype.runFrame_=function(){if(!this.executionQueue_.isEmpty()){try{if(this.delegate_){this.runDelegateFrame_()}else {this.runGeneratorFrame_()}}catch(a){this.rejectAndClose_(a)}}};$jscomp.AsyncGeneratorWrapper.prototype.runGeneratorFrame_=function(){var b=this;var a=this.executionQueue_.first();try{var c=this.generator_[a.method](a.param);if(c.value instanceof $jscomp.AsyncGeneratorWrapper$ActionRecord){switch(c.value.action){case $jscomp.AsyncGeneratorWrapper$ActionEnum.YIELD_VALUE:Promise.resolve(c.value.value).then(function(d){a.resolve({value:d,done:c.done});b.executionQueue_.drop();b.runFrame_()},function(c){a.reject(c);b.executionQueue_.drop();b.runFrame_()})['catch'](this.boundRejectAndClose_);return;case $jscomp.AsyncGeneratorWrapper$ActionEnum.YIELD_STAR:b.delegate_=$jscomp.makeAsyncIterator(c.value.value);a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT;a.param=undefined;b.runFrame_();return;case $jscomp.AsyncGeneratorWrapper$ActionEnum.AWAIT_VALUE:Promise.resolve(c.value.value).then(function(c){a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT;a.param=c;b.runFrame_()},function(c){a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.THROW;a.param=c;b.runFrame_()})['catch'](this.boundRejectAndClose_);return;default:throw new Error('Unrecognized AsyncGeneratorWrapper$ActionEnum');}}else {a.resolve(c);b.executionQueue_.drop();b.runFrame_()}}catch(d){a.reject(d);b.executionQueue_.drop();b.runFrame_()}};$jscomp.AsyncGeneratorWrapper.prototype.runDelegateFrame_=function(){if(!this.delegate_){throw new Error('no delegate to perform execution')}var a=this.executionQueue_.first();if(a.method in this.delegate_){try{this.delegate_[a.method](a.param).then(this.boundHandleDelegateResult_,this.boundHandleDelegateError_)['catch'](this.boundRejectAndClose_)}catch(b){this.handleDelegateError_(b)}}else {this.delegate_=null;this.runFrame_()}};$jscomp.AsyncGeneratorWrapper.prototype.handleDelegateResult_=function(a){var b=this.executionQueue_.first();if(a.done===!0){this.delegate_=null;b.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT;b.param=a.value;this.runFrame_()}else {b.resolve({value:a.value,done:!1});this.executionQueue_.drop();this.runFrame_()}};$jscomp.AsyncGeneratorWrapper.prototype.handleDelegateError_=function(b){var a=this.executionQueue_.first();this.delegate_=null;a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.THROW;a.param=b;this.runFrame_()};$jscomp.AsyncGeneratorWrapper.prototype.rejectAndClose_=function(a){if(!this.executionQueue_.isEmpty()){this.executionQueue_.first().reject(a);this.executionQueue_.drop()}if(this.delegate_&&'return' in this.delegate_){this.delegate_['return'](undefined);this.delegate_=null}this.generator_['return'](undefined);this.runFrame_()};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(a instanceof Object){return}throw new TypeError('Iterator result '+a+' is not an object')};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=undefined;this.nextAddress=1;this.catchAddress_=0;this.finallyAddress_=0;this.abruptCompletion_=null;this.finallyContexts_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_){throw new TypeError('Generator is already running')}this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype['return']=function(a){this.abruptCompletion_={'return':a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return {value:b}};$jscomp.generator.Context.prototype.yieldAll=function(d,b){var c=$jscomp.makeIterator(d);var a=c.next();$jscomp.generator.ensureIteratorResultIsObject_(a);if(a.done){this.yieldResult=a.value;this.nextAddress=b;return}this.yieldAllIterator_=c;return this.yield(a.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;if(a!=undefined){this.finallyAddress_=a}};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;var b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,b,a){if(!a){this.finallyContexts_=[this.abruptCompletion_]}else {this.finallyContexts_[a]=this.abruptCompletion_}this.catchAddress_=c||0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,c){var b=this.finallyContexts_.splice(c||0)[0];var a=this.abruptCompletion_=this.abruptCompletion_||b;if(a){if(a.isException){return this.jumpToErrorHandler_()}if(a.jumpTo!=undefined&&this.finallyAddress_<a.jumpTo){this.nextAddress=a.jumpTo;this.abruptCompletion_=null}else {this.nextAddress=this.finallyAddress_}}else {this.nextAddress=d}};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a){this.properties_.push(b)}this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){while(this.properties_.length>0){var a=this.properties_.pop();if(a in this.object_){return a}}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context();this.program_=a};$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_)}this.context_.next_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a){var c='return' in a?a['return']:function(a){return {value:a,done:!0}};return this.yieldAllStep_(c,b,this.context_['return'])}this.context_['return'](b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],a,this.context_.next_)}this.context_.throw_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,c){try{var a=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(a);if(!a.done){this.context_.stop_();return a}var b=a.value}catch(f){this.context_.yieldAllIterator_=null;this.context_.throw_(f);return this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){while(this.context_.nextAddress){try{var b=this.program_(this.context_);if(b){this.context_.stop_();return {value:b.value,done:!1}}}catch(c){this.context_.yieldResult=undefined;this.context_.throw_(c)}}this.context_.stop_();if(this.context_.abruptCompletion_){var a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException){throw a.exception}return {value:a['return'],done:!0}}return {value:undefined,done:!0}};$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this['throw']=function(b){return a.throw_(b)};this['return']=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,c){var b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));if($jscomp.setPrototypeOf&&a.prototype){$jscomp.setPrototypeOf(b,a.prototype)}return b};$jscomp.asyncExecutePromiseGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};$jscomp.polyfill('globalThis',function(a){return a||$jscomp.global},'es_2020','es3');$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={};var b=Object.create(new $jscomp.global['Proxy'](a,{'get':function(d,e,c){return d==a&&e=='q'&&c==b}}));return b['q']===!0}catch(c){return !1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE){return c}}else {if(isConformant()){return c}}var a='$jscomp_hidden_'+Math.random();function WeakMapMembership(){}function isValidKey(b){var a=typeof b;return a==='object'&&b!==null||a==='function'}function insert(b){if(!$jscomp.owns(b,a)){var d=new WeakMapMembership();$jscomp.defineProperty(b,a,{value:d})}}function patch(a){if($jscomp.ISOLATE_POLYFILLS){return}var b=Object[a];if(b){Object[a]=function(d){if(d instanceof WeakMapMembership){return d}else {if(Object.isExtensible(d)){insert(d)}return b(d)}}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){if(!isValidKey(b)){throw new Error('Invalid WeakMap key')}insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return isValidKey(b)&&$jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return isValidKey(b)&&$jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!isValidKey(b)||!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(i){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(d,e){d=d===0?0:d;var a=c(this,d);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,value:e};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=e}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=h(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var g=0;var h=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++g;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.fround',function(a){if(a){return a}if($jscomp.SIMPLE_FROUND_POLYFILL||typeof Float32Array!=='function'){return function(b){return b}}var b=new Float32Array(1);var c=function(c){b[0]=c;return b[0]};return c},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(f){if(arguments.length<2){return arguments.length?Math.abs(arguments[0]):0}var b,e,d,c;for(c=0,b=0;b<arguments.length;b++){c=Math.max(c,Math.abs(arguments[b]))}if(c>1.0E100||c<1.0E-100){if(!c){return c}d=0;for(b=0;b<arguments.length;b++){e=Number(arguments[b])/c;d+=e*e}return Math.sqrt(d)*c}else {d=0;for(b=0;b<arguments.length;b++){e=Number(arguments[b]);d+=e*e}return Math.sqrt(d)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Number.parseFloat',function(a){return a||parseFloat},'es6','es3');$jscomp.polyfill('Number.parseInt',function(a){return a||parseInt},'es6','es3');$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=='function'?Object.assign:function(d,e){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(!a){continue}for(var b in a){if($jscomp.owns(a,b)){d[b]=a[b]}}}return d};$jscomp.polyfill('Object.assign',function(a){return a||$jscomp.assign},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.fromEntries',function(a){if(a){return a}function fromEntries(b){var f={};if(!(Symbol.iterator in b)){throw new TypeError(''+b+' is not iterable')}var g=b[Symbol.iterator];var e=g.call(b);for(var d=e.next();!d.done;d=e.next()){var c=d.value;if(Object(c)!==c){throw new TypeError('iterable for fromEntries should yield objects')}var h=c[0];var i=c[1];f[h]=i}return f}return fromEntries},'es_2019','es3');$jscomp.polyfill('Reflect',function(a){if(a){return a}return {}},'es6','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Promise',function(d){function platformSupportsPromiseRejectionEvents(){return typeof $jscomp.global['PromiseRejectionEvent']!=='undefined'}function globalPromiseIsNative(){return $jscomp.global['Promise']&&$jscomp.global['Promise'].toString().indexOf('[native code]')!==-1}function shouldForcePolyfillPromise(){return ($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&!platformSupportsPromiseRejectionEvents())&&globalPromiseIsNative()}if(d&&!shouldForcePolyfillPromise()){return d}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(b){if(this.batch_==null){this.batch_=[];var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})}this.batch_.push(b)};var c=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){c(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var c=b[a];b[a]=null;try{c()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(c){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var a=this.createResolveAndReject_();try{c(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(c){return function(e){if(!a){a=!0;c.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else if(b instanceof a){this.settleSameAsPromise_(b)}else if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(c,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+c+', '+a+'): Promise already settled in state'+this.state_)}this.state_=c;this.result_=a;if(this.state_===b.REJECTED){this.scheduleUnhandledRejectionCheck_()}this.executeOnSettledCallbacks_()};a.prototype.scheduleUnhandledRejectionCheck_=function(){var a=this;c(function(){if(a.notifyUnhandledRejection_()){var b=$jscomp.global['console'];if(typeof b!=='undefined'){b.error(a.result_)}}},1)};a.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_){return !1}var c=$jscomp.global['CustomEvent'];var e=$jscomp.global['Event'];var b=$jscomp.global['dispatchEvent'];if(typeof b==='undefined'){return !0}var a;if(typeof c==='function'){a=new c('unhandledrejection',{cancelable:!0})}else if(typeof e==='function'){a=new e('unhandledrejection',{cancelable:!0})}else {a=$jscomp.global['document'].createEvent('CustomEvent');a.initCustomEvent('unhandledrejection',!1,!0,a)}a.promise=this;a.reason=this.result_;return b(a)};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var a=0;a<this.onSettledCallbacks_.length;++a){e.asyncExecute(this.onSettledCallbacks_[a])}this.onSettledCallbacks_=null}};var e=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,c){var a=this.createResolveAndReject_();try{b.call(c,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var c;var e=new a(function(a,e){b=a;c=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){c(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,c));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(c,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:c(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){e.asyncExecute(callback)}else {this.onSettledCallbacks_.push(callback)}this.isRejectionHandled_=!0};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,c){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(c,a){a(b)})};a['race']=function(b){return new a(function(e,f){var c=$jscomp.makeIterator(b);for(var a=c.next();!a.done;a=c.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var c=$jscomp.makeIterator(e);var b=c.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(c){a[b]=c;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=c.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.polyfill('Promise.allSettled',function(a){if(a){return a}function fulfilledResult(b){return {status:'fulfilled',value:b}}function rejectedResult(b){return {status:'rejected',reason:b}}var b=function(c){var b=this;function convertToAllSettledResult(d){return b.resolve(d).then(fulfilledResult,rejectedResult)}var d=Array.from(c,convertToAllSettledResult);return b.all(d)};return b},'es_2020','es3');$jscomp.polyfill('Promise.prototype.finally',function(a){if(a){return a}var b=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d})})};return b},'es9','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('AggregateError',function(b){if(b){return b}var a=function(d,c){var a=Error(c);if('stack' in a){this.stack=a.stack}this.errors=d;this.message=a.message};$jscomp.inherits(a,Error);a.prototype.name='AggregateError';return a},'es_2021','es3');$jscomp.polyfill('Promise.any',function(a){if(a){return a}var b='All promises were rejected';function resolvingArray(b){if(b instanceof Array){return b}else {return Array.from(b)}}var c=function(c){c=resolvingArray(c);return Promise.all(c.map(function(b){return Promise.resolve(b).then(function(d){throw d},function(d){return d})})).then(function(d){throw new AggregateError(d,b)},function(b){return b})};return c},'es_2021','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.getConstructImplementation=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}},'es6','es5');$jscomp.polyfill('Set',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){a=a===0?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.matchAll',function(a){if(a){return a}var b=function(b){if(b instanceof RegExp&&!b.global){throw new TypeError('RegExp passed into String.prototype.matchAll() must have global tag.')}var d=new RegExp(b,b instanceof RegExp?undefined:'g');var f=this;var e=!1;var c={next:function(){if(e){return {value:undefined,done:!0}}var c=d.exec(f);if(!c){e=!0;return {value:undefined,done:!0}}if(c[0]===''){d.lastIndex+=1}return {value:c,done:!1}}};c[Symbol.iterator]=function(){return c};return c};return b},'es_2020','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.raw',function(a){if(a){return a}var b=function(d,g){if(d==null){throw new TypeError('Cannot convert undefined or null to object')}var f=d.raw;var e=f.length;var c='';for(var b=0;b<e;++b){c+=f[b];if(b+1<e&&b+1<arguments.length){c+=String(arguments[b+1])}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.replaceAll',function(a){if(a){return a}function regExpEscape(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,'\\$1').replace(/\x08/g,'\\x08')}var b=function(b,c){if(b instanceof RegExp&&!b.global){throw new TypeError('String.prototype.replaceAll called with a non-global RegExp argument.')}if(b instanceof RegExp){return this.replace(b,c)}return this.replace(new RegExp(regExpEscape(b),'g'),c)};return b},'es_2021','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.polyfill('String.prototype.trimRight',function(a){function polyfill(){return this.replace(/[\s\xa0]+$/,'')}return a||polyfill},'es_2019','es3');$jscomp.polyfill('String.prototype.trimEnd',function(a){return a||String.prototype.trimRight},'es_2019','es3');$jscomp.polyfill('String.prototype.trimLeft',function(a){function polyfill(){return this.replace(/^[\s\xa0]+/,'')}return a||polyfill},'es_2019','es3');$jscomp.polyfill('String.prototype.trimStart',function(a){return a||String.prototype.trimLeft},'es_2019','es3');$jscomp.typedArrayCopyWithin=function(a){if(a){return a}return Array.prototype.copyWithin};$jscomp.polyfill('Int8Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint8Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint8ClampedArray.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Int16Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint16Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Int32Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint32Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Float32Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Float64Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.typedArrayFill=function(a){if(a){return a}return Array.prototype.fill};$jscomp.polyfill('Int8Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint8Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint8ClampedArray.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Int16Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint16Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Int32Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint32Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Float32Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Float64Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.createTemplateTagFirstArg=function(a){a.raw=a;return a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.getRestArguments=function(){var b=Number(this);var c=[];for(var a=b;a<arguments.length;a++){c[a-b]=arguments[a]}return c};$jscomp.polyfill('WeakSet',function(a){function isConformant(){if(!a||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new a([c]);if(!b.has(c)||b.has(d)){return !1}b['delete'](c);b.add(d);return !b.has(c)&&b.has(d)}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE){return a}}else {if(isConformant()){return a}}var b=function(b){this.map_=new WeakMap();if(b){var e=$jscomp.makeIterator(b);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};b.prototype.add=function(b){this.map_.set(b,!0);return this};b.prototype.has=function(b){return this.map_.has(b)};b.prototype['delete']=function(b){return this.map_['delete'](b)};return b},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}Ext.define('Sch.util.Patch',{target:null,minVersion:null,maxVersion:null,reportUrl:null,description:null,applyFn:null,ieOnly:!1,onClassExtended:function(b,a){if(Sch.disableOverrides){return}if(a.ieOnly&&!Ext.isIE){return}if(a.applyFn){a.applyFn()}else {if((!a.minVersion||Ext.versions.extjs.equals(a.minVersion)||Ext.versions.extjs.isGreaterThan(a.minVersion))&&(!a.maxVersion||Ext.versions.extjs.equals(a.maxVersion)||Ext.versions.extjs.isLessThan(a.maxVersion))){a.requires[0].override(a.overrides)}}}});Ext.define('Sch.patches.LoadMask',{extend:'Sch.util.Patch',requires:['Ext.view.AbstractView'],minVersion:'4.1.0b3',reportURL:'http://www.sencha.com/forum/showthread.php?187700-4.1.0-B3-Ext.AbstractView-no-longer-binds-its-store-to-load-mask',description:'In Ext4.1 loadmask no longer bind the store',overrides:{}});Ext.define('Sch.patches.Table',{extend:'Sch.util.Patch',requires:['Ext.view.Table'],minVersion:'4.1.1',maxVersion:'4.1.1',reportURL:'http://www.sencha.com/forum/showthread.php?238026-4.1.1-Alt-row-styling-lost-after-record-update&p=874190#post874190',description:'In Ext4.1.1 when record is updated, the alternate row styling is lost',overrides:{onUpdate:function(d,b,c,e){var a=this.store.indexOf(b);this.callParent(arguments);this.doStripeRows(a,a)}}});Ext.define('Sch.patches.TreeView',{extend:'Sch.util.Patch',requires:['Ext.tree.View'],applyFn:function(){Ext.tree.View.addMembers({providedStore:null,initComponent:function(){var a=this,b=a.panel.getStore();if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}a.store=a.providedStore||new Ext.data.NodeStore({treeStore:b,recursive:!0,rootVisible:a.rootVisible});a.store.on({beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged,scope:a});if(a.node&&!a.store.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents('afteritemexpand','afteritemcollapse');a.callParent(arguments);a.on({element:'el',scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut});a.on({element:'el',scope:a,delegate:a.checkboxSelector,click:a.onCheckboxChange})}})}});Ext.define('Sch.patches.DataOperation',{extend:'Sch.util.Patch',requires:['Ext.data.Operation'],reportURL:'http://www.sencha.com/forum/showthread.php?198894-4.1-Ext.data.TreeStore-CRUD-regression.',description:'In Ext 4.1.0 newly created records do not get the Id returned by server applied',maxVersion:'4.1.0',overrides:{commitRecords:function(h){var b=this,g,d,a,e,c,f,i;if(!b.actionSkipSyncRe.test(b.action)){a=b.records;if(a&&a.length){if(a.length>1){if(b.action=='update'||a[0].clientIdProperty){g=new Ext.util.MixedCollection();g.addAll(h);for(d=a.length;d--;){c=a[d];e=g.findBy(b.matchClientRec,c);c.copyFrom(e)}}else {for(f=0,i=a.length;f<i;++f){c=a[f];e=h[f];if(c&&e){b.updateRecord(c,e)}}}}else {this.updateRecord(a[0],h[0])}if(b.actionCommitRecordsRe.test(b.action)){for(d=a.length;d--;){a[d].commit()}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){a.copyFrom(b)}}}});Ext.define('Sch.patches.TreeStore',{extend:'Sch.util.Patch',requires:['Ext.data.TreeStore'],description:'http://www.sencha.com/forum/showthread.php?208602-Model-s-Id-field-not-defined-after-sync-in-TreeStore-%28CRUD%29',maxVersion:'4.1.0',overrides:{onCreateRecords:function(c){this.callParent(arguments);var a=0,e=c.length,d=this.tree,b;for(;a<e;++a){b=c[a];d.onNodeIdChanged(b,null,b.getId())}},setRootNode:function(a,e){var b=this,c=b.model,d=c.prototype.idProperty;a=a||{};if(!a.isModel){Ext.applyIf(a,{text:'Root',allowDrag:!1});if(a[d]===undefined){a[d]=b.defaultRootId}Ext.data.NodeInterface.decorate(c);a=Ext.ModelManager.create(a,c)}else {if(a.isModel&&!a.isNode){Ext.data.NodeInterface.decorate(c)}}b.getProxy().getReader().buildExtractors(!0);b.tree.setRootNode(a);if(e!==!0&&!a.isLoaded()&&(b.autoLoad===!0||a.isExpanded())){b.load({node:a})}return a}}});Ext.define('Sch.util.Date',{requires:'Ext.Date',singleton:!0,unitsByName:{},constructor:function(){var b=Ext.Date;var d={MILLI:b.MILLI,SECOND:b.SECOND,MINUTE:b.MINUTE,HOUR:b.HOUR,DAY:b.DAY,WEEK:'w',MONTH:b.MONTH,QUARTER:'q',YEAR:b.YEAR};Ext.apply(this,d);var a=this;this.units=[a.MILLI,a.SECOND,a.MINUTE,a.HOUR,a.DAY,a.WEEK,a.MONTH,a.QUARTER,a.YEAR];for(var c in d){if(d.hasOwnProperty(c)){var e=d[c];a.unitNames[e]=a.unitNames[c];a.unitsByName[c]=e;a.unitsByName[e]=e}}},betweenLesser:function(c,d,b){var a=c.getTime();return d.getTime()<=a&&a<b.getTime()},constrain:function(b,c,a){return this.min(this.max(b,c),a)},compareUnits:function(d,c){var a=Ext.Array.indexOf(this.units,d),b=Ext.Array.indexOf(this.units,c);return a>b?1:a<b?-1:0},isUnitGreater:function(b,a){return this.compareUnits(b,a)>0},copyTimeValues:function(b,a){b.setHours(a.getHours());b.setMinutes(a.getMinutes());b.setSeconds(a.getSeconds());b.setMilliseconds(a.getMilliseconds())},add:function(b,e,c){var a=Ext.Date.clone(b);if(!e||c===0){return a}switch(e.toLowerCase()){case this.MILLI:a=new Date(b.getTime()+c);break;case this.SECOND:a=new Date(b.getTime()+c*1000);break;case this.MINUTE:a=new Date(b.getTime()+c*60000);break;case this.HOUR:a=new Date(b.getTime()+c*3600000);break;case this.DAY:a.setDate(b.getDate()+c);break;case this.WEEK:a.setDate(b.getDate()+c*7);break;case this.MONTH:var d=b.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(this.add(Ext.Date.getFirstDateOfMonth(b),this.MONTH,c)).getDate())};a.setDate(d);a.setMonth(a.getMonth()+c);break;case this.QUARTER:a=this.add(b,this.MONTH,c*3);break;case this.YEAR:a.setFullYear(b.getFullYear()+c);break;}return a},getMeasuringUnit:function(a){if(a===this.WEEK){return this.DAY}return a},getDurationInUnit:function(c,b,d){var a;switch(d){case this.YEAR:a=Math.round(this.getDurationInYears(c,b));break;case this.QUARTER:a=Math.round(this.getDurationInMonths(c,b)/3);break;case this.MONTH:a=Math.round(this.getDurationInMonths(c,b));break;case this.WEEK:a=Math.round(this.getDurationInDays(c,b))/7;break;case this.DAY:a=Math.round(this.getDurationInDays(c,b));break;case this.HOUR:a=Math.round(this.getDurationInHours(c,b));break;case this.MINUTE:a=Math.round(this.getDurationInMinutes(c,b));break;case this.SECOND:a=Math.round(this.getDurationInSeconds(c,b));break;case this.MILLI:a=Math.round(this.getDurationInMilliseconds(c,b));break;}return a},getUnitToBaseUnitRatio:function(b,a){if(b===a){return 1}switch(b){case this.YEAR:switch(a){case this.QUARTER:return 1/4;case this.MONTH:return 1/12;};break;case this.QUARTER:switch(a){case this.YEAR:return 4;case this.MONTH:return 1/3;};break;case this.MONTH:switch(a){case this.YEAR:return 12;case this.QUARTER:return 3;};break;case this.WEEK:switch(a){case this.DAY:return 1/7;case this.HOUR:return 1/168;};break;case this.DAY:switch(a){case this.WEEK:return 7;case this.HOUR:return 1/24;case this.MINUTE:return 1/1440;};break;case this.HOUR:switch(a){case this.DAY:return 24;case this.MINUTE:return 1/60;};break;case this.MINUTE:switch(a){case this.HOUR:return 60;case this.SECOND:return 1/60;case this.MILLI:return 1/60000;};break;case this.SECOND:switch(a){case this.MILLI:return 1/1000;};break;case this.MILLI:switch(a){case this.SECOND:return 1000;};break;}return -1},getDurationInMilliseconds:function(b,a){return a-b},getDurationInSeconds:function(b,a){return (a-b)/1000},getDurationInMinutes:function(b,a){return (a-b)/60000},getDurationInHours:function(b,a){return (a-b)/3600000},getDurationInDays:function(b,a){return (a-b)/86400000},getDurationInBusinessDays:function(d,e){var f=Math.round((e-d)/86400000),c=0,b;for(var a=0;a<f;a++){b=this.add(d,this.DAY,a).getDay();if(b!==6&&b!==0){c++}}return c},getDurationInMonths:function(b,a){return (a.getFullYear()-b.getFullYear())*12+(a.getMonth()-b.getMonth())},getDurationInYears:function(b,a){return this.getDurationInMonths(b,a)/12},min:function(b,a){return b<a?b:a},max:function(b,a){return b>a?b:a},intersectSpans:function(b,d,a,c){return this.betweenLesser(b,a,c)||this.betweenLesser(a,b,d)},getNameOfUnit:function(a){a=this.getUnitByName(a);switch(a.toLowerCase()){case this.YEAR:return 'YEAR';case this.QUARTER:return 'QUARTER';case this.MONTH:return 'MONTH';case this.WEEK:return 'WEEK';case this.DAY:return 'DAY';case this.HOUR:return 'HOUR';case this.MINUTE:return 'MINUTE';case this.SECOND:return 'SECOND';case this.MILLI:return 'MILLI';}throw 'Incorrect UnitName'},unitNames:{YEAR:{single:'year',plural:'years',abbrev:'yr'},QUARTER:{single:'quarter',plural:'quarters',abbrev:'q'},MONTH:{single:'month',plural:'months',abbrev:'mon'},WEEK:{single:'week',plural:'weeks',abbrev:'w'},DAY:{single:'day',plural:'days',abbrev:'d'},HOUR:{single:'hour',plural:'hours',abbrev:'h'},MINUTE:{single:'minute',plural:'minutes',abbrev:'min'},SECOND:{single:'second',plural:'seconds',abbrev:'s'},MILLI:{single:'ms',plural:'ms',abbrev:'ms'}},getReadableNameOfUnit:function(b,a){return this.unitNames[b][a?'plural':'single']},getShortNameOfUnit:function(a){return this.unitNames[a].abbrev},getUnitByName:function(a){if(!this.unitsByName[a]){Ext.Error.raise('Unknown unit name: '+a)}return this.unitsByName[a]},getNext:function(e,f,b,d){var a=Ext.Date.clone(e);b=b||1;switch(f){case this.DAY:Ext.Date.clearTime(a);a=this.add(a,this.DAY,b);break;case this.WEEK:var c=a.getDay();a=this.add(a,this.DAY,7*(b-1)+(c<d?d-c:7-c+d));break;case this.MONTH:a=this.add(a,this.MONTH,b);a.setDate(1);break;case this.QUARTER:a=this.add(a,this.MONTH,(b-1)*3+(3-a.getMonth()%3));break;case this.YEAR:a=new Date(a.getFullYear()+b,0,1);break;default:a=this.add(e,f,b);break;}return a},getNumberOfMsFromTheStartOfDay:function(a){return a-Ext.Date.clearTime(a,!0)||86400000},getNumberOfMsTillTheEndOfDay:function(a){return this.getStartOfNextDay(a,!0)-a},getStartOfNextDay:function(a,c){var b=this.add(Ext.Date.clearTime(a,c),this.DAY,1);if(b.getDate()==a.getDate()){var e=this.add(Ext.Date.clearTime(a,c),this.DAY,2).getTimezoneOffset();var d=a.getTimezoneOffset();b=this.add(b,this.MINUTE,d-e)}return b},getEndOfPreviousDay:function(b){var a=Ext.Date.clearTime(b,!0);if(a-b){return a}else {return this.add(a,this.DAY,-1)}},timeSpanContains:function(c,b,d,a){return d-c>=0&&b-a>=0}});Ext.define('Sch.util.DragTracker',{extend:'Ext.dd.DragTracker',xStep:1,yStep:1,setXStep:function(a){this.xStep=a},setYStep:function(a){this.yStep=a},getRegion:function(){var b=this.startXY,a=this.getXY(),c=Math.min(b[0],a[0]),d=Math.min(b[1],a[1]),f=Math.abs(b[0]-a[0]),e=Math.abs(b[1]-a[1]);return new Ext.util.Region(d,c+f,d+e,c)},onMouseDown:function(a,g){if(this.disabled||a.dragTracked){return}var f=a.getXY(),e,d,b=f[0],c=f[1];if(this.xStep>1){e=this.el.getX();b-=e;b=Math.round(b/this.xStep)*this.xStep;b+=e}if(this.yStep>1){d=this.el.getY();c-=d;c=Math.round(c/this.yStep)*this.yStep;c+=d}this.dragTarget=this.delegate?g:this.handle.dom;this.startXY=this.lastXY=[b,c];this.startRegion=Ext.fly(this.dragTarget).getRegion();if(this.fireEvent('mousedown',this,a)===!1||this.fireEvent('beforedragstart',this,a)===!1||this.onBeforeStart(a)===!1){return}this.mouseIsDown=!0;a.dragTracked=!0;if(this.preventDefault!==!1){a.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=Ext.defer(this.triggerStart,this.autoStart===!0?1000:this.autoStart,this,[a])}},onMouseMove:function(a,g){if(this.active&&Ext.isIE&&!a.browserEvent.button){a.preventDefault();this.onMouseUp(a);return}a.preventDefault();var c=a.getXY(),e=this.startXY;if(!this.active){if(Math.max(Math.abs(e[0]-c[0]),Math.abs(e[1]-c[1]))>this.tolerance){this.triggerStart(a)}else {return}}var b=c[0],d=c[1];if(this.xStep>1){b-=this.startXY[0];b=Math.round(b/this.xStep)*this.xStep;b+=this.startXY[0]}if(this.yStep>1){d-=this.startXY[1];d=Math.round(d/this.yStep)*this.yStep;d+=this.startXY[1]}var f=this.xStep>1||this.yStep>1;if(!f||b!==c[0]||d!==c[1]){this.lastXY=[b,d];if(this.fireEvent('mousemove',this,a)===!1){this.onMouseUp(a)}else {this.onDrag(a);this.fireEvent('drag',this,a)}}}});Ext.define('Sch.util.HeaderRenderers',{singleton:!0,requires:['Sch.util.Date','Ext.XTemplate'],constructor:function(){var a=Ext.create('Ext.XTemplate','<table class="sch-nested-hdr-tbl '+Ext.baseCSSPrefix+'column-header-text" cellpadding="0" cellspacing="0"><tr><tpl for="."><td style="width:{[100/xcount]}%" class="{cls} sch-dayheadercell-{dayOfWeek}">{text}</td></tpl></tr></table>').compile();var b=Ext.create('Ext.XTemplate','<table class="sch-nested-hdr-tbl" cellpadding="0" cellspacing="0"><tr><tpl for="."><td style="width:{[100/xcount]}%" class="{cls}">{text}</td></tpl></tr></table>').compile();return {quarterMinute:function(d,b,a,c){a.headerCls='sch-nested-hdr-pad';return '<table class="sch-nested-hdr-tbl" cellpadding="0" cellspacing="0"><tr><td>00</td><td>15</td><td>30</td><td>45</td></tr></table>'},dateCells:function(c,a,d){return function(i,h,g){g.headerCls='sch-nested-hdr-nopad';var e=[],f=Ext.Date.clone(i);while(f<h){e.push({text:Ext.Date.format(f,d)});f=Sch.util.Date.add(f,c,a)}e[0].cls='sch-nested-hdr-cell-first';e[e.length-1].cls='sch-nested-hdr-cell-last';return b.apply(e)}},dateNumber:function(f,e,d){d.headerCls='sch-nested-hdr-nopad';var c=[],b=Ext.Date.clone(f);while(b<e){c.push({dayOfWeek:b.getDay(),text:b.getDate()});b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)}return a.apply(c)},dayLetter:function(f,e,d){d.headerCls='sch-nested-hdr-nopad';var c=[],b=f;while(b<e){c.push({dayOfWeek:b.getDay(),text:Ext.Date.dayNames[b.getDay()].substr(0,1)});b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)}c[0].cls='sch-nested-hdr-cell-first';c[c.length-1].cls='sch-nested-hdr-cell-last';return a.apply(c)},dayStartEndHours:function(c,b,a){a.headerCls='sch-hdr-startend';return Ext.String.format('<span class="sch-hdr-start">{0}</span><span class="sch-hdr-end">{1}</span>',Ext.Date.format(c,'G'),Ext.Date.format(b,'G'))}}}});Ext.define('Sch.model.Customizable',{extend:'Ext.data.Model',customizableFields:null,onClassExtended:function(c,d,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(g,k){b.call(this,g,k);var e=g.prototype;if(!e.customizableFields){return}e.customizableFields=(g.superclass.customizableFields||[]).concat(e.customizableFields);var h=e.customizableFields;var j={};Ext.Array.each(h,function(b){if(typeof b=='string'){b={name:b}}j[b.name]=b});var f=e.fields;var i=[];f.each(function(b){if(b.isCustomizableField){i.push(b)}});f.removeAll(i);Ext.Object.each(j,function(q,n){n.isCustomizableField=!0;var i=n.name;var p=i==='Id'?'idProperty':i.charAt(0).toLowerCase()+i.substr(1)+'Field';var o=e[p];var b=o||i;if(f.containsKey(b)){f.getByKey(b).isCustomizableField=!0;h.push(new Ext.data.Field(Ext.applyIf({name:i,isCustomizableField:!0},f.getByKey(b))))}else {f.add(new Ext.data.Field(Ext.applyIf({name:b,isCustomizableField:!0},n)))}var m=Ext.String.capitalize(i);if(m!='Id'){var l='get'+m;var j='set'+m;if(!e[l]||e[l].__getterFor__&&e[l].__getterFor__!=b){e[l]=function(){return this.data[b]};e[l].__getterFor__=b}if(!e[j]||e[j].__setterFor__&&e[j].__setterFor__!=b){e[j]=function(e){return this.set(b,e)};e[j].__setterFor__=b}}})}},set:function(b,c){if(arguments.length===2){this.previous=this.previous||{};var a=this.get(b);if(a!==c){this.previous[b]=a}}this.callParent(arguments)},afterEdit:function(){this.callParent(arguments);delete this.previous},reject:function(){var a=this,c=a.modified,b;a.previous=a.previous||{};for(b in c){if(c.hasOwnProperty(b)){if(typeof c[b]!='function'){a.previous[b]=a.get(b)}}}a.callParent(arguments);delete a.previous}});Ext.define('Sch.patches.Model',{extend:'Sch.util.Patch',requires:'Sch.model.Customizable',reportURL:'http://www.sencha.com/forum/showthread.php?198250-4.1-Ext.data.Model-regression',description:'In Ext 4.1 Models cannot be subclassed',maxVersion:'4.1.0',applyFn:function(){try{Ext.define('Sch.foo',{extend:'Ext.data.Model',fields:['a']});Ext.define('Sch.foo.Sub',{extend:'Sch.foo',fields:['a']})}catch(b){Ext.data.Types.AUTO.convert=function(a){return a}}}});Ext.define('Sch.model.Range',{extend:'Sch.model.Customizable',requires:['Sch.util.Date','Sch.patches.DataOperation'],startDateField:'StartDate',endDateField:'EndDate',nameField:'Name',clsField:'Cls',customizableFields:[{name:'StartDate',type:'date',dateFormat:'c'},{name:'EndDate',type:'date',dateFormat:'c'},{name:'Cls',type:'string'},{name:'Name',type:'string'}],setStartEndDate:function(b,a){this.beginEdit();this.set(this.startDateField,b);this.set(this.endDateField,a);this.endEdit()},getDates:function(){var b=[],c=this.getEndDate();for(var a=Ext.Date.clearTime(this.getStartDate(),!0);a<c;a=Sch.util.Date.add(a,Sch.util.Date.DAY,1)){b.push(a)}return b},forEachDate:function(b,a){return Ext.each(this.getDates(),b,a)},isValid:function(){var a=this.callParent(arguments);if(a){var c=this.getStartDate(),b=this.getEndDate();a=!c||!b||b-c>=0}return a},shift:function(b,a){this.setStartEndDate(Sch.util.Date.add(this.getStartDate(),b,a),Sch.util.Date.add(this.getEndDate(),b,a))}});Ext.define('Sch.model.Resource',{extend:'Sch.model.Customizable',idProperty:'Id',nameField:'Name',customizableFields:['Id',{name:'Name',type:'string'}],getEventStore:function(){return this.stores[0]&&this.stores[0].eventStore||this.parentNode&&this.parentNode.getEventStore()},getEvents:function(a){var d=[],b,f=this.getId()||this.internalId;a=a||this.getEventStore();for(var c=0,e=a.getCount();c<e;c++){b=a.getAt(c);if(b.data[b.resourceIdField]===f){d.push(b)}}return d}});Ext.define('Sch.data.mixin.ResourceStore',{});Ext.define('Sch.data.ResourceStore',{extend:'Ext.data.Store',model:'Sch.model.Resource',mixins:['Sch.data.mixin.ResourceStore']});Ext.define('Sch.data.TimeAxis',{extend:'Ext.util.Observable',requires:['Ext.data.JsonStore','Sch.util.Date'],continuous:!0,autoAdjust:!0,constructor:function(a){Ext.apply(this,a);this.originalContinuous=this.continuous;this.addEvents('beforereconfigure','reconfigure');this.tickStore=new Ext.data.JsonStore({fields:['start','end']});this.tickStore.on('datachanged',function(){this.fireEvent('reconfigure',this)},this);this.callParent(arguments)},reconfigure:function(b){Ext.apply(this,b);var a=this.tickStore,c=this.generateTicks(this.start,this.end,this.unit,this.increment||1,this.mainUnit);if(this.fireEvent('beforereconfigure',this,this.start,this.end)!==!1){a.suspendEvents(!0);a.loadData(c);if(a.getCount()===0){Ext.Error.raise('Invalid time axis configuration or filter, please check your input data.')}a.resumeEvents()}},setTimeSpan:function(b,a){this.reconfigure({start:b,end:a})},filterBy:function(c,b){this.continuous=!1;b=b||this;var a=this.tickStore;a.clearFilter(!0);a.suspendEvents(!0);a.filter([{filterFn:function(d,a){return c.call(b,d.data,a)}}]);if(a.getCount()===0){Ext.Error.raise('Invalid time axis filter - no columns passed through the filter. Please check your filter method.');this.clearFilter()}a.resumeEvents()},isContinuous:function(){return this.continuous&&!this.tickStore.isFiltered()},clearFilter:function(){this.continuous=this.originalContinuous;this.tickStore.clearFilter()},generateTicks:function(a,h,g,d){var c=[],b,e=Sch.util.Date,f=0;g=g||this.unit;d=d||this.increment;if(this.autoAdjust){a=this.floorDate(a||this.getStart(),!1);h=this.ceilDate(h||e.add(a,this.mainUnit,this.defaultSpan),!1)}while(a<h){b=this.getNext(a,g,d);if(g===e.HOUR&&d>1&&c.length>0&&f===0){var i=c[c.length-1];f=(i.start.getHours()+d)%24-i.end.getHours();if(f!==0){b=e.add(b,e.HOUR,f)}}c.push({start:a,end:b});a=b}return c},getTickFromDate:function(b){if(this.getStart()>b||this.getEnd()<b){return -1}var e=this.tickStore.getRange(),c,d,a,f;for(a=0,f=e.length;a<f;a++){d=e[a].data.end;if(b<=d){c=e[a].data.start;return a+(b>c?(b-c)/(d-c):0)}}return -1},getDateFromTick:function(c,e){var g=this.tickStore.getCount();if(c===g){return this.getEnd()}var d=Math.floor(c),f=c-d,b=this.getAt(d);var a=Sch.util.Date.add(b.start,Sch.util.Date.MILLI,f*(b.end-b.start));if(e){a=this[e+'Date'](a)}return a},getAt:function(a){return this.tickStore.getAt(a).data},getCount:function(){return this.tickStore.getCount()},getTicks:function(){var a=[];this.tickStore.each(function(b){a.push(b.data)});return a},getStart:function(){return Ext.Date.clone(this.tickStore.first().data.start)},getEnd:function(){return Ext.Date.clone(this.tickStore.last().data.end)},roundDate:function(t){var a=Ext.Date.clone(t),c=this.getStart(),b=this.resolutionIncrement;switch(this.resolutionUnit){case Sch.util.Date.MILLI:var i=Sch.util.Date.getDurationInMilliseconds(c,a),h=Math.round(i/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,h);break;case Sch.util.Date.SECOND:var m=Sch.util.Date.getDurationInSeconds(c,a),s=Math.round(m/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,s*1000);break;case Sch.util.Date.MINUTE:var q=Sch.util.Date.getDurationInMinutes(c,a),f=Math.round(q/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.SECOND,f*60);break;case Sch.util.Date.HOUR:var p=Sch.util.Date.getDurationInHours(this.getStart(),a),n=Math.round(p/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MINUTE,n*60);break;case Sch.util.Date.DAY:var g=Sch.util.Date.getDurationInDays(c,a),j=Math.round(g/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.DAY,j);break;case Sch.util.Date.WEEK:Ext.Date.clearTime(a);var d=a.getDay()-this.weekStartDay,e;if(d<0){d=7+d};if(Math.round(d/7)===1){e=7-d}else {e=-d};a=Sch.util.Date.add(a,Sch.util.Date.DAY,e);break;case Sch.util.Date.MONTH:var r=Sch.util.Date.getDurationInMonths(c,a)+a.getDate()/Ext.Date.getDaysInMonth(a),l=Math.round(r/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MONTH,l);break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);a.setDate(1);a=Sch.util.Date.add(a,Sch.util.Date.MONTH,3-a.getMonth()%3);break;case Sch.util.Date.YEAR:var o=Sch.util.Date.getDurationInYears(c,a),k=Math.round(o/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.YEAR,k);break;}return a},floorDate:function(g,d,h){d=d!==!1;var a=Ext.Date.clone(g),c=d?this.getStart():null,b=this.resolutionIncrement,f;if(h){f=h}else {f=d?this.resolutionUnit:this.mainUnit}switch(f){case Sch.util.Date.MILLI:if(d){var l=Sch.util.Date.getDurationInMilliseconds(c,a),k=Math.floor(l/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,k)};break;case Sch.util.Date.SECOND:if(d){var p=Sch.util.Date.getDurationInSeconds(c,a),v=Math.floor(p/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MILLI,v*1000)}else {a.setMilliseconds(0)};break;case Sch.util.Date.MINUTE:if(d){var t=Sch.util.Date.getDurationInMinutes(c,a),i=Math.floor(t/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.SECOND,i*60)}else {a.setSeconds(0);a.setMilliseconds(0)};break;case Sch.util.Date.HOUR:if(d){var s=Sch.util.Date.getDurationInHours(this.getStart(),a),q=Math.floor(s/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MINUTE,q*60)}else {a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)};break;case Sch.util.Date.DAY:if(d){var j=Sch.util.Date.getDurationInDays(c,a),m=Math.floor(j/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.DAY,m)}else {Ext.Date.clearTime(a)};break;case Sch.util.Date.WEEK:var e=a.getDay();Ext.Date.clearTime(a);if(e!==this.weekStartDay){a=Sch.util.Date.add(a,Sch.util.Date.DAY,-(e>this.weekStartDay?e-this.weekStartDay:7-e-this.weekStartDay))};break;case Sch.util.Date.MONTH:if(d){var u=Sch.util.Date.getDurationInMonths(c,a),o=Math.floor(u/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.MONTH,o)}else {Ext.Date.clearTime(a);a.setDate(1)};break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);a.setDate(1);a=Sch.util.Date.add(a,Sch.util.Date.MONTH,-(a.getMonth()%3));break;case Sch.util.Date.YEAR:if(d){var r=Sch.util.Date.getDurationInYears(c,a),n=Math.floor(r/b)*b;a=Sch.util.Date.add(c,Sch.util.Date.YEAR,n)}else {a=new Date(g.getFullYear(),0,1)};break;}return a},ceilDate:function(g,c,e){var a=Ext.Date.clone(g);c=c!==!1;var f=c?this.resolutionIncrement:1,b=!1,d;if(e){d=e}else {d=c?this.resolutionUnit:this.mainUnit}switch(d){case Sch.util.Date.DAY:if(a.getMinutes()>0||a.getSeconds()>0||a.getMilliseconds()>0){b=!0};break;case Sch.util.Date.WEEK:Ext.Date.clearTime(a);if(a.getDay()!==this.weekStartDay){b=!0};break;case Sch.util.Date.MONTH:Ext.Date.clearTime(a);if(a.getDate()!==1){b=!0};break;case Sch.util.Date.QUARTER:Ext.Date.clearTime(a);if(a.getMonth()%3!==0){b=!0};break;case Sch.util.Date.YEAR:Ext.Date.clearTime(a);if(a.getMonth()!==0&&a.getDate()!==1){b=!0};break;default:break;}if(b){return this.getNext(a,d,f)}else {return a}},getNext:function(b,c,a){return Sch.util.Date.getNext(b,c,a,this.weekStartDay)},getResolution:function(){return {unit:this.resolutionUnit,increment:this.resolutionIncrement}},setResolution:function(b,a){this.resolutionUnit=b;this.resolutionIncrement=a||1},shiftNext:function(a){a=a||this.getShiftIncrement();var b=this.getShiftUnit();this.setTimeSpan(Sch.util.Date.add(this.getStart(),b,a),Sch.util.Date.add(this.getEnd(),b,a))},shiftPrevious:function(a){a=-(a||this.getShiftIncrement());var b=this.getShiftUnit();this.setTimeSpan(Sch.util.Date.add(this.getStart(),b,a),Sch.util.Date.add(this.getEnd(),b,a))},getShiftUnit:function(){return this.shiftUnit||this.getMainUnit()},getShiftIncrement:function(){return this.shiftIncrement||1},getUnit:function(){return this.unit},getIncrement:function(){return this.increment},timeSpanInAxis:function(b,a){if(this.continuous){return Sch.util.Date.intersectSpans(b,a,this.getStart(),this.getEnd())}else {return a>b&&this.getTickFromDate(b)!==this.getTickFromDate(a)}},forEachInterval:function(b,c,a){a=a||this;if(b==='top'||b==='middle'&&this.headerConfig.bottom){this.forEachAuxInterval(b,c,a)}else {this.tickStore.each(function(d,e){return c.call(a,d.data.start,d.data.end,e)})}},forEachMainInterval:function(a,b){this.forEachInterval('middle',a,b)},forEachAuxInterval:function(d,g,c){c=c||this;var e=this.getEnd(),a=this.getStart(),f=0,b;while(a<e){b=Sch.util.Date.min(this.getNext(a,this.headerConfig[d].unit,this.headerConfig[d].increment||1),e);g.call(c,a,b,f);a=b;f++}}});Ext.define('Sch.preset.Manager',{extend:'Ext.util.MixedCollection',requires:['Sch.util.Date','Sch.util.HeaderRenderers'],singleton:!0,constructor:function(){this.callParent(arguments);this.registerDefaults()},registerPreset:function(e,a){if(a){var c=a.headerConfig;var b=Sch.util.Date;for(var d in c){if(c.hasOwnProperty(d)){if(b[c[d].unit]){c[d].unit=b[c[d].unit.toUpperCase()]}}}if(!a.timeColumnWidth){a.timeColumnWidth=50}if(a.timeResolution&&b[a.timeResolution.unit]){a.timeResolution.unit=b[a.timeResolution.unit.toUpperCase()]}if(a.shiftUnit&&b[a.shiftUnit]){a.shiftUnit=b[a.shiftUnit.toUpperCase()]}}if(this.isValidPreset(a)){if(this.containsKey(e)){this.removeAtKey(e)}this.add(e,a)}else {throw 'Invalid preset, please check your configuration'}},isValidPreset:function(a){var e=Sch.util.Date,b=!0,c=Sch.util.Date.units;for(var d in a.headerConfig){if(a.headerConfig.hasOwnProperty(d)){b=b&&Ext.Array.indexOf(c,a.headerConfig[d].unit)>=0}}if(a.timeResolution){b=b&&Ext.Array.indexOf(c,a.timeResolution.unit)>=0}if(a.shiftUnit){b=b&&Ext.Array.indexOf(c,a.shiftUnit)>=0}return b},getPreset:function(a){return this.get(a)},deletePreset:function(a){this.removeAtKey(a)},registerDefaults:function(){var c=this,a=this.defaultPresets;for(var b in a){c.registerPreset(b,a[b])}},defaultPresets:{minuteAndHour:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'HOUR',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'MINUTE',increment:'30',dateFormat:'i'},top:{unit:'HOUR',dateFormat:'D, GA/m'}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'DAY',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'HOUR',dateFormat:'G:i'},top:{unit:'DAY',dateFormat:'D d/m'}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d G:i',shiftUnit:'DAY',shiftIncrement:1,defaultSpan:5,timeResolution:{unit:'HOUR',increment:1},headerConfig:{middle:{unit:'DAY',dateFormat:'D d M'},top:{unit:'WEEK',dateFormat:'W M Y',renderer:function(a,c,b){return Sch.util.Date.getShortNameOfUnit('WEEK')+'.'+Ext.Date.format(a,'W M Y')}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'HOUR',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'MINUTE',increment:'30',dateFormat:'i'},top:{unit:'HOUR',dateFormat:'D, GA/m'}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'G:i',shiftIncrement:1,shiftUnit:'DAY',defaultSpan:24,timeResolution:{unit:'MINUTE',increment:30},headerConfig:{middle:{unit:'HOUR',dateFormat:'G:i'},top:{unit:'DAY',dateFormat:'D d/m'}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d G:i',shiftUnit:'DAY',shiftIncrement:1,defaultSpan:5,timeResolution:{unit:'HOUR',increment:1},headerConfig:{middle:{unit:'DAY',dateFormat:'D d M'},top:{unit:'WEEK',dateFormat:'W M Y',renderer:function(a,c,b){return Sch.util.Date.getShortNameOfUnit('WEEK')+'.'+Ext.Date.format(a,'W M Y')}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:1,timeResolution:{unit:'DAY',increment:1},headerConfig:{bottom:{unit:'DAY',increment:1,dateFormat:'d/m'},middle:{unit:'WEEK',dateFormat:'D d M',align:'left'}}},weekAndMonth:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:5,defaultSpan:6,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'WEEK',renderer:function(b,c,a){a.align='left';return Ext.Date.format(b,'d M')}},top:{unit:'MONTH',dateFormat:'M Y'}}},monthAndYear:{timeColumnWidth:110,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftIncrement:3,shiftUnit:'MONTH',defaultSpan:12,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'MONTH',dateFormat:'M Y'},top:{unit:'YEAR',dateFormat:'Y'}}},year:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'YEAR',shiftIncrement:1,defaultSpan:1,timeResolution:{unit:'MONTH',increment:1},headerConfig:{bottom:{unit:'QUARTER',renderer:function(a,c,b){return Ext.String.format(Sch.util.Date.getShortNameOfUnit('QUARTER').toUpperCase()+'{0}',Math.floor(a.getMonth()/3)+1)}},middle:{unit:'YEAR',dateFormat:'Y'}}},weekAndDayLetter:{timeColumnWidth:20,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:10,timeResolution:{unit:'DAY',increment:1},headerConfig:{bottom:{unit:'DAY',increment:1,renderer:function(a){return Ext.Date.dayNames[a.getDay()].substring(0,1)}},middle:{unit:'WEEK',dateFormat:'D d M Y',align:'left'}}},weekDateAndMonth:{timeColumnWidth:30,rowHeight:24,resourceColumnWidth:100,displayDateFormat:'Y-m-d',shiftUnit:'WEEK',shiftIncrement:1,defaultSpan:10,timeResolution:{unit:'DAY',increment:1},headerConfig:{middle:{unit:'WEEK',dateFormat:'d'},top:{unit:'MONTH',dateFormat:'Y F',align:'left'}}}}});Ext.define('Sch.feature.AbstractTimeSpan',{extend:'Ext.AbstractPlugin',lockableScope:'normal',schedulerView:null,timeAxis:null,containerEl:null,expandToFitView:!1,disabled:!1,cls:null,template:null,store:null,renderElementsBuffered:!1,renderDelay:15,constructor:function(a){this.uniqueCls=this.uniqueCls||'sch-timespangroup-'+Ext.id();Ext.apply(this,a)},setDisabled:function(a){if(a){this.removeElements()}this.disabled=a},getElements:function(){if(this.containerEl){return this.containerEl.select('.'+this.uniqueCls)}return null},removeElements:function(){var a=this.getElements();if(a){a.remove()}},init:function(a){this.timeAxis=a.getTimeAxis();this.schedulerView=a.getSchedulingView();if(!this.store){Ext.Error.raise('Error: You must define a store for this plugin')}this.schedulerView.on({afterrender:this.onAfterRender,destroy:this.onDestroy,scope:this})},onAfterRender:function(b){var a=this.schedulerView;this.containerEl=a.el;a.mon(this.store,{load:this.renderElements,datachanged:this.renderElements,clear:this.renderElements,add:this.renderElements,remove:this.renderElements,update:this.refreshSingle,scope:this});if(Ext.data.NodeStore&&a.store instanceof Ext.data.NodeStore){if(a.animate){}else {a.mon(a.store,{expand:this.renderElements,collapse:this.renderElements,scope:this})}}a.on({refresh:this.renderElements,itemadd:this.renderElements,itemremove:this.renderElements,itemupdate:this.renderElements,groupexpand:this.renderElements,groupcollapse:this.renderElements,columnwidthchange:this.renderElements,resize:this.renderElements,scope:this});a.headerCt.on({add:this.renderElements,remove:this.renderElements,scope:this});a.ownerCt.up('panel').on({viewchange:this.renderElements,orientationchange:this.renderElements,scope:this});this.renderElements()},renderElements:function(){if(this.renderElementsBuffered||this.disabled||this.schedulerView.headerCt.getColumnCount()===0){return}this.renderElementsBuffered=!0;Ext.Function.defer(this.renderElementsInternal,this.renderDelay,this)},renderElementsInternal:function(){this.renderElementsBuffered=!1;if(this.disabled||this.schedulerView.isDestroyed||this.schedulerView.headerCt.getColumnCount()===0){return}this.removeElements();var c=this.timeAxis.getStart(),a=this.timeAxis.getEnd(),b=this.getElementData(c,a);this.template.insertFirst(this.containerEl,b)},getElementData:function(b,a){throw 'Abstract method call'},onDestroy:function(){if(this.store.autoDestroy){this.store.destroy()}},refreshSingle:function(g,c){var a=Ext.get(this.uniqueCls+'-'+c.internalId);if(a){var f=this.timeAxis.getStart(),d=this.timeAxis.getEnd(),b=this.getElementData(f,d,[c])[0],e=c.clsField||'Cls';a.dom.className=this.cls+' '+this.uniqueCls+' '+(b[e]||'');a.setTop(b.top);a.setLeft(b.left);a.setSize(b.width,b.height)}else {this.renderElements()}}});Ext.define('Sch.plugin.Lines',{extend:'Sch.feature.AbstractTimeSpan',cls:'sch-timeline',showTip:!0,innerTpl:null,init:function(c){this.callParent(arguments);var b=this.schedulerView;if(Ext.isString(this.innerTpl)){this.innerTpl=new Ext.XTemplate(this.innerTpl)}var a=this.innerTpl;if(!this.template){this.template=new Ext.XTemplate('<tpl for=".">','<div id="'+this.uniqueCls+'-{id}"'+(this.showTip?'title="{[this.getTipText(values)]}" ':'')+'class="'+this.cls+' '+this.uniqueCls+' {Cls}" style="left:{left}px;top:{top}px;height:{height}px;width:{width}px">'+(a?'{[this.renderInner(values)]}':'')+'</div>','</tpl>',{getTipText:function(a){return b.getFormattedDate(a.Date)+' '+(a.Text||'')},renderInner:function(b){return a.apply(b)}})}},getElementData:function(j,k,g){var l=this.store,i=this.schedulerView,f=g||l.getRange(),e=[],n=this.containerEl.lastBox?this.containerEl.lastBox.height:this.containerEl.getHeight(),b,c,a,m;for(var d=0,h=f.length;d<h;d++){b=f[d];c=b.get('Date');if(c&&Ext.Date.between(c,j,k)){a=i.getTimeSpanRegion(c,null,this.expandToFitView);e[e.length]=Ext.apply({id:b.internalId,left:a.left,top:a.top,width:Math.max(1,a.right-a.left),height:a.bottom-a.top},b.data)}}return e}});Ext.define('Sch.plugin.Zones',{extend:'Sch.feature.AbstractTimeSpan',innerTpl:null,requires:['Sch.model.Range'],cls:'sch-zone',init:function(b){if(Ext.isString(this.innerTpl)){this.innerTpl=new Ext.XTemplate(this.innerTpl)}var a=this.innerTpl;if(!this.template){this.template=new Ext.XTemplate('<tpl for="."><div id="'+this.uniqueCls+'-{id}" class="'+this.cls+' '+this.uniqueCls+' {Cls}" style="left:{left}px;top:{top}px;height:{height}px;width:{width}px">'+(a?'{[this.renderInner(values)]}':'')+'</div></tpl>',{renderInner:function(c){return a.apply(c)}})}this.callParent(arguments)},getElementData:function(h,i,j){var m=this.store,l=this.schedulerView,g=j||m.getRange(),f=[],b,d,c,a;for(var e=0,k=g.length;e<k;e++){b=g[e];d=b.getStartDate();c=b.getEndDate();if(d&&c&&Sch.util.Date.intersectSpans(d,c,h,i)){a=l.getTimeSpanRegion(Sch.util.Date.max(d,h),Sch.util.Date.min(c,i),this.expandToFitView);f[f.length]=Ext.apply({id:b.internalId,left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top,Cls:b.getCls()},b.data)}}return f}});Ext.define('Sch.plugin.Pan',{alias:'plugin.pan',extend:'Ext.AbstractPlugin',lockableScope:'normal',enableVerticalPan:!0,panel:null,constructor:function(a){Ext.apply(this,a)},init:function(a){this.panel=a.normalGrid||a;this.view=a.getSchedulingView();this.view.on('afterrender',this.onRender,this)},onRender:function(a){this.view.el.on('mousedown',this.onMouseDown,this,{delegate:'.'+this.view.timeCellCls})},onMouseDown:function(a,b){if(a.getTarget('.'+this.view.timeCellCls)&&!a.getTarget(this.view.eventSelector)){this.mouseX=a.getPageX();this.mouseY=a.getPageY();Ext.getBody().on('mousemove',this.onMouseMove,this);Ext.getDoc().on('mouseup',this.onMouseUp,this)}},onMouseMove:function(a){a.stopEvent();var b=a.getPageX(),c=a.getPageY(),e=b-this.mouseX,d=c-this.mouseY;this.panel.scrollByDeltaX(-e);this.mouseX=b;this.mouseY=c;if(this.enableVerticalPan){this.panel.scrollByDeltaY(-d)}},onMouseUp:function(a){Ext.getBody().un('mousemove',this.onMouseMove,this);Ext.getDoc().un('mouseup',this.onMouseUp,this)}});Ext.define('Sch.view.Locking',{extend:'Ext.grid.LockingView',scheduleEventRelayRe:/^(schedule|event|beforeevent|afterevent|dragcreate|beforedragcreate|afterdragcreate|beforetooltipshow)/,constructor:function(g){this.callParent(arguments);var c=this,e=[],f=c.scheduleEventRelayRe,d=g.normal.getView(),b=d.events,a;for(a in b){if(b.hasOwnProperty(a)&&f.test(a)){e.push(a)}}c.relayEvents(d,e)},getElementFromEventRecord:function(a){return this.normal.getView().getElementFromEventRecord(a)},onClear:function(){this.relayFn('onClear',arguments)},beginBulkUpdate:function(){this.relayFn('beginBulkUpdate',arguments)},endBulkUpdate:function(){this.relayFn('endBulkUpdate',arguments)},refreshKeepingScroll:function(){this.locked.getView().refresh();this.normal.getView().refreshKeepingScroll()}});Ext.define('Sch.column.Time',{extend:'Ext.grid.column.Column',alias:'timecolumn',draggable:!1,groupable:!1,hideable:!1,sortable:!1,fixed:!0,align:'center',tdCls:'sch-timetd',menuDisabled:!0,initComponent:function(){this.addEvents('timeheaderdblclick');this.enableBubble('timeheaderdblclick');this.callParent()},initRenderData:function(){var a=this;a.renderData.headerCls=a.renderData.headerCls||a.headerCls;return a.callParent(arguments)},onElDblClick:function(a,b){this.callParent(arguments);this.fireEvent('timeheaderdblclick',this,this.startDate,this.endDate,a)}},function(){Sch.column.Time.prototype.renderTpl=Sch.column.Time.prototype.renderTpl.replace('column-header-inner','column-header-inner sch-timeheader {headerCls}')});Ext.define('Sch.column.timeAxis.Horizontal',{extend:'Ext.grid.column.Column',alias:'widget.timeaxiscolumn',requires:['Ext.Date','Ext.XTemplate','Sch.column.Time','Sch.preset.Manager'],cls:'sch-timeaxiscolumn',timeAxis:null,renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" style="display:none" class="'+Ext.baseCSSPrefix+'column-header-text"></span><tpl if="topHeaderCells">{topHeaderCells}</tpl><tpl if="middleHeaderCells">{middleHeaderCells}</tpl></div>{%this.renderContainer(out,values)%}',headerRowTpl:'<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}" class="sch-header-row sch-header-row-{position}"><thead><tr>{cells}</tr></thead></table>',headerCellTpl:'<tpl for="."><td class="sch-column-header x-column-header {headerCls}" style="position : static; text-align: {align}; {style}" tabIndex="0" id="{headerId}" headerPosition="{position}" headerIndex="{index}"><div class="x-column-header-inner">{header}</div></td></tpl>',columnConfig:{},timeCellRenderer:null,timeCellRendererScope:null,columnWidth:null,previousWidth:null,previousHeight:null,initComponent:function(){if(!(this.headerRowTpl instanceof Ext.Template)){this.headerRowTpl=Ext.create('Ext.XTemplate',this.headerRowTpl)}if(!(this.headerCellTpl instanceof Ext.Template)){this.headerCellTpl=Ext.create('Ext.XTemplate',this.headerCellTpl)}this.columns=[{}];this.addEvents('timeheaderdblclick','timeaxiscolumnreconfigured');this.enableBubble('timeheaderdblclick');this.stubForResizer=new Ext.Component({isOnLeftEdge:function(){return !1},isOnRightEdge:function(){return !1},el:{dom:{style:{}}}});this.callParent(arguments);this.onTimeAxisReconfigure();this.mon(this.timeAxis,'reconfigure',this.onTimeAxisReconfigure,this)},getSchedulingView:function(){return this.getOwnerHeaderCt().view},onTimeAxisReconfigure:function(){var b=this.timeAxis,d=b.preset.timeColumnWidth,e=this.rendered&&this.getSchedulingView(),g=b.headerConfig,i=b.getStart(),j=b.getEnd(),h={renderer:this.timeColumnRenderer,scope:this,width:this.rendered?e.calculateTimeColumnWidth(d):d};delete this.previousWidth;delete this.previousHeight;var a=this.columnConfig=this.createColumns(this.timeAxis,g,h);Ext.suspendLayouts();this.removeAll();if(this.rendered){var c=this.el.child('.x-column-header-inner');c.select('table').remove();var f=this.initRenderData();if(a.top){Ext.core.DomHelper.append(c,f.topHeaderCells)}if(a.middle){Ext.core.DomHelper.append(c,f.middleHeaderCells)}if(!a.top&&!a.middle){this.addCls('sch-header-single-row')}else {this.removeCls('sch-header-single-row')}}Ext.resumeLayouts();this.add(a.bottom);if(this.rendered){if(this.fireEvent('timeaxiscolumnreconfigured',this)!==!1){e.refresh()}}},beforeRender:function(){var a=this.columnConfig;if(!a.middle&&!a.top){this.addCls('sch-header-single-row')}this.callParent(arguments)},timeColumnRenderer:function(k,d,f,j,a,e,l){var b='';if(Ext.isIE){d.style+=';z-index:'+(this.items.getCount()-a)}if(this.timeCellRenderer){var h=this.timeAxis,c=h.getAt(a),g=c.start,i=c.end;b=this.timeCellRenderer.call(this.timeCellRendererScope||this,d,f,j,a,e,g,i)}return b},initRenderData:function(){var a=this.columnConfig;var c=a.top?this.headerRowTpl.apply({cells:this.headerCellTpl.apply(a.top),position:'top',tstyle:'border-top : 0; width : 100px'}):'';var b=a.middle?this.headerRowTpl.apply({cells:this.headerCellTpl.apply(a.middle),position:'middle',tstyle:a.top?'width : 100px':'border-top : 0; width : 100px'}):'';return Ext.apply(this.callParent(arguments),{topHeaderCells:c,middleHeaderCells:b})},defaultRenderer:function(b,c,a){return Ext.Date.format(b,a)},createColumns:function(e,b,h){if(!e||!b){throw 'Invalid parameters passed to createColumns'}var d=[],a=b.bottom||b.middle,c,g=this;e.forEachInterval(b.bottom?'bottom':'middle',function(i,f,j){c={align:a.align||'center',headerCls:'',startDate:i,endDate:f};if(a.renderer){c.header=a.renderer.call(a.scope||g,i,f,c,j)}else {c.header=g.defaultRenderer(i,f,a.dateFormat)}d[d.length]=Ext.create('Sch.column.Time',Ext.apply(c,h))});var f=this.createHeaderRows(e,b);return {bottom:d,middle:f.middle,top:f.top}},createHeaderRows:function(b,a){var e={};if(a.top){var c;if(a.top.cellGenerator){c=a.top.cellGenerator.call(this,b.getStart(),b.getEnd())}else {c=this.createHeaderRow(b,a.top)}e.top=this.processHeaderRow(c,'top')}if(a.bottom){var d;if(a.middle.cellGenerator){d=a.middle.cellGenerator.call(this,b.getStart(),b.getEnd())}else {d=this.createHeaderRow(b,a.middle)}e.middle=this.processHeaderRow(d,'middle')}return e},processHeaderRow:function(a,b){var c=this;Ext.each(a,function(d,e){d.index=e;d.position=b;d.headerId=c.stubForResizer.id});return a},createHeaderRow:function(g,a){var i=[],c,h=g.getStart(),e=g.getEnd(),m=e-h,l=[],b=h,f=0,k,j=a.align||'center',d;while(b<e){d=Sch.util.Date.min(g.getNext(b,a.unit,a.increment||1),e);c={align:j,start:b,end:d,headerCls:''};if(a.renderer){c.header=a.renderer.call(a.scope||this,b,d,c,f)}else {c.header=this.defaultRenderer(b,d,a.dateFormat,c,f)}i.push(c);b=d;f++}return i},afterLayout:function(){delete this.columnWidth;this.callParent(arguments);var d=this.getWidth();var f=this.getHeight();if(d===this.previousWidth&&f===this.previousHeight){return}this.previousWidth=d;this.previousHeight=f;var g=this.columnConfig;var e=this;var a=this.el;var b=g.top;var i=0;var h=0;if(b){a.select('.sch-header-row-top').setWidth(this.lastBox.width);a.select('.sch-header-row-top td').each(function(a,f,d){var c=e.getHeaderGroupCellWidth(b[d].start,b[d].end);a.setVisibilityMode(Ext.Element.DISPLAY);if(c){i+=c;a.show();a.setWidth(c)}else {a.hide()}})}var c=g.middle;if(c){a.select('.sch-header-row-middle').setWidth(this.lastBox.width);a.select('.sch-header-row-middle td').each(function(a,f,d){var b=e.getHeaderGroupCellWidth(c[d].start,c[d].end);a.setVisibilityMode(Ext.Element.DISPLAY);if(b){h+=b;a.show();a.setWidth(b)}else {a.hide()}})}},getHeaderGroupCellWidth:function(e,c){var g=this.timeAxis.unit,h=this.timeAxis.increment,a,d=Sch.util.Date.getMeasuringUnit(g),f=Sch.util.Date.getDurationInUnit(e,c,d),b=this.getSchedulingView();if(this.timeAxis.isContinuous()){a=f*b.getSingleUnitInPixels(d)}else {a=b.getXYFromDate(c)[0]-b.getXYFromDate(e)[0]}return a},onElDblClick:function(c,f){this.callParent(arguments);var a=c.getTarget('.sch-column-header');if(a){var d=Ext.fly(a).getAttribute('headerPosition'),e=Ext.fly(a).getAttribute('headerIndex'),b=this.columnConfig[d][e];this.fireEvent('timeheaderdblclick',this,b.start,b.end,c)}},getTimeColumnWidth:function(){if(this.columnWidth===null){this.columnWidth=this.items.get(0).getWidth()}return this.columnWidth},setTimeColumnWidth:function(a){this.suspendEvents();this.items.each(function(b){b.setWidth(a)});this.resumeEvents()}});Ext.define('Sch.column.timeAxis.HorizontalSingle',{extend:'Sch.column.Time',alias:'widget.singletimeaxiscolumn',requires:['Ext.Date','Ext.XTemplate','Sch.preset.Manager'],cls:'sch-simple-timeaxis',timeAxis:null,trackHeaderOver:!0,compactCellWidthThreshold:16,renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" style="display:none" class="'+Ext.baseCSSPrefix+'column-header-text"></span><tpl if="topHeaderCells">{topHeaderCells}</tpl><tpl if="middleHeaderCells">{middleHeaderCells}</tpl><tpl if="bottomHeaderCells">{bottomHeaderCells}</tpl></div>{%this.renderContainer(out,values)%}',headerRowTpl:'<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}" class="sch-header-row sch-header-row-{position}"><thead><tr><tpl for="cells"><td class="sch-column-header x-column-header {headerCls}" style="position : static; text-align: {align}; {style}" tabIndex="0" id="{headerId}" headerPosition="{parent.position}" headerIndex="{[xindex-1]}"><div class="sch-simple-timeheader">{header}</div></td></tpl></tr></thead></table>',columnConfig:{},columnWidth:null,nbrTimeColumns:null,initComponent:function(){this.tdCls+=' sch-singletimetd';if(!(this.headerRowTpl instanceof Ext.Template)){this.headerRowTpl=Ext.create('Ext.XTemplate',this.headerRowTpl)}this.addEvents('timeheaderdblclick','timeaxiscolumnreconfigured');this.enableBubble('timeheaderdblclick');this.callParent(arguments);this.onTimeAxisReconfigure();this.mon(this.timeAxis,'reconfigure',this.onTimeAxisReconfigure,this);this.on('resize',this.refreshHeaderSizes,this);this.ownHoverCls=this.hoverCls;this.hoverCls=''},getSchedulingView:function(){return this.getOwnerHeaderCt().view},onTimeAxisReconfigure:function(){var g=this.timeAxis,i=g.preset.timeColumnWidth,j=this.rendered&&this.getSchedulingView(),m=g.headerConfig,n=g.getStart(),o=g.getEnd(),f=this.rendered?j.calculateTimeColumnWidth(i):i;var b=this.columnConfig=this.createHeaderRows(m);var d=b.bottom||b.middle;if(this.rendered){var c;var e=this.el.child('.x-column-header-inner');var a=e.dom;var l=a.style.display;var k=a.parentNode;a.style.display='none';k.removeChild(a);a.innerHTML='';var h=this.initRenderData();if(b.top){c=Ext.core.DomHelper.append(e,h.topHeaderCells);this.refreshHeaderRow('top',c)}if(b.middle){c=Ext.core.DomHelper.append(e,h.middleHeaderCells);this.refreshHeaderRow('middle',c)}if(b.bottom){c=Ext.core.DomHelper.append(e,h.bottomHeaderCells);this.refreshHeaderRow('bottom',c)}if(!b.top&&!b.middle){this.addCls('sch-header-single-row')}else {this.removeCls('sch-header-single-row')}k.appendChild(a);a.style.display=l;if(f!==this.columnWidth||this.nbrTimeColumns!==d.length){this.nbrTimeColumns=d.length;this.setTimeColumnWidth(f)}if(this.fireEvent('timeaxiscolumnreconfigured',this)!==!1){j.refreshKeepingResourceScroll(!0)}}else {if(f!==this.columnWidth||this.nbrTimeColumns!==d.length){this.nbrTimeColumns=d.length;this.setTimeColumnWidth(f)}}},beforeRender:function(){var b=this,a=this.columnConfig;if(!a.middle&&!a.top){b.addCls('sch-header-single-row')}b.callParent(arguments)},afterRender:function(){var a=this;if(this.trackHeaderOver){a.el.on({mousemove:a.highlightCell,delegate:'div.sch-simple-timeheader',scope:a});a.el.on({mouseleave:a.clearHighlight,scope:a})}a.callParent(arguments)},initRenderData:function(){var a=this.columnConfig;var c=a.top?this.headerRowTpl.apply({cells:a.top,position:'top',tstyle:'border-top : 0; width : 100px'}):'';var b=a.middle?this.headerRowTpl.apply({cells:a.middle,position:'middle',tstyle:a.top?'width : 100px':'border-top : 0; width : 100px'}):'';var d=a.bottom?this.headerRowTpl.apply({cells:a.bottom,position:'bottom',tstyle:'width : 100px'}):'';return Ext.apply(this.callParent(arguments),{topHeaderCells:c,middleHeaderCells:b,bottomHeaderCells:d})},defaultRenderer:function(b,c,a){return Ext.Date.format(b,a)},createHeaderRows:function(b){var c={};for(var a in b){if(b[a].cellGenerator){c[a]=b[a].cellGenerator.call(this,this.timeAxis.getStart(),this.timeAxis.getEnd())}else {c[a]=this.createHeaderRow(a,b[a])}}return c},createHeaderRow:function(e,a){var c=[],d=this,b,f=a.align||'center';this.timeAxis.forEachInterval(e,function(g,h,i){b={align:f,start:g,end:h,headerCls:''};if(a.renderer){b.header=a.renderer.call(a.scope||d,g,h,b,i)}else {b.header=d.defaultRenderer(g,h,a.dateFormat,b,i)}if(a.unit===Sch.util.Date.DAY&&(!a.increment||a.increment===1)){b.headerCls+=' sch-dayheadercell-'+g.getDay()}c.push(b)});return c},afterLayout:function(){this.callParent(arguments);this.refreshHeaderSizes()},refreshHeaderSizes:function(){var a=this.columnConfig;if(a.top){this.refreshHeaderRow('top')}if(a.middle){this.refreshHeaderRow('middle')}if(a.bottom){this.refreshHeaderRow('bottom')}},refreshHeaderRow:function(c,a){var f=this.el;var e=this.columnConfig[c];var d=this;var b;a=a||f.down('.sch-header-row-'+c,!0);Ext.fly(a).setWidth(d.getTotalWidth());Ext.fly(a).select(' thead > tr > td').each(function(f,h,g){b=d.getHeaderGroupCellWidth(e[g].start,e[g].end);f.setVisibilityMode(Ext.Element.DISPLAY);if(b){if(Ext.isSafari&&Ext.isMac){b-=2}f.show();f.setWidth(b-(Ext.chromeVersion===19?g?1:0:0))}else {f.hide()}});if(c==='bottom'){if(b<this.compactCellWidthThreshold){Ext.fly(a).addCls('sch-header-row-compact')}else {Ext.fly(a).removeCls('sch-header-row-compact')}}},getHeaderGroupCellWidth:function(e,c){var g=this.timeAxis.unit,h=this.timeAxis.increment,a,d=Sch.util.Date.getMeasuringUnit(g),f=Sch.util.Date.getDurationInUnit(e,c,d),b=this.getSchedulingView();if(this.timeAxis.isContinuous()){a=f*b.getSingleUnitInPixels(d)}else {a=b.getXYFromDate(c)[0]-b.getXYFromDate(e)[0]}return a},onElDblClick:function(c,f){var a=c.getTarget('.sch-column-header');if(a){var d=Ext.fly(a).getAttribute('headerPosition'),e=Ext.fly(a).getAttribute('headerIndex'),b=this.columnConfig[d][e];this.fireEvent('timeheaderdblclick',this,b.start,b.end,c)}},getTimeColumnWidth:function(){if(this.columnWidth===null){this.columnWidth=this.getWidth()/this.nbrTimeColumns}return this.columnWidth},setTimeColumnWidth:function(a){this.columnWidth=a;if(this.rendered){Ext.suspendLayouts();this.setWidth(a*this.nbrTimeColumns);Ext.resumeLayouts();this.refreshHeaderSizes();this.ownerCt.updateLayout()}else {this.setWidth(a*this.nbrTimeColumns)}},getTotalWidth:function(){return this.columnWidth*this.nbrTimeColumns},highlightCell:function(c,b){var a=this;if(b!==a.highlightedCell){a.clearHighlight();a.highlightedCell=b;Ext.fly(b).addCls(a.ownHoverCls)}},clearHighlight:function(){var a=this,b=a.highlightedCell;if(b){Ext.fly(b).removeCls(a.ownHoverCls);delete a.highlightedCell}}});Ext.define('Sch.mixin.Lockable',{extend:'Ext.grid.Lockable',requires:['Sch.column.timeAxis.Horizontal','Sch.column.timeAxis.HorizontalSingle'],findEditingPlugin:function(){var b=this.plugins||[];var c=this;var a;Ext.each(b,function(c,d){if(Ext.grid.plugin&&Ext.grid.plugin.CellEditing&&c instanceof Ext.grid.plugin.CellEditing){a=c;Ext.Array.remove(b,c);return !1}});return a},processSchedulerPlugins:function(){var f=[];var e=[];var g=[];var c=this.plugins||[];var b=this;for(var d=c.length-1;d>=0;d--){var a=c[d];if(a.lockableScope){switch(a.lockableScope){case 'top':g.push(a);break;case 'locked':f.push(a);break;case 'normal':e.push(a);break;}Ext.Array.remove(c,a)}}if(f.length>0){b.lockedGridConfig.plugins=(b.lockedGridConfig.plugins||[]).concat(f)}if(e.length>0){b.normalGridConfig.plugins=(b.normalGridConfig.plugins||[]).concat(e)}b.topPlugins=g},injectLockable:function(){var i=this.findEditingPlugin();var a=this;var e=Ext.data.TreeStore&&a.store instanceof Ext.data.TreeStore;var g=a.store.buffered;var h=a.getEventSelectionModel?a.getEventSelectionModel():a.getSelectionModel();a.lockedGridConfig=a.lockedGridConfig||{};a.normalGridConfig=a.schedulerConfig||a.normalGridConfig||{};var d=a.lockedGridConfig,f=a.normalGridConfig;Ext.applyIf(a.lockedGridConfig,{enableLocking:!1,lockable:!1,useArrows:!0,xtype:a.lockedXType,columnLines:a.columnLines,rowLines:a.rowLines,stateful:a.stateful,id:a.id+'_locked',delayScroll:function(){if(this.rendered){return this.self.prototype.delayScroll.apply(this,arguments)}},split:!0,animCollapse:!1,collapseDirection:'left',region:'west'});if(i){a.lockedGridConfig.plugins=(a.lockedGridConfig.plugins||[]).concat(i)}a.processSchedulerPlugins();Ext.applyIf(a.normalGridConfig,{layout:'fit',xtype:a.normalXType,viewType:a.viewType,enableLocking:!1,lockable:!1,sortableColumns:!1,enableColumnMove:!1,enableColumnResize:!1,enableColumnHide:!1,selModel:h,eventSelModel:h,_top:a,orientation:a.orientation,viewPreset:a.viewPreset,timeAxis:a.timeAxis,columnLines:a.columnLines,rowLines:a.rowLines,collapseDirection:'right',animCollapse:!1,region:'center'});a.bothCfgCopy=a.bothCfgCopy||Ext.grid.Panel&&Ext.grid.Panel.prototype.bothCfgCopy||['invalidateScrollerOnRefresh','hideHeaders','enableColumnHide','enableColumnMove','enableColumnResize','sortableColumns'];if(a.orientation==='vertical'){d.store=f.store=a.timeAxis.tickStore;a.mon(a.resourceStore,{clear:a.refreshResourceColumns,datachanged:a.refreshResourceColumns,load:a.refreshResourceColumns,scope:a})}if(d.width){a.syncLockedWidth=Ext.emptyFn;d.scroll='horizontal';d.scrollerOwner=!0}if(a.resourceStore){f.resourceStore=a.resourceStore}if(a.eventStore){f.eventStore=a.eventStore}if(a.dependencyStore){f.dependencyStore=a.dependencyStore}a.lockedViewConfig=a.lockedViewConfig||{};a.normalViewConfig=a.normalViewConfig||{};if(e&&g&&Ext.getScrollbarSize().width===0){a.lockedGridConfig.scroll='horizontal'}a.lockedViewConfig.enableAnimations=a.normalViewConfig.enableAnimations=!1;if(e){a.normalViewConfig.providedStore=a.lockedViewConfig.providedStore=a.createNodeStore(g,a.store)}var j=a.layout;this.callParent(arguments);if(a.topPlugins){a.plugins=a.topPlugins}if(d.width){a.lockedGrid.setWidth(d.width);a.normalGrid.getView().addCls('sch-timeline-horizontal-scroll')}else {if(a.normalGrid.collapsed){a.normalGrid.collapsed=!1;a.normalGrid.view.on('boxready',function(){a.normalGrid.collapse()},a,{delay:10})}}var c=a.lockedGrid.getView();var b=a.normalGrid.getView();if(g){c.on('render',this.onLockedViewRender,this);this.fixPagingScroller(a.normalGrid.verticalScroller);if(Ext.getScrollbarSize().width>0){c.on({scroll:{fn:a.onLockedViewScroll,element:'el',scope:a}})}}if(Ext.getScrollbarSize().width===0){c.addCls('sch-ganttpanel-force-locked-scroll')}if(e){this.setupLockableTree()}if(!b.deferInitialRefresh){var k=b.onRender;b.onRender=function(){this.doFirstRefresh=function(){};k.apply(this,arguments);delete this.doFirstRefresh}}if(g){b.el={un:function(){}};a.normalGrid.verticalScroller.bindView(b);delete b.el}a.view.clearListeners();c.on({refresh:a.updateSpacer,scope:a});a.view=Ext.create('Sch.view.Locking',{locked:a.lockedGrid,normal:a.normalGrid,panel:a});if(a.syncRowHeight){c.on('refresh',this.onLockedViewRefresh,this);if(e){a.mon(a.store,{beforeload:function(){c.un({itemadd:a.onViewItemAdd,scope:a});b.un({itemadd:a.onViewItemAdd,scope:a})},load:function(){c.un({itemadd:a.onViewItemAdd,scope:a});b.un({itemadd:a.onViewItemAdd,scope:a});a.prepareFullRowHeightSync();a.syncRowHeights()}});a.normalGrid.on('afteritemexpand',a.afterNormalGridItemExpand,a)}c.on({itemadd:a.onViewItemAdd,scope:a});b.on({itemadd:a.onViewItemAdd,itemupdate:a.onNormalViewItemUpdate,groupexpand:a.onNormalViewGroupExpand,scope:a});if(Ext.isIE9&&Ext.isStrict){a.onNormalViewItemUpdate=function(e,c,d){if(a.lockedGridDependsOnSchedule){var b=a.lockedGrid.getView();b.suspendEvents();b.onUpdate(a.lockedGrid.store,e);b.resumeEvents()}var f=a.normalGrid.getView().getNode(c);f.style.height=d.style.height;a.normalHeights[c]=d.style.height;a.syncRowHeights()}}}if(j!=='fit'){a.layout=j}a.normalGrid.on({collapse:a.onNormalGridCollapse,expand:a.onNormalGridExpand,scope:a});a.lockedGrid.on({collapse:a.onLockedGridCollapse,scope:a});if(this.lockedGrid.view.store!==this.normalGrid.view.store){Ext.Error.raise('Sch.mixin.Lockable setup failed, not sharing store between the two views')}},onLockedGridCollapse:function(){if(this.normalGrid.collapsed){this.normalGrid.expand()}},onNormalGridCollapse:function(){var a=this;if(!a.normalGrid.reExpander){a.normalGrid.reExpander=a.normalGrid.placeholder}if(!a.lockedGrid.rendered){a.lockedGrid.on('render',a.onNormalGridCollapse,a,{delay:1})}else {a.lastLockedWidth=a.lockedGrid.getWidth();a.lockedGrid.setWidth(a.getWidth()-35);if(a.lockedGrid.collapsed){a.lockedGrid.expand()}a.addCls('sch-normalgrid-collapsed')}},onNormalGridExpand:function(){this.removeCls('sch-normalgrid-collapsed');this.lockedGrid.setWidth(this.lastLockedWidth)},fixPagingScroller:function(a){var e=a.onViewRefresh;a.onViewRefresh=function(){e.apply(this,arguments);var c=this,b=c.store;if(b.getCount()===b.getTotalCount()||b.isFiltered()&&!b.remoteFilter){c.stretcher.setHeight(c.getScrollHeight())}};var b=a.view.lockingPartner;if(b){var d=a.onLockRefresh;var c=function(b){if(b.table.dom){d.apply(this,arguments)}};b.un('refresh',d,a);b.on('refresh',c,a);a.onLockRefresh=c}a.view.un('render',a.onViewRender,a);a.onViewRender=function(){var c=this,b=c.view.el;b.setStyle('position','relative');c.stretcher=b.createChild({style:{position:'absolute',width:'1px',height:0,top:0,left:0}},b.dom.firstChild)};a.view.on('render',a.onViewRender,a)},createNodeStore:function(b,a){return new Ext.data.NodeStore({buffered:b,purgePageCount:0,pageSize:1.0E10,treeStore:a,recursive:!0,refreshFromTree:function(){var f=this.eventsSuspended;this.suspendEvents();this.removeAll();var d=a.getRootNode(),c=[];var e=function(f){if(f!=d){c[c.length]=f}if(f.isExpanded()){var h=f.childNodes,i=h.length;for(var g=0;g<i;g++){e(h[g])}}};e(d);this.totalCount=c.length;this.cachePage(c,1);if(Ext.isNumber(this.eventsSuspended)||!f){this.resumeEvents()}}})},setupLockableTree:function(){var o;var h;var d=this;var f=d.store.buffered;var e=d.getView();var j=d.lockedGrid.getView();var g=d.normalGrid.getView();var a=g.store;var b=d.store;var i=d.normalGrid.verticalScroller;var l=function(c,d){var f=b.viewSize||50;var e=a.getTotalCount();if(e){var g=d-c+1;if(g<f&&e>=g){d=c+f-1}if(d>=e){c=e-(d-c);d=e-1;c=Math.max(0,c)}a.guaranteeRange(c,d)}};this.mon(b,'root-fill-start',function(){h=!0;a.suspendEvents();if(f){o=a.node;a.setNode()}});this.mon(b,'root-fill-end',function(){h=!1;if(f){a.refreshFromTree();a.resumeEvents();l(0,b.viewSize||50)}else {a.resumeEvents();e.refresh()}});if(f){var m,k;this.mon(a,'guaranteedrange',function(c,b,a){m=b;k=a});var c=function(){if(h){return}a.refreshFromTree();l(m||0,k||50);if(g.rendered){d.onNormalViewScroll()}};this.mon(b,{append:c,insert:c,remove:c,move:c,expand:c,collapse:c,sort:c,buffer:1})}this.mon(b,'filter',function(c,b){a.filter.apply(a,b);e.refresh()});this.mon(b,'clearfilter',function(b){a.clearFilter();e.refresh()});this.mon(b,'beforecascade',function(b){a.suspendEvents()});this.mon(b,'cascade',function(c,b){a.resumeEvents();if(b.nbrAffected>0){g.refreshKeepingScroll(!0);setTimeout(function(){j.saveScrollState();j.refresh();j.restoreScrollState()},0)}});if(f&&i){var n=i.onGuaranteedRange;i.onGuaranteedRange=function(){n.apply(this,arguments);Ext.suspendLayouts();e.refresh();Ext.resumeLayouts()}}},onNormalViewItemUpdate:function(e,c,b){if(this.lockedGridDependsOnSchedule){var a=this.lockedGrid.getView();a.suspendEvents();a.onUpdate(this.lockedGrid.store,e);a.resumeEvents()}var d=this.normalGrid.getView().getNode(c);var f=d.style.height!==b.style.height;d.style.height=b.style.height;this.normalHeights[c]=b.style.height;this.syncRowHeights(f)},afterNormalGridItemExpand:function(b){var a=this;var c=a.getSchedulingView();b.cascadeBy(function(e){if(e!==b){var d=c.getNode(e);if(d){var f=c.indexOf(d);a.normalHeights[f]=d.style.height}}});a.syncRowHeights(!0)},onViewItemAdd:function(c,f,e){var a=this.normalGrid.getView();var d=this.lockedGrid.getView();if(a.getNodes().length!==d.getNodes().length){return}var b=this.normalHeights;Ext.each(c,function(g,h){var d=a.getNode(g);if(d){b[d.viewIndex]=d.style.height}});this.syncRowHeights()},processColumns:function(c){var a=this.callParent(arguments);var b=[];Ext.each(c,function(d){if(d.position=='right'){d.processed=!0;if(!Ext.isNumber(d.width)){Ext.Error.raise('"Right" columns must have a fixed width')}b.push(d);Ext.Array.remove(a.locked.items,d);a.lockedWidth-=d.width}});if(this.orientation==='horizontal'){a.normal.items=[{xtype:this.lightWeight?'singletimeaxiscolumn':'timeaxiscolumn',timeAxis:this.timeAxis,timeCellRenderer:this.timeCellRenderer,timeCellRendererScope:this.timeCellRendererScope,trackHeaderOver:this.trackHeaderOver}].concat(b)}else {a.locked.items=[Ext.apply({xtype:'verticaltimeaxis',width:100,timeAxis:this.timeAxis},this.timeAxisColumnCfg||{})];a.lockedWidth=a.locked.items[0].width}return a},prepareFullRowHeightSync:function(){var a=this,c=a.normalGrid.getView(),d=a.lockedGrid.getView();if(!c.rendered||!d.rendered){return}var g=c.el,i=d.el,f=g.query(c.getItemSelector()),h=i.query(d.getItemSelector()),e=f.length,b=0;a.lockedHeights=[];a.normalHeights=[];if(h.length!==e){return}for(;b<e;b++){a.normalHeights[b]=f[b].style.height}},onLockedViewRefresh:function(){this.prepareFullRowHeightSync();this.syncRowHeights()},onNormalViewRefresh:function(){var a=this.lockedGrid.getView();if(this.lockedGridDependsOnSchedule){a.un('refresh',this.onLockedViewRefresh,this);this.lockedGrid.getView().refresh();a.on('refresh',this.onLockedViewRefresh,this)}this.prepareFullRowHeightSync();this.syncRowHeights()},syncRowHeights:function(i){if(!this.lockedGrid.getView().rendered||!this.normalGrid.getView().rendered){return}var a=this,g=a.lockedHeights,d=a.normalHeights,k=[],j=g.length||d.length,b=0,f,e,c,h;if(g.length||d.length){f=a.lockedGrid.getView();e=a.normalGrid.getView();c=f.el.query(f.getItemSelector());h=e.el.query(e.getItemSelector());if(h.length!==c.length){return}for(;b<j;b++){if(c[b]&&d[b]){c[b].style.height=d[b]}}a.lockedHeights=[];a.normalHeights=[]}if(i!==!1){a.updateSpacer()}},getMenuItems:function(){return function(){return Ext.grid.header.Container.prototype.getMenuItems.call(this)}},applyColumnsState:Ext.emptyFn,updateSpacer:function(){var d=this.lockedGrid.getView();var g=this.normalGrid.getView();if(d.rendered&&g.rendered&&d.el.child('table')&&!this.getSchedulingView().__lightRefresh){var a=this,c=d.el,f=g.el.dom,e=c.dom.id+'-spacer',h=f.offsetHeight-f.clientHeight+'px';a.spacerEl=Ext.getDom(e);if(a.spacerEl){a.spacerEl.style.height=h}else {var b;if(this.store.buffered){b=a.normalGrid.verticalScroller.stretcher.item(0).dom.parentNode===c.dom?a.normalGrid.verticalScroller.stretcher.item(0):a.normalGrid.verticalScroller.stretcher.item(1)}else {b=c}Ext.core.DomHelper.append(b,{id:e,cls:this.store.buffered?'sch-locked-buffered-spacer':'',style:'height: '+h})}}},onLockedViewRender:function(){var a=this.normalGrid;if(!this.lockedStretcher){var c=this.lockedGrid.getView().el;var d=this.lockedStretcher=c.createChild({cls:'x-stretcher',style:{position:'absolute',width:'1px',height:0,top:0,left:0}},c.dom.firstChild)}if(!a.rendered){a.getView().on('render',this.onLockedViewRender,this);return}a.getView().el.un('scroll',this.onNormalViewScroll,this);a.getView().el.on('scroll',this.onNormalViewScroll,this);var b=a.verticalScroller;b.stretcher.addCls('x-stretcher');b.stretcher=new Ext.dom.CompositeElement([this.lockedStretcher,b.stretcher])},onNormalViewGroupExpand:function(){this.prepareFullRowHeightSync();this.syncRowHeights()}});Ext.define('Sch.plugin.TreeCellEditing',{extend:'Ext.grid.plugin.CellEditing',init:function(a){this._grid=a;this.on('beforeedit',this.checkReadOnly,this);this.callParent(arguments)},checkReadOnly:function(){var a=this._grid;if(!(a instanceof Sch.panel.TimelineTreePanel)){a=a.up('tablepanel')}return !a.isReadOnly()},startEditByClick:function(a,c,g,d,f,e,b){if(b.getTarget(a.expanderSelector)){return}this.callParent(arguments)},startEdit:function(d,c){if(!d||!c){return}var a=this,e=a.getEditor(d,c),f=d.get(c.dataIndex),b=a.getEditingContext(d,c);d=b.record;c=b.column;a.completeEdit();if(c&&!c.getEditor(d)){return !1}if(e){b.originalValue=b.value=f;if(a.beforeEdit(b)===!1||a.fireEvent('beforeedit',b)===!1||b.cancel){return !1}a.context=b;a.setActiveEditor(e);a.setActiveRecord(d);a.setActiveColumn(c);a.grid.view.focusCell({column:b.colIdx,row:b.rowIdx});a.editTask.delay(15,e.startEdit,e,[a.getCell(d,c),b.value,b])}else {a.grid.getView().getEl(c).focus(Ext.isWebKit||Ext.isIE?10:!1)}},getEditingContext:function(b,a){var i=this,d=i.grid,g=d.store,c,e,f=d.getView(),h;if(Ext.isNumber(b)){c=b;b=g.getAt(c)}else {if(g.indexOf){c=g.indexOf(b)}else {c=f.indexOf(f.getNode(b))}}if(Ext.isNumber(a)){e=a;a=d.headerCt.getHeaderAtIndex(e)}else {e=a.getIndex()}h=b.get(a.dataIndex);return {grid:d,record:b,field:a.dataIndex,value:h,row:f.getNode(c),column:a,rowIdx:c,colIdx:e}},startEditByPosition:function(a){var b=this,c=b.grid,d=c.getSelectionModel(),e=b.view,g=this.view.getNode(a.row),h=c.headerCt.getHeaderAtIndex(a.column),f=e.getRecord(g);if(d.selectByPosition){d.selectByPosition(a)}b.startEdit(f,h)},onEditComplete:function(h,d,g){var a=this,f=a.grid,c=a.getActiveColumn(),e=f.getSelectionModel(),b;if(c){b=a.context.record;a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);if(!a.validateEdit()){return}if(!a.context.doNotUpdateRecord&&!b.isEqual(d,g)){b.set(c.dataIndex,d)}if(e.setCurrentPosition){e.setCurrentPosition(e.getCurrentPosition())}f.getView().getEl(c).focus();a.context.value=d;a.fireEvent('edit',a,a.context)}}});Ext.define('Sch.feature.ColumnLines',{extend:'Sch.plugin.Lines',cls:'sch-column-line',showTip:!1,requires:['Ext.data.Store'],init:function(a){this.timeAxis=a.getTimeAxis();this.store=Ext.create('Ext.data.JsonStore',{model:Ext.define('Sch.model.TimeLine',{extend:'Ext.data.Model',fields:['start',{name:'Date',convert:function(c,b){return b.data.start}}]}),data:a.getOrientation()==='horizontal'?this.getData():[]});this.callParent(arguments);var b=this.schedulerView;b.timeAxis.on('reconfigure',this.populate,this)},populate:function(){var a=this.schedulerView;var b=a.getOrientation()==='horizontal'&&a.store.getCount()>0;this.store.removeAll(b);if(b){this.store.add(this.getData())}},getElementData:function(){var a=this.schedulerView;if(a.getOrientation()==='horizontal'&&a.store.getCount()>0){return this.callParent(arguments)}return []},getData:function(){var a=[];this.timeAxis.forEachMainInterval(function(c,d,b){if(b>0){a.push({start:c})}});a.push({start:this.timeAxis.getEnd()});return a}});Ext.define('Sch.plugin.CurrentTimeLine',{extend:'Sch.plugin.Lines',tooltipText:'Current time',updateInterval:60000,autoUpdate:!0,init:function(c){var a=Ext.create('Ext.data.JsonStore',{model:Ext.define('TimeLineEvent',{extend:'Ext.data.Model',fields:['Date','Cls','Text']}),data:[{Date:new Date(),Cls:'sch-todayLine',Text:this.tooltipText}]});var b=a.first();if(this.autoUpdate){this.runner=Ext.create('Ext.util.TaskRunner');this.runner.start({run:function(){b.set('Date',new Date())},interval:this.updateInterval})}c.on('destroy',this.onHostDestroy,this);this.store=a;this.callParent(arguments)},onHostDestroy:function(){if(this.runner){this.runner.stopAll()}if(this.store.autoDestroy){this.store.destroy()}}});Ext.define('Sch.mixin.TimelineView',{requires:['Sch.column.Time','Sch.data.TimeAxis'],orientation:'horizontal',overScheduledEventClass:'sch-event-hover',selectedEventCls:'sch-event-selected',altColCls:'sch-col-alt',timeCellCls:'sch-timetd',timeCellSelector:'.sch-timetd',ScheduleEventMap:{click:'Click',dblclick:'DblClick',contextmenu:'ContextMenu',keydown:'KeyDown'},suppressFitCheck:0,forceFit:!1,inheritables:function(){return {cellBorderWidth:1,initComponent:function(){this.setOrientation(this.panel._top.orientation||this.orientation);this.addEvents('beforetooltipshow','scheduleclick','scheduledblclick','schedulecontextmenu','columnwidthchange');this.enableBubble('columnwidthchange');var b={},c=Sch.util.Date;b[c.DAY]=b[c.WEEK]=b[c.MONTH]=b[c.QUARTER]=b[c.YEAR]=null;Ext.applyIf(this,{eventPrefix:this.id+'-',largeUnits:b});this.callParent(arguments);if(this.orientation==='horizontal'){this.getTimeAxisColumn().on('timeaxiscolumnreconfigured',this.checkHorizontalFit,this)}var a=this.panel._top;Ext.apply(this,{eventRendererScope:a.eventRendererScope,eventRenderer:a.eventRenderer,eventBorderWidth:a.eventBorderWidth,timeAxis:a.timeAxis,dndValidatorFn:a.dndValidatorFn||Ext.emptyFn,resizeValidatorFn:a.resizeValidatorFn||Ext.emptyFn,createValidatorFn:a.createValidatorFn||Ext.emptyFn,tooltipTpl:a.tooltipTpl,validatorFnScope:a.validatorFnScope||this,snapToIncrement:a.snapToIncrement,timeCellRenderer:a.timeCellRenderer,timeCellRendererScope:a.timeCellRendererScope,readOnly:a.readOnly,eventResizeHandles:a.eventResizeHandles,enableEventDragDrop:a.enableEventDragDrop,enableDragCreation:a.enableDragCreation,dragConfig:a.dragConfig,dropConfig:a.dropConfig,resizeConfig:a.resizeConfig,createConfig:a.createConfig,tipCfg:a.tipCfg,orientation:a.orientation,getDateConstraints:a.getDateConstraints||Ext.emptyFn});if(this.emptyText){this.emptyText='<span class="sch-empty-text">'+this.emptyText+'</span>'}},onDestroy:function(){if(this.tip){this.tip.destroy()}this.callParent(arguments)},afterComponentLayout:function(){this.callParent(arguments);var b=this.getWidth();var a=this.getHeight();if(b===this.__prevWidth&&a===this.__prevHeight){return}this.__prevWidth=b;this.__prevHeight=a;if(!this.lockable&&!this.suppressFitCheck){this.checkHorizontalFit()}},beforeRender:function(){this.callParent(arguments);this.addCls('sch-timelineview');if(this.readOnly){this.addCls(this._cmpCls+'-readonly')}},afterRender:function(){this.callParent(arguments);if(this.overScheduledEventClass){this.mon(this.el,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.eventSelector,scope:this})}if(this.tooltipTpl){this.el.on('mousemove',this.setupTooltip,this,{single:!0})}this.setupTimeCellEvents()},processUIEvent:function(a){var d=this,b=a.getTarget(this.eventSelector),e=d.ScheduleEventMap,c=a.type;if(b&&c in e){this.fireEvent(this.scheduledEventName+c,this,this.resolveEventRecord(b),a)}else {this.callParent(arguments)}},refresh:function(){this.fixedNodes=0;this.callParent(arguments)},clearViewEl:function(){var c=this,b=c.getTargetEl();b.down('table').remove();if(this.emptyText){var a=b.down('.sch-empty-text');if(a){a.remove()}}},onMouseOver:function(b,a){if(a!==this.lastItem){this.lastItem=a;Ext.fly(a).addCls(this.overScheduledEventClass);this.fireEvent('eventmouseenter',this,this.resolveEventRecord(a),b)}},onMouseOut:function(a,b){if(this.lastItem){if(!a.within(this.lastItem,!0,!0)){Ext.fly(this.lastItem).removeCls(this.overScheduledEventClass);this.fireEvent('eventmouseleave',this,this.resolveEventRecord(this.lastItem),a);delete this.lastItem}}},highlightItem:function(b){if(b){var a=this;a.clearHighlight();a.highlightedItem=b;Ext.fly(b).addCls(a.overItemCls)}},shouldUpdateCell:function(){return !0}}},hasRightColumns:function(){return this.headerCt.items.getCount()>1},checkHorizontalFit:function(){if(this.orientation==='horizontal'){var a=this.getActualTimeColumnWidth();var c=this.getFittingColumnWidth();if(this.forceFit){if(c!=a){this.fitColumns()}}else {if(this.snapToIncrement){var b=this.calculateTimeColumnWidth(a);if(b>0&&b!==a){this.setColumnWidth(b)}}else {if(a<c){this.fitColumns()}}}}},getTimeAxisColumn:function(){return this.headerCt.items.get(0)},getFirstTimeColumn:function(){return this.headerCt.getGridColumns()[0]},getFormattedDate:function(a){return Ext.Date.format(a,this.getDisplayDateFormat())},getFormattedEndDate:function(a,b){var c=this.timeAxis,d=c.getResolution().unit;if(d in this.largeUnits&&a.getHours()===0&&a.getMinutes()===0&&!(a.getYear()===b.getYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate())){a=Sch.util.Date.add(a,Sch.util.Date.DAY,-1)}return Ext.Date.format(a,this.getDisplayDateFormat())},getDisplayDateFormat:function(){return this.displayDateFormat},setDisplayDateFormat:function(a){this.displayDateFormat=a},getSingleUnitInPixels:function(a){return Sch.util.Date.getUnitToBaseUnitRatio(this.timeAxis.getUnit(),a)*this.getSingleTickInPixels()/this.timeAxis.getIncrement()},getSingleTickInPixels:function(){throw 'Must be implemented by horizontal/vertical'},scrollEventIntoView:function(c,b){var a=this.getOuterElementFromEventRecord(c);if(a){a.scrollIntoView(this.el);if(b){if(typeof b==='boolean'){a.highlight()}else {a.highlight(null,b)}}}},calculateTimeColumnWidth:function(d){if(!this.panel.rendered){return d}var e=this.forceFit;var b=0,c=this.timeAxis.getUnit(),k=this.timeAxis.getCount(),a=Number.MAX_VALUE;if(this.snapToIncrement){var g=this.timeAxis.getResolution(),j=g.unit,h=g.increment;a=Sch.util.Date.getUnitToBaseUnitRatio(c,j)*h}var i=Sch.util.Date.getMeasuringUnit(c);a=Math.min(a,Sch.util.Date.getUnitToBaseUnitRatio(c,i));var f=Math.floor(this.getAvailableWidthForSchedule()/k);b=e||d<f?f:d;if(a>0&&(!e||a<1)){b=Math.round(Math.max(1,Math[e?'floor':'round'](a*b))/a)}return b},getFittingColumnWidth:function(){var a=Math.floor(this.getAvailableWidthForSchedule()/this.timeAxis.getCount());return this.calculateTimeColumnWidth(a)},fitColumns:function(b){var a=0;if(this.orientation==='horizontal'){a=this.getFittingColumnWidth()}else {a=Math.floor((this.panel.getWidth()-Ext.getScrollbarSize().width-1)/this.headerCt.getColumnCount())}this.setColumnWidth(a,b)},getAvailableWidthForSchedule:function(){var c=this.lastBox&&this.lastBox.width||this.getWidth();var b=this.headerCt.items.items;for(var a=1;a<b.length;a++){c-=b[a].getWidth()}return c-Ext.getScrollbarSize().width-1},getRightColumnsWidth:function(){var c=0;var b=this.headerCt.items.items;for(var a=1;a<b.length;a++){c+=b[a].getWidth()}return c},fixRightColumnsPositions:function(){var a=this.headerCt.items.items;var c=a[0].getWidth();for(var b=1;b<a.length;b++){var d=a[b];d.el.setLeft(c);c+=d.getWidth()}},getElementFromEventRecord:function(a){return Ext.get(this.eventPrefix+a.internalId)},getEventNodeByRecord:function(a){return document.getElementById(this.eventPrefix+a.internalId)},getOuterElementFromEventRecord:function(a){return Ext.get(this.eventPrefix+a.internalId)},resolveColumnIndex:function(a){return Math.floor(a/this.getActualTimeColumnWidth())},getStartEndDatesFromRegion:function(b,a){throw 'Must be implemented by horizontal/vertical'},setupTooltip:function(){var a=this,b=Ext.apply({renderTo:Ext.getBody(),delegate:a.eventSelector,target:a.el,anchor:'b'},a.tipCfg);a.tip=Ext.create('Ext.ToolTip',b);a.tip.on({beforeshow:function(a){if(!a.triggerElement||!a.triggerElement.id){return !1}var b=this.resolveEventRecord(a.triggerElement);if(!b||this.fireEvent('beforetooltipshow',this,b)===!1){return !1}a.update(this.tooltipTpl.apply(this.getDataForTooltipTpl(b)));return !0},scope:this})},getDataForTooltipTpl:function(a){return a.data},getTimeResolution:function(){return this.timeAxis.getResolution()},setTimeResolution:function(b,a){this.timeAxis.setResolution(b,a);if(this.snapToIncrement){this.refreshKeepingScroll()}},getEventIdFromDomNodeId:function(a){return a.substring(this.eventPrefix.length)},getDateFromDomEvent:function(b,a){return this.getDateFromXY(b.getXY(),a)},handleScheduleEvent:function(a){var b=a.getTarget('.'+this.timeCellCls,2);if(b){var c=this.getDateFromDomEvent(a,'floor');this.fireEvent('schedule'+a.type,this,c,this.indexOf(this.findItemByChild(b)),a)}},setupTimeCellEvents:function(){this.mon(this.el,{click:this.handleScheduleEvent,dblclick:this.handleScheduleEvent,contextmenu:this.handleScheduleEvent,scope:this},this)},getSnapPixelAmount:function(){if(this.snapToIncrement){var a=this.timeAxis.getResolution();return (a.increment||1)*this.getSingleUnitInPixels(a.unit)}else {return 1}},getActualTimeColumnWidth:function(){return this.headerCt.items.get(0).getTimeColumnWidth()},setSnapEnabled:function(a){this.snapToIncrement=a;if(a){this.refreshKeepingScroll()}},setReadOnly:function(a){this.readOnly=a;this[a?'addCls':'removeCls'](this._cmpCls+'-readonly')},isReadOnly:function(){return this.readOnly},setOrientation:function(a){this.orientation=a;Ext.apply(this,Sch.view[Ext.String.capitalize(a)].prototype.props)},getOrientation:function(){return this.orientation},translateToScheduleCoordinate:function(a){throw 'Abstract method call!'},translateToPageCoordinate:function(a){throw 'Abstract method call!'},getDateFromXY:function(c,b,a){throw 'Abstract method call!'},getXYFromDate:function(a,b){throw 'Abstract method call!'},getTimeSpanRegion:function(a,b){throw 'Abstract method call!'},getStart:function(){return this.timeAxis.getStart()},getEnd:function(){return this.timeAxis.getEnd()},setBarMargin:function(b,a){this.barMargin=b;if(!a){this.refreshKeepingScroll()}},setRowHeight:function(a,b){this.rowHeight=a||24;if(this.rendered&&!b){this.refreshKeepingScroll()}},refreshKeepingScroll:function(a){this.saveScrollState();if(this.lightRefresh){this.lightRefresh()}else {this.refresh()}this.restoreScrollState()},refreshKeepingResourceScroll:function(d){var a=this.el.dom,c=a.scrollTop,b=a.scrollLeft;if(this.lightRefresh){this.lightRefresh()}else {this.refresh()}if(this.getOrientation()==='horizontal'){a.scrollTop=c}else {a.scrollLeft=b}},lightRefresh:function(){var a=this.refreshSize;Ext.suspendLayouts();this.refreshSize=Ext.emptyFn;this.__lightRefresh=!0;this.refresh();delete this.__lightRefresh;this.refreshSize=a;Ext.resumeLayouts()}});Ext.apply(Sch,{VERSION:'2.1.7'});Ext.define('Sch.view.Horizontal',{props:{translateToScheduleCoordinate:function(a){return a-this.el.getX()+this.el.getScroll().left},translateToPageCoordinate:function(a){return a+this.el.getX()-this.el.getScroll().left},getDateFromXY:function(e,g,f){var b,c=f?e[0]:this.translateToScheduleCoordinate(e[0]),a=c/this.getActualTimeColumnWidth(),d=this.timeAxis.getCount();if(a<0||a>d){b=null}else {var h=a-this.resolveColumnIndex(c);if(h>2&&a>=d){return null}b=this.timeAxis.getDateFromTick(a,g)}return b},getXYFromDate:function(c,d){var a,b=this.timeAxis.getTickFromDate(c);if(b>=0){a=this.getActualTimeColumnWidth()*b}if(d===!1){a=this.translateToPageCoordinate(a)}return [a,0]},getEventBox:function(e,d){var b=Math.floor(this.getXYFromDate(e)[0]),c=Math.floor(this.getXYFromDate(d)[0]),a=Math;if(this.managedEventSizing){return {top:Math.max(0,this.barMargin-(Ext.isIE&&!Ext.isStrict)?0:this.eventBorderWidth-this.cellBorderWidth),left:a.min(b,c),width:a.max(1,a.abs(b-c)-this.eventBorderWidth),height:this.rowHeight-2*this.barMargin-this.eventBorderWidth}}return {left:a.min(b,c),width:a.max(1,a.abs(b-c))}},layoutEvents:function(b){var a=Ext.Array.clone(b);a.sort(this.sortEvents);var c=this.layoutEventsInBands(0,a);return c},layoutEventsInBands:function(a,b){var c=b[0],d=a===0?this.barMargin:a*this.rowHeight-(a-1)*this.barMargin;if(d>=this.cellBorderWidth){d-=this.cellBorderWidth}while(c){c.top=d;Ext.Array.remove(b,c);c=this.findClosestSuccessor(c,b)}a++;if(b.length>0){return this.layoutEventsInBands(a,b)}else {return a}},getScheduleRegion:function(a,h){var d=a?Ext.fly(this.getNodeByRecord(a)).getRegion():this.el.down('.x-grid-table').getRegion(),g=this.timeAxis.getStart(),j=this.timeAxis.getEnd(),b=this.getDateConstraints(a,h)||{start:g,end:j},c=this.translateToPageCoordinate(this.getXYFromDate(b.start)[0]),e=this.translateToPageCoordinate(this.getXYFromDate(b.end)[0])-this.eventBorderWidth,i=d.top+this.barMargin,f=d.bottom-this.barMargin-this.eventBorderWidth;return new Ext.util.Region(i,Math.max(c,e),f,Math.min(c,e))},getResourceRegion:function(m,b,d){var f=Ext.fly(this.getNodeByRecord(m)).getRegion(),e=this.timeAxis.getStart(),i=this.timeAxis.getEnd(),k=b?Sch.util.Date.max(e,b):e,l=d?Sch.util.Date.min(i,d):i,c=this.getXYFromDate(k)[0],h=this.getXYFromDate(l)[0]-this.eventBorderWidth,g=this.el.getTop(),a=this.el.getScroll(),n=f.top+1-g+a.top,j=f.bottom-1-g+a.top;return new Ext.util.Region(n,Math.max(c,h),j,Math.min(c,h))},collectRowData:function(a,k,m){var e=this.eventStore.getEventsForResource(k);if(e.length===0||this.headerCt.getColumnCount()===0){a.rowHeight=this.rowHeight;return a}var p=Sch.util.Date,g=this.timeAxis,l=g.getStart(),o=g.getEnd(),c=[],b,i;for(b=0,i=e.length;b<i;b++){var d=e[b],h=d.getStartDate(),j=d.getEndDate();if(h&&j&&g.timeSpanInAxis(h,j)){var n=this.generateTplData(d,l,o,k,m);c[c.length]=n}}var f=1;if(this.dynamicRowHeight){f=this.layoutEvents(c)}a.rowHeight=f*this.rowHeight-(f-1)*this.barMargin;a[this.getFirstTimeColumn().id]+='&#160;'+this.eventTpl.apply(c);return a},resolveResource:function(b){var a=this.findItemByChild(b);if(a){return this.getRecord(a)}return null},getTimeSpanRegion:function(d,h,g){var e=this.getXYFromDate(d)[0],f=this.getXYFromDate(h||d)[0],c,a;if(this.store.buffered){var b;if(this.panel.verticalScroller.stretcher instanceof Ext.CompositeElement){b=this.panel.verticalScroller.stretcher.first()}else {b=this.el.down('.x-stretcher')}if(b.dom.clientHeight){a=b}}if(!a){a=this.el.down('.x-grid-table')}if(g){c=Math.max(a?a.dom.clientHeight:0,this.el.dom.clientHeight)}else {c=a?a.dom.clientHeight:0}return new Ext.util.Region(0,Math.max(e,f),c,Math.min(e,f))},getStartEndDatesFromRegion:function(d,c){var a=this.getDateFromXY([d.left,0],c),b=this.getDateFromXY([d.right,0],c);if(b&&a){return {start:Sch.util.Date.min(a,b),end:Sch.util.Date.max(a,b)}}else {return null}},onEventAdd:function(f,c){var d={};for(var a=0,e=c.length;a<e;a++){var b=c[a].getResource();if(b){d[b.getId()]=b}}Ext.Object.each(d,function(b,a){this.onUpdate(this.resourceStore,a)},this)},onEventRemove:function(d,c){var b=this.getElementFromEventRecord(c);if(b){var a=this.resolveResource(b);b.fadeOut({callback:function(){if(Ext.tree.View&&this instanceof Ext.tree.View&&this.store.indexOf(a)){this.onUpdate(this.store,a)}else {if(this.resourceStore.indexOf(a)>=0){this.onUpdate(this.resourceStore,a)}}},scope:this})}},onEventUpdate:function(e,b,d){var a,c=b.previous;if(c&&c[b.resourceIdField]){a=b.getResource(c[b.resourceIdField]);if(a){this.onUpdate(this.resourceStore,a)}}a=b.getResource();if(a){this.onUpdate(this.resourceStore,a)}},getSingleTickInPixels:function(){return this.getActualTimeColumnWidth()},getColumnWidth:function(){if(this.getTimeAxisColumn()){return this.getTimeAxisColumn().getTimeColumnWidth()}},setColumnWidth:function(a,b){if(this.getTimeAxisColumn()){this.getTimeAxisColumn().setTimeColumnWidth(a);if(!b){this.refreshKeepingScroll()}}this.fireEvent('columnwidthchange',this,a)},getVisibleDateRange:function(){if(!this.rendered){return null}var b=this.getEl().getScroll(),d=this.panel.getStart(),f=this.panel.getEnd(),c=this.getWidth(),e=this.getEl().down('.x-grid-table').dom,a=e.clientWidth;if(a<c){return {startDate:d,endDate:f}}return {startDate:this.getDateFromXY([b.left,0],null,!0),endDate:this.getDateFromXY([Math.min(b.left+c,a),0],null,!0)}}}});Ext.define('Sch.view.TimelineTreeView',{extend:'Ext.tree.View',mixins:['Sch.mixin.TimelineView'],requires:['Sch.patches.TreeView'],cellBorderWidth:0,beforeRender:function(){this.addCls('sch-timelinetreeview');this.callParent(arguments)}},function(){this.override(Sch.mixin.TimelineView.prototype.inheritables()||{})});Ext.define('Sch.mixin.Zoomable',{zoomLevels:[{width:200,increment:1,resolution:1,preset:'year'},{width:100,increment:1,resolution:7,preset:'monthAndYear'},{width:30,increment:1,resolution:1,preset:'weekDateAndMonth'},{width:35,increment:1,resolution:1,preset:'weekAndMonth'},{width:50,increment:1,resolution:1,preset:'weekAndMonth'},{width:85,increment:1,resolution:1,preset:'weekAndMonth'},{width:50,increment:1,resolution:1,preset:'weekAndDay',resolutionUnit:'HOUR'},{width:100,increment:1,resolution:1,preset:'weekAndDay',resolutionUnit:'HOUR'},{width:50,increment:6,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:100,increment:6,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:60,increment:2,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:60,increment:1,resolution:30,preset:'hourAndDay',resolutionUnit:'MINUTE'},{width:30,increment:15,resolution:5,preset:'minuteAndHour'},{width:60,increment:15,resolution:5,preset:'minuteAndHour'},{width:130,increment:15,resolution:5,preset:'minuteAndHour'},{width:60,increment:5,resolution:5,preset:'minuteAndHour'},{width:100,increment:5,resolution:5,preset:'minuteAndHour'}],minZoomLevel:null,maxZoomLevel:null,visibleZoomFactor:5,cachedCenterDate:null,isFirstZoom:!0,isZooming:!1,initializeZooming:function(){this.zoomLevels=this.zoomLevels.slice();this.setMinZoomLevel(this.minZoomLevel||0);this.setMaxZoomLevel(this.maxZoomLevel!==null?this.maxZoomLevel:this.zoomLevels.length-1);this.on('viewchange',this.clearCenterDateCache,this)},getZoomLevelUnit:function(b){var a=Sch.preset.Manager.getPreset(b.preset).headerConfig;return a.bottom?a.bottom.unit:a.middle.unit},getMilliSecondsPerPixelForZoomLevel:function(a){var b=Sch.util.Date;return Math.round((b.add(new Date(1,0,1),this.getZoomLevelUnit(a),a.increment)-new Date(1,0,1))/a.width)},presetToZoomLevel:function(d){var a=Sch.preset.Manager.getPreset(d);var c=a.headerConfig;var b=c.bottom;var e=c.middle;return {preset:d,increment:(b?b.increment:e.increment)||1,resolution:a.timeResolution.increment,resolutionUnit:a.timeResolution.unit,width:a.timeColumnWidth}},calculateCurrentZoomLevel:function(){var a=this.presetToZoomLevel(this.viewPreset);var c=this.timeAxis.headerConfig;var b=c.bottom;var d=c.middle;a.width=this.timeAxis.preset.timeColumnWidth;a.increment=(b?b.increment:d.increment)||1;return a},getCurrentZoomLevelIndex:function(){var f=this.calculateCurrentZoomLevel();var b=this.getMilliSecondsPerPixelForZoomLevel(f);var c=this.zoomLevels;for(var a=0;a<c.length;a++){var d=this.getMilliSecondsPerPixelForZoomLevel(c[a]);if(d==b){return a}if(a===0&&b>d){return -0.5}if(a==c.length-1&&b<d){return c.length-1+0.5}var e=this.getMilliSecondsPerPixelForZoomLevel(c[a+1]);if(d>b&&b>e){return a+0.5}}throw "Can't find current zoom level index"},setMaxZoomLevel:function(a){if(a<0||a>=this.zoomLevels.length){throw new Error('Invalid range for `setMinZoomLevel`')}this.maxZoomLevel=a},setMinZoomLevel:function(a){if(a<0||a>=this.zoomLevels.length){throw new Error('Invalid range for `setMinZoomLevel`')}this.minZoomLevel=a},getViewportCenterDateCached:function(){if(this.cachedCenterDate){return this.cachedCenterDate}return this.cachedCenterDate=this.getViewportCenterDate()},clearCenterDateCache:function(){this.cachedCenterDate=null},zoomToLevel:function(d){d=Ext.Number.constrain(d,this.minZoomLevel,this.maxZoomLevel);var r=this.calculateCurrentZoomLevel();var q=this.getMilliSecondsPerPixelForZoomLevel(r);var a=this.zoomLevels[d];var p=this.getMilliSecondsPerPixelForZoomLevel(a);if(q==p){return null}var n=this;var k=this.getSchedulingView();var b=k.getEl();if(this.isFirstZoom){this.isFirstZoom=!1;b.on('scroll',this.clearCenterDateCache,this)}var h=this.orientation=='vertical';var g=this.getViewportCenterDateCached();var i=h?b.getHeight():b.getWidth();var c=Ext.clone(Sch.preset.Manager.getPreset(a.preset));var m=this.calculateOptimalDateRange(g,i,a);var f=c.headerConfig;var e=f.bottom;var j=f.middle;c[h?'rowHeight':'timeColumnWidth']=a.width;if(e){e.increment=a.increment}else {j.increment=a.increment}this.isZooming=!0;this.viewPreset=a.preset;var l=e?e.unit:j.unit;this.timeAxis.reconfigure({preset:c,headerConfig:f,unit:l,increment:a.increment,resolutionUnit:Sch.util.Date.getUnitByName(a.resolutionUnit||l),resolutionIncrement:a.resolution,weekStartDay:this.weekStartDay,mainUnit:j.unit,shiftUnit:c.shiftUnit,shiftIncrement:c.shiftIncrement||1,defaultSpan:c.defaultSpan||1,start:m.startDate||this.getStart(),end:m.endDate||this.getEnd()});var o=k.getXYFromDate(g,!0);b.on('scroll',function(){n.cachedCenterDate=g},this,{single:!0});if(h){b.scrollTo('top',o[1]-i/2)}else {b.scrollTo('left',o[0]-i/2)}n.isZooming=!1;this.fireEvent('zoomchange',this,d);return d},zoomIn:function(a){a=a||1;var b=this.getCurrentZoomLevelIndex();if(b>=this.zoomLevels.length-1){return null}return this.zoomToLevel(Math.floor(b)+a)},zoomOut:function(a){a=a||1;var b=this.getCurrentZoomLevelIndex();if(b<=0){return null}return this.zoomToLevel(Math.ceil(b)-a)},zoomInFull:function(){return this.zoomToLevel(this.maxZoomLevel)},zoomOutFull:function(){return this.zoomToLevel(this.minZoomLevel)},calculateOptimalDateRange:function(d,j,a){var c=Sch.util.Date;var b=Sch.preset.Manager.getPreset(a.preset).headerConfig;var f=b.top?b.top.unit:b.middle.unit;var g=this.getZoomLevelUnit(a);var e=Math.ceil(j/a.width*a.increment*this.visibleZoomFactor/2);var h=c.add(d,g,-e);var i=c.add(d,g,e);return {startDate:this.timeAxis.floorDate(h,!1,f),endDate:this.timeAxis.ceilDate(i,!1,f)}}});Ext.define('Sch.mixin.TimelinePanel',{requires:['Sch.util.Patch','Sch.patches.LoadMask','Sch.patches.Model','Sch.patches.Table','Sch.data.TimeAxis','Sch.feature.ColumnLines','Sch.view.Locking','Sch.mixin.Lockable','Sch.preset.Manager'],mixins:['Sch.mixin.Zoomable'],orientation:'horizontal',weekStartDay:1,snapToIncrement:!1,readOnly:!1,eventResizeHandles:'both',viewPreset:'weekAndDay',trackHeaderOver:!0,startDate:null,endDate:null,eventBorderWidth:1,syncCellHeight:Ext.emptyFn,tooltipTpl:null,tipCfg:{cls:'sch-tip',showDelay:1000,hideDelay:0,autoHide:!0,anchor:'b'},lightWeight:!0,timeCellRenderer:null,timeCellRendererScope:null,inheritables:function(){return {columnLines:!0,enableColumnMove:!1,enableLocking:!0,lockable:!0,lockedXType:null,normalXType:null,initComponent:function(){this.lightWeight=this.lightWeight&&!this.timeCellRenderer;this.addEvents('timeheaderdblclick','beforeviewchange','viewchange');if(!this.timeAxis){this.timeAxis=Ext.create('Sch.data.TimeAxis')}if(!this.columns&&!this.colModel){this.columns=[]}this.timeAxis.on('reconfigure',this.onTimeAxisReconfigure,this);if(this.enableLocking){this.self.mixin('lockable',Sch.mixin.Lockable);var a=0,c=this.columns.length,b;for(;a<c;++a){b=this.columns[a];if(b.locked!==!1){b.locked=!0}}this.switchViewPreset(this.viewPreset,this.startDate,this.endDate,!0)}this.callParent(arguments);if(this.lockable){this.applyViewSettings(this.timeAxis.preset);if(!this.viewPreset){throw 'You must define a valid view preset object. See Sch.preset.Manager class for reference'}if(this.lightWeight&&this.columnLines){this.columnLinesFeature=new Sch.feature.ColumnLines();this.columnLinesFeature.init(this)}}this.initializeZooming();this.relayEvents(this.getView(),['beforetooltipshow','scheduleclick','scheduledblclick','schedulecontextmenu'])},getState:function(){var a=this,b=a.callParent(arguments);Ext.apply(b,{viewPreset:a.viewPreset,startDate:a.getStart(),endDate:a.getEnd(),zoomMinLevel:a.zoomMinLevel,zoomMaxLevel:a.zoomMaxLevel,currentZoomLevel:a.currentZoomLevel});return b},getOrientation:function(){return this.orientation},applyState:function(a){var b=this;b.callParent(arguments);if(a&&a.viewPreset){b.switchViewPreset(a.viewPreset,a.startDate,a.endDate)}if(a&&a.currentZoomLevel){b.zoomToLevel(a.currentZoomLevel)}},beforeRender:function(){this.callParent(arguments);if(this.lockable){this.addCls('sch-'+this.orientation)}},afterRender:function(){this.callParent(arguments);if(this.lockable){this.lockedGrid.on('itemdblclick',function(d,a,e,c,b){if(this.orientation=='vertical'&&a){this.fireEvent('timeheaderdblclick',this,a.get('start'),a.get('end'),c,b)}},this)}else {var a=this.headerCt;if(a&&a.reorderer&&a.reorderer.dropZone){var b=a.reorderer.dropZone;b.positionIndicator=Ext.Function.createSequence(b.positionIndicator,function(){this.valid=!1})}}},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,function(){if(a.dom){this.syncHorizontalScroll(a.dom.scrollLeft)}},this)}}}},setReadOnly:function(a){this.getSchedulingView().setReadOnly(a)},isReadOnly:function(){return this.getSchedulingView().isReadOnly()},switchViewPreset:function(a,d,e,f){if(this.fireEvent('beforeviewchange',this,a,d,e)!==!1){if(Ext.isString(a)){this.viewPreset=a;a=Sch.preset.Manager.getPreset(a)}if(!a){throw 'View preset not found'}var b=a.headerConfig;var c={unit:b.bottom?b.bottom.unit:b.middle.unit,increment:(b.bottom?b.bottom.increment:b.middle.increment)||1,resolutionUnit:a.timeResolution.unit,resolutionIncrement:a.timeResolution.increment,weekStartDay:this.weekStartDay,mainUnit:b.middle.unit,shiftUnit:a.shiftUnit,headerConfig:a.headerConfig,shiftIncrement:a.shiftIncrement||1,preset:a,defaultSpan:a.defaultSpan||1};if(f){c.start=d||new Date();c.end=e}else {c.start=d||this.timeAxis.getStart();c.end=e}if(!f){this.applyViewSettings(a)}this.timeAxis.reconfigure(c)}},applyViewSettings:function(b){var a=this.getSchedulingView();a.setDisplayDateFormat(b.displayDateFormat);if(this.orientation==='horizontal'){a.setRowHeight(this.rowHeight||b.rowHeight,!0)}},getStart:function(){return this.timeAxis.getStart()},getEnd:function(){return this.timeAxis.getEnd()},getViewportCenterDate:function(){var d=this.getSchedulingView(),a=d.getEl(),c=a.getScroll(),b;if(this.orientation==='vertical'){b=[0,c.top+a.getHeight()/2]}else {b=[c.left+a.getWidth()/2,0]}return d.getDateFromXY(b,null,!0)},setTimeColumnWidth:function(b,a){this.getSchedulingView().setColumnWidth(b,a)},onTimeAxisReconfigure:function(){this.fireEvent('viewchange',this);if(this.stateful&&this.lockedGrid){this.saveState()}},getColumnsState:function(){var b=this,a=b.lockedGrid.headerCt.getColumnsState();return a},shiftNext:function(a){this.timeAxis.shiftNext(a)},shiftPrevious:function(a){this.timeAxis.shiftPrevious(a)},goToNow:function(){this.setTimeSpan(new Date())},setTimeSpan:function(b,a){if(this.timeAxis){this.timeAxis.setTimeSpan(b,a)}},setStart:function(a){this.setTimeSpan(a)},setEnd:function(a){this.setTimeSpan(null,a)},getTimeAxis:function(){return this.timeAxis},getResourceByEventRecord:function(a){return a.getResource()},scrollToDate:function(d,b){var a=this.getSchedulingView(),c=a.getXYFromDate(d,!0);if(this.orientation=='horizontal'){a.getEl().scrollTo('left',Math.max(0,c[0]),b)}else {a.getEl().scrollTo('top',Math.max(0,c[1]),b)}},getSchedulingView:function(){return this.lockable?this.normalGrid.getView():this.getView()},setOrientation:function(a){this.removeCls('sch-'+this.orientation);this.addCls('sch-'+a);this.orientation=a}});Ext.define('Sch.panel.TimelineTreePanel',{extend:'Ext.tree.Panel',requires:['Ext.data.TreeStore'],mixins:['Sch.mixin.TimelinePanel'],useArrows:!0,rootVisible:!1,constructor:function(a){a=a||{};a.animate=!1;this.callParent(arguments)},initComponent:function(){this.callParent(arguments);if(this.lockable&&this.lockedGrid.headerCt.query('treecolumn').length===0){Ext.Error.raise("You must define an Ext.tree.Column (or use xtype : 'treecolumn').")}},onRootChange:function(a){if(!this.lockable){this.callParent(arguments)}}},function(){this.override(Sch.mixin.TimelinePanel.prototype.inheritables()||{})});Ext.define('Sch.plugin.Printable',{extend:'Ext.AbstractPlugin',lockableScope:'top',docType:'<!DOCTYPE HTML>',beforePrint:Ext.emptyFn,afterPrint:Ext.emptyFn,autoPrintAndClose:!0,fakeBackgroundColor:!0,scheduler:null,constructor:function(a){Ext.apply(this,a)},init:function(a){this.scheduler=a;a.print=Ext.Function.bind(this.print,this)},mainTpl:'{docType}<html class="x-border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{title}</title>{styles}</head><body class="sch-print-body {bodyClasses}"><div class="sch-print-ct {componentClasses}" style="width:{totalWidth}px"><div class="sch-print-headerbg" style="border-left-width:{totalWidth}px;height:{headerHeight}px;"></div><div class="sch-print-header-wrap"><div style="left:-{lockedScroll}px;margin-right:-{lockedScroll}px;width:{[values.lockedWidth + values.lockedScroll]}px" class="sch-print-lockedheader x-grid-header-ct x-grid-header-ct-default x-docked x-docked-top x-grid-header-ct-docked-top x-grid-header-ct-default-docked-top x-box-layout-ct x-docked-noborder-top x-docked-noborder-right x-docked-noborder-left">{lockedHeader}</div><div style="left:{lockedWidth}px;width:{normalWidth}px;" class="sch-print-normalheader x-grid-header-ct x-grid-header-ct-default x-docked x-docked-top x-grid-header-ct-docked-top x-grid-header-ct-default-docked-top x-box-layout-ct x-docked-noborder-top x-docked-noborder-right x-docked-noborder-left"><div style="margin-left:-{normalScroll}px">{normalHeader}</div></div></div><div id="lockedRowsCt" style="left:-{lockedScroll}px;margin-right:-{lockedScroll}px;width:{[values.lockedWidth + values.lockedScroll]}px;top:{headerHeight}px;" class="sch-print-locked-rows-ct {innerLockedClasses} x-grid-inner-locked">{lockedRows}</div><div id="normalRowsCt" style="left:{lockedWidth}px;top:{headerHeight}px;width:{normalWidth}px" class="sch-print-normal-rows-ct {innerNormalClasses}"><div style="position:relative;overflow:visible;margin-left:-{normalScroll}px">{normalRows}</div></div></div><script type="text/javascript">{setupScript}</script></body></html>',getGridContent:function(a){var c=a.normalGrid,d=a.lockedGrid,f=d.getView(),g=c.getView(),m,i,e,j,k;this.beforePrint(a);var h=f.store.getRange();i=f.tpl.apply(f.collectData(h,0));e=g.tpl.apply(g.collectData(h,0));j=f.el.getScroll().left;k=g.el.getScroll().left;if(a.columnLinesFeature){var b=a.columnLinesFeature;var l=b.containerEl;b.containerEl=Ext.get(document.createElement('div'));b.renderElementsInternal();e=b.containerEl.dom.innerHTML+e;b.containerEl=l}this.afterPrint(a);return {normalHeader:c.headerCt.el.dom.innerHTML,lockedHeader:d.headerCt.el.dom.innerHTML,lockedRows:i,normalRows:e,lockedScroll:j,normalScroll:k,lockedWidth:d.getWidth(),normalWidth:c.getWidth(),headerHeight:c.headerCt.getHeight(),innerLockedClasses:d.view.el.dom.className,innerNormalClasses:c.view.el.dom.className+(this.fakeBackgroundColor?' sch-print-fake-background':''),width:a.getWidth()}},getStylesheets:function(){return Ext.getDoc().select('link[rel="stylesheet"]')},print:function(){var a=this.scheduler;if(!(this.mainTpl instanceof Ext.Template)){var h=22;this.mainTpl=Ext.create('Ext.XTemplate',this.mainTpl,{compiled:!0,disableFormats:!0})}var i=a.getView(),g=this.getStylesheets(),d=Ext.get(Ext.core.DomHelper.createDom({tag:'div'})),c;g.each(function(a){d.appendChild(a.dom.cloneNode(!0))});c=d.dom.innerHTML+'';var f=this.getGridContent(a),e=this.mainTpl.apply(Ext.apply({waitText:this.waitText,docType:this.docType,htmlClasses:'',bodyClasses:Ext.getBody().dom.className,componentClasses:a.el.dom.className,title:a.title||'',styles:c,totalWidth:a.getWidth(),setupScript:'('+this.setupScript.toString()+')();'},f));var b=window.open('','printgrid');b.document.write(e);b.document.close();if(this.autoPrintAndClose){b.print();if(!Ext.isChrome){b.close()}}},setupScript:function(){var f=document.getElementById('lockedRowsCt'),d=document.getElementById('normalRowsCt'),c=f.getElementsByTagName('tr'),b=d.getElementsByTagName('tr'),e=b.length,a=0;for(;a<e;a++){c[a].style.height=b[a].style.height}}});Ext.define('Sch.plugin.PdfExport',{extend:'Ext.util.Observable',mixins:['Ext.AbstractPlugin'],lockableScope:'top',printServer:undefined,tpl:new Ext.XTemplate('<!DOCTYPE html><html class="x-border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{column}/{row}</title>{styles}</head><body class="{bodyClasses}">{[this.showHeader(values)]}<div class="{componentClasses}" style="height:{bodyHeight}px; width:{totalWidth}px">{HTML}</div></body></html>',{disableFormats:!0,showHeader:function(a){if(a.showHeader){return '<div class="sch-pdfprint-header" style="width:'+a.totalWidth+'px"><h2>'+a.column+'/'+a.row+'</h2></div>'}return ''}}),exportDialogClassName:'Sch.widget.PdfExportDialog',exportDialogConfig:{},defaultConfig:{format:'A4',orientation:'portrait',range:'complete',showHeader:!0},pageSizes:{A5:{width:5.8,height:8.3},A4:{width:8.3,height:11.7},A3:{width:11.7,height:16.5},Letter:{width:8.5,height:11}},openAfterExport:!0,DPI:72,constructor:function(a){this.callParent(arguments);this.addEvents('hidedialogwindow','showdialogerror','updateprogressbar')},init:function(a){this.scheduler=a;a.showExportDialog=Ext.Function.bind(this.showExportDialog,this);a.doExport=Ext.Function.bind(this.doExport,this)},showExportDialog:function(){var a=this,b=a.scheduler.getSchedulingView();if(!a.win){a.win=Ext.create(a.exportDialogClassName,{plugin:a,exportDialogConfig:Ext.apply({startDate:this.scheduler.getStart(),endDate:this.scheduler.getEnd(),rowHeight:b.rowHeight,columnWidth:b.getSingleTickInPixels()},a.exportDialogConfig)})}a.win.show()},getStylesheets:function(){var c=Ext.getDoc().select('link[rel="stylesheet"]'),a=Ext.get(Ext.core.DomHelper.createDom({tag:'div'})),b;c.each(function(b){a.appendChild(b.dom.cloneNode(!0))});b=a.dom.innerHTML+'';return b},doExport:function(v,t,w){var a=this,c=a.scheduler,e=c.getSchedulingView(),u=a.getStylesheets(),b=v||a.defaultConfig;a.mask();a.fireEvent('updateprogressbar',0.1);if(c.expandAll){c.expandAll()}var A=c.lockedGrid,k=c.normalGrid,r=e.rowHeight,h=c.timeAxis.getTicks(),l=e.getSingleTickInPixels(),q={width:c.getWidth(),height:c.getHeight(),rowHeight:r,columnWidth:l,startDate:c.getStart(),endDate:c.getEnd(),normalWidth:k.getWidth(),normalPosition:k.getPosition()},f,i;if(b.orientation==='landscape'){f=a.pageSizes[b.format].height*a.DPI;i=a.pageSizes[b.format].width*a.DPI}else {f=a.pageSizes[b.format].width*a.DPI;i=a.pageSizes[b.format].height*a.DPI}var z=41,p=k.headerCt.getHeight(),n=Math.floor(i)-p-(b.showHeader?z:0);if(b.range!=='complete'){var g,d,j,m,o;if(b.range==='date'){g=new Date(b.dateFrom);d=new Date(b.dateTo);d=Sch.util.Date.add(d,Sch.util.Date.DAY,1)}else {if(b.range==='current'){j=e.getVisibleDateRange();g=j.startDate;d=j.endDate}}m=Math.floor(e.timeAxis.getTickFromDate(g));o=Math.floor(e.timeAxis.getTickFromDate(d));h=h.filter(function(b,a){return a>=m&&a<=o});c.setTimeSpan(g,d)}c.setWidth(f);c.setTimeColumnWidth(l);if(c.ownerCt){c.ownerCt.suspendLayouts()}var s=a.calculatePages(b,h,l,f,n),y={ticks:h,printHeight:n,paperWidth:f,headerHeight:p,styles:u,config:b},x=a.getExportJsonHtml(s,y);a.fireEvent('updateprogressbar',0.4);if(a.printServer){Ext.Ajax.request({type:'POST',url:a.printServer,params:{html:{array:x},format:b.format,orientation:b.orientation,range:b.range},success:function(b){a.onSuccess(b,t)},failure:function(b){a.onFailure(b,w)},scope:a})}else {throw 'Server url not defined !'}a.restorePanel(q)},calculatePages:function(p,o,a,h,i){var m=this,b=m.scheduler,k=b.lockedGrid,c=b.getSchedulingView().rowHeight,g=k.getWidth(),f=Math.floor(h/a),d=Math.floor((h-g)/a),j=Math.ceil((o.length-d)/f)+1,n=b.getSchedulingView().store.getCount(),e=Math.floor(i/c),l=Math.ceil(n/e);return {columnsAmountLocked:d,columnsAmountNormal:f,rowsAmount:e,rowPages:l,columnPages:j,timeColumnWidth:a,lockedGridWidth:g,rowHeight:c,panelHTML:{}}},getExportJsonHtml:function(c,f){var g=this,d=g.scheduler,v=c.columnsAmountLocked,j=c.columnsAmountNormal,s=c.rowsAmount,w=c.rowPages,q=c.columnPages,i=c.panelHTML,u=c.timeColumnWidth,x=f.paperWidth,r=f.printHeight,p=f.headerHeight,t=f.styles,y=f.config,a=f.ticks,o=[],b,k,n,l,z,m;for(var e=0;e<q;e+=1){if(e===0){b=Ext.Number.constrain(v-1,e,a.length-1);d.setTimeSpan(a[e].start,a[b].end)}else {if(!k){k=d.lockedGrid.hide()}if(a[b+j]){d.setTimeSpan(a[b+1].start,a[b+j].end);b=b+j}else {d.setTimeSpan(a[b+1].start,a[a.length-1].end)}}d.setTimeColumnWidth(u);for(var h=0;h<w;h+=1){g.hideRows(s,h);i.dom=d.body.dom.innerHTML;i.k=h;i.i=e;l=g.resizePanelHTML(i);n=g.tpl.apply(Ext.apply({bodyClasses:Ext.getBody().dom.className,bodyHeight:r+p,componentClasses:d.el.dom.className,styles:t,showHeader:y.showHeader,HTML:l.dom.innerHTML,totalWidth:x,headerHeight:p,column:e+1,row:h+1}));m={html:n};o.push(m);g.showRows()}}return Ext.JSON.encode(o)},resizePanelHTML:function(g){var a=Ext.get(Ext.core.DomHelper.createDom({tag:'div',html:g.dom})),c=this.scheduler,d=c.lockedGrid,b=c.normalGrid;var f=[a.select('#'+c.id+'-targetEl').first(),a.select('#'+d.id).first(),a.select('#'+d.body.id).first(),a.select('#'+d.body.child('.x-grid-view').id).first()],e=[a.select('#'+b.id).first(),a.select('#'+b.headerCt.id).first(),a.select('#'+b.body.id).first(),a.select('#'+b.getView().id).first()];Ext.Array.each(f,function(a){if(a){a.setHeight('100%')}});Ext.Array.each(e,function(a,b){if(b===1){a.setWidth('100%')}else {a.applyStyles({height:'100%',width:'100%'})}});return a},onSuccess:function(c,d){var a=this,b=Ext.JSON.decode(c.responseText);a.fireEvent('updateprogressbar',1);if(b.success===!0){setTimeout(function(){a.fireEvent('hidedialogwindow');a.unmask();if(a.openAfterExport){window.open(b.url,'PDF_Print')}},a.win?a.win.hideTime:3000)}else {a.fireEvent('showdialogerror',b.msg);a.unmask()}if(d){d.call(this,c)}},onFailure:function(b,a){this.fireEvent('showdialogerror',this);if(a){a.call(this,b)}},hideRows:function(c,g){var f=this.scheduler.lockedGrid.getEl().select('.x-grid-row'),b=this.scheduler.normalGrid.getEl().select('.x-grid-row'),d=c*g,e=d+c;for(var a=0;a<b.elements.length;a+=1){if(a<d||a>=e){f.elements[a].className+=' sch-none';b.elements[a].className+=' sch-none'}}},showRows:function(){var b=this.scheduler.lockedGrid.getEl().select('.x-grid-row'),a=this.scheduler.normalGrid.getEl().select('.x-grid-row');b.each(function(a){a.removeCls('sch-none')});a.each(function(a){a.removeCls('sch-none')})},mask:function(){var a=Ext.getBody().mask();a.addCls('sch-pdf-mask')},unmask:function(){Ext.getBody().unmask()},restorePanel:function(b){var a=this.scheduler;a.setWidth(b.width);a.setHeight(b.height);a.setTimeSpan(b.startDate,b.endDate);a.setTimeColumnWidth(b.columnWidth,!0);a.getSchedulingView().setRowHeight(b.rowHeight);a.lockedGrid.show();a.normalGrid.setWidth(b.normalWidth);a.normalGrid.setPosition(b.normalPosition[0]);a.ownerCt&&a.ownerCt.resumeLayouts()},destroy:function(){if(this.win){this.win.destroy()}}});Ext.define('Sch.widget.ResizePicker',{extend:'Ext.Panel',alias:'widget.dualrangepicker',width:200,height:200,border:!0,collapsible:!1,bodyStyle:'position:relative;margin:5px',verticalCfg:{height:120,value:24,increment:2,minValue:20,maxValue:80,reverse:!0},horizontalCfg:{width:120,value:100,minValue:25,increment:5,maxValue:200},initComponent:function(){var a=this;a.addEvents('change','changecomplete','select');a.horizontalCfg.value=a.dialog.columnWidth;a.verticalCfg.value=a.dialog.rowHeight;a.dockedItems=[a.vertical=new Ext.slider.Single(Ext.apply({dock:'left',style:'margin-top:10px',vertical:!0,listeners:{change:a.onSliderChange,changecomplete:a.onSliderChangeComplete,scope:a}},a.verticalCfg)),a.horizontal=new Ext.slider.Single(Ext.apply({dock:'top',style:'margin-left:28px',listeners:{change:a.onSliderChange,changecomplete:a.onSliderChangeComplete,scope:a}},a.horizontalCfg))];a.callParent(arguments)},afterRender:function(){var a=this;a.addCls('sch-ux-range-picker');a.valueHandle=this.body.createChild({cls:'sch-ux-range-value',cn:{tag:'span'}});a.valueSpan=this.valueHandle.down('span');var b=new Ext.dd.DD(this.valueHandle);Ext.apply(b,{startDrag:function(){a.dragging=!0;this.constrainTo(a.body)},onDrag:function(){a.onHandleDrag.apply(a,arguments)},endDrag:function(){a.onHandleEndDrag.apply(a,arguments);a.dragging=!1},scope:this});this.setValues(this.getValues());this.callParent(arguments);this.body.on('click',this.onBodyClick,this)},onBodyClick:function(b,c){var a=[b.getXY()[0]-8-this.body.getX(),b.getXY()[1]-8-this.body.getY()];this.valueHandle.setLeft(Ext.Number.constrain(a[0],0,this.getAvailableWidth()));this.valueHandle.setTop(Ext.Number.constrain(a[1],0,this.getAvailableHeight()));this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]));this.onSliderChangeComplete()},getAvailableWidth:function(){return this.body.getWidth()-18},getAvailableHeight:function(){return this.body.getHeight()-18},onHandleDrag:function(){this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]))},onHandleEndDrag:function(){this.setValues(this.getValuesFromXY([this.valueHandle.getLeft(!0),this.valueHandle.getTop(!0)]))},getValuesFromXY:function(a){var d=a[0]/this.getAvailableWidth();var b=a[1]/this.getAvailableHeight();var e=Math.round((this.horizontalCfg.maxValue-this.horizontalCfg.minValue)*d);var c=Math.round((this.verticalCfg.maxValue-this.verticalCfg.minValue)*b)+this.verticalCfg.minValue;return [e+this.horizontalCfg.minValue,c]},getXYFromValues:function(a){var c=this.horizontalCfg.maxValue-this.horizontalCfg.minValue;var f=this.verticalCfg.maxValue-this.verticalCfg.minValue;var b=Math.round((a[0]-this.horizontalCfg.minValue)*this.getAvailableWidth()/c);var d=a[1]-this.verticalCfg.minValue;var e=Math.round(d*this.getAvailableHeight()/f);return [b,e]},updatePosition:function(){var b=this.getValues();var a=this.getXYFromValues(this.getValues());this.valueHandle.setLeft(Ext.Number.constrain(a[0],0,this.getAvailableWidth()));this.valueHandle.setTop(Ext.Number.constrain(a[1],0,this.getAvailableHeight()));this.positionValueText();this.valueSpan.update('['+b.toString()+']')},positionValueText:function(){var a=this.valueHandle.getTop(!0);var b=this.valueHandle.getLeft(!0);this.valueSpan.setLeft(b>30?-30:10);this.valueSpan.setTop(a>10?-20:20)},setValues:function(a){this.horizontal.setValue(a[0]);if(this.verticalCfg.reverse){this.vertical.setValue(this.verticalCfg.maxValue+this.verticalCfg.minValue-a[1])}else {this.vertical.setValue(a[1])}if(!this.dragging){this.updatePosition()}this.positionValueText();this.valueSpan.update('['+a.toString()+']')},getValues:function(){var a=this.vertical.getValue();if(this.verticalCfg.reverse){a=this.verticalCfg.maxValue-a+this.verticalCfg.minValue}return [this.horizontal.getValue(),a]},onSliderChange:function(){this.fireEvent('change',this,this.getValues());if(!this.dragging){this.updatePosition()}},onSliderChangeComplete:function(){this.fireEvent('changecomplete',this,this.getValues())},afterLayout:function(){this.callParent(arguments);this.updatePosition()}});Ext.define('Sch.widget.ExportDialogForm',{extend:'Ext.form.Panel',dialog:null,layout:{type:'vbox'},requires:['Sch.widget.ResizePicker'],border:!1,bodyPadding:10,initComponent:function(){var b=this,a=b.dialog;Ext.apply(this,{fieldDefaults:{labelAlign:'top',labelWidth:100,labelStyle:'font-weight:bold'},items:[{width:a.getWidth()-40,xtype:'combo',value:'complete',triggerAction:'all',forceSelection:!0,editable:!1,fieldLabel:a.rangeFieldLabel,name:'range',itemId:'rangeField',queryMode:'local',displayField:'name',valueField:'value',store:Ext.create('Ext.data.Store',{fields:['name','value'],data:[{name:a.completeView,value:'complete'},{name:a.dateRange,value:'date'},{name:a.currentView,value:'current'}]})},{xtype:'dualrangepicker',itemId:'rangePicker',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-pickertext">'+a.pickerText+':</span>'),dialog:a,hidden:!0},{width:a.getWidth()-40,xtype:'datefield',fieldLabel:b.dateRangeFrom,name:'dateFrom',itemId:'dateFromField',hidden:!0,allowBlank:!1,cls:'sch-pdfexportdialog-date',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-datelabel">'+a.dateRangeFrom+':</span>'),maxValue:a.endDate,minValue:a.startDate,value:a.startDate,validator:function(c){var b=new Date(c);return b>=a.startDate}},{width:a.getWidth()-40,xtype:'datefield',name:'dateTo',itemId:'dateToField',hidden:!0,allowBlank:!1,cls:'sch-pdfexportdialog-date',beforeSubTpl:new Ext.XTemplate('<span class="sch-pdfexportdialog-datelabel">'+a.dateRangeTo+':</span>'),maxValue:a.endDate,minValue:a.startDate,value:a.endDate,validator:function(c){var b=new Date(c);return b<=a.endDate}},{width:a.getWidth()-40,xtype:'checkboxfield',fieldLabel:a.showHeaderLabel,name:'showHeader',checked:!0},{width:a.getWidth()-40,xtype:'combo',value:'A4',triggerAction:'all',forceSelection:!0,editable:!1,fieldLabel:a.formatFieldLabel,name:'format',queryMode:'local',store:['A5','A4','A3','Letter']},{width:a.getWidth()-40,xtype:'combo',value:'portrait',triggerAction:'all',forceSelection:!0,editable:!1,afterSubTpl:new Ext.XTemplate('<span id="sch-pdfexportdialog-imagePortrait"></span><span id="sch-pdfexportdialog-imageLandscape" class="sch-none"></span>'),fieldLabel:a.orientationFieldLabel,name:'orientation',cls:'sch-pdfexportdialog-orientation',itemId:'orientationField',displayField:'name',valueField:'value',queryMode:'local',store:Ext.create('Ext.data.Store',{fields:['name','value'],data:[{name:a.orientationPortrait,value:'portrait'},{name:a.orientationLandscape,value:'landscape'}]})},new Ext.ProgressBar({text:a.progressBarText,width:a.getWidth()-40,animate:!0,hidden:!0,itemId:'progressBar',id:'print-widget-progressbar'})]});b.callParent(arguments);if(!b.progressBar){b.progressBar=new Ext.ProgressBar({text:a.progressBarText,width:a.getWidth()-40,animate:!0,hidden:!0,itemId:'progressBar',id:'print-widget-progressbar'})}b.items.add(b.progressBar);b.dateFromField=b.getComponent('dateFromField');b.dateToField=b.getComponent('dateToField');b.rangePicker=b.getComponent('rangePicker');b.getComponent('orientationField').on('change',b.onChange,b);b.getComponent('rangeField').on('change',b.onChange,b);b.form.relayEvents(b.dialog,['updateprogressbar','hideprogressbar','showprogressbar']);var c={hideprogressbar:b.hideProgressBar,showprogressbar:b.showProgressBar,updateprogressbar:b.updateProgressBar,scope:b};b.form.on(c)},onChange:function(b,a){if(b.name==='range'){switch(a){case 'complete':this.dateFromField.hide();this.dateToField.hide();this.rangePicker.hide();break;case 'date':this.dateFromField.show();this.dateToField.show();this.rangePicker.hide();break;case 'current':this.dateFromField.hide();this.dateToField.hide();this.rangePicker.show();this.rangePicker.expand(!0);break;}}if(b.name==='orientation'){switch(a){case 'landscape':Ext.get('sch-pdfexportdialog-imagePortrait').toggleCls('sch-none');Ext.get('sch-pdfexportdialog-imageLandscape').toggleCls('sch-none');break;case 'portrait':Ext.get('sch-pdfexportdialog-imagePortrait').toggleCls('sch-none');Ext.get('sch-pdfexportdialog-imageLandscape').toggleCls('sch-none');break;}}},showProgressBar:function(){this.progressBar&&this.progressBar.show()},hideProgressBar:function(){this.progressBar&&this.progressBar.hide()},updateProgressBar:function(a){this.progressBar&&this.progressBar.updateProgress(a)},destroy:function(){this.progressBar&&this.progressBar.destroy();this.callParent(arguments)}});Ext.define('Sch.widget.ExportDialogButtons',{extend:'Ext.panel.Panel',dialog:null,height:35,border:!1,collapsible:!1,items:[],initComponent:function(){Ext.apply(this,{width:this.dialog.getWidth(),items:[{xtype:'button',scale:'medium',text:this.dialog.exportButtonText,handler:function(){var a=this.dialog.form.getForm();if(a.isValid()){var b=a.getValues();this.dialog.fireEvent('showprogressbar');this.dialog.plugin.doExport(b)}},scope:this},{xtype:'button',scale:'medium',text:this.dialog.cancelButtonText,handler:function(){this.dialog.hideDialog()},scope:this}]});this.callParent(arguments)}});Ext.define('Sch.widget.PdfExportDialog',{extend:'Ext.window.Window',alias:'widget.exportdialog',modal:!1,width:240,height:310,cls:'sch-pdfexportdialog',frame:!1,header:!1,title:null,layout:'fit',resizable:!1,draggable:!0,plugin:null,hideTime:2000,formPanel:null,buttonsPanel:null,progressBar:null,items:[],tpl:Ext.create('Ext.XTemplate','<div class="sch-pdfexportdialog-header"><h4>{headerText}</h4><span id="sch-pdfexportdialog-close"></span></div><div class="sch-pdfexportdialog-form" id="sch-pdfexportdialog-form"></div><div class="sch-pdfexportdialog-msg sch-none"><span id="sch-pdfexportdialog-msg"></span></div><div class="sch-pdfexportdialog-button" id="sch-pdfexportdialog-button"></div>',{compiled:!0}),generalError:'An error occured, try again.',dialogHeader:'PDF Settings',formatFieldLabel:'Paper format',orientationFieldLabel:'Orientation',rangeFieldLabel:'Export range',showHeaderLabel:'Add page number',orientationPortrait:'Portrait',orientationLandscape:'Landscape',completeView:'Complete schedule',currentView:'Current view',dateRange:'Date range',dateRangeFrom:'Export from',pickerText:'Resize column/rows to desired value',dateRangeTo:'Export to',exportButtonText:'Export',cancelButtonText:'Cancel',progressBarText:'Exporting...',requires:['Ext.ProgressBar','Sch.widget.ExportDialogForm'],constructor:function(a){Ext.apply(this,a.exportDialogConfig);this.callParent(arguments)},initComponent:function(){var a=this,b={hidedialogwindow:a.hideDialog,showdialogerror:a.showError,updateprogressbar:function(b){a.fireEvent('updateprogressbar',b)},scope:this};a.html=a.tpl.apply({headerText:a.dialogHeader});a.plugin.on(b);a.callParent(arguments)},destroy:function(){this.form.destroy();this.buttons.destroy();this.callParent(arguments)},afterRender:function(){var a=this;a.buttons=a.buttonsPanel||new Sch.widget.ExportDialogButtons({renderTo:'sch-pdfexportdialog-button',dialog:a,width:a.getWidth(),height:35});a.form=a.formPanel||new Sch.widget.ExportDialogForm({dialog:a,renderTo:'sch-pdfexportdialog-form'});a.on('changecomplete',function(d,b){a.plugin.scheduler.setTimeColumnWidth(b[0],!0);if(a.form.rangePicker.verticalCfg.reverse){var c=b[1]-a.form.rangePicker.verticalCfg.maxValue+a.form.rangePicker.verticalCfg.minValue;a.plugin.scheduler.getSchedulingView().setRowHeight(c)}else {a.plugin.scheduler.getSchedulingView().setRowHeight(b[1])}});a.form.on('resize',a.setTipHeight,a);a.relayEvents(a.form.rangePicker,['change','changecomplete','select']);Ext.get('sch-pdfexportdialog-close').on('click',a.hideDialog,a)},setTipHeight:function(){var a=this,c=a.getHeight(),b=a.form.getHeight();if(!a.oldFormHeight){a.oldFormHeight=b}else {a.form.suspendEvents();a.setHeight(a.getHeight()+b-a.oldFormHeight);a.form.resumeEvents();a.oldFormHeight=b}},hideDialog:function(){var a=this;a.fireEvent('updateprogressbar',0);a.fireEvent('hideprogressbar');a.form.show();a.form.getForm().reset();a.buttons.show();a.hide()},showError:function(c){var a=this,b;c=c||a.generalErrorText;a.fireEvent('hideprogressbar');a.form.hide();a.buttons.hide();b=a.getEl().select('.sch-pdfexportdialog-msg').first();b.dom.innerHTML=c;b.removeCls('sch-none');setTimeout(function(){b.dom.innerHTML='';b.addCls('sch-none');a.hideDialog()},a.hideTime)}});Ext.define('Gnt.model.WeekAvailability',{extend:'Sch.model.Range',customizableFields:[{name:'Availability'}],availabilityField:'Availability',set:function(b,a){if(b===this.nameField){Ext.Array.each(this.getAvailability(),function(c){c.setName(a)})}this.callParent(arguments)},getAvailability:function(){return this.get(this.availabilityField)||[]},setAvailability:function(a){var b=this.getName();Ext.Array.each(a,function(c){c.setName(b)});this.set(this.availabilityField,a)}});Ext.define('Gnt.model.CalendarDay',{requires:['Ext.data.Types'],extend:'Sch.model.Customizable',idProperty:'Id',customizableFields:[{name:'Date',type:'date',dateFormat:'c',convert:function(c,a){if(!c){return}var b=Ext.data.Types.DATE.convert.call(this,c);if(b){Ext.Date.clearTime(b)}if(a.data[a.idProperty]==null){a.data[a.idProperty]=b-0}return b}},{name:'Id'},{name:'IsWorkingDay',type:'boolean',defaultValue:!1},{name:'Cls',defaultValue:'gnt-holiday'},'Name',{name:'Availability',convert:function(a,b){if(a){return Ext.typeOf(a)==='string'?[a]:a}else {return []}}}],availabilityCache:null,dateField:'Date',isWorkingDayField:'IsWorkingDay',clsField:'Cls',nameField:'Name',availabilityField:'Availability',setDate:function(b){var a=Ext.Date.clearTime(b,!0);this.data[this.idProperty]=a-0;this.set(this.dateField,a)},clearDate:function(){this.data[this.idProperty]=null},getAvailability:function(b){var c=this;if(b){return this.get(this.availabilityField)}if(this.availabilityCache){return this.availabilityCache}var a=[];Ext.Array.each(this.get(this.availabilityField),function(d){a.push(Ext.typeOf(d)==='string'?c.parseInterval(d):d)});this.verifyAvailability(a);return this.availabilityCache=a},setAvailability:function(a){this.availabilityCache=null;this.set(this.availabilityField,this.stringifyIntervals(a));this.getAvailability()},verifyAvailability:function(a){a.sort(function(c,b){return c.startTime-b.startTime});Ext.Array.each(a,function(b){if(b.startTime>b.endTime){throw 'Start time is greater than end time'}});for(var b=1;b<a.length;b++){var c=a[b-1];var d=a[b];if(c.endTime>d.startTime){throw 'Availability intervals should not intersect'}}},prependZero:function(a){return a<10?'0'+a:a},stringifyInterval:function(b){var c=b.startTime;var a=b.endTime;return this.prependZero(c.getHours())+':'+this.prependZero(c.getMinutes())+'-'+this.prependZero(a.getHours())+':'+this.prependZero(a.getMinutes())},stringifyIntervals:function(b){var c=this;var a=[];Ext.Array.each(b,function(d){if(Ext.typeOf(d)==='string'){a.push(d)}else {a.push(c.stringifyInterval(d))}});return a},parseInterval:function(b){var a=/(\d\d):(\d\d)-(\d\d):(\d\d)/.exec(b);if(!a){throw 'Invalid format for availability string: '+b+'. It should have exact format: hh:mm-hh:mm'}return {startTime:new Date(0,0,0,a[1],a[2]),endTime:new Date(0,0,0,a[3],a[4])}},getTotalHours:function(){return this.getTotalMS()/1000/60/60},getTotalMS:function(){var a=0;Ext.Array.each(this.getAvailability(),function(b){a+=b.endTime-b.startTime});return a},addAvailabilityInterval:function(c,b){var a;if(c instanceof Date){a={startTime:c,endTime:b}}else {a=this.parseInterval(c+(b?'-'+b:''))}var d=this.getAvailability().concat(a);this.verifyAvailability(d);this.setAvailability(d)},removeAvailbilityInterval:function(b){var a=this.getAvailability();a.splice(b,1);this.setAvailability(a)},getAvailabilityIntervalsFor:function(a){a=typeof a=='number'?new Date(a):a;var d=a.getFullYear();var e=a.getMonth();var c=a.getDate();var b=[];Ext.Array.each(this.getAvailability(),function(f){var g=f.endTime.getDate();b.push({startDate:new Date(d,e,c,f.startTime.getHours(),f.startTime.getMinutes()),endDate:new Date(d,e,c+(g==1?1:0),f.endTime.getHours(),f.endTime.getMinutes())})});return b},getAvailabilityStartFor:function(b){var a=this.getAvailabilityIntervalsFor(b);if(!a.length){return null}return a[0].startDate},getAvailabilityEndFor:function(b){var a=this.getAvailabilityIntervalsFor(b);if(!a.length){return null}return a[a.length-1].endDate}});Ext.define('Gnt.model.Assignment',{extend:'Sch.model.Customizable',idProperty:'Id',customizableFields:[{name:'Id'},{name:'ResourceId'},{name:'TaskId'},{name:'Units',type:'float',defaultValue:100}],resourceIdField:'ResourceId',taskIdField:'TaskId',unitsField:'Units',isPersistable:function(){var a=this.getTask(),b=this.getResource();return a&&!a.phantom&&b&&!b.phantom},getUnits:function(){return Math.max(0,this.get(this.unitsField))},setUnits:function(a){if(a<0){throw "`Units` value for an assignment can't be less than 0"}this.set(this.unitsField,a)},getResourceName:function(){var a=this.stores[0].getResourceStore().getById(this.getResourceId());if(a){return a.getName()}return ''},getTask:function(a){return (a||this.stores[0].getTaskStore()).getById(this.getTaskId())},getResource:function(){return this.stores[0].getResourceStore().getByInternalId(this.getResourceId())},getInternalId:function(){return this.getId()||this.internalId},getEffort:function(c){var a=this.getTask();var b=0;a.forEachAvailabilityIntervalWithResources({startDate:a.getStartDate(),endDate:a.getEndDate(),resources:[this.getResource()]},function(g,f,a){var d;for(var e in a){d=a[e].units}b+=(f-g)*d/100});return a.getProjectCalendar().convertMSDurationToUnit(b,c||a.getEffortUnit())}});Ext.define('Gnt.model.Dependency',{extend:'Sch.model.Customizable',inheritableStatics:{Type:{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}},idProperty:'Id',customizableFields:[{name:'Id'},{name:'From'},{name:'To'},{name:'Type',type:'int',defaultValue:2},{name:'Lag',type:'int',defaultValue:0},{name:'Cls'}],fromField:'From',toField:'To',typeField:'Type',lagField:'Lag',clsField:'Cls',constructor:function(a){this.callParent(arguments);if(a){if(a.fromTask){if(a.fromTask instanceof Gnt.model.Task){this.setSourceTask(a.fromTask)}else {this.setSourceId(a.fromTask)}}if(a.toTask){if(a.toTask instanceof Gnt.model.Task){this.setTargetTask(a.toTask)}else {this.setTargetId(a.toTask)}}if(Ext.isDefined(a.type)){this.setType(a.type)}}},getTaskStore:function(){return this.stores[0].taskStore},getSourceTask:function(a){return this.getTaskStore().getById(this.getSourceId())},setSourceTask:function(a){this.setSourceId(a.getId()||a.internalId)},getTargetTask:function(){return this.getTaskStore().getById(this.getTargetId())},setTargetTask:function(a){this.setTargetId(a.getId()||a.internalId)},getSourceId:function(){return this.get(this.fromField)},setSourceId:function(a){this.set(this.fromField,a)},getTargetId:function(){return this.get(this.toField)},setTargetId:function(a){this.set(this.toField,a)},isPersistable:function(){var a=this.getSourceTask(),b=this.getTargetTask();return a&&!a.phantom&&b&&!b.phantom},isValid:function(b){var a=this.callParent(arguments);if(a&&this.stores[0]){a=this.stores[0].isValidDependency(this.getSourceId(),this.getTargetId(),!0)}return a}});Ext.define('Gnt.model.Resource',{extend:'Sch.model.Resource',customizableFields:['CalendarId'],calendarIdField:'CalendarId',getTaskStore:function(){return this.stores[0].getTaskStore()},getEventStore:function(){return this.getTaskStore()},getEvents:function(){return this.getTasks()},getTasks:function(){var a=[];this.forEachAssignment(function(c){var b=c.getTask();if(b){a.push(b)}});return a},getCalendar:function(a){return a?this.getOwnCalendar():this.getOwnCalendar()||this.getProjectCalendar()},getOwnCalendar:function(){var a=this.getCalendarId();return a?Gnt.data.Calendar.getCalendar(a):null},getProjectCalendar:function(){return this.stores[0].getTaskStore().getCalendar()},setCalendar:function(a){},getInternalId:function(){return this.getId()||this.internalId},assignTo:function(a,c){var b=a instanceof Gnt.model.Task?a:this.getTaskStore().getById(a);return b.assign(this,c)},unassignFrom:function(){return this.unAssignFrom.apply(this,arguments)},unAssignFrom:function(a){var b=a instanceof Gnt.model.Task?a:this.getTaskStore().getById(a);b.unAssign(this)},forEachAssignment:function(b,a){a=a||this;var c=this.getInternalId();this.getTaskStore().getAssignmentStore().each(function(d){if(d.getResourceId()==c){return b.call(a,d)}})},collectAvailabilityIntervalPoints:function(g,i,h,a,f){for(var d=0;d<g.length;d++){var e=g[d];var b=e.startDate-0;var c=e.endDate-0;if(!a[b]){a[b]=[];f.push(b)}a[b].push(i(b));if(!a[c]){a[c]=[];f.push(c)}a[c].push(h(c))}},forEachAvailabilityIntervalWithTasks:function(m,u,k){k=k||this;var b=m.startDate;var c=m.endDate;if(!b||!c){throw 'Both `startDate` and `endDate` are required for `forEachAvailabilityIntervalWithTasks`'}var f=new Date(b);var w=m.includeAllIntervals;var v=this.getCalendar();var n=[];var i=[];var l=[];this.forEachAssignment(function(d){var a=d.getTask();if(a.getStartDate()>c||a.getEndDate()<b){return}i.push(a);l.push(a.getCalendar());n.push(d)});if(!i.length){return}var t=Sch.util.Date;var e=[b-0,c-0];var g={};g[b-0]=[{type:'00-intervalStart'}];g[c-0]=[{type:'00-intervalEnd'}];var a;while(f<c){this.collectAvailabilityIntervalPoints(v.getAvailabilityIntervalsFor(f),function(){return {type:'00-resourceAvailabilityStart'}},function(){return {type:'01-resourceAvailabilityEnd'}},g,e);for(a=0;a<l.length;a++){this.collectAvailabilityIntervalPoints(l[a].getAvailabilityIntervalsFor(f),function(){return {type:'02-taskAvailabilityStart',assignment:n[a],taskId:i[a].getInternalId(),units:n[a].getUnits()}},function(){return {type:'03-taskAvailabilityEnd',taskId:i[a].getInternalId()}},g,e)}f=t.getStartOfNextDay(f)}e.sort();var r=!1;var s={};var o=0;for(a=0;a<e.length-1;a++){var q=g[e[a]];q.sort(function(b,a){return b.type<a.type});for(var p=0;p<q.length;p++){var d=q[p];if(d.type=='00-resourceAvailabilityStart'){r=!0}if(d.type=='01-resourceAvailabilityEnd'){r=!1}if(d.type=='02-taskAvailabilityStart'){s[d.taskId]=d;o++}if(d.type=='03-taskAvailabilityEnd'){delete s[d.taskId];o--}}if(w||r&&o){var j=e[a];var h=e[a+1];if(j>c||h<b){continue}if(j<b){j=b-0}if(h>c){h=c-0}if(u.call(k,j,h,s)===!1){return !1}}}},getAllocationInfo:function(b){var a=[];this.forEachAvailabilityIntervalWithTasks(b,function(h,g,c){var f=0;var d=[];for(var e in c){f+=c[e].units;d.push(c[e].assignment)}a.push({startDate:new Date(h),endDate:new Date(g),totalAllocation:f,assignments:d})});return a}});Ext.define('Gnt.model.task.More',{indent:function(){var a=this.previousSibling;if(a){this.isMove=!0;a.appendChild(this);delete this.isMove;a.set('leaf',!1);a.expand()}},outdent:function(){var a=this.parentNode;if(a&&!a.isRoot()){a.set('leaf',a.childNodes.length===1);this.isMove=!0;if(a.nextSibling){a.parentNode.insertBefore(this,a.nextSibling)}else {a.parentNode.appendChild(this)}delete this.isMove}},getAllDependencies:function(a){a=a||this.getDependencyStore();return a.getDependenciesForTask(this)},hasIncomingDependencies:function(a){var c=this.getId()||this.internalId;a=a||this.getDependencyStore();var b=a.findBy(function(b){return b.getTargetId()==c});return b>=0},getIncomingDependencies:function(a){a=a||this.getDependencyStore();return a.getIncomingDependenciesForTask(this)},getOutgoingDependencies:function(a){a=a||this.getDependencyStore();return a.getOutgoingDependenciesForTask(this)},constrain:function(a){if(this.isManuallyScheduled()){return !1}var e=!1;a=a||this.getTaskStore();var c=this.getConstrainContext(a);if(c){var b=c.startDate;var d=c.endDate;if(b&&b-this.getStartDate()!==0){this.setStartDate(b,!0,a.skipWeekendsDuringDragDrop);e=!0}else {if(d&&d-this.getEndDate()!==0){this.setEndDate(d,!0,a.skipWeekendsDuringDragDrop);e=!0}}}return e},getConstrainContext:function(g){var f=this.getIncomingDependencies();if(!f.length){return null}var h=g||this.getTaskStore(),d=Gnt.model.Dependency.Type,b=new Date(0),a=new Date(0),i=Ext.Date,e=this.getCalendar(),c;Ext.each(f,function(j){var i=j.getSourceTask();if(i){var k=j.getLag()||0,h=i.getStartDate(),f=i.getEndDate();switch(j.getType()){case d.StartToEnd:h=e.skipWorkingDays(h,k);if(a<h){a=h;c=i};break;case d.StartToStart:h=e.skipWorkingDays(h,k);if(b<h){b=h;c=i};break;case d.EndToStart:f=e.skipWorkingDays(f,k);if(b<f){b=f;c=i};break;case d.EndToEnd:f=e.skipWorkingDays(f,k);if(a<f){a=f;c=i};break;default:throw 'Invalid dependency type: '+j.getType();}}});return {startDate:b>0?b:null,endDate:a>0?a:null,constrainingTask:c}},getCriticalPaths:function(){var b=[this],a=this.getConstrainContext();while(a){b.push(a.constrainingTask);a=a.constrainingTask.getConstrainContext()}return b},cascadeChanges:function(a,b){a=a||this.getTaskStore();if(this.isLeaf()){if(this.constrain(a)){this.recalculateParents();b.nbrAffected++}}Ext.each(this.getOutgoingDependencies(),function(d){var c=d.getTargetTask();if(c&&!c.isManuallyScheduled()){c.cascadeChanges(a,b)}})},addSubtask:function(a){this.set('leaf',!1);this.appendChild(a);this.expand()},addSuccessor:function(a){var e=this.rec,c=this.getTaskStore(),b=this.getDependencyStore();a=a||new this.self();a.calendar=a.calendar||this.getCalendar();a.taskStore=c;a.setStartDate(this.getEndDate(),!0,c.skipWeekendsDuringDragDrop);a.setDuration(1,Sch.util.Date.DAY);this.addTaskBelow(a);var d=new b.model({fromTask:this,toTask:a,type:b.model.Type.EndToStart});b.add(d)},addMilestone:function(a){var c=this.getTaskStore();a=a||new this.self();var b=this.getEndDate();if(b){a.calendar=a.calendar||this.getCalendar();a.setStartEndDate(b,b,c.skipWeekendsDuringDragDrop)}this.addTaskBelow(a)},addPredecessor:function(a){var b=this.getDependencyStore();a=a||new this.self();a.calendar=a.calendar||this.getCalendar();a.beginEdit();a.set(this.startDateField,a.calculateStartDate(this.getStartDate(),1,Sch.util.Date.DAY));a.set(this.endDateField,this.getStartDate());a.set(this.durationField,1);a.set(this.durationUnitField,Sch.util.Date.DAY);a.endEdit();this.addTaskAbove(a);var c=new b.model({fromTask:a,toTask:this,type:b.model.Type.EndToStart});b.add(c)},getSuccessors:function(){var g=this.getId()||this.internalId;var a=a||this.getDependencyStore();var h=this.getTaskStore(),e=[];for(var b=0,f=a.getCount();b<f;b++){var d=a.getAt(b);if(d.getSourceId()==g){var c=d.getTargetTask();if(c){e.push(c)}}}return e},getPredecessors:function(){var f=this.getId()||this.internalId;var a=a||this.getDependencyStore();var g=this.getTaskStore(),d=[];for(var b=0,e=a.getCount();b<e;b++){var c=a.getAt(b);if(c.getTargetId()==f){d.push(c.getSourceTask())}}return d},addTaskAbove:function(a){a=a||new this.self();this.parentNode.insertBefore(a,this)},addTaskBelow:function(a){a=a||new this.self();if(this.nextSibling){this.parentNode.insertBefore(a,this.nextSibling)}else {this.parentNode.appendChild(a)}},isAbove:function(a){var b=this,c=Math.min(b.data.depth,a.data.depth);while(b.data.depth>c){b=b.parentNode}while(a.data.depth>c){a=a.parentNode}while(a.parentNode!==b.parentNode){a=a.parentNode;b=b.parentNode}return a.data.index>b.data.index}});Ext.define('Gnt.model.Task',{extend:'Sch.model.Range',requires:['Sch.util.Date','Ext.data.NodeInterface'],mixins:['Gnt.model.task.More'],idProperty:'Id',customizableFields:[{name:'Id'},{name:'Duration',type:'number',useNull:!0},{name:'Effort',type:'number',useNull:!0},{name:'EffortUnit',type:'string',defaultValue:'h'},{name:'CalendarId',type:'string'},{name:'DurationUnit',type:'string',defaultValue:'d',convert:function(a){return a||'d'}},{name:'PercentDone',type:'int',defaultValue:0},{name:'ManuallyScheduled',type:'boolean',defaultValue:!1},{name:'SchedulingMode',type:'string',defaultValue:'Normal'},{name:'BaselineStartDate',type:'date',dateFormat:'c'},{name:'BaselineEndDate',type:'date',dateFormat:'c'},{name:'BaselinePercentDone',type:'int',defaultValue:0},{name:'Draggable',type:'boolean',persist:!1,defaultValue:!0},{name:'Resizable',persist:!1},{name:'PhantomId',type:'string'},{name:'PhantomParentId',type:'string'}],draggableField:'Draggable',resizableField:'Resizable',nameField:'Name',durationField:'Duration',durationUnitField:'DurationUnit',effortField:'Effort',effortUnitField:'EffortUnit',percentDoneField:'PercentDone',manuallyScheduledField:'ManuallyScheduled',schedulingModeField:'SchedulingMode',calendarIdField:'CalendarId',baselineStartDateField:'BaselineStartDate',baselineEndDateField:'BaselineEndDate',baselinePercentDoneField:'BaselinePercentDone',calendar:null,dependencyStore:null,taskStore:null,phantomIdField:'PhantomId',phantomParentIdField:'PhantomParentId',normalized:!1,recognizedSchedulingModes:['Normal','Manual','FixedDuration','EffortDriven','DynamicAssignment'],constructor:function(){this.getModifiedFieldNames=function(){if(this.__isFilling__){return []}delete this.getModifiedFieldNames;return this.getModifiedFieldNames()};this.callParent(arguments)},normalize:function(){var d=this.getDuration(),e=this.getDurationUnit(),b=this.getStartDate(),a=this.getEndDate(),f=this.getSchedulingMode(),c=this.data;if(a&&this.inclusiveEndDate){var i=this.fields.getByKey(this.endDateField).dateFormat;var j=i&&!Ext.Date.formatContainsHourInfo(i)||a.getHours()===0&&a.getMinutes()===0&&a.getSeconds()===0&&a.getMilliseconds()===0;if(j){if(Ext.isNumber(d)){a=c[this.endDateField]=this.calculateEndDate(b,d,e)}else {a=c[this.endDateField]=Ext.Date.add(a,Ext.Date.DAY,1)}}}if(d==null&&b&&a){c[this.durationField]=this.calculateDuration(b,a,e)}if((f=='Normal'||this.isManuallyScheduled())&&a==null&&b&&Ext.isNumber(d)){c[this.endDateField]=this.calculateEndDate(b,d,e)}if(f=='EffortDriven'||f=='FixedDuration'){var g=this.get(this.effortField),h=this.getEffortUnit();if(g==null&&b&&a){c[this.effortField]=this.calculateEffort(b,a,h)}if(a==null&&b&&g){c[this.endDateField]=this.calculateEffortDrivenEndDate(b,g,h);if(d==null){c[this.durationField]=this.calculateDuration(b,c[this.endDateField],e)}}}this.normalized=!0},normalizeEffort:function(){var d=this.childNodes;var b=0;for(var a=0;a<d.length;a++){var c=d[a];if(!c.isLeaf()){c.normalizeEffort()}b+=c.getEffort('MILLI')}if(this.getEffort('MILLI')!=b){this.data[this.effortField]=this.getProjectCalendar().convertMSDurationToUnit(b,this.getEffortUnit())}},getInternalId:function(){return this.getId()||this.internalId},getCalendar:function(a){return a?this.getOwnCalendar():this.getOwnCalendar()||this.getProjectCalendar()},getOwnCalendar:function(){var a=this.get(this.calendarIdField);return a?Gnt.data.Calendar.getCalendar(a):this.calendar},getProjectCalendar:function(){var a=this.stores[0];var b=a&&a.getCalendar&&a.getCalendar()||this.parentNode&&this.parentNode.getProjectCalendar()||this.isRoot()&&this.calendar;if(!b){Ext.Error.raise("Can't find a project calendar in `getProjectCalendar`")}return b},setCalendar:function(a){this.calendar=a},getDependencyStore:function(){var a=this.dependencyStore||this.getTaskStore().dependencyStore;if(!a){Ext.Error.raise("Can't find a dependencyStore in `getDependencyStore`")}return a},getResourceStore:function(){return this.getTaskStore().getResourceStore()},getAssignmentStore:function(){return this.getTaskStore().getAssignmentStore()},getTaskStore:function(b){if(this.taskStore){return this.taskStore}var a=this.stores[0]&&this.stores[0].taskStore||this.parentNode&&this.parentNode.getTaskStore(b);if(!a&&!b){Ext.Error.raise("Can't find a taskStore in `getTaskStore`")}return this.taskStore=a},isManuallyScheduled:function(){return this.get(this.schedulingModeField)=='Manual'||this.get(this.manuallyScheduledField)},setManuallyScheduled:function(a){if(a){this.set(this.schedulingModeField,'Manual')}else {if(this.get(this.schedulingModeField)=='Manual'){this.set(this.schedulingModeField,'Normal')}}return this.set(this.manuallyScheduledField,a)},setSchedulingMode:function(a){if(Ext.Array.indexOf(this.recognizedSchedulingModes,a)==-1){throw 'Unrecognized scheduling mode: '+a}this.beginEdit();this.set(this.schedulingModeField,a);if(a==='FixedDuration'){this.updateEffortBasedOnDuration()}if(a==='EffortDriven'){this.updateDurationBasedOnEffort()}this.endEdit()},skipNonWorkingTime:function(a,b){var c=!1;this.forEachAvailabilityIntervalWithResources(b?{startDate:a}:{endDate:a,isForward:!1},function(e,d,f){a=b?e:d;c=!0;return !1});return c?new Date(a):this.getCalendar().skipNonWorkingTime(a,b)},setStartDate:function(a,f,e){this.beginEdit();var d=this.getCalendar();if(e&&!this.isManuallyScheduled()){if(!this.isMilestone()||d.isHoliday(a-1)){a=this.skipNonWorkingTime(a,!0)}}var c=this.getSchedulingMode();this.set(this.startDateField,a);if(f!==!1){if(c=='EffortDriven'){this.set(this.endDateField,this.calculateEffortDrivenEndDate(a,this.getEffort()))}else {var b=this.getDuration();if(Ext.isNumber(b)){this.set(this.endDateField,this.calculateEndDate(a,b,this.getDurationUnit()))}}}else {if(this.getEndDate()){this.set(this.durationField,this.calculateDuration(a,this.getEndDate(),this.getDurationUnit()))}}this.onPotentialEffortChange();this.endEdit()},setEndDate:function(a,d,c){this.beginEdit();var e=this.getCalendar();if(c&&!this.isManuallyScheduled()){a=this.skipNonWorkingTime(a,!1)}if(d!==!1){var b=this.getDuration();if(Ext.isNumber(b)){this.set(this.startDateField,this.calculateStartDate(a,b,this.getDurationUnit()));this.set(this.endDateField,a)}else {this.set(this.endDateField,a)}}else {this.set(this.endDateField,a);if(this.getStartDate()){this.set(this.durationField,this.calculateDuration(this.getStartDate(),a,this.getDurationUnit()))}}this.onPotentialEffortChange();this.endEdit()},setStartEndDate:function(a,b,c){this.beginEdit();if(c&&!this.isManuallyScheduled()){a=a&&this.skipNonWorkingTime(a,!0);b=b&&this.skipNonWorkingTime(b,!1)}this.set(this.startDateField,a);this.set(this.endDateField,b);this.set(this.durationField,this.calculateDuration(a,b,this.getDurationUnit()));this.onPotentialEffortChange();this.endEdit()},getDuration:function(a){if(!a){return this.get(this.durationField)}var b=this.getProjectCalendar(),c=b.convertDurationToMs(this.get(this.durationField),this.get(this.durationUnitField));return b.convertMSDurationToUnit(c,a)},getEffort:function(a){var b=this.get(this.effortField)||0;if(!a){return b}var c=this.getProjectCalendar(),d=c.convertDurationToMs(b,this.get(this.effortUnitField));return c.convertMSDurationToUnit(d,a)},setEffort:function(b,a){a=a||this.get(this.effortUnitField);this.beginEdit();this.set(this.effortField,b);this.set(this.effortUnitField,a);if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}this.endEdit()},getCalendarDuration:function(a){return this.getProjectCalendar().convertMSDurationToUnit(this.getEndDate()-this.getStartDate(),a||this.get(this.durationUnitField))},setDuration:function(b,a){a=a||this.get(this.durationUnitField);this.beginEdit();this.set(this.endDateField,this.calculateEndDate(this.getStartDate(),b,a));this.set(this.durationField,b);this.set(this.durationUnitField,a);this.onPotentialEffortChange();this.endEdit()},calculateStartDate:function(e,d,a){a=a||this.getDurationUnit();if(this.isManuallyScheduled()){return Sch.util.Date.add(b,a,-d)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var c=this.getProjectCalendar().convertDurationToMs(d,a||this.getDurationUnit());var b;this.forEachAvailabilityIntervalWithResources({endDate:e,isForward:!1},function(h,g,i){var f=g-h;if(f>=c){b=new Date(g-c);return !1}else {c-=f}});return b}else {return this.getCalendar().calculateStartDate(e,d,a)}}},calculateEndDate:function(b,d,a){a=a||this.getDurationUnit();if(this.isManuallyScheduled()){return Sch.util.Date.add(b,a,d)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var c=this.getProjectCalendar().convertDurationToMs(d,a||this.getDurationUnit());var e;this.forEachAvailabilityIntervalWithResources({startDate:b},function(g,h,i){var f=h-g;if(f>=c){e=new Date(g+c);return !1}else {c-=f}});return e}else {return this.getCalendar().calculateEndDate(b,d,a)}}},calculateDuration:function(b,c,a){a=a||this.getDurationUnit();if(!b||!c){return 0}if(this.isManuallyScheduled()){return this.getProjectCalendar().convertMSDurationToUnit(c-b,a)}else {if(this.getTaskStore(!0)&&this.hasAssignments()){var d=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:c},function(f,e,g){d+=e-f});return this.getProjectCalendar().convertMSDurationToUnit(d,a)}else {return this.getCalendar().calculateDuration(b,c,a)}}},forEachAvailabilityIntervalWithResources:function(p,A,u){u=u||this;var C=this;var h=p.startDate;var i=p.endDate;var m=p.isForward!==!1;if(m?!h:!i){throw new Error('At least `startDate` or `endDate` is required, depending from the `isForward` option')}var l=new Date(m?h:i);var w=p.includeEmptyIntervals;var x=this.getOwnCalendar();var v=Boolean(x);var E=this.getProjectCalendar();var n,s,j;if(p.resources){n=p.resources;j=[];s=[];Ext.each(n,function(a){s.push(a.getCalendar());j.push(C.getAssignmentFor(a))})}else {j=this.getAssignments();if(!j.length){return}n=[];s=[];Ext.each(j,function(b){var a=b.getResource();n.push(a);s.push(a.getCalendar())})}var z=Sch.util.Date;var a,e,o,b,c;var D=m?!i:!h;while(D||(m?l<i:l>h)){var f={};var g=[];if(v){var B=x.getAvailabilityIntervalsFor(l-(m?0:1));for(e=0;e<B.length;e++){o=B[e];b=o.startDate-0;c=o.endDate-0;if(!f[b]){f[b]=[];g.push(b)}f[b].push({type:'00-taskAvailailabilityStart',typeBackward:'01-taskAvailailabilityStart'});g.push(c);f[c]=f[c]||[];f[c].push({type:'01-taskAvailailabilityEnd',typeBackward:'00-taskAvailailabilityEnd'})}}for(a=0;a<s.length;a++){var y=s[a].getAvailabilityIntervalsFor(l);for(e=0;e<y.length;e++){o=y[e];b=o.startDate-0;c=o.endDate-0;if(!f[b]){f[b]=[];g.push(b)}f[b].push({type:'02-resourceAvailailabilityStart',typeBackward:'03-resourceAvailailabilityStart',assignment:j[a],resourceId:n[a].getInternalId(),units:j[a].getUnits()});if(!f[c]){f[c]=[];g.push(c)}f[c].push({type:'03-resourceAvailailabilityEnd',typeBackward:'02-resourceAvailailabilityEnd',assignment:j[a],resourceId:n[a].getInternalId(),units:j[a].getUnits()})}}g.sort();var t=!1;var r={};var q=0;var k,d;if(m){for(a=0;a<g.length;a++){k=f[g[a]];k.sort(function(b,a){return b.type<a.type});for(e=0;e<k.length;e++){d=k[e];if(d.type=='00-taskAvailailabilityStart'){t=!0}if(d.type=='01-taskAvailailabilityEnd'){t=!1}if(d.type=='02-resourceAvailailabilityStart'){r[d.resourceId]=d;q++}if(d.type=='03-resourceAvailailabilityEnd'){delete r[d.resourceId];q--}}if((t||!v)&&(q||w)){b=g[a];c=g[a+1];if(b>=i||c<=h){continue}if(b<h){b=h-0}if(c>i){c=i-0}if(A.call(u,b,c,r)===!1){return !1}}}}else {for(a=g.length-1;a>=0;a--){k=f[g[a]];k.sort(function(b,a){return b.typeBackward<a.typeBackward});for(e=0;e<k.length;e++){d=k[e];if(d.typeBackward=='00-taskAvailailabilityEnd'){t=!0}if(d.typeBackward=='01-taskAvailailabilityStart'){t=!1}if(d.typeBackward=='02-resourceAvailailabilityEnd'){r[d.resourceId]=d;q++}if(d.typeBackward=='03-resourceAvailailabilityStart'){delete r[d.resourceId];q--}}if((t||!v)&&(q||w)){b=g[a-1];c=g[a];if(b>i||c<=h){continue}if(b<h){b=h-0}if(c>i){c=i-0}if(A.call(u,b,c,r)===!1){return !1}}}}l=m?z.getStartOfNextDay(l):z.getEndOfPreviousDay(l)}},calculateEffortDrivenEndDate:function(b,e,d){var a=this.getProjectCalendar().convertDurationToMs(e,d||this.getEffortUnit());var c=new Date(b);this.forEachAvailabilityIntervalWithResources({startDate:b},function(i,l,h){var j=0;for(var k in h){j+=h[k].units}var g=l-i;var f=j*g/100;if(f>=a){c=new Date(i+a/f*g);return !1}else {a-=f}});return c},recalculateParents:function(){var c=new Date(9999,0,0),b=new Date(0),a=this.parentNode;if(a&&a.childNodes.length>0){var f=0;for(var g=0,k=a.childNodes.length;g<k;g++){f+=a.childNodes[g].getEffort('MILLI')}if(a.getEffort('MILLI')!=f){a.setEffort(this.getProjectCalendar().convertMSDurationToUnit(f,a.getEffortUnit()))}}var e,d;if(a&&!a.isRoot()&&a.childNodes.length>0){if(!a.isManuallyScheduled()){for(var h=0,j=a.childNodes.length;h<j;h++){var i=a.childNodes[h];c=Sch.util.Date.min(c,i.getStartDate()||c);b=Sch.util.Date.max(b,i.getEndDate()||b)}e=c-new Date(9999,0,0)!==0&&a.getStartDate()-c!==0;d=b-new Date(0)!==0&&a.getEndDate()-b!==0;if(e&&d){a.setStartEndDate(c,b,!1)}else {if(e){a.setStartDate(c,d,!1)}else {if(d){a.setEndDate(b,!1,!1)}}}}if(!e&&!d){a.recalculateParents()}}},isMilestone:function(){return this.getDuration()===0},isBaselineMilestone:function(){var b=this.getBaselineStartDate(),a=this.getBaselineEndDate();if(b&&a){return a-b===0}return !1},afterEdit:function(b){if(this.stores.length>0||!this.normalized){this.callParent(arguments)}else {var a=this.taskStore||this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterEdit(this,b)}this.callParent(arguments)}},afterCommit:function(){this.callParent(arguments);if(this.stores.length>0||!this.normalized){return}var a=this.taskStore||this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterCommit(this)}},afterReject:function(){if(this.stores.length>0){this.callParent(arguments)}else {var a=this.getTaskStore(!0);if(a&&!a.isFillingRoot){a.afterReject(this)}this.callParent(arguments)}},getDurationUnit:function(){return this.get(this.durationUnitField)||'d'},getEffortUnit:function(){return this.get(this.effortUnitField)||'d'},getBaselinePercentDone:function(){return this.get(this.baselinePercentDoneField)||0},isPersistable:function(){var a=this.parentNode;return !a.phantom},getResources:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=[];if(b){b.each(function(b){if(b.getTaskId()==c){a.push(b.getResource())}})}return a},getAssignments:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=[];if(b){b.each(function(b){if(b.getTaskId()==c){a.push(b)}})}return a},hasAssignments:function(){var b=this.getAssignmentStore(),c=this.getInternalId();var a=!1;if(b){b.each(function(b){if(b.getTaskId()==c){a=!0;return !1}})}return a},getAssignmentFor:function(a){var c=this.getAssignmentStore(),e=this.getInternalId(),d=a instanceof Gnt.model.Resource?a.getInternalId():a;var b;if(c){c.each(function(c){if(c.getTaskId()==e&&c.getResourceId()==d){b=c;return !1}})}return b||null},unassign:function(){return this.unAssign.apply(this,arguments)},unAssign:function(a){var b=this.getAssignmentStore();var c=a instanceof Gnt.model.Resource?a.getInternalId():a;b.removeAt(b.find('ResourceId',c))},assign:function(a,h){var b=this.getTaskStore(),g=this.getInternalId(),e=b.getAssignmentStore(),d=b.getResourceStore();var f=a instanceof Gnt.model.Resource?a.getInternalId():a;e.each(function(b){if(b.getTaskId()==g&&b.getResourceId()==f){throw "Resource can't be assigned twice to the same task"}});if(a instanceof Gnt.model.Resource&&d.indexOf(a)==-1){d.add(a)}var c=new Gnt.model.Assignment({TaskId:g,ResourceId:f,Units:h});e.add(c);return c},calculateEffort:function(b,d,c){var a=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:d},function(i,h,e){var f=0;for(var g in e){f+=e[g].units}a+=(h-i)*f/100});return this.getProjectCalendar().convertMSDurationToUnit(a,c||this.getEffortUnit())},updateAssignments:function(){var e={};var b=this.getStartDate();var c=this.getEndDate();var a=0;this.forEachAvailabilityIntervalWithResources({startDate:b,endDate:c},function(d,c,b){for(var e in b){a+=c-d}});if(!a){return}var d=this.getEffort(Sch.util.Date.MILLI);Ext.Array.each(this.getAssignments(),function(b){b.setUnits(d/a*100)})},updateEffortBasedOnDuration:function(){this.setEffort(this.calculateEffort(this.getStartDate(),this.getEndDate()))},updateDurationBasedOnEffort:function(){this.setEndDate(this.calculateEffortDrivenEndDate(this.getStartDate(),this.getEffort(),this.getEffortUnit()),!1)},onPotentialEffortChange:function(){if(this.getSchedulingMode()==='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}},onAssignmentMutation:function(){if(this.getSchedulingMode()==='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}},onAssignmentStructureMutation:function(){if(this.getSchedulingMode()=='FixedDuration'){this.updateEffortBasedOnDuration()}if(this.getSchedulingMode()==='EffortDriven'){this.updateDurationBasedOnEffort()}if(this.getSchedulingMode()==='DynamicAssignment'){this.updateAssignments()}},adjustToCalendar:function(){if(this.get('leaf')&&!this.isManuallyScheduled()){var a=this.hasIncomingDependencies();if(a){this.constrain()}else {this.setStartDate(this.getStartDate(),!0,!0)}}},isEditable:function(a){if((a===this.durationField||a===this.endDateField)&&this.getSchedulingMode()==='EffortDriven'){return !1}if(a===this.effortField&&this.getSchedulingMode()==='FixedDuration'){return !1}return !0},isDraggable:function(){return this.getDraggable()},isResizable:function(){return this.getResizable()},ensureSingleSyncForMethod:function(){return function(){var a=this.getTaskStore(!0);var b;if(a&&a.autoSync&&!a.autoSyncSuspended){b=!0;a.suspendAutoSync()}var c=this.callParent(arguments);if(b){a.resumeAutoSync();a.sync()}return c}},getId:function(){var a=this.data[this.idProperty];return a&&a!=='root'?a:null}},function(){Ext.data.NodeInterface.decorate(this);var a=['addPredecessor','addSubtask','addSuccessor','indent','outdent','remove','insertBefore','appendChild'];this.override({remove:function(){var a=this.parentNode;var b=this.callParent(arguments);if(a.childNodes.length===0&&this.getTaskStore().recalculateParents){a.set('leaf',!0)}return b},insertBefore:function(a){if(this.phantom){this.data[this.phantomIdField]=a.data[this.phantomParentIdField]=this.internalId}return this.callParent(arguments)},appendChild:function(a){if(this.phantom){this.data[this.phantomIdField]=a.data[this.phantomParentIdField]=this.internalId}return this.callParent(arguments)}});Ext.each(a,function(b){var a={};a[b]=this.prototype.ensureSingleSyncForMethod(this.prototype[b]);this.override(a)},this)});Ext.define('Gnt.data.Calendar',{extend:'Ext.data.Store',requires:['Ext.Date','Gnt.model.CalendarDay','Sch.model.Range','Sch.util.Date'],model:'Gnt.model.CalendarDay',daysPerMonth:30,daysPerWeek:7,hoursPerDay:24,unitsInMs:null,defaultNonWorkingTimeCssCls:'gnt-holiday',weekendsAreWorkdays:!1,weekendFirstDay:6,weekendSecondDay:0,holidaysCache:null,availabilityIntervalsCache:null,weekAvailability:null,defaultWeekAvailability:null,nonStandardWeeksByStartDate:null,nonStandardWeeksStartDates:null,calendarId:null,parent:null,defaultAvailability:['00:00-24:00'],name:null,statics:{getCalendar:function(a){if(a instanceof Gnt.data.Calendar){return a}return Ext.data.StoreManager.lookup('GNT_CALENDAR:'+a)},getAllCalendars:function(){var a=[];Ext.data.StoreManager.each(function(b){if(b instanceof Gnt.data.Calendar){a.push(b)}});return a}},constructor:function(a){a=a||{};if(a.calendarId){this.storeId='GNT_CALENDAR:'+a.calendarId}this.callParent(arguments);var c=this;var b=this.parent=Gnt.data.Calendar.getCalendar(a.parent);if(a.parent&&!this.parent){throw new Error('Invalid parent specified for calendar')}this.unitsInMs={MILLI:1,SECOND:1000,MINUTE:60*1000,HOUR:60*60*1000,DAY:this.hoursPerDay*60*60*1000,WEEK:this.daysPerWeek*this.hoursPerDay*60*60*1000,MONTH:this.daysPerMonth*this.hoursPerDay*60*60*1000,QUARTER:3*this.daysPerMonth*24*60*60*1000,YEAR:4*3*this.daysPerMonth*24*60*60*1000};this.defaultWeekAvailability=this.getDefaultWeekAvailability(this.weekendsAreWorkdays);Ext.Array.each(a.weekAvailability||[],function(b,d){if(b){b.setDate(new Date(0,0,d));b.set(b.idProperty,'WEEKDAY:'+d)}c.add(b)});this.holidaysCache={};this.availabilityIntervalsCache={};this.on({clear:this.clearCache,datachanged:this.clearCache,update:this.clearCache,load:this.updateAvailability,scope:this});b&&b.on('clearcache',this.clearCache,this);this.updateAvailability()},getDefaultWeekAvailability:function(f){var e=this.defaultAvailability;var d=this.weekendFirstDay;var c=this.weekendSecondDay;var b=[];for(var a=0;a<7;a++){b.push(f||a!=d&&a!=c?new Gnt.model.CalendarDay({Availability:Ext.Array.clone(e),IsWorkingDay:!0}):new Gnt.model.CalendarDay({Availability:[]}))}return b},updateAvailability:function(){var c=this.weekAvailability=[];var b=this.nonStandardWeeksStartDates=[];var a=this.nonStandardWeeksByStartDate={};this.each(function(g){var h=g.getId();var d=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(h);var e;if(d){var f=Ext.Date.parse(d[2],'Y/m/d')-0;var i=Ext.Date.parse(d[3],'Y/m/d')-0;e=d[1];if(!a[f]){a[f]={startDate:new Date(f),endDate:new Date(i),name:g.getName(),weekAvailability:[]};b.push(f)}a[f].weekAvailability[e]=g}d=/^WEEKDAY:(\d+)$/.exec(h);if(d){e=d[1];if(e<0||e>6){throw new Error('Incorrect week day index')}c[e]=g}});b.sort()},intersectsWithCurrentWeeks:function(b,d){var e=this.nonStandardWeeksStartDates;var c=this.nonStandardWeeksByStartDate;var a=!1;Ext.Array.each(e,function(g){var e=c[g].startDate;var f=c[g].endDate;if(e<=b&&b<f||e<d&&d<=f){a=!0;return !1}});return a},addNonStandardWeek:function(a,b,c){a=Ext.Date.clearTime(new Date(a));b=Ext.Date.clearTime(new Date(b));if(this.intersectsWithCurrentWeeks(a,b)){throw new Error('Can not add intersecting week')}Ext.Array.each(c,function(d,e){if(d){d.set(d.idProperty,e+'-'+Ext.Date.format(a,'Y/m/d')+'-'+Ext.Date.format(b,'Y/m/d'))}});a=a-0;b=b-0;this.nonStandardWeeksStartDates.push(a);this.nonStandardWeeksStartDates.sort();this.nonStandardWeeksByStartDate[a]={startDate:new Date(a),endDate:new Date(b),weekAvailability:c};this.add(Ext.Array.clean(c))},getNonStandardWeekByStartDate:function(a){return this.nonStandardWeeksByStartDate[Ext.Date.clearTime(new Date(a))-0]},getNonStandardWeekByDate:function(a){a=Ext.Date.clearTime(new Date(a))-0;var d=this.nonStandardWeeksStartDates;var e=this.nonStandardWeeksByStartDate;for(var c=0;c<d.length;c++){var b=e[d[c]];if(b.startDate<=a&&a<=b.endDate){return b}}return null},removeNonStandardWeek:function(a){a=Ext.Date.clearTime(new Date(a))-0;var b=this.getNonStandardWeekByStartDate(a);if(!b){return}this.remove(Ext.Array.clean(b.weekAvailability));delete this.nonStandardWeeksByStartDate[a];Ext.Array.remove(this.nonStandardWeeksStartDates,a)},clearCache:function(){this.holidaysCache={};this.availabilityIntervalsCache={};this.fireEvent('clearcache',this)},setWeekendsAreWorkDays:function(a){if(a!==this.weekendsAreWorkdays){this.weekendsAreWorkdays=a;this.clearCache();this.defaultWeekAvailability=this.getDefaultWeekAvailability(this.weekendsAreWorkdays)}},areWeekendsWorkDays:function(){return this.weekendsAreWorkdays},getCalendarDay:function(a){a=typeof a=='number'?new Date(a):a;var b=this.getOverrideDay(a);if(b){return b}return this.getDefaultCalendarDay(a.getDay(),a)},getOverrideDay:function(a){var b=this.getOwnCalendarDay(a);if(b){return b}if(this.parent){return this.parent.getOverrideDay(a)}return null},getOwnCalendarDay:function(a){a=typeof a=='number'?new Date(a):a;return this.getById(Ext.Date.clearTime(a,!0)-0)},getDefaultCalendarDay:function(a,c){if(c){var b=this.getNonStandardWeekByDate(c);if(b&&b.weekAvailability[a]){return b.weekAvailability[a]}}if(this.weekAvailability[a]){return this.weekAvailability[a]}if(this.parent){return this.parent.getDefaultCalendarDay(a)}return this.defaultWeekAvailability[a]},isHoliday:function(a){var b=a-0;var c=this.holidaysCache;if(c[b]!=null){return c[b]}a=typeof a=='number'?new Date(a):a;var d=this.getCalendarDay(a);if(!d){throw "Can't find day for "+a}return c[b]=!d.getIsWorkingDay()},isWeekend:function(b){var a=b.getDay();return a===this.weekendFirstDay||a===this.weekendSecondDay},isWorkingDay:function(a){return !this.isHoliday(a)},convertMSDurationToUnit:function(a,b){return a/this.unitsInMs[Sch.util.Date.getNameOfUnit(b)]},convertDurationToMs:function(b,a){return b*this.unitsInMs[Sch.util.Date.getNameOfUnit(a)]},getHolidaysRanges:function(d,e,j){if(d>e){Ext.Error.raise("startDate can't be bigger than endDate")}d=Ext.Date.clearTime(d,!0);e=Ext.Date.clearTime(e,!0);var c=[],a,b;for(b=d;b<e;b=Sch.util.Date.add(b,Sch.util.Date.DAY,1)){if(this.isHoliday(b)||this.weekendsAreWorkdays&&j&&this.isWeekend(b)){var i=this.getCalendarDay(b);var g=i&&i.getCls()||this.defaultNonWorkingTimeCssCls;var f=Sch.util.Date.add(b,Sch.util.Date.DAY,1);if(!a){a={StartDate:b,EndDate:f,Cls:g}}else {if(a.Cls==g){a.EndDate=f}else {c.push(a);a={StartDate:b,EndDate:f,Cls:g}}}}else {if(a){c.push(a);a=null}}}if(a){c.push(a)}var h=[];Ext.each(c,function(a){h.push(Ext.create('Sch.model.Range',{StartDate:a.StartDate,EndDate:a.EndDate,Cls:a.Cls}))});return h},forEachAvailabilityInterval:function(j,n,i){i=i||this;var q=this;var b=j.startDate;var c=j.endDate;var a=j.isForward!==!1;if(a?!b:!c){throw new Error('At least `startDate` or `endDate` is required, depending from the `isForward` option')}var d=new Date(a?b:c);var p=a?!c:!b;var l=Sch.util.Date;while(p||(a?d<c:d>b)){var f=this.getAvailabilityIntervalsFor(d-(a?0:1));for(var e=a?0:f.length-1;a?e<f.length:e>=0;a?e++:e--){var k=f[e];var g=k.startDate;var h=k.endDate;if(g>=c||h<=b){continue}var m=g<b?b:g;var o=h>c?c:h;if(n.call(i,m,o)===!1){return !1}}d=a?l.getStartOfNextDay(d):l.getEndOfPreviousDay(d)}},calculateDuration:function(b,d,c){var a=0;this.forEachAvailabilityInterval({startDate:b,endDate:d},function(f,e){a+=e-f});return this.convertMSDurationToUnit(a,c)},calculateEndDate:function(b,a,d){if(!a){return new Date(b)}var f=Sch.util.Date,c;a=this.convertDurationToMs(a,d);var e=a===0&&Ext.Date.clearTime(b,!0)-b===0?f.add(b,Sch.util.Date.DAY,-1):b;this.forEachAvailabilityInterval({startDate:e},function(e,f){var g=f-e;var h=e.getTimezoneOffset()-f.getTimezoneOffset();if(g>=a){c=new Date(e-0+a);return !1}else {a-=g+h*60*1000}});return c},calculateStartDate:function(c,a,d){if(!a){return new Date(c)}var b;a=this.convertDurationToMs(a,d);this.forEachAvailabilityInterval({endDate:c,isForward:!1},function(g,e){var f=e-g;if(f>=a){b=new Date(e-a);return !1}else {a-=f}});return b},skipNonWorkingTime:function(a,b){this.forEachAvailabilityInterval(b?{startDate:a}:{endDate:a,isForward:!1},function(d,c){a=b?d:c;return !1});return new Date(a)},skipWorkingDays:function(f,b){var d=0,c=b>0,e=Sch.util.Date,a=Ext.Date.clone(f);b=Math.abs(b);while(d<b){if(!this.isHoliday(a-(c?0:1))){d++;if(c){a=e.getStartOfNextDay(a,!0)}else {a=e.getEndOfPreviousDay(a)}}if(c||d<b){a=this.skipNonWorkingTime(a,c)}}e.copyTimeValues(a,f);return a},getAvailabilityIntervalsFor:function(a){a=Ext.Date.clearTime(new Date(a))-0;if(this.availabilityIntervalsCache[a]){return this.availabilityIntervalsCache[a]}return this.availabilityIntervalsCache[a]=this.getCalendarDay(a).getAvailabilityIntervalsFor(a)},getParentableCalendars:function(){var c=this,a=[],d=Gnt.data.Calendar.getAllCalendars();var b=function(a){if(!a.parent){return !1}if(a.parent==c){return !0}return b(a.parent)};Ext.Array.each(d,function(d){if(d===c){return}if(!b(d)){a.push({Id:d.calendarId,Name:d.name||d.calendarId})}});return a}});Ext.define('Gnt.data.calendar.BusinessTime',{extend:'Gnt.data.Calendar',daysPerMonth:20,daysPerWeek:5,hoursPerDay:8,defaultAvailability:['08:00-12:00','13:00-17:00']});Ext.define('Gnt.data.TaskStore',{extend:'Ext.data.TreeStore',requires:['Sch.patches.TreeStore','Gnt.model.Task','Gnt.data.Calendar'],model:'Gnt.model.Task',calendar:null,dependencyStore:null,resourceStore:null,assignmentStore:null,weekendsAreWorkdays:!1,buffered:!1,pageSize:null,cascadeChanges:!1,batchSync:!0,recalculateParents:!0,skipWeekendsDuringDragDrop:!0,cascadeDelay:0,cascading:!1,isFillingRoot:!1,constructor:function(a){this.addEvents('root-fill-start','root-fill-end','filter','clearfilter','beforecascade','cascade');a=a||{};if(!a.calendar){var b={};if(a.hasOwnProperty('weekendsAreWorkdays')){b.weekendsAreWorkdays=a.weekendsAreWorkdays}else {if(this.self.prototype.hasOwnProperty('weekendsAreWorkdays')&&this.self!=Gnt.data.TaskStore){b.weekendsAreWorkdays=this.weekendsAreWorkdays}}a.calendar=new Gnt.data.Calendar(b)}this.hasListeners={};this.on({'root-fill-end':this.onRootFillEnd,remove:this.onTaskDeleted,beforesync:this.onTaskStoreBeforeSync,write:this.onTaskStoreWrite,scope:this});var c=a.dependencyStore;if(c){delete a.dependencyStore;this.setDependencyStore(c)}var d=a.resourceStore;if(d){delete a.resourceStore;this.setResourceStore(d)}var f=a.assignmentStore;if(f){delete a.assignmentStore;this.setAssignmentStore(f)}var e=a.calendar;if(e){delete a.calendar;this.setCalendar(e)}this.callParent([a]);if(Ext.data.reader.Xml&&this.getProxy().getReader() instanceof Ext.data.reader.Xml){Ext.override(this.getProxy().getReader(),{extractData:function(b){var c=this.record;if(c!=b.nodeName){b=Ext.DomQuery.select('>'+c,b)}else {b=[b]}return Ext.data.reader.Xml.superclass.extractData.apply(this,[b])}})}if(this.autoSync&&this.batchSync){this.sync=Ext.Function.createBuffered(this.sync,500)}},loadData:function(d,u){var a=this,i=a.getRootNode(),w=u?u.addRecords:!1;if(!d.length){return}else {if(!i){i=a.setRootNode()}a.suspendAutoSync();a.suspendEvents();if(!w){i.removeAll()}var x=d.length,p=a.model,g=[],m=typeof d[0].get==='function',l,c,s,k,e,o,t,h,q;for(var b=0;b<x;b++){c=a.getById(d[b].getId?d[b].getId():d[b].Id);l=0;if(c){k=m?d[b].get('parentId'):d[b].parentId;e=c.get('parentId');o=m?d[b].get('index'):d[b].index;t=c.get('index');if(m){c.set(d[b].data)}else {c.set(d[b])}if((k||k===null?k!==e:!1)||(o?o!==t:!1)){h=k===null?i:a.getById(k);q=e===null?i:a.getById(e)}else {l=1}}else {c=m?new p(d[b].data):new p(d[b]);e=c.get('parentId');if(e){h=a.getById(e)}else {if(e===null){h=i}}}if(h&&!l){a.moveChildren(c,h,q)}else {if(typeof h==='undefined'&&!l){s={node:c,index:c.get('index')||0,parentId:c.get('parentId')};g.push(s)}}}var j=0,r=g.length,f,n;while(g.length){if(j>g.length-1){j=0}f=g[j];n=f.parentId===null?i:a.getById(f.parentId);if(n){var v=a.nodeIsChild(f.node,h);if(v){n.insertChild(f.index,f.node);a.fixNodeDates(f.node);g.splice(j,1)}}j+=1;if(j===r-1&&g.length===r){throw 'Invalid data, possible infinite loop.'}}if(a.nodesToExpand){b=0;for(var y=a.nodesToExpand.length;b<y;b+=1){c=a.nodesToExpand[b];if(c.childNodes.length){c.expand()}}delete a.nodesToExpand}this.fireEvent('datachanged');this.fireEvent('refresh');a.resumeAutoSync();a.resumeEvents();if(a.autoSync){a.sync()}}},fixNodeDates:function(a){var c=a.calculateDuration(a.getStartDate(),a.getEndDate(),a.getDurationUnit()),b;a.set({Duration:c});if(a.childNodes.length){b=a.getChildAt(0);b.recalculateParents()}else {a.recalculateParents()}},nodeIsChild:function(b,c){var d=c.getId(),a=!0;if(b.childNodes.length){b.cascadeBy(function(e){if(e.getId()===d){a=!1;return !1}})}return a},moveChildren:function(a,d,e){if(a.get('expanded')){if(!this.nodesToExpand){this.nodesToExpand=[]}this.nodesToExpand.push(a);a.set('expanded',!1)}var b,f=this.nodeIsChild(a,d),c=e||this.getById(a.get('parentId'));if(f){if(a.childNodes.length){b=a.copy(null,!0);a.removeAll()}if(c&&c.getId()!==d.getId()){c.removeChild(a)}d.insertChild(a.get('index')||0,a);if(b){b.cascadeBy(function(f){if(f!==b){var c=f.copy(null);a.insertChild(c.get('index')||0,c)}})}this.fixNodeDates(a)}},onNodeAdded:function(g,a){if(!a.normalized&&!a.isRoot()){a.normalize()}if(Ext.isIE){var b=this,f=b.getProxy(),c=f.getReader(),d=a.raw||a[a.persistenceProperty],e;Ext.Array.remove(b.removed,a);if(!a.isLeaf()){e=c.getRoot(d);if(e){b.fillNode(a,c.extractData(e));if(d[c.root]){delete d[c.root]}}}if(b.autoSync&&!b.autoSyncSuspended&&(a.phantom||a.dirty)){b.sync()}}else {this.callParent(arguments)}},setRootNode:function(){var a=this;this.tree.setRootNode=Ext.Function.createInterceptor(this.tree.setRootNode,function(b){Ext.apply(b,{calendar:a.calendar,taskStore:a,dependencyStore:a.dependencyStore,phantom:!1,dirty:!1})});var b=this.callParent(arguments);delete this.tree.setRootNode;return b},fillNode:function(c,a){this.isFillingNode=!0;if(c.isRoot()){this.isFillingRoot=!0;this.un({remove:this.onNodeUpdated,append:this.onNodeUpdated,insert:this.onNodeUpdated,update:this.onTaskUpdated,scope:this});this.fireEvent('root-fill-start',this,c,a)}var d=this,g=a?a.length:0,b=0,f;if(g&&d.sortOnLoad&&!d.remoteSort&&d.sorters&&d.sorters.items){f=Ext.create('Ext.util.MixedCollection');f.addAll(a);f.sort(d.sorters.items);a=f.items}c.set('loaded',!0);if(this.buffered){for(;b<g;b++){var e=a[b];e.__isFilling__=!0;c.appendChild(e,!0,!0);this.onNodeAdded(null,e);this.tree.registerNode(e)}}else {for(;b<g;b++){a[b].__isFilling__=!0;c.appendChild(a[b],!1,!0)}}if(c.isRoot()){this.getRootNode().cascadeBy(function(b){delete b.__isFilling__});this.isFillingRoot=!1;this.on({remove:this.onNodeUpdated,append:this.onNodeUpdated,insert:this.onNodeUpdated,update:this.onTaskUpdated,scope:this});this.fireEvent('root-fill-end',this,c,a)}delete this.isFillingNode;return a},onRootFillEnd:function(b,a){a.normalizeEffort()},getById:function(a){return this.tree.getNodeById(a)},setDependencyStore:function(a){if(this.dependencyStore){this.dependencyStore.un({add:this.onDependencyAddOrUpdate,update:this.onDependencyAddOrUpdate,beforesync:this.onBeforeDependencySync,scope:this})}this.dependencyStore=Ext.StoreMgr.lookup(a);if(a){a.taskStore=this;a.on({add:this.onDependencyAddOrUpdate,update:this.onDependencyAddOrUpdate,scope:this})}},setResourceStore:function(a){this.resourceStore=Ext.StoreMgr.lookup(a);a.taskStore=this},getResourceStore:function(){return this.resourceStore||null},setAssignmentStore:function(a){if(this.assignmentStore){this.assignmentStore.un({add:this.onAssignmentStructureMutation,update:this.onAssignmentMutation,remove:this.onAssignmentStructureMutation,scope:this})}this.assignmentStore=Ext.StoreMgr.lookup(a);a.taskStore=this;a.on({add:this.onAssignmentStructureMutation,update:this.onAssignmentMutation,remove:this.onAssignmentStructureMutation,scope:this})},getAssignmentStore:function(){return this.assignmentStore||null},renormalizeTasks:function(b,a){if(a instanceof Gnt.model.Task){a.adjustToCalendar()}else {this.getRootNode().cascadeBy(function(c){c.adjustToCalendar()})}},getCalendar:function(){return this.calendar||null},setCalendar:function(a){var c={datachanged:this.renormalizeTasks,update:this.renormalizeTasks,clear:this.renormalizeTasks,scope:this};if(this.calendar){this.calendar.un(c)}this.calendar=a;a.on(c);var b=this.tree&&this.getRootNode();if(b){b.calendar=a}},filter:function(){this.fireEvent('filter',this,arguments)},clearFilter:function(){this.fireEvent('clearfilter',this)},getCriticalPaths:function(){var c=this.getRootNode(),b=[],a=new Date(0);c.cascadeBy(function(b){a=Sch.util.Date.max(b.getEndDate(),a)});c.cascadeBy(function(c){if(a-c.getEndDate()===0&&!c.isRoot()){b.push(c)}});var d=[];Ext.each(b,function(a){d.push(a.getCriticalPaths())});return d},onNodeUpdated:function(b,a){if(!this.cascading&&this.recalculateParents&&!this.isFillingNode){a.recalculateParents()}},onTaskUpdated:function(d,a,c){var b=a.previous;if(!this.cascading&&!this.isFillingNode&&c!==Ext.data.Model.COMMIT&&(b&&(a.startDateField in b||a.endDateField in b||'parentId' in b||a.effortField in b))){if(this.cascadeChanges){Ext.Function.defer(this.cascadeChangesForTask,this.cascadeDelay,this,[a])}if(this.recalculateParents){a.recalculateParents()}}},cascadeChangesForTask:function(c){var a=this,b={nbrAffected:0};Ext.each(c.getOutgoingDependencies(),function(e){var d=e.getTargetTask();if(d){if(!a.cascading){a.fireEvent('beforecascade',a)}a.cascading=!0;d.cascadeChanges(a,b)}});if(a.cascading){a.cascading=!1;a.fireEvent('cascade',a,b)}},onTaskDeleted:function(c,b){var a=this.dependencyStore;if(a&&!b.isReplace&&!b.isMove){a.remove(b.getAllDependencies(a))}},onAssignmentMutation:function(c,a){var b=this;Ext.each(a,function(e){var d=e.getTask(b);if(d){d.onAssignmentMutation(e)}})},onAssignmentStructureMutation:function(c,a){var b=this;Ext.each(a,function(d){d.getTask(b).onAssignmentStructureMutation(d)})},onDependencyAddOrUpdate:function(d,c){if(this.cascadeChanges){var b=this,a;Ext.each(c,function(e){a=e.getTargetTask();if(a){a.constrain(b)}})}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew,this)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated,this)},filterNew:function(a){return a.phantom===!0&&a.isValid()&&a!=this.tree.root},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()&&a!=this.tree.root},onTaskStoreBeforeSync:function(a,e){var b=a.create;if(b){for(var c,d=b.length-1;d>=0;d--){c=b[d];if(c.isPersistable()){c._phantomId=c.internalId}else {if(this.autoSync){Ext.Array.remove(b,c)}}}if(b.length===0){delete a.create}}return Boolean(a.create&&a.create.length>0||a.update&&a.update.length>0||a.destroy&&a.destroy.length>0)},onTaskStoreWrite:function(e,b){var c=this.dependencyStore;if(!c||b.action!=='create'){return}var d=b.getRecords(),a;Ext.each(d,function(d){a=d.getId();if(!d.phantom&&a!==d._phantomId){Ext.each(c.getNewRecords(),function(c){var g=c.getSourceId();var f=c.getTargetId();if(g===d._phantomId){c.setSourceId(a)}else {if(f===d._phantomId){c.setTargetId(a)}}});Ext.each(d.childNodes,function(c){if(c.phantom){c.set('parentId',a)}});delete d._phantomId}})},getTotalTimeSpan:function(){var a=new Date(9999,0,1),b=new Date(0),c=Sch.util.Date;this.getRootNode().cascadeBy(function(d){if(d.getStartDate()){a=c.min(d.getStartDate(),a)}if(d.getEndDate()){b=c.max(d.getEndDate(),b)}});a=a<new Date(9999,0,1)?a:null;b=b>new Date(0)?b:null;return {start:a,end:b||a||null}},getCount:function(b){var a=b===!1?0:-1;this.getRootNode().cascadeBy(function(){a++});return a},toArray:function(){var a=[];this.getRootNode().cascadeBy(function(b){a.push(b)});return a},remove:function(a){Ext.each(a,function(b){b.remove()})},indent:function(a){a=Ext.isArray(a)?a:[a];var b=Ext.Array.sort(a,function(c,b){return c.data.index>b.data.index});Ext.each(b,function(b){b.indent()})},outdent:function(a){var b=Ext.Array.sort(a,function(c,b){return c.data.index>b.data.index});Ext.each(b,function(b){b.indent()});Ext.each(a,function(b){b.outdent()})},getTasksForResource:function(a){return a.getTasks()},getEventsForResource:function(a){return this.getTasksForResource(a)},ensureSingleSyncForMethod:function(){return function(){var a;if(this.autoSync&&!this.autoSyncSuspended){a=!0;this.suspendAutoSync()}var b=this.callParent(arguments);if(a){this.resumeAutoSync();this.sync()}return b}}},function(){var a=['indent','outdent','afterEdit','remove'];Ext.each(a,function(b){var a={};a[b]=this.prototype.ensureSingleSyncForMethod(this.prototype[b]);this.override(a)},this)});Ext.define('Gnt.data.DependencyStore',{extend:'Ext.data.Store',model:'Gnt.model.Dependency',constructor:function(){this.callParent(arguments);this.init()},init:function(){this.on({beforesync:this.onBeforeSyncOperation,scope:this})},onBeforeSyncOperation:function(a,d){if(a.create){for(var c,b=a.create.length-1;b>=0;b--){c=a.create[b];if(!c.isPersistable()){Ext.Array.remove(a.create,c)}}if(a.create.length===0){delete a.create}}return Boolean(a.create&&a.create.length>0||a.update&&a.update.length>0||a.destroy&&a.destroy.length>0)},getDependenciesForTask:function(c){var f=c.getId()||c.internalId;var d=[],e=this;for(var b=0,g=e.getCount();b<g;b++){var a=e.getAt(b);if(a.getSourceId()==f||a.getTargetId()==f){d.push(a)}}return d},getIncomingDependenciesForTask:function(b){var g=b.getId()||b.internalId;var d=[],e=this;for(var a=0,f=e.getCount();a<f;a++){var c=e.getAt(a);if(c.getTargetId()==g){d.push(c)}}return d},getOutgoingDependenciesForTask:function(b){var g=b.getId()||b.internalId;var d=[],e=this;for(var a=0,f=e.getCount();a<f;a++){var c=e.getAt(a);if(c.getSourceId()==g){d.push(c)}}return d},hasTransitiveDependency:function(d,b,a){var c=this;return this.findBy(function(e){var f=e.getTargetId();if(e.getSourceId()===d){return f===b&&e!==a?!0:c.hasTransitiveDependency(e.getTargetId(),b,a)}})>=0},isValidDependency:function(b,c,g){var d=!0;var a,f,e;if(b instanceof Gnt.model.Dependency){a=b.getSourceId();f=this.getSourceTask(a);c=b.getTargetId();e=this.getTargetTask(c)}else {a=b;f=this.getSourceTask(a);e=this.getTargetTask(c)}if(!g&&b instanceof Gnt.model.Dependency){d=b.isValid()}else {d=a&&c&&a!==c}if(d){if(f&&e&&(f.contains(e)||e.contains(f))){d=!1}var h=g||b instanceof Gnt.model.Dependency;if(d&&(!h&&this.areTasksLinked(a,c)||this.hasTransitiveDependency(c,a,h?b:null))){d=!1}}return d},areTasksLinked:function(b,a){var c=this;b=b instanceof Gnt.model.Task?b.getId()||b.internalId:b;a=a instanceof Gnt.model.Task?a.getId()||a.internalId:a;return this.findBy(function(e){var c=e.getTargetId(),d=e.getSourceId();if(d===b&&c===a||d===a&&c===a){return !0}})>=0},getSourceTask:function(a){var b=a instanceof Gnt.model.Dependency?dependency.getSourceId():a;return this.getTaskStore().getById(b)},getTargetTask:function(a){var b=a instanceof Gnt.model.Dependency?dependency.getSourceId():a;return this.getTaskStore().getById(b)},getTaskStore:function(){return this.taskStore}});Ext.define('Gnt.data.ResourceStore',{requires:['Gnt.model.Resource'],extend:'Sch.data.ResourceStore',model:'Gnt.model.Resource',taskStore:null,getTaskStore:function(){return this.taskStore||null},getAssignmentStore:function(){return this.assignmentStore||null},getByInternalId:function(a){return this.data.getByKey(a)||this.getById(a)}});Ext.define('Gnt.data.AssignmentStore',{requires:['Gnt.model.Assignment'],extend:'Ext.data.Store',model:'Gnt.model.Assignment',taskStore:null,getTaskStore:function(){return this.taskStore},getResourceStore:function(){return this.getTaskStore().resourceStore},getByInternalId:function(a){return this.data.getByKey(a)||this.getById(a)}});Ext.define('Gnt.template.Task',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px;">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-task-bar {cls}" unselectable="on" style="width:{width}px;{style}">'+(a.enableDependencyDragDrop?'<div unselectable="on" class="sch-gantt-terminal sch-gantt-terminal-start"></div>':'')+(a.resizeHandles==='both'||a.resizeHandles==='left'?'<div class="sch-resizable-handle sch-gantt-task-handle sch-resizable-handle-west"></div>':'')+'<div class="sch-gantt-progress-bar" style="width:{percentDone}%;{progressBarStyle}" unselectable="on">&#160;</div>'+(a.resizeHandles==='both'||a.resizeHandles==='right'?'<div class="sch-resizable-handle sch-gantt-task-handle sch-resizable-handle-east"></div>':'')+(a.enableDependencyDragDrop?'<div unselectable="on" class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+(a.enableProgressBarResize?'<div style="left:{percentDone}%" class="sch-gantt-progressbar-handle"></div>':'')+'</div>'+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.template.Milestone',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+(a.printable?'<img id="'+a.prefix+'{id}" src="'+a.imgSrc+'" class="sch-gantt-item sch-gantt-milestone-diamond {cls}" unselectable="on" style="{style}" />':'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-milestone-diamond {cls}" unselectable="on" style="{style}">'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-start"></div><div class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+'</div>')+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.template.ParentTask',{extend:'Ext.XTemplate',constructor:function(a){this.callParent(['<div class="sch-event-wrap '+a.baseCls+' x-unselectable" style="left:{leftOffset}px;">'+(a.leftLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-left"><label class="sch-gantt-label sch-gantt-label-left">{leftLabel}</label></div>':'')+'<div id="'+a.prefix+'{id}" class="sch-gantt-item sch-gantt-parenttask-bar {cls}" style="width:{width}px; {style}"><div class="sch-gantt-progress-bar" style="width:{percentDone}%;{progressBarStyle}">&#160;</div>'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-start"></div>':'')+'<div class="sch-gantt-parenttask-arrow sch-gantt-parenttask-leftarrow"></div><div class="sch-gantt-parenttask-arrow sch-gantt-parenttask-rightarrow"></div>'+(a.enableDependencyDragDrop?'<div class="sch-gantt-terminal sch-gantt-terminal-end"></div>':'')+'</div>'+(a.rightLabel?'<div class="sch-gantt-labelct sch-gantt-labelct-right" style="left:{width}px"><label class="sch-gantt-label sch-gantt-label-right">{rightLabel}</label></div>':'')+'</div>',{compiled:!0,disableFormats:!0}])}});Ext.define('Gnt.Tooltip',{extend:'Ext.ToolTip',requires:['Ext.Template'],startText:'Starts: ',endText:'Ends: ',durationText:'Duration:',mode:'startend',cls:'sch-tip',height:40,autoHide:!1,anchor:'b-tl',maskOnDisable:!1,initComponent:function(){if(this.mode==='startend'&&!this.startEndTemplate){this.startEndTemplate=(new Ext.Template('<div class="sch-timetipwrap {cls}"><div>'+this.startText+'{startText}</div><div>'+this.endText+'{endText}</div></div>')).compile()}if(this.mode==='duration'&&!this.durationTemplate){this.durationTemplate=(new Ext.Template('<div class="sch-timetipwrap {cls}">','<div>'+this.startText+' {startText}</div>','<div>'+this.durationText+' {duration} {unit}</div>','</div>')).compile()}this.callParent(arguments)},update:function(e,c,d,b){var a;if(this.mode==='duration'){a=this.getDurationContent(e,c,d,b)}else {a=this.getStartEndContent(e,c,d,b)}this.callParent([a])},getStartEndContent:function(a,c,h,i){var e=this.gantt,g=e.getFormattedDate(a),d=g,f;if(c-a>0){d=e.getFormattedEndDate(c,a)}var b={cls:h?'sch-tip-ok':'sch-tip-notok',startText:g,endText:d};if(this.showClock){Ext.apply(b,{startHourDegrees:roundedStart.getHours()*30,startMinuteDegrees:roundedStart.getMinutes()*6});if(c){Ext.apply(b,{endHourDegrees:f.getHours()*30,endMinuteDegrees:f.getMinutes()*6})}}return this.startEndTemplate.apply(b)},getDurationContent:function(d,e,f,a){var b=a.getDurationUnit()||Sch.util.Date.DAY;var c=a.calculateDuration(d,e,b);return this.durationTemplate.apply({cls:f?'sch-tip-ok':'sch-tip-notok',startText:this.gantt.getFormattedDate(d),duration:parseFloat(Ext.Number.toFixed(c,1)),unit:Sch.util.Date.getReadableNameOfUnit(b,c>1)})},show:function(a){if(a){this.setTarget(a)}this.callParent([])}});Ext.define('Gnt.feature.TaskDragDrop',{extend:'Ext.dd.DragZone',requires:['Gnt.Tooltip','Ext.dd.StatusProxy','Ext.dd.ScrollManager'],onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,constructor:function(b){b=b||{};Ext.apply(this,b);this.proxy=this.proxy||Ext.create('Ext.dd.StatusProxy',{shadow:!1,dropAllowed:'sch-gantt-dragproxy',dropNotAllowed:'sch-gantt-dragproxy',ensureAttachedToBody:Ext.emptyFn});var a=this,c=a.gantt;if(a.useTooltip){a.tip=Ext.create('Gnt.Tooltip',{gantt:c})}a.callParent([c.el,Ext.apply(b,{ddGroup:a.gantt.id+'-task-dd'})]);a.scroll=!1;a.isTarget=!0;a.ignoreSelf=!1;a.addInvalidHandleClass('sch-resizable-handle');a.addInvalidHandleClass('x-resizable-handle');a.addInvalidHandleClass('sch-gantt-terminal');a.addInvalidHandleClass('sch-gantt-progressbar-handle');Ext.dd.ScrollManager.register(a.gantt.el);a.gantt.ownerCt.el.appendChild(this.proxy.el);a.gantt.on({destroy:a.cleanUp,scope:a})},useTooltip:!0,validatorFn:function(a,b,d,c){return !0},validatorFnScope:null,cleanUp:function(){if(this.tip){this.tip.destroy()}this.destroy()},containerScroll:!1,dropAllowed:'sch-gantt-dragproxy',dropNotAllowed:'sch-gantt-dragproxy',destroy:function(){this.callParent(arguments);Ext.dd.ScrollManager.unregister(this.gantt.el)},autoOffset:function(b,e){var a=this.dragData.repairXY,d=b-a[0],c=e-a[1];this.setDelta(d,c)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=c;this.maxX=b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=!0},setYConstraint:function(a,c,b){this.topConstraint=a;this.bottomConstraint=c;this.minY=a;this.maxY=c;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=!0},constrainTo:function(b,a){this.resetConstraints();this.initPageX=b.left;this.initPageY=a.top;this.setXConstraint(b.left,b.right-(a.right-a.left),this.xTickSize);this.setYConstraint(a.top-1,a.top-1,this.yTickSize)},onDragOver:function(f,g){var a=this.dragData,c=a.record,d=this.gantt,e=this.proxy.el.getX()+d.getXOffset(c),b=d.getDateFromXY([e,0],'round');if(!a.hidden){Ext.fly(a.sourceNode).hide();a.hidden=!0}if(!b||b-a.start===0){return}a.start=b;this.valid=this.validatorFn.call(this.validatorFnScope||d,c,b,a.duration,f)!==!1;if(this.tip){this.tip.update(b,c.calculateEndDate(b,c.getDuration(),c.getDurationUnit()),this.valid)}},onStartDrag:function(){var a=this.dragData.record;if(this.tip){this.tip.enable();this.tip.show(Ext.get(this.dragData.sourceNode));this.tip.update(a.getStartDate(),a.getEndDate(),!0)}this.gantt.fireEvent('taskdragstart',this.gantt,a)},getDragData:function(f){var a=this.gantt,b=f.getTarget(a.eventSelector);if(b&&!f.getTarget('.sch-gantt-baseline-item')){var e=Ext.get(b),c=a.resolveTaskRecord(e);if(a.fireEvent('beforetaskdrag',a,c,f)===!1){return null}var g=b.cloneNode(!0),d=a.getSnapPixelAmount(),h=e.getXY();g.id=Ext.id();if(d<=1){Ext.fly(g).setStyle('left',0)}this.constrainTo(Ext.fly(a.findItemByChild(b)).getRegion(),e.getRegion());if(d>=1){this.setXConstraint(this.leftConstraint,this.rightConstraint,d)}return {sourceNode:b,repairXY:h,ddel:g,record:c,duration:Sch.util.Date.getDurationInMinutes(c.getStartDate(),c.getEndDate())}}return null},afterRepair:function(){Ext.fly(this.dragData.sourceNode).show();if(this.tip){this.tip.hide()}this.dragging=!1},getRepairXY:function(){this.gantt.fireEvent('afterdnd',this.gantt);return this.dragData.repairXY},onDragDrop:function(f,c){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c),h=this.dragData,a=this.gantt,b=h.record,g=h.start;var d=!1;if(this.tip){this.tip.disable()}if(this.valid&&g&&b.getStartDate()-g!==0){a.taskStore.on('update',function(){d=!0},null,{single:!0});b.setStartDate(g,!0,a.taskStore.skipWeekendsDuringDragDrop);if(d){a.fireEvent('taskdrop',a,b);if(Ext.isIE9){this.proxy.el.setStyle('visibility','hidden');Ext.Function.defer(this.onValidDrop,10,this,[e,f,c])}else {this.onValidDrop(e,f,c)}}}if(!d){this.onInvalidDrop(e,f,c)}a.fireEvent('aftertaskdrop',a,b)}});Ext.define('Gnt.feature.DependencyDragDrop',{extend:'Ext.util.Observable',constructor:function(b){this.addEvents('beforednd','dndstart','drop','afterdnd');var a=b.ganttView;Ext.apply(this,{el:a.el,ddGroup:a.id+'-sch-dependency-dd',ganttView:a,dependencyStore:a.getDependencyStore()});this.el.on('mousemove',function(){this.setupDragZone();this.setupDropZone()},this,{single:!0});this.callParent(arguments)},fromText:'From: <strong>{0}</strong> {1}<br/>',toText:'To: <strong>{0}</strong> {1}',startText:'Start',endText:'End',useLineProxy:!0,terminalSelector:'.sch-gantt-terminal',destroy:function(){if(this.dragZone){this.dragZone.destroy()}if(this.dropZone){this.dropZone.destroy()}if(this.lineProxyEl){this.lineProxyEl.destroy()}},initLineProxy:function(c,b){var a=this.lineProxyEl=this.el.createChild({cls:'sch-gantt-connector-proxy'});a.alignTo(c,b?'l':'r');Ext.apply(this,{containerTop:this.el.getTop(),containerLeft:this.el.getLeft(),startXY:a.getXY(),startScrollLeft:this.el.dom.scrollLeft,startScrollTop:this.el.dom.scrollTop})},updateLineProxy:function(l){var m=this.lineProxyEl,c=l[0]-this.startXY[0]+this.el.dom.scrollLeft-this.startScrollLeft,b=l[1]-this.startXY[1]+this.el.dom.scrollTop-this.startScrollTop,h=Math.max(1,Math.sqrt(Math.pow(c,2)+Math.pow(b,2))-2),g=Math.atan2(b,c)-Math.PI/2,e;if(Ext.isIE){var j=Math.cos(g),i=Math.sin(g),k='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+j+', M12 = '+-i+', M21 = '+i+', M22 = '+j+')',d,f;if(this.el.dom.scrollTop!==this.startScrollTop){d=this.startScrollTop-this.containerTop}else {d=this.el.dom.scrollTop-this.containerTop}if(this.el.dom.scrollLeft!==this.startScrollLeft){f=this.startScrollLeft-this.containerLeft}else {f=this.el.dom.scrollLeft-this.containerLeft}e={height:h+'px',top:Math.min(0,b)+this.startXY[1]+d+(b<0?2:0)+'px',left:Math.min(0,c)+this.startXY[0]+f+(c<0?2:0)+'px',filter:k,'-ms-filter':k}}else {var a='rotate('+g+'rad)';e={height:h+'px','-o-transform':a,'-webkit-transform':a,'-moz-transform':a,transform:a}}m.show().setStyle(e)},setupDragZone:function(){var a=this,b=this.ganttView;this.dragZone=Ext.create('Ext.dd.DragZone',this.el,{ddGroup:this.ddGroup,onStartDrag:function(){this.el.addCls('sch-gantt-dep-dd-dragging');a.fireEvent('dndstart',a);if(a.useLineProxy){var b=this.dragData;a.initLineProxy(b.sourceNode,b.isStart)}},getDragData:function(f){var c=f.getTarget(a.terminalSelector);if(c){var d=b.resolveTaskRecord(c);if(a.fireEvent('beforednd',this,d)===!1){return null}var e=!!c.className.match('sch-gantt-terminal-start'),g=Ext.core.DomHelper.createDom({cls:'sch-dd-dependency',children:[{tag:'span',cls:'sch-dd-dependency-from',html:Ext.String.format(a.fromText,d.getName(),e?a.startText:a.endText)},{tag:'span',cls:'sch-dd-dependency-to',html:Ext.String.format(a.toText,'','')}]});return {fromId:d.getId()||d.internalId,isStart:e,repairXY:Ext.fly(c).getXY(),ddel:g,sourceNode:Ext.fly(c).up(b.eventSelector)}}return !1},afterRepair:function(){this.el.removeCls('sch-gantt-dep-dd-dragging');this.dragging=!1;a.fireEvent('afterdnd',this)},onMouseUp:function(){this.el.removeCls('sch-gantt-dep-dd-dragging');if(a.lineProxyEl){if(Ext.isIE){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}else {a.lineProxyEl.animate({to:{height:0},duration:500,callback:function(){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}})}}},getRepairXY:function(){return this.dragData.repairXY}})},setupDropZone:function(){var a=this,b=this.ganttView;this.dropZone=Ext.create('Ext.dd.DropZone',this.el,{ddGroup:this.ddGroup,getTargetFromEvent:function(b){if(a.useLineProxy){a.updateLineProxy(b.getXY())}return b.getTarget(a.terminalSelector)},onNodeEnter:function(a,c,e,d){var b=a.className.match('sch-gantt-terminal-start');Ext.fly(a).addCls(b?'sch-gantt-terminal-start-drophover':'sch-gantt-terminal-end-drophover')},onNodeOut:function(a,c,e,d){var b=a.className.match('sch-gantt-terminal-start');Ext.fly(a).removeCls(b?'sch-gantt-terminal-start-drophover':'sch-gantt-terminal-end-drophover')},onNodeOver:function(d,e,j,i){var c=b.resolveTaskRecord(d),f=c.getId()||c.internalId,g=d.className.match('sch-gantt-terminal-start'),h=Ext.String.format(a.toText,c.getName(),g?a.startText:a.endText);e.proxy.el.down('.sch-dd-dependency-to').update(h);if(a.dependencyStore.isValidDependency(i.fromId,f)){return this.dropAllowed}else {return this.dropNotAllowed}},onNodeDrop:function(g,k,j,f){var c,e=!0,d=Gnt.model.Dependency.Type,h=b.resolveTaskRecord(g),i=h.getId()||h.internalId;if(a.lineProxyEl){Ext.destroy(a.lineProxyEl);a.lineProxyEl=null}this.el.removeCls('sch-gantt-dep-dd-dragging');if(f.isStart){if(g.className.match('sch-gantt-terminal-start')){c=d.StartToStart}else {c=d.StartToEnd}}else {if(g.className.match('sch-gantt-terminal-start')){c=d.EndToStart}else {c=d.EndToEnd}}e=a.dependencyStore.isValidDependency(f.fromId,i);if(e){a.fireEvent('drop',this,f.fromId,i,c)}a.fireEvent('afterdnd',this);return e}})}});Ext.define('Gnt.feature.DragCreator',{requires:['Ext.Template','Sch.util.DragTracker','Gnt.Tooltip'],constructor:function(a){Ext.apply(this,a||{});this.init()},disabled:!1,showDragTip:!0,dragTolerance:2,setDisabled:function(a){this.disabled=a;if(this.dragTip){this.dragTip.setDisabled(a)}},getProxy:function(){if(!this.proxy){this.proxy=this.template.append(this.ganttView.ownerCt.el,{},!0)}return this.proxy},onBeforeDragStart:function(c){var a=this.ganttView,d=c.getTarget('.'+a.timeCellCls,2);if(d){var b=a.resolveTaskRecord(d);var e=a.getDateFromDomEvent(c);if(!this.disabled&&d&&!b.getStartDate()&&!b.getEndDate()&&a.fireEvent('beforedragcreate',a,b,e,c)!==!1){c.stopEvent();this.taskRecord=b;this.originalStart=e;this.rowRegion=a.getScheduleRegion(this.taskRecord,this.originalStart);this.dateConstraints=a.getDateConstraints(this.resourceRecord,this.originalStart);return !0}}return !1},onDragStart:function(){var a=this,c=a.ganttView,b=a.getProxy();a.start=a.originalStart;a.end=a.start;a.rowBoundaries={top:a.rowRegion.top,bottom:a.rowRegion.bottom};b.setRegion({top:a.rowBoundaries.top,right:a.tracker.startXY[0],bottom:a.rowBoundaries.bottom,left:a.tracker.startXY[0]});b.show();a.ganttView.fireEvent('dragcreatestart',a.ganttView);if(a.showDragTip){a.dragTip.update(a.start,a.end,!0,this.taskRecord);a.dragTip.enable();a.dragTip.show(b)}},onDrag:function(f){var a=this,e=a.ganttView,c=a.tracker.getRegion().constrainTo(a.rowRegion),d=e.getStartEndDatesFromRegion(c,'round');if(!d){return}a.start=d.start||a.start;a.end=d.end||a.end;var b=a.dateConstraints;if(b){a.end=Sch.util.Date.constrain(a.end,b.start,b.end);a.start=Sch.util.Date.constrain(a.start,b.start,b.end)}if(a.showDragTip){a.dragTip.update(a.start,a.end,!0,this.taskRecord)}Ext.apply(c,a.rowBoundaries);this.getProxy().setRegion(c)},onDragEnd:function(c){var a=this.ganttView,b=!0;if(this.showDragTip){this.dragTip.disable()}if(!this.start||!this.end||this.end<this.start){b=!1}if(b){this.taskRecord.setStartEndDate(this.start,this.end);a.fireEvent('dragcreateend',a,this.taskRecord,c)}this.proxy.hide();a.fireEvent('afterdragcreate',a)},init:function(){var b=this.ganttView,c=b.el,a=Ext.Function.bind;this.lastTime=new Date();this.template=this.template||Ext.create('Ext.Template','<div class="sch-gantt-dragcreator-proxy"></div>',{compiled:!0,disableFormats:!0});b.on({destroy:this.onGanttDestroy,scope:this});this.tracker=new Sch.util.DragTracker({el:c,tolerance:this.dragTolerance,onBeforeStart:a(this.onBeforeDragStart,this),onStart:a(this.onDragStart,this),onDrag:a(this.onDrag,this),onEnd:a(this.onDragEnd,this)});if(this.showDragTip){this.dragTip=Ext.create('Gnt.Tooltip',{mode:'duration',cls:'sch-gantt-dragcreate-tip',gantt:b})}},onGanttDestroy:function(){if(this.dragTip){this.dragTip.destroy()}if(this.tracker){this.tracker.destroy()}if(this.proxy){Ext.destroy(this.proxy);this.proxy=null}}});Ext.define('Gnt.feature.LabelEditor',{extend:'Ext.Editor',labelPosition:'',constructor:function(b,a){this.ganttView=b;this.ganttView.on('afterrender',this.onGanttRender,this);this.callParent([a])},edit:function(a){var b=this.ganttView.getElementFromEventRecord(a).up(this.ganttView.eventWrapSelector);this.record=a;this.startEdit(b.down(this.delegate),this.dataIndex?a.get(this.dataIndex):'')},delegate:'',dataIndex:'',shadow:!1,completeOnEnter:!0,cancelOnEsc:!0,ignoreNoChange:!0,onGanttRender:function(a){if(!this.field.width){this.autoSize='width'}this.on({beforestartedit:function(b,d,c){return a.fireEvent('labeledit_beforestartedit',a,this.record,c,b)},beforecomplete:function(c,d,b){return a.fireEvent('labeledit_beforecomplete',a,d,b,this.record,c)},complete:function(d,b,c){this.record.set(this.dataIndex,b);a.fireEvent('labeledit_complete',a,b,c,this.record,d)},scope:this});a.el.on('dblclick',function(c,b){this.edit(a.resolveTaskRecord(b))},this,{delegate:this.delegate})}});Ext.define('Gnt.feature.ProgressBarResize',{requires:['Ext.QuickTip','Ext.resizer.Resizer'],constructor:function(b){Ext.apply(this,b||{});var a=this.gantt;a.on({destroy:this.cleanUp,scope:this});a.mon(a.el,'mousedown',this.onMouseDown,this,{delegate:'.sch-gantt-progressbar-handle'});this.callParent(arguments)},useTooltip:!0,increment:10,onMouseDown:function(d,c){var a=this.gantt,b=a.resolveTaskRecord(c);if(a.fireEvent('beforeprogressbarresize',a,b)!==!1){var e=Ext.fly(c).prev('.sch-gantt-progress-bar');d.stopEvent();this.createResizable(e,b,d);a.fireEvent('progressbarresizestart',a,b)}},createResizable:function(a,b,e){var h=e.getTarget(),f=a.up(this.gantt.eventSelector),d=f.getWidth()-4,g=d*this.increment/100;var c=Ext.create('Ext.resizer.Resizer',{target:a,taskRecord:b,handles:'e',minWidth:0,maxWidth:d,minHeight:1,widthIncrement:g,listeners:{resizedrag:this.partialResize,resize:this.afterResize,scope:this}});c.resizeTracker.onMouseDown(e,c.east.dom);f.select('.x-resizable-handle, .sch-gantt-terminal, .sch-gantt-progressbar-handle').hide();if(this.useTooltip){if(!this.tip){this.tip=Ext.create('Ext.ToolTip',{autoHide:!1,anchor:'b',html:'%'})}this.tip.setTarget(a);this.tip.show();this.tip.body.update(b.getPercentDone()+'%')}},partialResize:function(c,b){var a=Math.round(b*100/(c.maxWidth*this.increment))*this.increment;if(this.tip){this.tip.body.update(a+'%')}},afterResize:function(a,b,e,f){var d=a.taskRecord;if(this.tip){this.tip.hide()}var c=Math.round(b*100/(a.maxWidth*this.increment))*this.increment;a.taskRecord.setPercentDone(c);a.destroy();this.gantt.fireEvent('afterprogressbarresize',this.gantt,d)},cleanUp:function(){if(this.tip){this.tip.destroy()}}});Ext.define('Gnt.feature.TaskResize',{constructor:function(b){Ext.apply(this,b);var a=this.gantt;a.on({destroy:this.cleanUp,scope:this});a.mon(a.el,'mousedown',this.onMouseDown,this,{delegate:'.sch-resizable-handle'});this.callParent(arguments)},showDuration:!0,useTooltip:!0,validatorFn:Ext.emptyFn,validatorFnScope:null,onMouseDown:function(b){var a=this.gantt,d=b.getTarget(a.eventSelector),c=a.resolveTaskRecord(d);if(a.fireEvent('beforetaskresize',a,c,b)===!1){return}b.stopEvent();this.createResizable(Ext.get(d),c,b);a.fireEvent('taskresizestart',a,c)},createResizable:function(a,b,e){var j=e.getTarget(),h=this.gantt,c=!!j.className.match('sch-resizable-handle-west'),d=h.getSnapPixelAmount(),k=a.getWidth(),i=a.up('.x-grid-row').getRegion();this.resizable=Ext.create('Ext.resizer.Resizer',{startLeft:a.getLeft(),startRight:a.getRight(),target:a,taskRecord:b,handles:c?'w':'e',constrainTo:i,minHeight:1,minWidth:d,widthIncrement:d,listeners:{resizedrag:this[c?'partialWestResize':'partialEastResize'],resize:this.afterResize,scope:this}});this.resizable.resizeTracker.onMouseDown(e,this.resizable[c?'west':'east'].dom);if(this.useTooltip){if(!this.tip){this.tip=Ext.create('Gnt.Tooltip',{mode:this.showDuration?'duration':'startend',gantt:this.gantt})}var f=b.getStartDate(),g=b.getEndDate();this.tip.show(a);this.tip.update(f,g,!0,b)}},partialEastResize:function(a,f,h,g){var c=this.gantt,b=c.getDateFromXY([a.startLeft+Math.min(f,this.resizable.maxWidth),0],'round');if(!b||a.end-b===0){return}var d=a.taskRecord.getStartDate(),e=this.validatorFn.call(this.validatorFnScope||this,a.taskRecord,d,b)!==!1;a.end=b;c.fireEvent('partialtaskresize',c,a.taskRecord,d,b,a.el,g);if(this.useTooltip){this.tip.update(d,b,e,a.taskRecord)}},partialWestResize:function(a,f,h,g){var d=this.gantt,b=d.getDateFromXY([a.startRight-Math.min(f,this.resizable.maxWidth),0],'round');if(!b||a.start-b===0){return}var c=a.taskRecord.getEndDate(),e=this.validatorFn.call(this.validatorFnScope||this,a.taskRecord,b,c)!==!1;a.start=b;d.fireEvent('partialtaskresize',d,a.taskRecord,b,c,a.el,g);if(this.useTooltip){this.tip.update(b,c,e,a.taskRecord)}},afterResize:function(d,k,j,i){if(this.useTooltip){this.tip.hide()}var c=d.taskRecord,f=c.getStartDate(),h=c.getEndDate(),a=d.start||f,b=d.end||h,e=this.gantt;d.destroy();if(a&&b&&(a-f||b-h)&&this.validatorFn.call(this.validatorFnScope||this,c,a,b,i)!==!1){var g=this.gantt.taskStore.skipWeekendsDuringDragDrop;if(a-f!==0){c.setStartDate(a<=b?a:b,!1,g)}else {c.setEndDate(a<=b?b:a,!1,g)}}else {e.refreshKeepingScroll()}e.fireEvent('aftertaskresize',e,c)},cleanUp:function(){if(this.tip){this.tip.destroy()}}});Ext.define('Gnt.feature.WorkingTime',{extend:'Sch.plugin.Zones',requires:['Ext.data.Store','Sch.model.Range'],expandToFitView:!0,calendar:null,init:function(a){if(!this.calendar){Ext.Error.raise("Required attribute 'calendar' missed during initialization of 'Gnt.feature.WorkingTime'")}this.bindCalendar(this.calendar);Ext.apply(this,{store:new Ext.data.Store({model:'Sch.model.Range'})});this.callParent(arguments);a.on('viewchange',this.onViewChange,this);this.onViewChange()},bindCalendar:function(b){var a={datachanged:this.refresh,update:this.refresh,scope:this,delay:1};if(this.calendar){this.calendar.un(a)}b.on(a);this.calendar=b},onViewChange:function(){var a=Sch.util.Date;if(a.compareUnits(this.timeAxis.unit,a.WEEK)>0){this.setDisabled(!0)}else {this.setDisabled(!1);this.refresh()}},refresh:function(){var a=this.schedulerView;this.store.removeAll(!0);this.store.add(this.calendar.getHolidaysRanges(a.getStart(),a.getEnd(),!0))}});Ext.define('Gnt.plugin.DependencyEditor',{extend:'Ext.form.FormPanel',mixins:['Ext.AbstractPlugin'],lockableScope:'normal',requires:['Ext.form.DisplayField','Ext.form.ComboBox','Ext.form.NumberField','Gnt.model.Dependency'],hideOnBlur:!0,fromText:'From',toText:'To',typeText:'Type',lagText:'Lag',endToStartText:'Finish-To-Start',startToStartText:'Start-To-Start',endToEndText:'Finish-To-Finish',startToEndText:'Start-To-Finish',showLag:!1,border:!1,height:150,width:260,frame:!0,labelWidth:60,constrain:!1,initComponent:function(){Ext.apply(this,{items:this.buildFields(),defaults:{width:240},floating:!0,hideMode:'offsets'});this.callParent(arguments)},beforeRender:function(){this.addCls('sch-gantt-dependencyeditor');this.callParent(arguments)},init:function(a){a.on('dependencydblclick',this.onDependencyDblClick,this);a.on('render',this.onGanttRender,this,{delay:50});this.gantt=a;this.taskStore=a.getTaskStore()},onGanttRender:function(){this.render(Ext.getBody());this.collapse(Ext.Component.DIRECTION_TOP,!0);this.hide();if(this.hideOnBlur){this.mon(Ext.getBody(),'click',this.onMouseClick,this)}},show:function(a,b){this.dependencyRecord=a;this.getForm().loadRecord(a);this.fromLabel.setValue(this.dependencyRecord.getSourceTask().getName());this.toLabel.setValue(this.dependencyRecord.getTargetTask().getName());this.callParent([]);this.el.setXY(b);this.expand(!this.constrain);if(this.constrain){this.doConstrain(Ext.util.Region.getRegion(Ext.getBody()))}},buildFields:function(){var d=this,b=Gnt.model.Dependency,a=b.Type,c=[this.fromLabel=Ext.create('Ext.form.DisplayField',{fieldLabel:this.fromText}),this.toLabel=Ext.create('Ext.form.DisplayField',{fieldLabel:this.toText}),this.typeField=Ext.create('Ext.form.ComboBox',{name:b.prototype.nameField,fieldLabel:this.typeText,triggerAction:'all',queryMode:'local',valueField:'value',displayField:'text',editable:!1,store:Ext.create('Ext.data.JsonStore',{fields:['text','value'],data:[{text:this.endToStartText,value:a.EndToStart},{text:this.startToStartText,value:a.StartToStart},{text:this.endToEndText,value:a.EndToEnd},{text:this.startToEndText,value:a.StartToEnd}]})})];if(this.showLag){c.push(this.lagField=Ext.create('Ext.form.NumberField',{name:b.prototype.lagField,fieldLabel:this.lagText}))}return c},onDependencyDblClick:function(d,a,b,c){if(this.lagField){this.lagField.name=a.lagField}if(this.typeField){this.typeField.name=a.typeField}if(a!=this.dependencyRecord){this.show(a,b.getXY())}},onMouseClick:function(a){if(this.collapsed||a.within(this.getEl())||a.getTarget('.x-layer')||a.getTarget('.sch-ignore-click')){return}this.collapse()},afterCollapse:function(){delete this.dependencyRecord;this.hide();this.callParent(arguments)}});Ext.define('Gnt.plugin.TaskContextMenu',{extend:'Ext.menu.Menu',mixins:['Ext.AbstractPlugin'],lockableScope:'top',requires:['Gnt.model.Dependency'],plain:!0,triggerEvent:'taskcontextmenu',texts:{newTaskText:'New task',newMilestoneText:'New milestone',deleteTask:'Delete task(s)',editLeftLabel:'Edit left label',editRightLabel:'Edit right label',add:'Add...',deleteDependency:'Delete dependency...',addTaskAbove:'Task above',addTaskBelow:'Task below',addMilestone:'Milestone',addSubtask:'Sub-task',addSuccessor:'Successor',addPredecessor:'Predecessor'},grid:null,rec:null,lastHighlightedItem:null,createMenuItems:function(){var a=this.texts;return [{handler:this.deleteTask,requiresTask:!0,scope:this,text:a.deleteTask},{handler:this.editLeftLabel,requiresTask:!0,scope:this,text:a.editLeftLabel},{handler:this.editRightLabel,requiresTask:!0,scope:this,text:a.editRightLabel},{text:a.add,menu:{plain:!0,items:[{handler:this.addTaskAboveAction,requiresTask:!0,scope:this,text:a.addTaskAbove},{handler:this.addTaskBelowAction,scope:this,text:a.addTaskBelow},{handler:this.addMilestone,requiresTask:!0,scope:this,text:a.addMilestone},{handler:this.addSubtask,requiresTask:!0,scope:this,text:a.addSubtask},{handler:this.addSuccessor,requiresTask:!0,scope:this,text:a.addSuccessor},{handler:this.addPredecessor,requiresTask:!0,scope:this,text:a.addPredecessor}]}},{text:a.deleteDependency,requiresTask:!0,menu:{plain:!0,listeners:{beforeshow:this.populateDependencyMenu,mouseover:this.onDependencyMouseOver,mouseleave:this.onDependencyMouseOut,scope:this}}}]},buildMenuItems:function(){this.items=this.createMenuItems()},initComponent:function(){this.buildMenuItems();this.callParent(arguments)},init:function(a){a.on('destroy',this.cleanUp,this);var b=a.getSchedulingView(),c=a.lockedGrid.getView();if(this.triggerEvent==='itemcontextmenu'){c.on('itemcontextmenu',this.onItemContextMenu,this);b.on('itemcontextmenu',this.onItemContextMenu,this)}b.on('taskcontextmenu',this.onTaskContextMenu,this);b.on('containercontextmenu',this.onContainerContextMenu,this);c.on('containercontextmenu',this.onContainerContextMenu,this);this.grid=a},populateDependencyMenu:function(d){var b=this.grid,e=b.getTaskStore(),c=this.rec.getAllDependencies(),a=b.dependencyStore;d.removeAll();if(c.length===0){return !1}var f=this.rec.getId()||this.rec.internalId;Ext.each(c,function(b){var g=b.getSourceId(),c=e.getById(g==f?b.getTargetId():g);if(c){d.add({depId:b.internalId,text:Ext.util.Format.ellipsis(c.getName(),30),scope:this,handler:function(e){var c;a.each(function(a){if(a.internalId==e.depId){c=a;return !1}});a.remove(c)}})}},this)},onDependencyMouseOver:function(d,a,c){if(a){var b=this.grid.getSchedulingView();if(this.lastHighlightedItem){b.unhighlightDependency(this.lastHighlightedItem.depId)}this.lastHighlightedItem=a;b.highlightDependency(a.depId)}},onDependencyMouseOut:function(b,a){if(this.lastHighlightedItem){this.grid.getSchedulingView().unhighlightDependency(this.lastHighlightedItem.depId)}},cleanUp:function(){this.destroy()},onTaskContextMenu:function(c,a,b){this.activateMenu(a,b)},onItemContextMenu:function(c,a,e,d,b){this.activateMenu(a,b)},onContainerContextMenu:function(b,a){this.activateMenu(null,a)},activateMenu:function(b,a){if(this.grid.isReadOnly()){return}a.stopEvent();this.rec=b;var c=this.query('[requiresTask]');Ext.each(c,function(c){c.setDisabled(!b)});this.showAt(a.getXY())},copyTask:function(b){var c=this.grid.getTaskStore().model;var a=new c({leaf:!0});a.setPercentDone(0);a.setName(this.texts.newTaskText);a.set(a.startDateField,b&&b.getStartDate()||null);a.set(a.endDateField,b&&b.getEndDate()||null);a.set(a.durationField,b&&b.getDuration()||null);a.set(a.durationUnitField,b&&b.getDurationUnit()||'d');return a},addTaskAbove:function(a){var b=this.rec;if(b){b.addTaskAbove(a)}else {this.grid.taskStore.getRootNode().appendChild(a)}},addTaskBelow:function(a){var b=this.rec;if(b){b.addTaskBelow(a)}else {this.grid.taskStore.getRootNode().appendChild(a)}},deleteTask:function(){var a=this.grid.getSelectionModel().selected;this.grid.taskStore.remove(a.items)},editLeftLabel:function(){this.grid.getSchedulingView().editLeftLabel(this.rec)},editRightLabel:function(){this.grid.getSchedulingView().editRightLabel(this.rec)},addTaskAboveAction:function(){this.addTaskAbove(this.copyTask(this.rec))},addTaskBelowAction:function(){this.addTaskBelow(this.copyTask(this.rec))},addSubtask:function(){var a=this.rec;a.addSubtask(this.copyTask(a))},addSuccessor:function(){var a=this.rec;a.addSuccessor(this.copyTask(a))},addPredecessor:function(){var a=this.rec;a.addPredecessor(this.copyTask(a))},addMilestone:function(){var a=this.rec,b=this.copyTask(a);a.addTaskBelow(b);b.setStartEndDate(a.getEndDate(),a.getEndDate())}});Ext.define('Gnt.plugin.PdfExport',{extend:'Sch.plugin.PdfExport',getExportJsonHtml:function(a,g){var b=this.scheduler.getSchedulingView(),c=b.dependencyView,d=c.painter.getDependencyTplData(b.dependencyStore.getRange()),e=c.lineTpl.apply(d),f={dependencies:e,rowsAmount:a.rowsAmount,columnsAmountNormal:a.columnsAmountNormal,columnsAmountLocked:a.columnsAmountLocked,timeColumnWidth:a.timeColumnWidth,lockedGridWidth:a.lockedGridWidth,rowHeight:a.rowHeight};a.panelHTML=f;return this.callParent(arguments)},resizePanelHTML:function(a){var b=this.callParent(arguments),c=b.select('.sch-dependencyview-ct').first(),f=a.k*a.rowsAmount*a.rowHeight,e=a.i*a.timeColumnWidth*(a.i===1?a.columnsAmountLocked:a.columnsAmountNormal);c.dom.innerHTML=a.dependencies;c.applyStyles({top:-f+'px',left:-e+'px'});var d=b.select('.x-splitter').first();d.setHeight('100%');return b}});Ext.define('Gnt.plugin.Printable',{extend:'Sch.plugin.Printable',getGridContent:function(f){var a=this.callParent(arguments),c=f.getSchedulingView(),d=c.dependencyView,e=d.painter.getDependencyTplData(c.dependencyStore.getRange()),b;b=a.normalRows;a.normalRows=d.lineTpl.apply(e)+b;return a}});Ext.define('Gnt.view.DependencyPainter',{extend:'Ext.util.Observable',requires:['Ext.util.Region'],constructor:function(a){a=a||{};Ext.apply(this,a,{xOffset:8,yOffset:7,midRowOffset:6,arrowOffset:8})},getTaskBox:function(d){var h=Sch.util.Date,j=d.getStartDate(),l=d.getEndDate(),o=this.ganttView.getStart(),n=this.ganttView.getEnd(),a=this.ganttView,e=a.getXYFromDate(h.max(j,o))[0],g=a.getXYFromDate(h.min(l,n))[0],q=this.taskStore.buffered,c,b=Ext.get(a.getEventNodeByRecord(d));if(!d.isVisible()||!j||!l||!h.intersectSpans(j,l,o,n)){return null}if(b||q){var m=this.view.getXOffset(d),f,i,r=!0;if(e>m){e-=m}g+=m-1;if(!d.isMilestone()&&Ext.isIE){if((Ext.isIE7||Ext.isIE6)&&!Ext.isIEQuirks){g+=5;e-=2}else {if((Ext.isIE6||Ext.isIE7||Ext.isIE8)&&Ext.isIEQuirks){g+=1;e-=2}}}if(b){c=b.getOffsetsTo(a.el);f=c[1]+a.el.getScroll().top;i=f+b.getHeight()}else {var p=a.store.first();var k=a.getNodes();if(d.isAbove(p)){b=Ext.get(k[0]);c=b.getOffsetsTo(a.el);c[1]-=this.ganttView.rowHeight}else {b=Ext.get(k[k.length-1]);c=b.getOffsetsTo(a.el);c[1]+=this.ganttView.rowHeight}f=c[1]+a.el.getScroll().top;i=f+b.getHeight();r=!1}return {top:f,right:g,bottom:i,left:e,rendered:!1}}},getRenderData:function(f){var b=f.getSourceTask(),a=f.getTargetTask();if(!b||!a){return null}var c=this.getTaskBox(b);var d=this.getTaskBox(a);if(this.taskStore.buffered&&c&&!c.rendered&&d&&!d.rendered){var g=this.ganttView.store.first();var e=this.ganttView.store.last();if(b.isAbove(g)&&a.isAbove(g)||e.isAbove(b)&&e.isAbove(a)){return null}}return {fromBox:c,toBox:d}},getDependencyTplData:function(f){var d=this,l=d.taskStore;if(!Ext.isArray(f)){f=[f]}if(f.length===0||l.getCount()<=0){return}var j=[],g=Gnt.model.Dependency.Type,o=d.ganttView,e,n,m,c,b,a;for(var i=0,k=f.length;i<k;i++){a=f[i];var h=this.getRenderData(a);if(h){c=h.fromBox;b=h.toBox;if(c&&b){switch(a.getType()){case g.StartToEnd:e=d.getStartToEndCoordinates(c,b);break;case g.StartToStart:e=d.getStartToStartCoordinates(c,b);break;case g.EndToStart:e=d.getEndToStartCoordinates(c,b);break;case g.EndToEnd:e=d.getEndToEndCoordinates(c,b);break;default:throw 'Invalid dependency type: '+a.getType();}if(e){j.push({lineCoordinates:e,id:a.internalId,cls:a.getCls()})}}}}return j},getStartToStartCoordinates:function(c,b,h,j){var a=c.left,g=c.top-1+(c.bottom-c.top)/2,f=b.left,d=b.top-1+(b.bottom-b.top)/2,i=c.top<b.top?d-this.yOffset-this.midRowOffset:d+this.yOffset+this.midRowOffset,e=this.xOffset+this.arrowOffset;if(a>f+this.xOffset){e+=a-f}return [{x1:a,y1:g,x2:a-e,y2:g},{x1:a-e,y1:g,x2:a-e,y2:d},{x1:a-e,y1:d,x2:f-this.arrowOffset,y2:d}]},getStartToEndCoordinates:function(g,f){var c=g.left,d=g.top-1+(g.bottom-g.top)/2,e=f.right,b=f.top-1+(f.bottom-f.top)/2,i=g.top<f.top?b-this.yOffset-this.midRowOffset:b+this.yOffset+this.midRowOffset,j,a;if(e>c+this.xOffset-this.arrowOffset||Math.abs(e-c)<2*(this.xOffset+this.arrowOffset)){a=c-this.xOffset-this.arrowOffset;var h=e+this.xOffset+this.arrowOffset;j=[{x1:c,y1:d,x2:a,y2:d},{x1:a,y1:d,x2:a,y2:i},{x1:a,y1:i,x2:h,y2:i},{x1:h,y1:i,x2:h,y2:b},{x1:h,y1:b,x2:e+this.arrowOffset,y2:b}]}else {a=c-this.xOffset-this.arrowOffset;j=[{x1:c,y1:d,x2:a,y2:d},{x1:a,y1:d,x2:a,y2:b},{x1:a,y1:b,x2:e+this.arrowOffset,y2:b}]}return j},getEndToStartCoordinates:function(h,g){var e=h.right,b=h.top-1+(h.bottom-h.top)/2,f=g.left,a=g.top-1+(g.bottom-g.top)/2,j=h.top<g.top?a-this.yOffset-this.midRowOffset:a+this.yOffset+this.midRowOffset,i,c;if(f>=e-6&&a>b){c=Math.max(e-6,f)+this.xOffset;a=g.top;i=[{x1:e,y1:b,x2:c,y2:b},{x1:c,y1:b,x2:c,y2:a-this.arrowOffset}]}else {c=e+this.xOffset+this.arrowOffset;var d=f-this.xOffset-this.arrowOffset;if(a>b||f<e+2*this.arrowOffset){i=[{x1:e,y1:b,x2:c,y2:b},{x1:c,y1:b,x2:c,y2:j},{x1:c,y1:j,x2:d,y2:j},{x1:d,y1:j,x2:d,y2:a},{x1:d,y1:a,x2:f-this.arrowOffset,y2:a}]}else {i=[{x1:e,y1:b,x2:d,y2:b},{x1:d,y1:b,x2:d,y2:a},{x1:d,y1:a,x2:f-this.arrowOffset,y2:a}]}}return i},getEndToEndCoordinates:function(b,d){var e=b.right,g=b.top-1+(b.bottom-b.top)/2,c=d.right+this.arrowOffset,f=d.top-1+(d.bottom-d.top)/2,a=c+this.xOffset+this.arrowOffset;if(e>c+this.xOffset){a+=e-c}return [{x1:e,y1:g,x2:a,y2:g},{x1:a,y1:g,x2:a,y2:f},{x1:a,y1:f,x2:c,y2:f}]}});Ext.define('Gnt.view.Dependency',{extend:'Ext.util.Observable',requires:['Gnt.feature.DependencyDragDrop','Gnt.view.DependencyPainter'],containerEl:null,ganttView:null,painter:null,taskStore:null,store:null,dnd:null,lineTpl:null,enableDependencyDragDrop:!0,renderAllDepsBuffered:!1,dependencyCls:'sch-dependency',selectedCls:'sch-dependency-selected',constructor:function(b){this.callParent(arguments);var a=this.ganttView;a.on({refresh:this.renderAllDependenciesBuffered,scope:this});this.bindTaskStore(a.getTaskStore());this.bindDependencyStore(b.store);if(!this.lineTpl){this.lineTpl=Ext.create('Ext.XTemplate','<tpl for=".">'+Ext.String.format('<tpl for="lineCoordinates"><div class="{0} sch-dep-{parent.id} {0}-line {parent.cls}-line " style="left:{[Math.min(values.x1, values.x2)]}px;top:{[Math.min(values.y1, values.y2)]}px;width:{[Math.abs(values.x1-values.x2)'+(Ext.isBorderBox?'+2':'')+']}px;height:{[Math.abs(values.y1-values.y2)'+(Ext.isBorderBox?'+2':'')+']}px"></div></tpl><div style="left:{[values.lineCoordinates[values.lineCoordinates.length - 1].x2]}px;top:{[values.lineCoordinates[values.lineCoordinates.length - 1].y2]}px" class="{0}-arrow-ct {0} sch-dep-{id} {cls}-arrow-ct"><img src="'+Ext.BLANK_IMAGE_URL+'" class="{0}-arrow {0}-arrow-{[this.getArrowDirection(values.lineCoordinates)]} {cls}-arrow" /></div>',this.dependencyCls)+'</tpl>',{compiled:!0,disableFormats:!0,getArrowDirection:function(c){var a=c[c.length-1];if(a.x1===a.x2){return 'down'}else {if(a.x1>a.x2){return 'left'}else {return 'right'}}}})}this.painter=Ext.create('Gnt.view.DependencyPainter',Ext.apply({rowHeight:a.rowHeight,taskStore:this.taskStore,view:a},b));this.addEvents('beforednd','dndstart','drop','afterdnd','beforecascade','cascade','dependencydblclick');if(this.enableDependencyDragDrop){this.dnd=Ext.create('Gnt.feature.DependencyDragDrop',{ganttView:this.ganttView});this.dnd.on('drop',this.onDependencyDrop,this);this.relayEvents(this.dnd,['beforednd','dndstart','afterdnd','drop'])}this.containerEl=this.containerEl.createChild({cls:'sch-dependencyview-ct'});this.ganttView.mon(this.containerEl,'dblclick',this.onDependencyDblClick,this,{delegate:'.'+this.dependencyCls});if(a.rendered){this.renderAllDependenciesBuffered()}},bindDependencyStore:function(a){a.on({datachanged:this.renderAllDependenciesBuffered,load:this.renderAllDependenciesBuffered,add:this.onDependencyAdd,update:this.onDependencyUpdate,remove:this.onDependencyDelete,scope:this});this.store=a},unBindDependencyStore:function(){this.store.un({datachanged:this.renderAllDependenciesBuffered,load:this.renderAllDependenciesBuffered,add:this.onDependencyAdd,update:this.onDependencyUpdate,remove:this.onDependencyDelete,scope:this})},bindTaskStore:function(a){var b=this.ganttView;if(b.animate){b.on({afterexpand:this.renderAllDependenciesBuffered,aftercollapse:this.renderAllDependenciesBuffered,scope:this})}else {a.on({expand:this.renderAllDependenciesBuffered,collapse:this.renderAllDependenciesBuffered,scope:this})}a.on({cascade:this.onTaskStoreCascade,'root-fill-start':this.onRootFillStart,remove:this.renderAllDependenciesBuffered,insert:this.renderAllDependenciesBuffered,append:this.renderAllDependenciesBuffered,move:this.renderAllDependenciesBuffered,update:this.onTaskUpdated,scope:this});this.taskStore=a},onTaskStoreCascade:function(b,a){if(a&&a.nbrAffected>0){this.renderAllDependenciesBuffered()}},unBindTaskStore:function(a){a=a||this.taskStore;var b=this.ganttView;if(!a){return}if(b.animate){b.un({afterexpand:this.renderAllDependenciesBuffered,aftercollapse:this.renderAllDependenciesBuffered,scope:this})}else {a.un({expand:this.renderAllDependenciesBuffered,collapse:this.renderAllDependenciesBuffered,scope:this})}a.un({cascade:this.onTaskStoreCascade,remove:this.renderAllDependenciesBuffered,insert:this.renderAllDependenciesBuffered,append:this.renderAllDependenciesBuffered,move:this.renderAllDependenciesBuffered,'root-fill-start':this.onRootFillStart,scope:this});a.un({update:this.onTaskUpdated,scope:this})},onRootFillStart:function(){var a=this.taskStore;this.unBindTaskStore(a);this.taskStore.on('root-fill-end',function(){this.bindTaskStore(a)},this,{single:!0})},onDependencyDblClick:function(b,a){var c=this.getRecordForDependencyEl(a);this.fireEvent('dependencydblclick',this,c,b,a)},highlightDependency:function(a){if(!(a instanceof Ext.data.Model)){a=this.getDependencyRecordByInternalId(a)}this.getElementsForDependency(a).addCls(this.selectedCls)},unhighlightDependency:function(a){if(!(a instanceof Ext.data.Model)){a=this.getDependencyRecordByInternalId(a)}this.getElementsForDependency(a).removeCls(this.selectedCls)},getElementsForDependency:function(a){var b=a instanceof Ext.data.Model?a.internalId:a;return this.containerEl.select('.sch-dep-'+b)},depRe:new RegExp('sch-dep-([^\\s]+)'),getDependencyRecordByInternalId:function(d){var b,a,c;for(a=0,c=this.store.getCount();a<c;a++){b=this.store.getAt(a);if(b.internalId==d){return b}}return null},getRecordForDependencyEl:function(d){var a=d.className.match(this.depRe),b=null;if(a&&a[1]){var c=a[1];b=this.getDependencyRecordByInternalId(c)}return b},renderAllDependenciesBuffered:function(){var a=this;this.containerEl.update('');setTimeout(function(){if(!a.ganttView.isDestroyed){a.renderAllDependencies()}},0)},renderAllDependencies:function(){if(!this.containerEl.dom){return}this.getDependencyElements().remove();this.renderDependencies(this.store.data.items)},getDependencyElements:function(){return this.containerEl.select('.'+this.dependencyCls)},renderDependencies:function(a){if(a){var b=this.painter.getDependencyTplData(a);this.lineTpl[Ext.isIE?'insertFirst':'append'](this.containerEl,b)}},renderTaskDependencies:function(a){var c=[];if(!Ext.isArray(a)){a=[a]}for(var b=0,d=a.length;b<d;b++){c=c.concat(a[b].getAllDependencies())}this.renderDependencies(c)},onDependencyUpdate:function(b,a){this.removeDependencyElements(a,!1);this.renderDependencies(a)},onDependencyAdd:function(b,a){this.renderDependencies(a)},removeDependencyElements:function(a,b){if(b!==!1){this.getElementsForDependency(a).fadeOut({remove:!0})}else {this.getElementsForDependency(a).remove()}},onDependencyDelete:function(b,a){this.removeDependencyElements(a)},dimEventDependencies:function(a){this.containerEl.select(this.depRe+a).setOpacity(0.2)},clearSelectedDependencies:function(){this.containerEl.select('.'+this.selectedCls).removeCls(this.selectedCls)},onTaskUpdated:function(c,a,b){if(!this.taskStore.cascading&&b!=Ext.data.Model.COMMIT&&(!a.previous||a.startDateField in a.previous||a.endDateField in a.previous)){this.updateDependencies(a)}},updateDependencies:function(a){if(!Ext.isArray(a)){a=[a]}var b=this;Ext.each(a,function(c){Ext.each(c.getAllDependencies(),function(d){b.removeDependencyElements(d,!1)})});this.renderTaskDependencies(a)},onDependencyDrop:function(e,c,b,d){var a=new this.store.model({fromTask:c,toTask:b,type:d});if(this.store.isValidDependency(a)){this.store.add(a)}},destroy:function(){if(this.dnd){this.dnd.destroy()}this.unBindTaskStore();this.unBindDependencyStore()}});Ext.define('Gnt.view.Gantt',{extend:'Sch.view.TimelineTreeView',alias:['widget.ganttview'],requires:['Gnt.view.Dependency','Gnt.model.Task','Gnt.template.Task','Gnt.template.ParentTask','Gnt.template.Milestone','Gnt.feature.TaskDragDrop','Gnt.feature.ProgressBarResize','Gnt.feature.TaskResize','Sch.view.Horizontal'],uses:['Gnt.feature.LabelEditor','Gnt.feature.DragCreator'],_cmpCls:'sch-ganttview',rowHeight:22,barMargin:4,scheduledEventName:'task',trackOver:!1,toggleOnDblClick:!1,milestoneOffset:8,parentTaskOffset:6,eventSelector:'.sch-gantt-item',eventWrapSelector:'.sch-event-wrap',progressBarResizer:null,taskResizer:null,taskDragDrop:null,dragCreator:null,dependencyView:null,resizeConfig:null,dragDropConfig:null,constructor:function(b){var a=b.panel._top;Ext.apply(this,{taskStore:a.taskStore,dependencyStore:a.dependencyStore,enableDependencyDragDrop:a.enableDependencyDragDrop,enableTaskDragDrop:a.enableTaskDragDrop,enableProgressBarResize:a.enableProgressBarResize,enableDragCreation:a.enableDragCreation,allowParentTaskMove:a.allowParentTaskMove,toggleParentTasksOnClick:a.toggleParentTasksOnClick,resizeHandles:a.resizeHandles,enableBaseline:a.baselineVisible||a.enableBaseline,leftLabelField:a.leftLabelField,rightLabelField:a.rightLabelField,eventTemplate:a.eventTemplate,parentEventTemplate:a.parentEventTemplate,milestoneTemplate:a.milestoneTemplate,resizeConfig:a.resizeConfig,dragDropConfig:a.dragDropConfig});this.addEvents('taskclick','taskdblclick','taskcontextmenu','beforetaskresize','taskresizestart','partialtaskresize','aftertaskresize','beforeprogressbarresize','progressbarresizestart','afterprogressbarresize','beforetaskdrag','taskdragstart','taskdrop','aftertaskdrop','labeledit_beforestartedit','labeledit_beforecomplete','labeledit_complete','beforedependencydrag','dependencydragstart','dependencydrop','afterdependencydragdrop');this.callParent(arguments)},initComponent:function(){this.configureLabels();this.setupGanttEvents();this.callParent(arguments);this.setupTemplates()},getDependencyStore:function(){return this.dependencyStore},configureFeatures:function(){if(this.enableProgressBarResize!==!1){this.progressBarResizer=Ext.create('Gnt.feature.ProgressBarResize',{gantt:this});this.on({beforeprogressbarresize:this.onBeforeTaskProgressBarResize,progressbarresizestart:this.onTaskProgressBarResizeStart,afterprogressbarresize:this.onTaskProgressBarResizeEnd,scope:this})}if(this.resizeHandles!=='none'){this.taskResizer=Ext.create('Gnt.feature.TaskResize',Ext.apply({gantt:this,validatorFn:this.resizeValidatorFn||Ext.emptyFn,validatorFnScope:this.validatorFnScope||this},this.resizeConfig||{}));this.on({beforedragcreate:this.onBeforeDragCreate,beforetaskresize:this.onBeforeTaskResize,taskresizestart:this.onTaskResizeStart,aftertaskresize:this.onTaskResizeEnd,scope:this})}if(this.enableTaskDragDrop){this.taskDragDrop=Ext.create('Gnt.feature.TaskDragDrop',Ext.apply({gantt:this,validatorFn:this.dndValidatorFn||Ext.emptyFn,validatorFnScope:this.validatorFnScope||this},this.dragDropConfig));this.on({beforetaskdrag:this.onBeforeTaskDrag,taskdragstart:this.onDragDropStart,aftertaskdrop:this.onDragDropEnd,scope:this})}if(this.enableDragCreation){this.dragCreator=Ext.create('Gnt.feature.DragCreator',Ext.apply({ganttView:this}))}},prepareData:function(f,e,c){var a=this,b={},d=a.gridDataColumns||a.getGridColumns();b[d[0].id]=this.renderTask(c);return b},renderTask:function(a){var f=a.getStartDate(),x=this.timeAxis,y=Sch.util.Date,b={},m='',e=x.getStart(),c=x.getEnd(),i=a.isMilestone(),z=a.isLeaf(),g,h,d;if(f){var s=a.getEndDate()||Sch.util.Date.add(f,Sch.util.Date.DAY,1),A=Sch.util.Date.intersectSpans(f,s,e,c);if(A){d=s>c;h=y.betweenLesser(f,e,c);var t=Math.floor(this.getXYFromDate(h?f:e)[0]),v=Math.floor(this.getXYFromDate(d?c:s)[0]),j=i?0:v-t;if(!i&&!z){if(d){j+=this.parentTaskOffset}else {j+=2*this.parentTaskOffset}}b={id:a.internalId,leftOffset:i?v||t:t,width:Math.max(1,j),percentDone:Math.min(a.getPercentDone()||0,100)};g=this.eventRenderer.call(this.eventRendererScope||this,a,b,a.store)||{};var l=this.leftLabelField,k=this.rightLabelField,n;if(l){b.leftLabel=l.renderer.call(l.scope||this,a.data[l.dataIndex],a)}if(k){b.rightLabel=k.renderer.call(k.scope||this,a.data[k.dataIndex],a)}Ext.apply(b,g);if(i){n=this.milestoneTemplate}else {b.width=Math.max(1,j);var q='';if(d){q=' sch-event-endsoutside '}if(!h){q=' sch-event-startsoutside '}b.ctcls=(b.ctcls||'')+q;n=this[z?'eventTemplate':'parentEventTemplate']}var p=' sch-event-resizable-'+a.getResizable();if(a.dirty){p+=' sch-dirty '}if(a.isDraggable()===!1){p+=' sch-event-fixed '}b.cls=(b.cls||'')+(a.getCls()||'')+p;m+=n.apply(b)}}if(this.enableBaseline){var r=a.getBaselineStartDate(),o=a.getBaselineEndDate();if(!g){g=this.eventRenderer.call(this,a,b,a.store)||{}}if(r&&o){d=o>c;h=y.betweenLesser(r,e,c);var u=a.isBaselineMilestone(),B=u?this.baselineMilestoneTemplate:a.isLeaf()?this.baselineTaskTemplate:this.baselineParentTaskTemplate,w=Math.floor(this.getXYFromDate(h?r:e)[0]),C=u?0:Math.floor(this.getXYFromDate(d?c:o)[0])-w;m+=B.apply({basecls:g.basecls||'',id:a.internalId+'-base',percentDone:a.getBaselinePercentDone(),leftOffset:w,width:Math.max(1,C)})}}return m},setupTemplates:function(){var a={leftLabel:!!this.leftLabelField,rightLabel:!!this.rightLabelField,prefix:this.eventPrefix,enableDependencyDragDrop:this.enableDependencyDragDrop!==!1,resizeHandles:this.resizeHandles,enableProgressBarResize:this.enableProgressBarResize};if(!this.eventTemplate){a.baseCls='sch-gantt-task {ctcls}';this.eventTemplate=Ext.create('Gnt.template.Task',a)}if(!this.parentEventTemplate){a.baseCls='sch-gantt-parent-task {ctcls}';this.parentEventTemplate=Ext.create('Gnt.template.ParentTask',a)}if(!this.milestoneTemplate){a.baseCls='sch-gantt-milestone {ctcls}';this.milestoneTemplate=Ext.create('Gnt.template.Milestone',a)}if(this.enableBaseline){a={prefix:this.eventPrefix};if(!this.baselineTaskTemplate){a.baseCls='sch-gantt-task-baseline sch-gantt-baseline-item {basecls}';this.baselineTaskTemplate=Ext.create('Gnt.template.Task',a)}if(!this.baselineParentTaskTemplate){a.baseCls='sch-gantt-parenttask-baseline sch-gantt-baseline-item {basecls}';this.baselineParentTaskTemplate=Ext.create('Gnt.template.ParentTask',a)}if(!this.baselineMilestoneTemplate){a.baseCls='sch-gantt-milestone-baseline sch-gantt-baseline-item {basecls}';this.baselineMilestoneTemplate=Ext.create('Gnt.template.Milestone',a)}}},getDependencyView:function(){return this.dependencyView},getTaskStore:function(){return this.taskStore},initDependencies:function(){if(this.dependencyStore){var a=this,b=Ext.create('Gnt.view.Dependency',{containerEl:a.el,ganttView:a,enableDependencyDragDrop:a.enableDependencyDragDrop,store:a.dependencyStore});b.on({beforednd:a.onBeforeDependencyDrag,dndstart:a.onDependencyDragStart,drop:a.onDependencyDrop,afterdnd:a.onAfterDependencyDragDrop,beforecascade:a.onBeforeCascade,cascade:a.onCascade,scope:a});a.dependencyView=b;a.relayEvents(b,['dependencydblclick'])}},setupGanttEvents:function(){var a=this.getSelectionModel();if(this.toggleParentTasksOnClick){this.on({taskclick:function(b,a){if(!a.isLeaf()){this.toggle(a)}},scope:this})}},configureLabels:function(){var c={renderer:function(a){return a},dataIndex:undefined};var b=this.leftLabelField;if(b){if(Ext.isString(b)){b=this.leftLabelField={dataIndex:b}}Ext.applyIf(b,c);if(b.editor){b.editor=Ext.create('Gnt.feature.LabelEditor',this,{alignment:'r-r',delegate:'.sch-gantt-label-left',labelPosition:'left',field:b.editor,dataIndex:b.dataIndex})}}var a=this.rightLabelField;if(a){if(Ext.isString(a)){a=this.rightLabelField={dataIndex:a}}Ext.applyIf(a,c);if(a.editor){a.editor=Ext.create('Gnt.feature.LabelEditor',this,{alignment:'l-l',delegate:'.sch-gantt-label-right',labelPosition:'right',field:a.editor,dataIndex:a.dataIndex})}}this.on('labeledit_beforestartedit',this.onBeforeLabelEdit,this)},onBeforeTaskDrag:function(b,a){return !this.readOnly&&(this.allowParentTaskMove||a.isLeaf())},onDragDropStart:function(){if(this.tip){this.tip.disable()}},onDragDropEnd:function(){if(this.tip){this.tip.enable()}},onTaskProgressBarResizeStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onTaskProgressBarResizeEnd:function(){if(this.tip){this.tip.enable()}},onTaskResizeStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onTaskResizeEnd:function(){if(this.tip){this.tip.enable()}},onBeforeDragCreate:function(){return !this.readOnly},onBeforeTaskResize:function(b,a){return !this.readOnly&&a.getSchedulingMode()!=='EffortDriven'},onBeforeTaskProgressBarResize:function(){return !this.readOnly},onBeforeLabelEdit:function(){return !this.readOnly},onBeforeEdit:function(){return !this.readOnly},beforeRender:function(){this.addCls('sch-ganttview');this.callParent(arguments)},afterRender:function(){this.initDependencies();this.callParent(arguments);this.el.on('mousemove',this.configureFeatures,this,{single:!0})},resolveTaskRecord:function(a){var b=this.findItemByChild(a);if(b){return this.getRecord(this.findItemByChild(a))}return null},resolveEventRecord:function(a){return this.resolveTaskRecord(a)},highlightTask:function(a,b){if(!(a instanceof Ext.data.Model)){a=this.taskStore.getById(a)}if(a){var c=this.getNode(a);if(c){Ext.fly(c).addCls('sch-gantt-task-highlighted')}var d=a.getId()||a.internalId;if(b!==!1){this.dependencyStore.each(function(c){if(c.getSourceId()==d){this.highlightDependency(c.id);this.highlightTask(c.getTargetId(),b)}},this)}}},unhighlightTask:function(a,b){if(!(a instanceof Ext.data.Model)){a=this.taskStore.getById(a)}if(a){Ext.fly(this.getNode(a)).removeCls('sch-gantt-task-highlighted');var c=a.getId()||a.internalId;if(b!==!1){this.dependencyStore.each(function(d){if(d.getSourceId()==c){this.unhighlightDependency(d.id);this.unhighlightTask(d.getTargetId(),b)}},this)}}},clearSelectedTasksAndDependencies:function(){this.getSelectionModel().deselectAll();this.getDependencyView().clearSelectedDependencies();this.el.select('tr.sch-gantt-task-highlighted').removeCls('sch-gantt-task-highlighted')},getCriticalPaths:function(){return this.taskStore.getCriticalPaths()},highlightCriticalPaths:function(){this.clearSelectedTasksAndDependencies();var g=this.getCriticalPaths(),f=this.getDependencyView(),e=this.dependencyStore,b,a,c,d;Ext.each(g,function(g){for(a=0,c=g.length;a<c;a++){b=g[a];this.highlightTask(b,!1);if(a<c-1){d=e.getAt(e.findBy(function(c){return c.getTargetId()===(b.getId()||b.internalId)&&c.getSourceId()===(g[a+1].getId()||g[a+1].internalId)}));f.highlightDependency(d)}}},this);this.addCls('sch-gantt-critical-chain');this.getSelectionModel().setLocked(!0)},unhighlightCriticalPaths:function(){this.el.removeCls('sch-gantt-critical-chain');this.getSelectionModel().setLocked(!1);this.clearSelectedTasksAndDependencies()},getXOffset:function(b){var a=0;if(b.isMilestone()){a=this.milestoneOffset}else {if(!b.isLeaf()){a=this.parentTaskOffset}}return a},onDestroy:function(){if(this.dependencyView){this.dependencyView.destroy()}this.callParent(arguments)},highlightDependency:function(a){this.dependencyView.highlightDependency(a)},unhighlightDependency:function(a){this.dependencyView.unhighlightDependency(a)},onBeforeDependencyDrag:function(b,a){return this.fireEvent('beforedependencydrag',this,a)},onDependencyDragStart:function(a){this.fireEvent('dependencydragstart',this);if(this.tip){this.tip.disable()}},onDependencyDrop:function(d,b,a,c){this.fireEvent('dependencydrop',this,this.taskStore.getNodeById(b),this.taskStore.getById(a),c)},onAfterDependencyDragDrop:function(){this.fireEvent('afterdependencydragdrop',this);if(this.tip){this.tip.enable()}},onBeforeCascade:function(a,b){this.taskStore.un('update',this.onUpdate,this)},onCascade:function(a,b){this.taskStore.on('update',this.onUpdate,this)},onUpdate:function(d,b,c,a){if(a&&a.length===1&&a[0]==='expanded'){return}this.callParent(arguments)},getLeftEditor:function(){return this.leftLabelField.editor},getRightEditor:function(){return this.rightLabelField.editor},editLeftLabel:function(b){var a=this.leftLabelField&&this.getLeftEditor();if(a){a.edit(b)}},editRightLabel:function(b){var a=this.rightLabelField&&this.getRightEditor();if(a){a.edit(b)}},getOuterElementFromEventRecord:function(b){var a=this.callParent([b]);return a&&a.up(this.eventWrapSelector)||null},getDependenciesForTask:function(a){console.warn('`ganttPanel.getDependenciesForTask()` is deprecated, use `task.getAllDependencies()` instead');return a.getAllDependencies()},setNewTemplate:function(){var a=this,b=a.headerCt.getColumnsForTpl(!0);a.tpl=a.getTableChunker().getTableTpl({columns:[b[0]],features:a.features})}});Ext.define('Gnt.panel.Gantt',{extend:'Sch.panel.TimelineTreePanel',alias:['widget.ganttpanel'],alternateClassName:['Sch.gantt.GanttPanel'],requires:['Gnt.view.Gantt','Gnt.model.Dependency','Gnt.data.ResourceStore','Gnt.data.AssignmentStore','Gnt.feature.WorkingTime','Gnt.data.Calendar','Gnt.data.TaskStore','Gnt.data.DependencyStore'],uses:['Sch.plugin.CurrentTimeLine'],lockedXType:'treepanel',normalXType:'ganttpanel',viewType:'ganttview',syncRowHeight:!1,layout:'border',lightWeight:!0,leftLabelField:null,rightLabelField:null,highlightWeekends:!0,weekendsAreWorkdays:!1,skipWeekendsDuringDragDrop:!0,enableTaskDragDrop:!0,enableDependencyDragDrop:!0,enableProgressBarResize:!1,toggleParentTasksOnClick:!0,addRowOnTab:!0,recalculateParents:!0,cascadeChanges:!1,showTodayLine:!1,enableBaseline:!1,baselineVisible:!1,enableAnimations:!1,workingTimePlugin:null,todayLinePlugin:null,allowParentTaskMove:!1,enableDragCreation:!0,eventRenderer:Ext.emptyFn,eventRendererScope:null,eventTemplate:null,parentEventTemplate:null,milestoneTemplate:null,autoHeight:null,calendar:null,taskStore:null,dependencyStore:null,resourceStore:null,assignmentStore:null,columnLines:!1,dndValidatorFn:Ext.emptyFn,resizeHandles:'both',resizeValidatorFn:Ext.emptyFn,resizeConfig:null,dragDropConfig:null,initStores:function(){var a=Ext.StoreMgr.lookup(this.taskStore||this.store);if(!a){Ext.Error.raise('You must specify a taskStore config')}if(!(a instanceof Gnt.data.TaskStore)){Ext.Error.raise('A `taskStore` should be an instance of `Gnt.data.TaskStore` (or of a subclass)')}Ext.apply(this,{store:a,taskStore:a});var d=this.calendar=a.calendar;if(this.needToTranslateOption('weekendsAreWorkdays')){d.setWeekendsAreWorkDays(this.weekendsAreWorkdays)}if(a.dependencyStore){this.dependencyStore=a.dependencyStore}else {if(this.dependencyStore){this.dependencyStore=Ext.StoreMgr.lookup(this.dependencyStore);a.setDependencyStore(this.dependencyStore)}else {this.dependencyStore=Ext.create('Gnt.data.DependencyStore');a.setDependencyStore(this.dependencyStore)}}if(!(this.dependencyStore instanceof Gnt.data.DependencyStore)){Ext.Error.raise('The Gantt dependency store should be a Gnt.data.DependencyStore, or a subclass thereof.')}var b;if(a.getResourceStore()){b=a.getResourceStore()}else {if(this.resourceStore){b=Ext.StoreMgr.lookup(this.resourceStore)}else {b=Ext.create('Gnt.data.ResourceStore')}}if(!(b instanceof Gnt.data.ResourceStore)){Ext.Error.raise('A `ResourceStore` should be an instance of `Gnt.data.ResourceStore` (or of a subclass)')}var c;if(a.getAssignmentStore()){c=a.getAssignmentStore()}else {if(this.assignmentStore){c=Ext.StoreMgr.lookup(this.assignmentStore)}else {c=Ext.create('Gnt.data.AssignmentStore')}}if(!(c instanceof Gnt.data.AssignmentStore)){Ext.Error.raise('An `assignmentStore` should be an instance of `Gnt.data.AssignmentStore` (or of a subclass)')}if(this.lockable){this.bindAssignmentStore(c,!0);this.bindResourceStore(b,!0)}},initComponent:function(){if(Ext.isBoolean(this.showBaseline)){this.enableBaseline=this.baselineVisible=this.showBaseline;this.showBaseline=Gnt.panel.Gantt.prototype.showBaseline}this.autoHeight=!1;this.initStores();if(this.needToTranslateOption('cascadeChanges')){this.setCascadeChanges(this.cascadeChanges)}if(this.needToTranslateOption('recalculateParents')){this.setRecalculateParents(this.recalculateParents)}if(this.needToTranslateOption('skipWeekendsDuringDragDrop')){this.setSkipWeekendsDuringDragDrop(this.skipWeekendsDuringDragDrop)}if(this.lockable){this.lockedGridConfig=this.lockedGridConfig||{};Ext.apply(this.lockedGridConfig,{columnLines:!0,rowLines:!0});this.configureFunctionality()}this.callParent(arguments);var b=this.getSchedulingView();this.relayEvents(b,['taskclick','taskdblclick','taskcontextmenu','beforetaskresize','taskresizestart','partialtaskresize','aftertaskresize','beforeprogressbarresize','progressbarresizestart','afterprogressbarresize','beforetaskdrag','taskdragstart','taskdrop','aftertaskdrop','labeledit_beforestartedit','labeledit_beforecomplete','labeledit_complete','beforedependencydrag','dependencydragstart','dependencydrop','afterdependencydragdrop','dependencydblclick']);if(this.lockable){this.bodyCls=(this.bodyCls||'')+' sch-ganttpanel-container-body';b.store.calendar=this.calendar;this.fixSelectionModel();if(this.addRowOnTab){var a=this.lockedGrid,c=this.getSelectionModel();c.onEditorTab=Ext.Function.createInterceptor(c.onEditorTab,function(d,g){var e=a.view,c=d.getActiveRecord(),f=d.getActiveColumn(),b=e.getPosition(c,f);if(b.column===a.headerCt.getColumnCount()-1&&b.row===a.view.store.getCount()-1){c.addTaskBelow({leaf:!0})}})}}},needToTranslateOption:function(a){return this.hasOwnProperty(a)||this.self.prototype.hasOwnProperty(a)&&this.self!=Gnt.panel.Gantt},fixSelectionModel:function(){var b=this.getSelectionModel();var a=this.lockedGrid.getView();var c=this.normalGrid.getView();a.__lockedType='locked';c.__lockedType='normal';var f=a.onAdd;a.onAdd=function(){b.__preventUpdateOf='normal';f.apply(this,arguments);delete b.__preventUpdateOf};var e=c.onAdd;c.onAdd=function(){b.__preventUpdateOf='locked';e.apply(this,arguments);delete b.__preventUpdateOf};var d=a.store;a.bindStore(null);c.bindStore(null);a.bindStore(d);c.bindStore(d);Ext.apply(b,{onSelectChange:function(f,g,d,i){var a=this,e=a.views,j=e.length,k=a.store,c=k.indexOf(f),h=g?'select':'deselect',b=0;if((d||a.fireEvent('before'+h,a,f,c))!==!1&&i()!==!1){for(;b<j;b++){if(!this.__preventUpdateOf||e[b].__lockedType!=this.__preventUpdateOf){if(g){e[b].onRowSelect(c,d)}else {e[b].onRowDeselect(c,d)}}}if(!d){a.fireEvent(h,a,f,c)}}}})},getDependencyView:function(){return this.getSchedulingView().getDependencyView()},disableWeekendHighlighting:function(a){this.workingTimePlugin.setDisabled(a)},resolveTaskRecord:function(a){return this.getSchedulingView().resolveTaskRecord(a)},fitTimeColumns:function(){this.getSchedulingView().fitColumns()},getResourceStore:function(){return this.getTaskStore().getResourceStore()},getAssignmentStore:function(){return this.getTaskStore().getAssignmentStore()},getTaskStore:function(){return this.taskStore},getDependencyStore:function(){return this.dependencyStore},onDragDropStart:function(){if(this.tip){this.tip.hide();this.tip.disable()}},onDragDropEnd:function(){if(this.tip){this.tip.enable()}},configureFunctionality:function(){var a=this.plugins=[].concat(this.plugins||[]);if(this.highlightWeekends){this.workingTimePlugin=Ext.create('Gnt.feature.WorkingTime',{calendar:this.calendar});a.push(this.workingTimePlugin)}if(this.showTodayLine){this.todayLinePlugin=new Sch.plugin.CurrentTimeLine();a.push(this.todayLinePlugin)}},beforeRender:function(){if(this.lockable){var a=' sch-ganttpanel sch-horizontal ';if(this.highlightWeekends){a+=' sch-ganttpanel-highlightweekends '}this.addCls(a);if(this.baselineVisible){this.showBaseline()}}this.callParent(arguments)},afterRender:function(){this.callParent(arguments);if(this.lockable){this.applyPatches()}},showBaseline:function(){this.addCls('sch-ganttpanel-showbaseline')},hideBaseline:function(){this.removeCls('sch-ganttpanel-showbaseline')},toggleBaseline:function(){this.toggleCls('sch-ganttpanel-showbaseline')},zoomToFit:function(){var a=this.taskStore.getTotalTimeSpan();if(a.start&&a.end&&a.start<a.end){this.setTimeSpan(a.start,a.end);this.fitTimeColumns()}},getCascadeChanges:function(){return this.taskStore.cascadeChanges},setCascadeChanges:function(a){this.taskStore.cascadeChanges=a},getRecalculateParents:function(){return this.taskStore.recalculateParents},setRecalculateParents:function(a){this.taskStore.recalculateParents=a},setSkipWeekendsDuringDragDrop:function(a){this.taskStore.skipWeekendsDuringDragDrop=this.skipWeekendsDuringDragDrop=a},getSkipWeekendsDuringDragDrop:function(){return this.taskStore.skipWeekendsDuringDragDrop},applyPatches:function(){if(Ext.tree.plugin&&Ext.tree.plugin.TreeViewDragDrop){var a;Ext.each(this.lockedGrid.getView().plugins,function(b){if(b instanceof Ext.tree.plugin.TreeViewDragDrop){a=b;return !1}});if(!a||!a.dropZone){return}a.dropZone.handleNodeDrop=function(d,a,k){var g=this,m=g.view,f=a.parentNode,p=m.getStore(),n=[],i,b,h,e,c,l,j,o;if(d.copy){i=d.records;d.records=[];for(b=0,h=i.length;b<h;b++){d.records.push(Ext.apply({},i[b].data))}}g.cancelExpand();if(k=='before'){e=f.insertBefore;c=[null,a];a=f}else {if(k=='after'){if(a.nextSibling){e=f.insertBefore;c=[null,a.nextSibling]}else {e=f.appendChild;c=[null]}a=f}else {if(!a.isExpanded()){l=!0}e=a.appendChild;c=[null]}}j=function(){var f;for(b=0,h=d.records.length;b<h;b++){c[0]=d.records[b];c[0].isMove=!0;f=e.apply(a,c);delete c[0].isMove;if(Ext.enableFx&&g.dropHighlight){n.push(m.getNode(f))}}if(Ext.enableFx&&g.dropHighlight){Ext.Array.forEach(n,function(b){if(b){Ext.fly(b.firstChild?b.firstChild:b).highlight(g.dropHighlightColor)}})}};if(l){a.expand(!1,j)}else {j()}}}},bindResourceStore:function(b,c){var a=this;if(!c&&a.resourceStore){if(b!==a.resourceStore&&a.resourceStore.autoDestroy){a.resourceStore.destroy()}else {a.mun(a.resourceStore,{scope:a,datachanged:a.onResourceStoreDataChanged})}if(!b){a.resourceStore=null}}if(b){b=Ext.data.StoreManager.lookup(b);a.mon(b,{scope:a,datachanged:a.onResourceStoreDataChanged});this.taskStore.setResourceStore(b)}a.resourceStore=b;if(b&&!c){a.getView().refreshKeepingScroll()}},bindAssignmentStore:function(b,c){var a=this;if(!c&&a.assignmentStore){if(b!==a.assignmentStore&&a.assignmentStore.autoDestroy){a.assignmentStore.destroy()}else {a.mun(a.assignmentStore,{scope:a,datachanged:a.onAssignmentStoreDataChanged})}if(!b){a.assignmentStore=null}}if(b){b=Ext.data.StoreManager.lookup(b);a.mon(b,{scope:a,datachanged:a.onAssignmentStoreDataChanged});this.taskStore.setAssignmentStore(b)}a.assignmentStore=b;if(b&&!c){a.getView().refreshKeepingScroll()}},onResourceStoreDataChanged:function(){this.getView().refreshKeepingScroll()},onAssignmentStoreDataChanged:function(){this.getView().refreshKeepingScroll()}});Ext.define('Gnt.column.EndDate',{extend:'Ext.grid.column.Date',alias:'widget.enddatecolumn',requires:['Ext.grid.CellEditor'],text:'Finish',width:100,align:'left',task:null,editorFormat:null,constructor:function(a){a=a||{};var b=a.field||a.editor;delete a.field;delete a.editor;this.field=Ext.create('Ext.grid.CellEditor',{ignoreNoChange:!0,field:b||{xtype:'datefield',format:a.editorFormat||a.format||this.format||Ext.Date.defaultFormat},listeners:{beforecomplete:this.onBeforeEditComplete,scope:this}});this.callParent([a]);this.scope=this;this.renderer=a.renderer||this.rendererFunc;this.editorFormat=this.editorFormat||this.format},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.endDateField}this.callParent(arguments)},rendererFunc:function(a,c,b){if(!a){return}if(!b.isEditable(this.dataIndex)){c.tdCls=(c.tdCls||'')+' sch-column-readonly'}if(b.getEndDate()>b.getStartDate()&&a-Ext.Date.clearTime(a,!0)===0&&!Ext.Date.formatContainsHourInfo(this.format)){a=Sch.util.Date.add(a,Sch.util.Date.MILLI,-1)}return Ext.util.Format.date(a,this.format)},afterRender:function(){this.callParent(arguments);var a=this.ownerCt.up('treepanel');a.on({edit:this.onTreeEdit,beforeedit:this.onBeforeTreeEdit,scope:this})},onBeforeTreeEdit:function(a){if(a.column==this){a.doNotUpdateRecord=!0;var c=this.task=a.record;if(!c.isEditable(this.dataIndex)){return !1}if(c.getEndDate()>c.getStartDate()){var b=a.value;if(b-Ext.Date.clearTime(b,!0)===0&&!Ext.Date.formatContainsHourInfo(this.editorFormat)){b=Sch.util.Date.add(b,Sch.util.Date.MILLI,-1)}a.value=Ext.Date.parse(Ext.Date.format(b,this.editorFormat),this.editorFormat)}}},onBeforeEditComplete:function(c,a,b){if(this.task&&a<this.task.getStartDate()){return !1}},onTreeEdit:function(d,a){if(a.column===this&&a.value){var c=a.record;var b=a.value;if(!Ext.Date.formatContainsHourInfo(this.editorFormat)){b=c.getCalendar().getCalendarDay(b).getAvailabilityEndFor(b)||b}a.record.setEndDate(b,!1)}}});Ext.define('Gnt.column.PercentDone',{extend:'Ext.grid.column.Number',alias:'widget.percentdonecolumn',text:'% Done',width:50,format:'0',align:'center',field:{xtype:'numberfield',minValue:0,maxValue:100},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.percentDoneField}this.callParent(arguments)}});Ext.define('Gnt.column.StartDate',{extend:'Ext.grid.column.Date',alias:'widget.startdatecolumn',text:'Start',width:100,align:'left',editorFormat:null,constructor:function(a){a=a||{};var b=a.field||a.editor;delete a.field;delete a.editor;this.field=Ext.create('Ext.grid.CellEditor',{ignoreNoChange:!0,field:b||{xtype:'datefield',format:a.editorFormat||a.format||this.format||Ext.Date.defaultFormat}});this.callParent([a]);this.editorFormat=this.editorFormat||this.format},beforeRender:function(){var a=this.up('treepanel');if(!this.dataIndex){this.dataIndex=a.store.model.prototype.startDateField}this.callParent(arguments);a.on({edit:this.onTreeEdit,beforeedit:this.onBeforeTreeEdit,scope:this})},onBeforeTreeEdit:function(a){if(a.column==this){a.doNotUpdateRecord=!0;var c=a.record;if(!c.isEditable(this.dataIndex)){return !1}var b=a.value;if(b){a.value=Ext.Date.parse(Ext.Date.format(b,this.editorFormat),this.editorFormat)}}},onTreeEdit:function(d,a){var c=a.record;var b=a.value;if(a.column==this&&b&&b-a.originalValue!==0){c.setStartDate(b,!0,c.getTaskStore().skipWeekendsDuringDragDrop)}}});Ext.define('Gnt.column.WBS',{extend:'Ext.grid.column.Column',alias:'widget.wbscolumn',text:'#',width:40,align:'left',dataIndex:'index',renderer:function(f,g,a,h,e,d){var c=d.getRootNode(),b=[];while(a!==c){b.push(a.data.index+1);a=a.parentNode}return b.reverse().join('.')}});Ext.define('Gnt.column.SchedulingMode',{extend:'Ext.grid.column.Column',alias:'widget.schedulingmodecolumn',text:'Mode',width:100,align:'left',data:[['FixedDuration','Fixed duration'],['EffortDriven','Effort driven'],['DynamicAssignment','Dynamic assignment'],['Manual','Manual'],['Normal','Normal']],modeNames:null,pickerAlign:'tl-bl?',matchFieldWidth:!0,constructor:function(a){a=a||{};var c=a.field||a.editor;a.field=c||{xtype:'combo',editable:!1,store:this.data,pickerAlign:this.pickerAlign,matchFieldWidth:this.matchFieldWidth};var b=this.modeNames={};Ext.Array.each(this.data,function(c){b[c[0]]=c[1]});this.scope=this;this.callParent([a])},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.schedulingModeField}this.callParent(arguments)},renderer:function(a){return this.modeNames[a]},afterRender:function(){this.callParent(arguments);this.tree=this.ownerCt.up('treepanel');this.tree.on('edit',this.onTreeEdit,this)},onTreeEdit:function(b,a){if(a.column==this){a.record.setSchedulingMode(a.value)}}});Ext.define('Gnt.column.ResourceAssignment',{extend:'Ext.grid.column.Column',alias:'widget.resourceassignmentcolumn',text:'Assigned Resources',tdCls:'sch-assignment-cell',showUnits:!0,assignmentStore:null,initComponent:function(){this.formatString='{0}'+(this.showUnits?' [{1}%]':'');this.callParent(arguments)},afterRender:function(){this.scope=this;this.callParent(arguments);this.assignmentStore=this.getOwnerHeaderCt().up('ganttpanel').assignmentStore},renderer:function(j,m,e,h,l,k,i){var d=[],c=this.assignmentStore,a,g=e.getInternalId();if(c.resourceStore.getCount()>0){for(var b=0,f=c.getCount();b<f;b++){a=c.getAt(b);if(a.getTaskId()===g){d.push(Ext.String.format(this.formatString,a.getResourceName(),a.getUnits()))}}return d.join(', ')}}});Ext.define('Gnt.column.ResourceName',{extend:'Ext.grid.column.Column',alias:'widget.resourcenamecolumn',text:'Resource Name',dataIndex:'ResourceName',flex:1,align:'left'});Ext.define('Gnt.column.AssignmentUnits',{extend:'Ext.grid.column.Number',alias:'widget.assignmentunitscolumn',text:'Units',dataIndex:'Units',format:'0 %',align:'left'});Ext.define('Gnt.widget.AssignmentGrid',{requires:['Gnt.model.Resource','Gnt.model.Assignment','Gnt.column.ResourceName','Gnt.column.AssignmentUnits','Ext.grid.plugin.CellEditing'],extend:'Ext.grid.Panel',alias:'widget.assignmentgrid',readOnly:!1,cls:'gnt-assignmentgrid',defaultAssignedUnits:100,sorter:{sorterFn:function(c,b){var a=c.getUnits(),d=b.getUnits();if(!a&&!d||a&&d){return c.get('ResourceName')<b.get('ResourceName')?-1:1}return a?-1:1}},constructor:function(a){this.store=Ext.create('Ext.data.JsonStore',{model:Ext.define('Gnt.model.AssignmentEditing',{extend:'Gnt.model.Assignment',fields:['ResourceName']})});this.columns=this.buildColumns();if(!this.readOnly){this.plugins=this.buildPlugins()}Ext.apply(this,{selModel:{selType:'checkboxmodel',mode:'MULTI',checkOnly:!0,selectByPosition:function(b){var c=this.store.getAt(b.row);this.select(c,!0)}}});this.callParent(arguments)},initComponent:function(){this.loadResources();this.resourceStore.on({datachanged:this.loadResources,scope:this});this.getSelectionModel().on('select',this.onSelect,this,{delay:50});this.callParent(arguments)},onSelect:function(b,a){if((!this.cellEditing||!this.cellEditing.getActiveEditor())&&!a.getUnits()){a.setUnits(this.defaultAssignedUnits)}},loadResources:function(){var d=[],a=this.resourceStore,c;for(var b=0,e=a.getCount();b<e;b++){c=a.getAt(b).getId();d.push({ResourceId:c,ResourceName:a.getById(c).getName()})}this.store.loadData(d)},buildPlugins:function(){var a=this.cellEditing=Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1});a.on('edit',this.onEditingDone,this);return [a]},onEditingDone:function(b,a){if(a.value){this.getSelectionModel().select(a.record,!0)}else {this.getSelectionModel().deselect(a.record);a.record.reject()}},buildColumns:function(){return [{xtype:'resourcenamecolumn',resourceStore:this.resourceStore},{xtype:'assignmentunitscolumn',assignmentStore:this.assignmentStore,editor:{xtype:'numberfield',minValue:0,step:10}}]},loadTaskAssignments:function(e){var a=this.store,c=this.getSelectionModel();c.deselectAll(!0);for(var b=0,d=a.getCount();b<d;b++){a.getAt(b).data.Units='';a.getAt(b).data.Id=null}a.suspendEvents();var f=this.assignmentStore.queryBy(function(a){return a.getTaskId()===e});f.each(function(d){var b=a.findRecord('ResourceId',d.getResourceId(),0,!1,!0,!0);if(b){b.setUnits(d.getUnits());b.set(b.idProperty,d.getId());c.select(b,!0,!0)}});a.resumeEvents();a.sort(this.sorter);this.getView().refresh()}});Ext.define('Gnt.widget.AssignmentField',{extend:'Ext.form.field.Picker',alias:'widget.assignmenteditor',requires:['Gnt.widget.AssignmentGrid'],matchFieldWidth:!1,editable:!1,cancelText:'Cancel',closeText:'Save and Close',assignmentStore:null,resourceStore:null,gridConfig:null,createPicker:function(){var a=new Gnt.widget.AssignmentGrid(Ext.apply({ownerCt:this.ownerCt,renderTo:document.body,frame:!0,floating:!0,hidden:!0,height:200,width:300,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,fbar:this.buildButtons()},this.gridConfig||{}));return a},buildButtons:function(){return ['->',{text:this.closeText,handler:function(){Ext.Function.defer(this.onGridClose,Ext.isIE&&!Ext.isIE9?60:30,this)},scope:this},{text:this.cancelText,handler:this.collapse,scope:this}]},onExpand:function(){var b=this.resourceStore,a=this.picker;a.loadTaskAssignments(this.taskId)},onGridClose:function(){var b=this.picker.getSelectionModel(),a=b.selected;this.fireEvent('select',this,a);this.collapse()},collapseIf:function(a){var b=this;if(this.picker&&!a.getTarget('.x-editor')&&!a.getTarget('.x-menu-item')){b.callParent(arguments)}}});Ext.define('Gnt.widget.AssignmentCellEditor',{extend:'Ext.grid.CellEditor',requires:['Gnt.model.Assignment','Gnt.widget.AssignmentField'],assignmentStore:null,resourceStore:null,taskId:null,fieldConfig:null,allowBlur:!1,constructor:function(a){a=a||{};var b=a.fieldConfig||{};this.field=Ext.create('Gnt.widget.AssignmentField',Ext.apply(b,{assignmentStore:a.assignmentStore,resourceStore:a.resourceStore}));this.field.on({select:this.onSelect,collapse:this.cancelEdit,scope:this});this.callParent(arguments)},startEdit:function(b,d,c){this.parentEl=null;var a=b.child('div').dom.innerHTML;this.taskId=this.field.taskId=c.record.getInternalId();this.callParent([b,a==='&nbsp;'?'':a]);this.field.expand()},onSelect:function(g,f){var a=this.assignmentStore,e=this.taskId;var b={};var d=[];f.each(function(i){var h=i.getUnits();if(h>0){var j=i.getId();if(j){b[j]=!0;a.getById(j).setUnits(h)}else {var c=Ext.create(a.model);c.setTaskId(e);c.setResourceId(i.getResourceId());c.setUnits(h);b[c.internalId]=!0;d.push(c)}}});var c=[];a.each(function(a){if(a.getTaskId()===e&&!b[a.getId()||a.internalId]){c.push(a)}});a.remove(c);a.add(d);this.completeEdit()}});Ext.define('Gnt.widget.DurationField',{extend:'Ext.form.field.Number',alias:'widget.durationfield',alternateClassName:'Gnt.column.duration.Field',disableKeyFilter:!0,minValue:0,durationRegex:/(-?\d+(?:[.,]\d+)?)\s*(\w+)?/i,unitsRegex:{MILLI:/^ms$|^mil/i,SECOND:/^s$|^sec/i,MINUTE:/^m$|^min/i,HOUR:/^h$|^hr$|^hour/i,DAY:/^d$|^day/i,WEEK:/^w$|^wk|^week/i,MONTH:/^mo|^mnt/i,QUARTER:/^q$|^quar|^qrt/i,YEAR:/^y$|^yr|^year/i},durationUnit:'h',useAbbreviation:!1,rawToValue:function(b){var a=this.parseDuration(b);if(!a){return null}this.durationUnit=a.unit;return a.value!=null?a.value:null},valueToRaw:function(a){if(Ext.isNumber(a)){return parseFloat(Ext.Number.toFixed(a,this.decimalPrecision))+' '+Sch.util.Date[this.useAbbreviation?'getShortNameOfUnit':'getReadableNameOfUnit'](this.durationUnit,a>1)}return ''},parseDuration:function(a){if(a==null||!this.durationRegex.test(a)){return null}var b=this.durationRegex.exec(a);var e=this.parseValue(b[1]);var c=b[2];var d;if(c){Ext.iterate(this.unitsRegex,function(b,e){if(e.test(c)){d=Sch.util.Date.getUnitByName(b);return !1}})}return {value:e,unit:d||this.durationUnit}},getDurationValue:function(){return this.parseDuration(this.getRawValue())},getErrors:function(b){var a=this.parseDuration(b);if(!a){return ['Invalid number format']}return this.callParent([a.value])}});Ext.define('Gnt.widget.DurationEditor',{extend:'Ext.grid.CellEditor',alias:['widget.durationeditor','widget.durationcolumneditor'],alternateClassName:'Gnt.column.duration.Editor',context:null,decimalPrecision:2,getDurationUnitMethod:'getDurationUnit',setDurationMethod:'setDuration',useAbbreviation:!1,constructor:function(a){a=a||{};Ext.apply(this,a);a.field=a.field||Ext.create('Gnt.widget.DurationField',{useAbbreviation:this.useAbbreviation,decimalPrecision:this.decimalPrecision});this.callParent([a])},startEdit:function(c,b,a){this.context=a;this.field.durationUnit=a.record[this.getDurationUnitMethod]();return this.callParent(arguments)},completeEdit:function(c){var a=this,d=a.field,b;if(!a.editing){return}if(d.assertValue){d.assertValue()}b=a.getValue();if(!d.isValid()){if(a.revertInvalid!==!1){a.cancelEdit(c)}return}if(String(b)===String(a.startValue)&&a.ignoreNoChange){a.hideEdit(c);return}if(a.fireEvent('beforecomplete',a,b,a.startValue)!==!1){b=a.getValue();if(a.updateEl&&a.boundEl){a.boundEl.update(b)}a.hideEdit(c);var g=this.context;var f=g.record;var e=this.field.getDurationValue();f[this.setDurationMethod](e.value,e.unit);a.fireEvent('complete',a,b,a.startValue)}}});Ext.define('Gnt.column.Duration',{extend:'Ext.grid.column.Column',alias:'widget.durationcolumn',requires:['Gnt.widget.DurationField','Gnt.widget.DurationEditor'],text:'Duration',width:80,align:'left',decimalPrecision:2,getDurationUnitMethod:'getDurationUnit',setDurationMethod:'setDuration',useAbbreviation:!1,constructor:function(a){a=a||{};Ext.apply(this,a);a.editor=a.editor||Ext.create('Gnt.widget.DurationEditor',{useAbbreviation:this.useAbbreviation,decimalPrecision:this.decimalPrecision,getDurationUnitMethod:this.getDurationUnitMethod,setDurationMethod:this.setDurationMethod});if(!a.editor.isFormField){a.editor=Ext.ComponentManager.create(a.editor,'durationcolumneditor')}this.scope=this;this.callParent([a]);this.mon(this.editor,'beforestartedit',this.onBeforeStartEdit,this)},beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.durationField}this.callParent(arguments)},onBeforeStartEdit:function(b){var a=b.context.record;return a.isEditable(this.dataIndex)},renderer:function(a,c,b){if(!Ext.isNumber(a)){return ''}if(!b.isEditable(this.dataIndex)){c.tdCls=(c.tdCls||'')+' sch-column-readonly'}a=parseFloat(Ext.Number.toFixed(a,this.decimalPrecision));return a+' '+Sch.util.Date[this.useAbbreviation?'getShortNameOfUnit':'getReadableNameOfUnit'](b[this.getDurationUnitMethod](),a>1)}});Ext.define('Gnt.column.Effort',{extend:'Gnt.column.Duration',alias:'widget.effortcolumn',header:'Effort',getDurationUnitMethod:'getEffortUnit',setDurationMethod:'setEffort',beforeRender:function(){if(!this.dataIndex){var a=this.up('treepanel');this.dataIndex=a.store.model.prototype.effortField}this.callParent(arguments)}});Ext.define('Gnt.widget.Calendar',{extend:'Ext.picker.Date',alias:'widget.ganttcalendar',requires:['Gnt.data.Calendar','Sch.util.Date'],calendar:null,startDate:null,endDate:null,disabledDatesText:'Holiday',initComponent:function(){if(!this.calendar){Ext.Error.raise('Required attribute "calendar" missing during initialization of `Gnt.widget.Calendar`')}if(!this.startDate){Ext.Error.raise('Required attribute "startDate" missing during initialization of `Gnt.widget.Calendar`')}if(!this.endDate){this.endDate=Sch.util.Date.add(this.startDate,Sch.util.Date.MONTH,1)}this.setCalendar(this.calendar);this.minDate=this.value=this.startDate;this.injectDates();this.callParent(arguments)},injectDates:function(){var a=this;var b=a.disabledDates=[];Ext.each(a.calendar.getHolidaysRanges(a.startDate,a.endDate),function(c){c.forEachDate(function(d){b.push(Ext.Date.format(d,a.format))})});a.setDisabledDates(b)},setCalendar:function(b){var a={update:this.injectDates,remove:this.injectDates,add:this.injectDates,load:this.injectDates,clear:this.injectDates,scope:this};if(this.calendar){this.calendar.un(a)}this.calendar=b;b.on(a)}});Ext.define('Gnt.widget.calendar.DayGrid',{extend:'Ext.grid.Panel',title:'Day overrides',height:180,nameText:'Name',dateText:'Date',noNameText:'[Day override]',initComponent:function(){Ext.applyIf(this,{store:Ext.create('Gnt.data.Calendar',{proxy:'memory'}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],columns:[{header:this.nameText,dataIndex:'Name',flex:1,editor:{allowBlank:!1}},{header:this.dateText,dataIndex:'Date',width:100,xtype:'datecolumn',editor:{xtype:'datefield'}}]});this.callParent(arguments)}});Ext.define('Gnt.widget.calendar.WeekGrid',{extend:'Ext.grid.Panel',requires:['Gnt.model.WeekAvailability'],title:'Week overrides',border:!0,height:220,nameText:'Name',startDateText:'Start date',endDateText:'End date',initComponent:function(){Ext.applyIf(this,{store:Ext.create('Ext.data.Store',{model:'Gnt.model.WeekAvailability',proxy:'memory'})});Ext.applyIf(this,{columns:[{header:this.nameText,dataIndex:this.store.model.prototype.nameField,flex:1,editor:{allowBlank:!1}},{header:this.startDateText,dataIndex:this.store.model.prototype.startDateField,width:100,xtype:'datecolumn',editor:{xtype:'datefield'}},{header:this.endDateText,dataIndex:this.store.model.prototype.endDateField,width:100,xtype:'datecolumn',editor:{xtype:'datefield'}}],plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});this.callParent(arguments)}});Ext.define('Gnt.widget.calendar.ResourceCalendarGrid',{extend:'Ext.grid.Panel',requires:['Gnt.data.Calendar','Sch.util.Date'],alias:'widget.resourcecalendargrid',resourceStore:null,calendarStore:null,initComponent:function(){var a=this;this.calendarStore=this.calendarStore||Ext.create('Ext.data.Store',{fields:['Id','Name']});Ext.apply(a,{store:a.resourceStore,columns:[{header:'Name',dataIndex:'Name',flex:1},{header:'Calendar',dataIndex:'CalendarId',flex:1,renderer:function(b,i,e,h,g,f){if(!b){var c=e.getCalendar();b=c?c.calendarId:''}var d=a.calendarStore.getById(b);return d?d.get('Name'):b},editor:{xtype:'combobox',store:a.calendarStore,queryMode:'local',displayField:'Name',valueField:'Id',editable:!1,allowBlank:!1}}],border:!0,height:180,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});this.calendarStore.loadData(this.getCalendarData());this.callParent(arguments)},getCalendarData:function(){var a=[];Ext.Array.each(Gnt.data.Calendar.getAllCalendars(),function(b){a.push({Id:b.calendarId,Name:b.name||b.calendarId})});return a}});Ext.define('Gnt.widget.calendar.DayAvailabilityGrid',{extend:'Ext.grid.Panel',requires:['Gnt.data.Calendar','Sch.util.Date'],alias:'widget.dayavailabilitygrid',height:160,calendarDay:null,startText:'Start',endText:'End',addText:'Add',removeText:'Remove',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',getDayTypeRadioGroup:function(){return this.down('radiogroup[name="dayType"]')},initComponent:function(){Ext.applyIf(this,{store:Ext.create('Ext.data.Store',{fields:['startTime','endTime'],proxy:{type:'memory',reader:{type:'json'}}}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],dockedItems:[{xtype:'radiogroup',dock:'top',name:'dayType',padding:'0 5px',margin:0,items:[{boxLabel:this.workingTimeText,name:'IsWorkingDay',inputValue:!0},{boxLabel:this.nonworkingTimeText,name:'IsWorkingDay',inputValue:!1}],listeners:{change:this.onDayTypeChanged,scope:this}}],tbar:this.buildToolbar(),columns:[{header:this.startText,xtype:'datecolumn',format:'g:i a',dataIndex:'startTime',flex:1,editor:{xtype:'timefield',allowBlank:!1,initDate:'31/12/1899'}},{header:this.endText,xtype:'datecolumn',format:'g:i a',dataIndex:'endTime',flex:1,editor:{allowBlank:!1,xtype:'timefield',initDate:'31/12/1899'}}],listeners:{selectionchange:this.onAvailabilityGridSelectionChange,scope:this}});this.callParent(arguments)},buildToolbar:function(){this.addButton=new Ext.Button({text:this.addText,iconCls:'gnt-action-add',handler:this.addAvailability,scope:this});this.removeButton=new Ext.Button({text:this.removeText,iconCls:'gnt-action-remove',handler:this.removeAvailability,scope:this,disabled:!0});return [this.addButton,this.removeButton]},onAvailabilityGridSelectionChange:function(a){if(this.removeButton){this.removeButton.setDisabled(!a||a.getSelection().length===0)}},onDayTypeChanged:function(b){var a=b.getValue();if(Ext.isArray(a.IsWorkingDay)){return}this.getView().setDisabled(!a.IsWorkingDay)},addAvailability:function(){var a=this.getStore(),b=a.count();if(b>=5){return}a.add({startTime:new Date(0,0,0,12,0),endTime:new Date(0,0,0,13,0)});if(b+1>=5&&this.addButton){this.addButton.setDisabled(!0)}},removeAvailability:function(){var b=this.getStore(),d=b.count(),a=this.getSelectionModel();if(!a||a.getSelection().length===0){return}var c=a.getSelection()[0];b.remove(c);if(d<5&&this.addButton){this.addButton.setDisabled(!1)}},editAvailability:function(a){this.calendarDay=a;this.getDayTypeRadioGroup().setValue({IsWorkingDay:a.getIsWorkingDay()});var b=this.calendarDay.getAvailability();this.getStore().loadData(b)},isWorkingDay:function(){return this.getDayTypeRadioGroup().getValue().IsWorkingDay},isValid:function(){var b=this.getDayTypeRadioGroup().getValue().IsWorkingDay,a=[];if(b){try{a=this.getIntervals();this.calendarDay.verifyAvailability(a)}catch(c){Ext.MessageBox.alert('Error',c);return !1}}return !0},getIntervals:function(){var a=[];this.getStore().each(function(b){a.push({startTime:b.get('startTime'),endTime:b.get('endTime')})});return a}});Ext.define('Gnt.widget.calendar.WeekEditor',{extend:'Ext.form.Panel',requires:['Ext.grid.*','Gnt.data.Calendar','Sch.util.Date'],alias:'widget.calendarweekeditor',layout:'anchor',defaults:{border:!1,anchor:'100%'},getDefaultWeekAvailabilityHandler:null,startDate:null,endDate:null,startHeaderText:'Start',endHeaderText:'End',defaultTimeText:'Default time',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',addText:'Add',removeText:'Remove',weekAvailability:null,currentWeekDay:null,_weekDaysGrid:null,getWeekDaysGrid:function(){if(this._weekDaysGrid!=null){return this._weekDaysGrid}var a=Ext.Date.dayNames;return this._weekDaysGrid=Ext.create('Ext.grid.Panel',{hideHeaders:!0,height:160,columns:[{header:'',dataIndex:'name',flex:1}],store:Ext.create('Ext.data.JsonStore',{fields:['id','name'],idProperty:'id',data:[{id:1,name:a[1]},{id:2,name:a[2]},{id:3,name:a[3]},{id:4,name:a[4]},{id:5,name:a[5]},{id:6,name:a[6]},{id:0,name:a[0]}]}),listeners:{selectionchange:{fn:this.onWeekDaysListSelectionChange,scope:this}}})},_availabilityGrid:null,getAvailabilityGrid:function(){if(!this._availabilityGrid){this._availabilityGrid=Ext.create('Ext.grid.Panel',{height:160,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})],tbar:[{text:this.addText,action:'add',handler:this.addAvailability,scope:this,iconCls:'gnt-action-add'},{text:this.removeText,iconCls:'gnt-action-remove',action:'remove',handler:this.removeAvailability,scope:this}],store:Ext.create('Ext.data.Store',{fields:['startTime','endTime'],proxy:{type:'memory',reader:{type:'json'}}}),columns:[{header:this.startHeaderText,xtype:'datecolumn',format:'g:i a',dataIndex:'startTime',flex:1,editor:{xtype:'timefield',allowBlank:!1,initDate:'31/12/1899'}},{header:this.endHeaderText,xtype:'datecolumn',format:'g:i a',dataIndex:'endTime',flex:1,editor:{allowBlank:!1,xtype:'timefield',initDate:'31/12/1899'}}],listeners:{selectionchange:this.onAvailabilityGridSelectionChange,scope:this}})}return this._availabilityGrid},getDayTypeRadioGroup:function(){return this.down('radiogroup[name="dayType"]')},initComponent:function(){if(!this.getDefaultWeekAvailabilityHandler&&!Ext.isFunction(this.getDefaultWeekAvailabilityHandler)){Ext.Error.raise('Required attribute "getDefaultWeekAvailabilityHandler" is missed during initialization of `Gnt.widget.calendar.WeekEditor`')}this.items=[{xtype:'radiogroup',padding:'0 5px',name:'dayType',items:[{boxLabel:this.defaultTimeText,name:'IsWorkingDay',inputValue:0},{boxLabel:this.workingTimeText,name:'IsWorkingDay',inputValue:1},{boxLabel:this.nonworkingTimeText,name:'IsWorkingDay',inputValue:2}],listeners:{change:{fn:this.onDayTypeChanged,scope:this}}},{layout:'column',padding:'0 0 5px 0',defaults:{border:!1},items:[{margin:'0 10px 0 5px',columnWidth:0.5,items:this.getWeekDaysGrid()},{columnWidth:0.5,margin:'0 5px 0 0',items:this.getAvailabilityGrid()}]}];this.callParent(arguments)},addAvailability:function(){var b=this.getAvailabilityGrid(),a=b.getStore(),c=a.count();if(c>=5){return}a.add({startTime:new Date(0,0,0,12,0),endTime:new Date(0,0,0,13,0)});if(c+1>=5){b.down('button[action="add"]').setDisabled(!0)}},removeAvailability:function(){var a=this.getAvailabilityGrid(),c=a.getStore(),e=c.count(),b=a.getSelectionModel();if(!b||b.getSelection().length===0){return}var d=b.getSelection()[0];c.remove(d);if(e<5){a.down('button[action="add"]').setDisabled(!1)}},editAvailability:function(d,e,c){this.startDate=d;this.endDate=e;this.weekAvailability=c;var a=this.getWeekDaysGrid(),b=a.getStore().getAt(0);a.getSelectionModel().select(b,!1,!0);this.refreshView(b)},applyChanges:function(a){if(!this.validateAndSave()){return !1}if(a&&Ext.isFunction(a)){a.call(this,this.weekAvailability)}},getIntervals:function(){var a=[];this.getAvailabilityGrid().getStore().each(function(b){a.push({startTime:b.get('startTime'),endTime:b.get('endTime')})});return a},onWeekDaysListSelectionChange:function(b,a){if(!this.validateAndSave()){return !1}this.refreshView(a[0])},validateAndSave:function(){var b=this.currentWeekDay.get('IsWorkingDay'),a=[];if(b){try{a=this.getIntervals();this.currentWeekDay.verifyAvailability(a)}catch(c){Ext.MessageBox.alert('Error',c);return !1}}this.currentWeekDay.setAvailability(a);return !0},refreshView:function(d){var g=d.getId(),a=this.weekAvailability[g],f=this.getDayTypeRadioGroup(),e=a.getAvailability(),c=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(a.getId()),b=!c?0:a.get('IsWorkingDay')?1:2;this.currentWeekDay=a;f.setValue({IsWorkingDay:[b]});this.getAvailabilityGrid().getStore().loadData(e)},onAvailabilityGridSelectionChange:function(a){var b=this.getAvailabilityGrid();b.down('button[action="remove"]').setDisabled(!a||a.getSelection().length===0)},onDayTypeChanged:function(h){var b=h.getValue();if(Ext.isArray(b.IsWorkingDay)){return}var e=this.getWeekDaysGrid(),f=e.getSelectionModel(),a=f.getSelection()[0].getId(),g=this.weekAvailability[a].get('Name'),d=[],i=Ext.Date.format(this.startDate,'Y/m/d'),j=Ext.Date.format(this.endDate,'Y/m/d');switch(b.IsWorkingDay){case 0:var c=this.getDefaultWeekAvailabilityHandler()[a];c.set('Name',g);c.set('Date',null);d=c.getAvailability();this.weekAvailability[a]=c;break;default:d=this.weekAvailability[a].getAvailability();this.currentWeekDay.set('Id',Ext.String.format('{0}-{1}-{2}',a,i,j));this.currentWeekDay.set('IsWorkingDay',b.IsWorkingDay===1);break;}this.getAvailabilityGrid().getStore().loadData(Ext.clone(d));this.getAvailabilityGrid().setDisabled(b.IsWorkingDay!==1)}});Ext.define('Gnt.widget.calendar.DatePicker',{extend:'Ext.picker.Date',alias:'widget.gntdatepicker',calendar:null,workingDayCls:'gnt-datepicker-workingday',nonWorkingDayCls:'gnt-datepicker-nonworkingday',overriddenDayCls:'gnt-datepicker-overriddenday',overriddenWeekDayCls:'gnt-datepicker-overriddenweekday',_weeks:null,getWeekOverrides:function(){return this._weeks},setWeekOverrides:function(a){this._weeks=a},_days:null,getDayOverrides:function(){return this._days},setDayOverrides:function(a){this._days=a},update:function(c,e){var d=this,a=0,b=d.cells.elements;this.removeCustomCls();this.callParent(arguments);for(;a<d.numDays;++a){c=b[a].firstChild.dateValue;b[a].className+=' '+this.getDateCls(c)}},getDateCls:function(a){var b='',g=0,f=this;a=new Date(a);if(a.getMonth()!==this.getActive().getMonth()){return}if(this.getDayOverrides().getOverrideDay(a)){b+=' '+this.overriddenDayCls;if(!this.getDayOverrides().isWorkingDay(a)){b+=' '+this.nonWorkingDayCls}}else {var d=null;this.getWeekOverrides().each(function(b){if(Ext.Date.between(a,b.getStartDate(),b.getEndDate())){d=b;return !0}});if(d){b+=' '+this.overriddenWeekDayCls;var e=(new Date(a)).getDay(),c=d.getAvailability();if(c&&c[e]&&c[e].getIsWorkingDay()===!1){b+=' '+f.nonWorkingDayCls}}else {if(!this.getDayOverrides().isWorkingDay(a)){b+=' '+this.nonWorkingDayCls}}}return b.length>0?b:this.workingDayCls},removeCustomCls:function(){this.cells.removeCls([this.overriddenDayCls,this.nonWorkingDayCls,this.workingDayCls,this.overriddenWeekDayCls])}});Ext.define('Gnt.widget.calendar.Calendar',{extend:'Ext.form.Panel',requires:['Ext.XTemplate','Gnt.data.Calendar','Gnt.widget.calendar.DayGrid','Gnt.widget.calendar.WeekGrid','Gnt.widget.calendar.DayAvailabilityGrid','Gnt.widget.calendar.WeekEditor','Gnt.widget.calendar.DatePicker'],alias:'widget.calendar',defaults:{padding:10,border:!1},workingDayCls:'gnt-datepicker-workingday',nonWorkingDayCls:'gnt-datepicker-nonworkingday',overriddenDayCls:'gnt-datepicker-overriddenday',overriddenWeekDayCls:'gnt-datepicker-overriddenweekday',calendar:null,dayOverrideNameHeaderText:'Name',dateText:'Date',addText:'Add',editText:'Edit',removeText:'Remove',workingDayText:'Working day',weekendsText:'Weekends',overriddenDayText:'Overridden day',overriddenWeekText:'Overridden week',defaultTimeText:'Default time',workingTimeText:'Working time',nonworkingTimeText:'Non-working time',dayGridConfig:null,weekGridConfig:null,datePickerConfig:null,dayOverridesText:'Day overrides',weekOverridesText:'Week overrides',okText:'OK',cancelText:'Cancel',dayGrid:null,weekGrid:null,getDayGrid:function(){if(!this.dayGrid){this.dayGrid=Ext.create('Gnt.widget.calendar.DayGrid',Ext.apply({tbar:[{text:this.addText,action:'add',iconCls:'gnt-action-add',handler:this.addDay,scope:this},{text:this.editText,action:'edit',iconCls:'gnt-action-edit',handler:this.editDay,scope:this},{text:this.removeText,action:'remove',iconCls:'gnt-action-remove',handler:this.removeDay,scope:this}]},this.dayGridConfig||{}))}return this.dayGrid},getWeekGrid:function(){if(!this.weekGrid){this.weekGrid=Ext.create('Gnt.widget.calendar.WeekGrid',Ext.apply({tbar:[{text:this.addText,action:'add',iconCls:'gnt-action-add',handler:this.addWeek,scope:this},{text:this.editText,action:'edit',iconCls:'gnt-action-edit',handler:this.editWeek,scope:this},{text:this.removeText,action:'remove',iconCls:'gnt-action-remove',handler:this.removeWeek,scope:this}]},this.weekGridConfig||{}))}return this.weekGrid},datePicker:null,getDatePicker:function(){if(!this.datePicker){this.datePicker=Ext.create('Gnt.widget.calendar.DatePicker',this.datePickerConfig||{})}return this.datePicker},legendTpl:'<ul class="gnt-calendar-legend"><li class="gnt-calendar-legend-item"><div class="gnt-calendar-legend-itemstyle {workingDayCls}"></div><span class="gnt-calendar-legend-itemname">{workingDayText}</span><div style="clear: both"></div></li><li><div class="gnt-calendar-legend-itemstyle {nonWorkingDayCls}"></div><span class="gnt-calendar-legend-itemname">{weekendsText}</span><div style="clear: both"></div></li><li class="gnt-calendar-legend-override"><div class="gnt-calendar-legend-itemstyle {overriddenDayCls}">31</div><span class="gnt-calendar-legend-itemname">{overriddenDayText}</span><div style="clear: both"></div></li><li class="gnt-calendar-legend-override"><div class="gnt-calendar-legend-itemstyle {overriddenWeekDayCls}">31</div><span class="gnt-calendar-legend-itemname">{overriddenWeekText}</span><div style="clear: both"></div></li></ul>',dateInfoTpl:'<tpl if="isWorkingDay == true"><div>Working hours for {date}:</div></tpl><tpl if="isWorkingDay == false"><div>{date} is non-working</div></tpl><ul class="gnt-calendar-availabilities"><tpl for="availability"><li>{.}</li></tpl></ul><span>Based on: <tpl if="override == true">override "{name}" in calendar "{calendarName}"</tpl><tpl if="override == false">standard day in calendar "{calendarName}"</tpl></span>',initComponent:function(){var b=this;if(!(this.legendTpl instanceof Ext.Template)){this.legendTpl=new Ext.XTemplate(this.legendTpl)}if(!(this.dateInfoTpl instanceof Ext.Template)){this.dateInfoTpl=new Ext.XTemplate(this.dateInfoTpl)}if(!this.calendar){Ext.Error.raise('Required attribute "calendar" is missed during initialization of `Gnt.widget.Calendar`')}var d=this.getWeekGrid(),c=this.getDayGrid(),a=this.getDatePicker();this.dayGrid.on({selectionchange:this.onDayGridSelectionChange,validateedit:this.onDayGridValidateEdit,edit:this.onDayGridEdit,scope:this});this.dayGrid.store.on({update:this.refreshView,remove:this.refreshView,add:this.refreshView,scope:this});this.weekGrid.on({selectionchange:this.onWeekGridSelectionChange,validateedit:this.onWeekGridValidateEdit,edit:this.onWeekGridEdit,scope:this});this.weekGrid.store.on({update:this.refreshView,remove:this.refreshView,add:this.refreshView,scope:this});this.datePicker.on({select:this.onDateSelect,scope:this});this.fillDaysStore();this.fillWeeksStore();a.setWeekOverrides(d.getStore());a.setDayOverrides(c.getStore());this.dateInfoPanel=new Ext.Panel({cls:'gnt-calendar-dateinfo',columnWidth:0.33,border:!1,height:200});this.items=[{xtype:'container',layout:'hbox',pack:'start',align:'stretch',items:[{html:Ext.String.format('Calendar name: "{0}"',this.calendar.name),border:!1,flex:1},{xtype:'combobox',name:'cmb_parentCalendar',fieldLabel:'Parent calendar',store:Ext.create('Ext.data.Store',{fields:['Id','Name'],data:[{Id:-1,Name:'No parent'}].concat(b.calendar.getParentableCalendars())}),queryMode:'local',displayField:'Name',valueField:'Id',editable:!1,emptyText:'Select parent',value:b.calendar.parent?b.calendar.parent.calendarId:-1,flex:1}]},{layout:'column',defaults:{border:!1},items:[{margin:'0 15px 0 0',columnWidth:0.3,html:this.legendTpl.apply({workingDayText:this.workingDayText,weekendsText:this.weekendsText,overriddenDayText:this.overriddenDayText,overriddenWeekText:this.overriddenWeekText,workingDayCls:this.workingDayCls,nonWorkingDayCls:this.nonWorkingDayCls,overriddenDayCls:this.overriddenDayCls,overriddenWeekDayCls:this.overriddenWeekDayCls})},{columnWidth:0.37,margin:'0 5px 0 0',items:a},this.dateInfoPanel]},{xtype:'tabpanel',items:[c,d]}];this.callParent(arguments)},onRender:function(){this.onDateSelect(this.getDatePicker(),new Date());this.callParent(arguments)},fillDaysStore:function(){var a=[];this.calendar.each(function(b){if(!b.getDate()){return}a.push(Ext.create('Gnt.model.CalendarDay',{Date:b.getDate(),Id:b.getId(),Name:b.getName(),IsWorkingDay:b.getIsWorkingDay(),Availability:b.getAvailability()}))});this.getDayGrid().getStore().loadData(a)},fillWeeksStore:function(){var c=[],b=this,a=this.getWeekGrid().store.model.prototype;Ext.Array.each(this.calendar.nonStandardWeeksStartDates,function(g){var d=b.calendar.getNonStandardWeekByStartDate(g);var e={};var f=b.calendar.getDefaultWeekAvailability();e[a.nameField]=d.name;e[a.startDateField]=d.startDate;e[a.endDateField]=d.endDate;e[a.availabilityField]=f;Ext.Array.each(f,function(a){a.setName(d.name);a.clearDate(null)});Ext.Array.each(d.weekAvailability,function(b){var e=b.getId();var c=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(e);if(!c){return}var h=c[1];var a=Ext.create('Gnt.model.CalendarDay');a.clearDate(null);a.setId(e);a.setName(d.name);a.setIsWorkingDay(b.getIsWorkingDay());a.setAvailability(b.getAvailability());f[h]=a});c.push(e)});this.getWeekGrid().getStore().loadData(c)},reload:function(){var b=this.getWeekGrid(),a=this.getDayGrid();this.fillDaysStore();this.fillWeeksStore();this.getDatePicker().setWeekOverrides(b.getStore());this.getDatePicker().setDayOverrides(a.getStore())},editDay:function(){var b=this,d=this.getDayGrid().getSelectionModel();if(!d||d.getSelection().length===0){return}var e=d.getSelection()[0];var a=new Gnt.widget.calendar.DayAvailabilityGrid({addText:this.addText,removeText:this.removeText,workingTimeText:this.workingTimeText,nonworkingTimeText:this.nonworkingTimeText});var c=Ext.create('Ext.window.Window',{title:this.dayOverridesText,modal:!0,width:280,height:260,layout:'fit',items:a,buttons:[{text:this.okText,handler:function(){b.calendar.clearCache();if(a.isValid()){var d=a.calendarDay;d.setIsWorkingDay(a.isWorkingDay());d.setAvailability(a.getIntervals());b.applyCalendarDay(d,e);b.refreshView();c.close()}}},{text:this.cancelText,handler:function(){c.close()}}]});a.editAvailability(this.cloneCalendarDay(e));c.show()},addDay:function(){var c=this.getDatePicker().getValue(),a=this.getDayGrid(),b=Ext.create('Gnt.model.CalendarDay',{Name:'[Without name]',Cls:this.calendar.defaultNonWorkingTimeCssCls,Date:c,IsWorkingDay:!1});a.getStore().insert(0,b);a.getSelectionModel().select([b],!1,!1)},removeDay:function(){var e=this.getDayGrid(),c=e.getSelectionModel(),d=e.getStore();if(!c||c.getSelection().length===0){return}d.clearCache();var f=c.getSelection()[0],b=this.getDatePicker().getValue(),g=b.getDay(),a=this.getWeekOverrideDay(b),h=a!=null;d.remove(f);if(a==null){a=this.calendar.defaultWeekAvailability[g]}this.getDatePicker().setValue(b)},refreshView:function(){var a=this.getDatePicker().getValue(),c=this.getCalendarDay(a),f=this.getWeekGrid(),e=this.getDayGrid(),d=e.getStore().getOverrideDay(a),b;if(d){e.getSelectionModel().select([d],!1,!0)}else {b=this.getWeekOverrideByDate(a);if(b){f.getSelectionModel().select([b],!1,!0)}}var g={name:c.getName(),date:Ext.Date.format(a,'M j, Y'),calendarName:this.calendar.name||this.calendar.calendarId,availability:c.getAvailability(!0),override:!!(d||b),isWorkingDay:c.getIsWorkingDay()};this.dateInfoPanel.update(this.dateInfoTpl.apply(g))},onDayGridSelectionChange:function(a){if(!a||a.getSelection().length===0){return}var b=a.getSelection()[0],c=b.getDate(),d=this.getDayGrid();this.getDatePicker().setValue(c)},onDayGridEdit:function(c,a){if(a.field==='Date'){var b=Ext.Date.clearTime(a.value,!0);a.record.data[a.record.idProperty]=b-0;a.grid.getStore().clearCache();this.getDatePicker().setValue(a.value)}this.refreshView()},onDayGridValidateEdit:function(c,a){var b=a.grid.getStore();if(a.field===b.model.prototype.dateField&&b.getOverrideDay(a.value)&&a.value!==a.originalValue){Ext.MessageBox.alert('Error','There is already an override for this day');return !1}},onDateSelect:function(b,a){this.refreshView()},getCalendarDay:function(b){var a=this.getOverrideDay(b);if(a){return a}a=this.getWeekOverrideDay(b);if(a){return a}return this.calendar.defaultWeekAvailability[b.getDay()]},getOverrideDay:function(a){return this.getDayGrid().getStore().getOverrideDay(a)},getWeekOverrideDay:function(b){var e=new Date(b),c=this.getWeekOverrideByDate(b),d=e.getDay();if(c==null){return null}var a=c.getAvailability();if(!a){return null}return a[d]},getWeekOverrideByDate:function(b){var a=null;this.getWeekGrid().getStore().each(function(c){if(Ext.Date.between(b,c.getStartDate(),c.getEndDate())){a=c;return !0}});return a},editWeek:function(){var d=this.getWeekGrid().getSelectionModel(),a=this;if(!d||d.getSelection().length===0){return}var b=d.getSelection()[0];var e=new Gnt.widget.calendar.WeekEditor({getDefaultWeekAvailabilityHandler:function(){return a.getDefaultWeekAvailability()}});var c=Ext.create('Ext.window.Window',{title:this.weekOverridesText,modal:!0,width:370,defaults:{border:!1},layout:'fit',items:e,buttons:[{text:this.okText,handler:function(){a.calendar.clearCache();e.applyChanges(function(d){b.setAvailability(d);var e=a.getDatePicker().getValue(),f=d[e.getDay()];a.refreshView();c.close()})}},{text:this.cancelText,handler:function(){c.close()}}]});var f=[];Ext.Array.each(b.getAvailability(),function(b){f.push(a.cloneCalendarDay(b))});c.show();c.down('calendarweekeditor').editAvailability(b.getStartDate(),b.getEndDate(),f)},addWeek:function(){var b=this.getWeekGrid().getStore();var c=this.getDatePicker().getValue(),a=new b.model();a.setName('[Without name]');a.setStartDate(c);a.setEndDate(c);a.setAvailability(this.calendar.getDefaultWeekAvailability());b.insert(0,a);this.getWeekGrid().getSelectionModel().select([a],!1,!1)},removeWeek:function(){var c=this.getWeekGrid().getSelectionModel();if(!c||c.getSelection().length===0){return}var d=c.getSelection()[0],b=this.getDatePicker().getValue(),e=b.getDay(),a=this.getOverrideDay(b),f=!!a;a=a||this.calendar.defaultWeekAvailability[e];this.getWeekGrid().getStore().remove(d);this.getDatePicker().setValue(b);this.refreshView()},onWeekGridSelectionChange:function(a){if(!a||a.getSelection().length===0){return}var b=a.getSelection()[0],c=b.getStartDate(),e=c.getDay(),d=b.getAvailability()[e],f=this.getWeekGrid();if(d==null){d=this.calendar.defaultWeekAvailability[e]}this.getDatePicker().setValue(c)},onWeekGridEdit:function(j,a){var c=a.record,b=c.getStartDate(),g=c.getEndDate(),e=b.getDay(),d=c.getAvailability(),f=d[e];prot=a.grid.getStore().model.prototype;if(f==null){f=this.calendar.defaultWeekAvailability[e]}if(a.field==prot.startDateField||a.field==prot.endDateField){var h=Ext.Date.format(b,'Y/m/d');var i=Ext.Date.format(g,'Y/m/d');Ext.Array.each(d,function(c){var d=c.getId();var b=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(d);if(!b){return}c.set('Id',Ext.String.format('{0}-{1}-{2}',b[1],h,i))});this.getDatePicker().setValue(b)}this.refreshView()},onWeekGridValidateEdit:function(h,a){var f=a.record,c=f.getStartDate(),d=f.getEndDate(),e=!0;var g=a.grid.getStore();var b=g.model.prototype;if(a.field===b.startDateField&&d<a.value||a.field===b.endDateField&&c>a.value){Ext.MessageBox.alert('Error','StartDate greater then EndDate');return !1}g.each(function(i){var g=i.getStartDate(),f=i.getEndDate();if(g==c&&f==d){return}if(a.field==b.startDateField&&g<c&&a.value<=f||a.field==b.endDateField&&f>d&&a.value>=g){e=!1;return !0}});if(!e){Ext.MessageBox.alert('Error',"Dates shouldn't intersect");return !1}},applyChanges:function(a){var b=this.down('combobox[name="cmb_parentCalendar"]').getValue();this.calendar.parent=b?Gnt.data.Calendar.getCalendar(b):null;this.calendar.proxy.extraParams.parentId=this.calendar.parent?this.calendar.parent.calendarId:null;this.applyDays();this.applyWeeks();if(a&&Ext.isFunction(a)){a.call(this,this.calendar)}},applyCalendarDay:function(b,a){a.beginEdit();a.setId(b.getId());a.setName(b.getName());a.setIsWorkingDay(b.getIsWorkingDay());a.setDate(b.getDate());a.setAvailability(b.getAvailability());a.endEdit()},applyWeek:function(d,c){var a=this,b=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/;Ext.Array.each(d.getAvailability(),function(e,i){var f=!1,h=e.getId(),g=b.exec(h)?!1:!0;Ext.Array.each(c.weekAvailability,function(h){var k=h.getId(),j=b.exec(k);if(j[1]==i){if(g){a.calendar.remove(h)}else {a.applyCalendarDay(e,h)}f=!0;return f}});if(!f&&!g){a.calendar.add(e)}})},applyWeeks:function(){var a=this,c=this.getWeekGrid().getStore(),b=[],e=[],d=[];Ext.Array.each(this.calendar.nonStandardWeeksStartDates,function(d){var f=!1;c.each(function(c){var h=Ext.Date.clearTime(c.getStartDate());if(h===d){var g=a.calendar.getNonStandardWeekByDate(d);g.endDate==c.getEndDate()?e.push([c,g]):b.push(d);f=!0;return !0}});if(!f){b.push(d)}});c.each(function(b){if(a.calendar.getNonStandardWeekByDate(b.getStartDate()==null)){d.push(b)}});Ext.Array.each(b,function(b){a.calendar.removeNonStandardWeek(b)});Ext.Array.each(d,function(b){a.calendar.addNonStandardWeek(b.getStartDate(),b.getEndDate(),b.getAvailability())});Ext.Array.each(e,function(b){a.applyWeek(b[0],b[1])})},applyDays:function(){var c=this,a=this.getDayGrid().getStore(),b=[],e=[],d=[];this.calendar.each(function(c){var d=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(c.getId());if(d){return}a.getOverrideDay(c.getDate())==null?b.push(c):e.push(c)});a.each(function(a){if(c.calendar.getOverrideDay(a.getDate())==null){d.push(a)}});this.calendar.remove(b);this.calendar.add(d);Ext.Array.each(e,function(b){var d=a.getOverrideDay(b.getDate());c.applyCalendarDay(d,b)})},cloneCalendarDay:function(a){return Ext.create('Gnt.model.CalendarDay',{Date:a.getDate(),Id:a.getId(),Name:a.getName(),IsWorkingDay:a.getIsWorkingDay(),Availability:a.getAvailability()})},getDefaultWeekAvailability:function(){return this.calendar.defaultWeekAvailability},onDestroy:function(){this.getWeekGrid().destroy();this.getDayGrid().destroy();this.getDatePicker().destroy();this.callParent(arguments)}});Ext.onReady(function(){if(window.location.href.match('bryntum.com|ext-scheduler.com')){return}else {if(Sch&&Sch.view&&Sch.view.TimelineGridView){var b=!1;Sch.view.TimelineGridView.override({refresh:function(){this.callOverridden(arguments);if(b||!this.rendered){return}b=!0;Ext.Function.defer(function(){this.el.select(this.eventSelector).setOpacity(0.15)},10*60*1000,this);var d=this.el.parent().createChild({tag:'a',href:'http://www.bryntum.com/store',title:'Click here to purchase a license',style:'display:block;height:54px;width:230px;background: #fff url(http://www.bryntum.com/site-images/bryntum-trial.png) no-repeat;z-index:10000;border:1px solid #ddd;-webkit-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-border-radius:5px;-webkit-border-radius:5px;position:absolute;bottom:10px;right:15px;'});try{if(!Ext.util.Cookies.get('bmeval')){Ext.util.Cookies.set('bmeval',(new Date()).getTime(),Ext.Date.add(new Date(),Ext.Date.YEAR,2))}else {var c=Ext.util.Cookies.get('bmeval'),a=new Date(parseInt(c,10));if(Ext.Date.add(a,Ext.Date.DAY,45)<new Date()){this.el.select(this.eventSelector).hide();this.el.mask('Trial Period Expired!').setStyle('z-index',10000);this.refresh=Ext.emptyFn}}}catch(e){}}})}if(Sch&&Sch.view&&Sch.view.TimelineTreeView){var a=!1;Sch.view.TimelineTreeView.override({refresh:function(){this.callOverridden(arguments);if(a||!this.rendered){return}a=!0;Ext.Function.defer(function(){this.el.select(this.eventSelector).setOpacity(0.15)},10*60*1000,this);var b=this.el.parent().createChild({tag:'a',href:'http://www.bryntum.com/store',title:'Click here to purchase a license',style:'display:block;height:54px;width:230px;background: #fff url(http://www.bryntum.com/site-images/bryntum-trial.png) no-repeat;z-index:10000;border:1px solid #ddd;-webkit-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-box-shadow: 2px 2px 2px rgba(100, 100, 100, 0.5);-moz-border-radius:5px;-webkit-border-radius:5px;position:absolute;bottom:10px;right:15px;'});Ext.Function.defer(b.fadeOut,10000,b);try{if(!Ext.util.Cookies.get('bmeval')){Ext.util.Cookies.set('bmeval',(new Date()).getTime(),Ext.Date.add(new Date(),Ext.Date.YEAR,2))}else {var d=Ext.util.Cookies.get('bmeval'),c=new Date(parseInt(d,10));if(Ext.Date.add(c,Ext.Date.DAY,45)<new Date()){this.el.select(this.eventSelector).hide();this.el.mask('Trial Period Expired!').setStyle('z-index',10000);this.refresh=Ext.emptyFn}}}catch(e){}}})}}});Ext.data.Connection.override({parseStatus:function(b){var a=this.callOverridden(arguments);if(b===0){a.success=!0}return a}});Ext.onReady(function(){window._gaq=window._gaq||[];window._gaq.push(['_setAccount','UA-11046863-1']);window._gaq.push(['_setDomainName','none']);window._gaq.push(['_setAllowLinker',!0]);window._gaq.push(['_trackPageview']);(function(){var a=document.createElement('script');a.type='text/javascript';a.async=!0;a.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var b=document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a,b)})();window.onerror=function(c,b,a){if(!window.__reported&&c&&(a||b)){window.__reported=!0;try{var d=new Image();var f=Ext.versions&&Ext.versions.extjs&&Ext.versions.extjs.version;var e=Sch.VERSION||'-';d.src=Ext.String.format('http://bryntum.com/errlog.php?msg={0}&url={1}&line={2}&href={3}&extVersion={4}&prodVersion={5}&magic={6}',encodeURIComponent(c),encodeURIComponent(b),encodeURIComponent(a),encodeURIComponent(window.location.href),encodeURIComponent(f),encodeURIComponent(e),'maFSiO6W')}catch(g){}}}});var _0xee2b=['Robo.util.Array','isFunction','Invalid parameter: expected a function.','raise','length','Reduce of empty array with no initial value','define','Robo.Transaction','apply','callParent','actions','push','undo','redo','title','getTitle','Robo.data.Model','Ext.Mixin','onBeforeEndEdit','onAfterEndEdit','editMemento','editMementoFix','data','getModifiedFieldNames','previousValues','each','Array','','Robo.action.Base','Abstract method call','phantom','phantomIdField','getId','Robo.action.flat.Update','Ext.Array','initConfig','saveValues','getRecord','getFieldNames','oldValues','processSavingOldValue','map','newValues','processSavingNewValue','CUSTOMLY_PROCESSED','self','beginEdit','processRestoringValue','reduce','util','set','endEdit','previous','hasOwnProperty','Can not get previous value','get','identityFn','Edit of ',' for ','modelName',' ','Robo.action.flat.Add','records','remove','store','autoSync','removeFromRemoved','prepareRecord','index','insert','unknown','Addition of ',',','join','Robo.action.flat.Remove','Removal of ','Robo.action.tree.Append','newChild','removeChild','parent','lastParentId','removedNodes','getTreeStore','appendChild','Append of ','Robo.action.tree.Insert','insertedBefore','isFirst','insertBefore','updateInfo','Insertion of ','Robo.action.tree.Remove','dirty','removedChild','isMove','newParent','parentNode','newNextSibling','nextSibling','cascadeBy','Move of ','Robo.action.tree.Update','expanded','expand','collapse','leaf','loaded','Robo.Manager','Ext.util.Observable','Ext.data.Store','Ext.data.StoreManager','created','timeout','treeStoreListeners','onTreeStoreAppend','onTreeStoreInsert','onTreeStoreRemove','onTreeStoreUpdate','onIncomingCommand','flatStoreListeners','onFlatStoreAdd','onFlatStoreRemove','onFlatStoreUpdate','clearQueuesOnLoad','clearQueues','stores','storesById','undoQueue','redoQueue','addStore','forEach','lookup','StoreManager','Assert','Must provide a store or a valid store id','isObject','setStoreId','getModel','associations','prototype','getAssociatedStore','ROBO_MANAGED','hasStore','state','disabled','bindStore','storeId','indexOf','getStoreTypeListeners','on','undoRedoEventBus','getStoreTypeListenerStubs','un','stub','Object','TreeStore','unbindStore','paused','isRootSettingOrLoading','currentTransaction','startTransaction','ignoredFieldNames','getField','persist','areIncomingCommandsEnabled','pause','resume','endTransaction','addTransaction','incomingCommandsDisabled','onAnyChangeInAnyStore','edit','hasPersistableChanges','filter','flat','action','addAction','tree','$undoRedoMoving','start','fireEvent','undoqueuechange','redoqueuechange','hold','forEachStore','enabled','stop','clearUndoQueue','clearRedoQueue',"Can't hold, no transaction is currently in progress","Can't release, no transaction is currently in progress",'slice','notifyStoresAboutTransactionStart','transactionBoundary','scheduleEndTransaction','transactionTimeout','transactionMaxDuration','hasActions','notifyStoresAboutTransactionEnd','transactionadd','Transaction','beforeundo','notifyStoresAboutUndoRedoStart','min','pop','unshift','notifyStoresAboutUndoRedoComplete','afterundo','beforeredo','shift','afterredo','onUndoRedoTransactionStart','onUndoRedoTransactionEnd','beforeUndoRedo','afterUndoRedo','6.1.6','Robo.data.Store','constructor','destroy','fireEventArgs','beforeSetRoot','beforeFillNode','afterSetRoot','afterFillNode','$undoRedoEventBusFired','hasListener','inUndoRedoTransaction','undoRedoPostponed','Parameter must be a function','__isSettingRoot','getRoot','clear','isRoot','isLoading','isTreeStore','Robo.widget.UndoButton','Ext.button.Split','widget.roboundobutton','baseCSSPrefix','fa fa-undo','Undo','robo','`robo` is a required config for the ','$className','robo-transaction-list','getTransactionItems','onTransactionClick','menu','click','type','queuechange','onTransactionQueueChange','mon','setDisabled','removeAll','add','hide','Queue','onTransactionItemActivated','onTransactionItemDeActivated','reverse','transaction','rendered','activeCls','addCls','el','items','removeCls','Robo.widget.RedoButton','widget.roboredobutton','fa fa-repeat fa-redo','Redo','Robo.widget.StatusPanel','Ext.tree.Panel','widget.robostatuspanel','treecolumn','Title','Changed fields','fieldNames','fieldnames','isActive','getActiveRowClass','bind','Function','robo-status-active','getActions','Update',', ','setRootNode','scrollTo','getView','Sch.crud.AbstractManager','$PhantomId','call','observable','mixins','activeRequests','delayedSyncs','transport','syncApplySequence','addStoreToApplySequence','autoLoad','load','storesIndex','isStore','object','getStoreDescriptor','isArray','string','masterStoreInfo','fillStoreDescriptor','setCrudManager','crudManager','memory','setProxy','setAsynchronousLoad','bindStoreListeners','undefined','concat','splice','updateStoreIndex','onStoreUpdate','onStoreChange','onTreeStoreInsertOrAppend','onNodeRemove','mun','storeIdProperty','model','idProperty','writeAllFields','applyIf','unbindStoreListeners','removeStoreFromApplySequence','endupdate','ignoreUpdates','hasChanges','haschanges','autoSyncTimerId','sync','autoSyncTimeout','nochanges','getStore','isStoreDirty','getRemovedRecords','byIdMap','root','modified','getKeys','isValid','getData','getRequestId','filterParam','pageSize','remoteFilter','serialize','getFilters','currentPage','page','resetIdsBeforeSync','processFieldMapping','processSubStores','critical','fieldMapping','isString','mapping','getStoreChanges','getNewRecords','getUpdatedRecords','prepareAdded','prepareUpdated','prepareRemoved','added','updated','removed','revision','children','getSubStoresData','rows','reject','proxy','beginUpdate','endUpdate','totalCount','total','append','loadData','applyMetaData','metaData','id','__loading','applyMetaDataToStore','loadDataToTreeStore','loadDataToFlatStore','storeDesc','getNodeById','getById','loadDataToStore','suspendChangesTracking','resumeChangesTracking','applyChangesToStore',"Can't find store for the response sub-package",'log','isEqual','parentIdProperty','parentId','setId','commit','findByIdFn','removeRecordFn',"Can't find record to remove from the response package",'getByKey','getApplyChangesToStoreHelpers','findByPhantomFn','addRecordFn','applyRemovals','applyChangesToRecord','datachanged','applyingSyncResponse','applyingLoadResponse','trackResponseType','applyLoadResponse','applySyncResponse','random','now','floor','decode','success','requestfail','fail','CrudManager: ',' failed, please inspect the server response','warn','requestsuccess','beforeresponseapply','before','applyResponse','requestdone','onResponse','getLoadPackage','beforeload','desc','cancelRequest','loadcanceled','requestId','encode','onLoad','sendRequest','syncdelayed','getChangeSetPackage','beforesync','synccanceled','onSync','runDelayedSync','suspendEvents','commitChanges','resumeEvents','rejectChanges','console','destroyed','removeStore','Sch.app.CrudManagerDomain','Ext.app.EventDomain','crudmanager','crudmanager.','crud','monitor','alias','*','prefix','Sch.column.Day','Ext.grid.column.Column','widget.weekview-day','center','sch-timetd','sch-daycolumn-header','isWeekend','sch-daycolumn-header-weekend','tdCls',' sch-daycolumn-weekend','getDate','getMonth','getYear','sch-daycolumn-header-today',' sch-daycolumn-today','getDay','Sch.column.Resource','Ext.grid.Column','widget.resourcecolumn',' sch-timetd','cls',' sch-resourcecolumn-header','Sch.locale.Locale','Active','locale','bindRequire','.','split','getName','localeName','namespaceId','En','triggerCreated','ClassManager','activeLocaleId','l10n','function','singleton','override','onLocalized','getClass','getClassName','applyToClass','Sch.locale.En','year','years','yr','quarter','quarters','q','month','months','week','weeks','w','day','days','d','hour','hours','h','minute','minutes','second','seconds','s','ms','Start time {0} is greater than end time {1}','Availability intervals should not intersect: [{0}] and [{1}]','Invalid format for availability string: {0}. It should have exact format: hh:mm-hh:mm','All day','Loading, please wait...','Saving changes, please wait...','Loading events...','Current time','You\u2019re deleting an event','Do you want to delete all occurrences of this event?','Do you want to delete this and all future occurrences of this event, or only the selected occurrence?','Delete All','Delete All Future Events','Delete Only This Event','You\u2019re changing a repeating event','Do you want to change all occurrences of this event?','Do you want to change only this occurrence of the event, or this and all future occurrences?','All','All Future Events','Only This Event','Yes','Cancel','Repeat event','Save','Frequency','Every','day(s)','week(s) on:','month(s)','year(s) in:','Each','On the','End repeat','time(s)','weekday','weekend day','first','third','fourth','fifth','last',' and ','Daily','Weekly on {1}','Monthly on {1}','Yearly on {1} of {2}','Every {0} days','Every {0} weeks on {1}','Every {0} months on {1}','Every {0} years on {1} of {2}','the first','the second','the third','the fourth','the fifth','the last','{0} {1}','Never','After','On date','Weekly','Monthly','Yearly','None','Custom...','Repeat','Delete','Name','Start','End','Resource','New booking...','Paper format','Orientation','Schedule range','Show header','Show footer','Portrait','Landscape','Complete schedule','Visible schedule','Date range','Export from','Export to','Control pagination','Adjust column width','Adjust column width and row height','Specify date range','Select columns','Complete schedule (for all events)','DPI (dots per inch)','Rows range','All rows','Visible rows','[no title]','Export Settings','Export','Exporting...','An error occurred','Fetching row {0} of {1}','Built page {0} of {1}','Please wait...','Print settings','Print','Please disable pop-up blocker since the print-plugin needs to be able to open new tabs','Browser pop-up blocker detected','Exporter','Single page','Multiple pages (vertically)','Multiple pages','Split','Hide split part','Total','From','To','G:i','D d/m','g:i:s','D, d g:iA','m/d h:i A','D d M','m/d','d M','Y F d','m/d/Y','D d M Y','Y F','M Y','Y','Sch.mixin.Localizable','localize','getLocale','Cannot find locale: ',' [',']','isLocaleApplied','applyLocale','superclass','inTextLocaleRegExp','replace','exec','localizableProperties','localizeText','beforeInitComponent','localizeProperties','Sch.column.ResourceName','widget.scheduler_resourcenamecolumn','name','Sch.column.Summary','widget.summarycolumn','top','_sch_not_used','emptyFn','scope','beforerender','onMyBeforeRender','schedulerPanel','tablepanel[lockable=true]','up','getTimeAxis','getEventStore','getStart','getEnd','getEventsForResource','calculate','showPercent','getDurationInMinutes','Date','round',' %','nbrDecimals','toFixed','DAY','getShortNameOfUnit','HOUR','MINUTE','getStartDate','getEndDate','intersectSpans','max','Sch.view.HorizontalTimeAxis','Ext.XTemplate','Ymd_His','sch-column-header','sch-header-row','<table border="0" cellspacing="0" cellpadding="0" style="width: {totalWidth}px; {tstyle}" class="{{tableCls}} sch-header-row-{position} {cls}"><tbody><tr><tpl for="cells"><td class="{{baseCls}} {headerCls} sch-header-cell-{align}" data-date="{[fm.date(values.start, Sch.view.HorizontalTimeAxis.encodeDateFormat)]}" style="text-align: {align}; width: {width}px; {style}" tabIndex="0"headerPosition="{parent.position}" headerIndex="{[xindex-1]}"><div class="sch-simple-timeheader">{header}</div>{{resizeHandle}}</td></tpl></tr></tbody></table>','touch','versions','update','onModelUpdate','containerEl','headerHtmlRowTpl','Template','{{resizeHandle}}','enableTickResizing','<div class="sch-header-cell-resizehandle"></div>','{{tableCls}}','tableCls','{{baseCls}}','baseCls','trackHeaderOver','hoverCls','highlightCell','clearHighlight','tap','onElClick','doubletap','dblclick','contextmenu','_listenerCfg','.sch-simple-timeheader','height','render','getColumnConfig','getTotalWidth','embedCellWidths','border-top : 0;','middle','bottom','getTickWidth','compactCellWidthThreshold','sch-header-row-compact','dom','table','select','fly','display','style','none','deleteTimeAxisRows','afterbegin','getHTML','insertAdjacentHTML','sch-header-single-row','refresh','end','getDistanceBetweenDates','width','display: none','delegatedTarget','headerPosition','getAttribute','headerIndex','timeheader','highlightedCell','Sch.feature.HeaderResize','Ext.AbstractPlugin','onColumnRender','mousedown','onMouseDown','selector','getEl','clientX','isNumber','browserEvent','parentElement','originalCellWidth','getWidth','startClientX','getClientX','currentCell','getBody','mousemove','onMouseMove','getCmp','mouseup','onMouseUp','minCellWidth','px','timelinegrid,timelinetree','getLeft','getDateFromCoordinate','getSchedulingView','getX','timeAxisViewModel','setTickWidth','scrollToDate','offset','Sch.column.timeAxis.Horizontal','widget.timeaxiscolumn','sch-simple-timeaxis','sch-column-header-over','theme','toLowerCase','classic','.sch-header-cell-resizehandle','feature','addPlugin','sch-horizontaltimeaxis-ct','createChild','titleEl','headerView','HorizontalTimeAxis','view','ownHoverCls','create','onTimeAxisViewRefresh','afterlayout','ownerCt','resize','onHeaderContainerResize','getAvailableWidthForSchedule','getAvailableWidth','setWidth','grid','timeheaderclick','timeheaderdblclick','timeheadercontextmenu','horizontaltimeaxiscolumnrender','enableBubble','relayEvents','focusable','headerCls','renderData','getRootHeaderCt','componentLayoutCounter','updateLayout','ensureSizing','isVisible','lastBox','hidden','getScrollbarSize','setAvailableWidth','getHeight','table:last-of-type tr','down','getHeaders','setHeight','table tr','Sch.column.timeAxis.Vertical','widget.verticaltimeaxis','right',' sch-verticaltimeaxis-cell','sch-verticaltimeaxis-header','columnConfig','height:','isWeek','isMajorTick','getMajorHeaderName','headerConfig',' sch-column-line-solid','getBottomHeader','renderer','dateFormat','format','Sch.crud.encoder.Json','json','JSON','Sch.crud.encoder.Xml','xml','&amp;','&lt;','&gt;','&quot;','stringReplaces','encodeRecord','<record>','<field id="','encodeString','">','$store','encodeStoreChanges','</field>','</record>','<store id="','<added>','encodeRecords','</added>','<updated>','</updated>','<removed>','</removed>','</store>','<load requestId="','"/>','" page="','" pageSize="','</load>','<sync requestId="','" revision="','</sync>','DOMParser','text/xml','parseFromString','ActiveXObject','Microsoft.XMLDOM','async','loadXML','decodeRecord','childNodes','nodeName','field','firstChild','getElementByTagName','decodeStore','nodeValue','getElementsByTagName','record','decodeRecords','stringToXML','documentElement','false','true','code','message','Sch.crud.transport.Ajax','GET','POST','abort','Ajax','paramName','params','method','defaultMethod','url','failure','responseXml','responseText','requestConfig','beforesend','request','Sch.util.Patch','disableOverrides','ieOnly','isIE','macOnly','isMac','minVersion','equals','extjs','isGreaterThan','maxVersion','isLessThan','target','applyFn','overrides','require','Sch.patches.CollectionKey','Ext.util.CollectionKey','6.0.0','https://www.sencha.com/forum/showthread.php?310532-Ext.util.Collection-key-configuration-application-and-cloning-is-broken','patches/001_collection_key.t.js',"Ext.util.CollectionKey::clone() is broken due to wrong usage of Ext's configuration facility.",'We relay on the (though) private Ext.data.LocalStore::extraKeys configuration, we use it to define additional','unique but complex keys for Assignment and Dependency stores. Upon store filtering such keys are being cloned',"but due to the broken config key's clone() method throws an exception",'applyKeyFn','CollectionKey','updateKeyFn','Sch.util.Cache','cache','stats','isModel','[ undefined / null ]','key','miss','hit','include','union','Sch.data.util.EventAssignmentsCache','Ext.data.Model','getEventId','eventIdField','move','eventStoreDetacher','assignmentStoreDetacher','assignmentStoreFiltersDetacher','assignmentStore','destroyMembers','getRange','Sch.data.util.ResourceAssignmentsCache','getResourceStore','getResourceId','resourceIdField','resourceStoreDetacher','Sch.data.mixin.UniversalModelGetter','getModelById','getModelByInternalId','byInternalIdMap','getByInternalId','Sch.data.mixin.CacheHintHelper','loadRecords','cacheresethint','Sch.model.Customizable','convert','flexSetter','storePreviousFlex','__editing','deletePreviousFlex','__editCounter','fieldsInitialValue','fields','$onExtended','customizableFields','allCustomizableFields','isCustomizableField','Id','removeFields','charAt','substr','Field','isCustomizableModel','data.field.','auto','capitalize','String','__getterFor__','__setterFor__','replaceFields','onExtended','Sch.model.Assignment','ResourceId','EventId','internalId','joined','getAssignmentStore','getEvent','getResource','copy','makeAssignmentEventResourceCompositeKey','event(',')-resource(',')','Sch.data.AssignmentStore','Sch.data.util.AssignmentStoreEventResourcesCache','Sch.data.util.AssignmentStoreResourceEventsCache','getEventResourceCompositeKey','store.assignmentstore','assignments','eventAssignmentsCache','createEventAssignmentCache','resourceAssignmentsCache','createResourceAssignmentCache','eventResourceCache','resourceEventsCache','eventStore','StoreMgr','attachToEventStore','eventstorechange','onEventNodeRemove','onEventStoreResourceStoreChange','onEventRemove','attachToResourceStore','onResourceNodeRemove','onResourceRemove','getAssignmentsForEvent','getAssignmentsForResource','returnTrue','mapAssignmentsForEvent','mapAssignmentsForResource','isFiltered','contains','isEventAssignedToResource','setEventId','setResourceId','removeAssignmentsForEvent','getAssignmentForEventAndResource','getResourcesForEvent','byEventIdResourceId','Sch.model.CalendarDay','Ext.data.Types','date','c','DATE','Types','clearTime','Weekday','int','OverrideStartDate','OverrideEndDate','Type','IsWorkingDay','boolean','Cls','sch-nonworkingtime','Availability','dateField','availabilityField','availabilityCache','parseInterval','verifyAvailability','stringifyIntervals','getAvailability','startTime','sort','endTime','startTimeAfterEndTime','H:i','availabilityIntervalsShouldNotIntersect','stringifyInterval','0','getHours','prependZero',':','getMinutes','-','invalidFormat','getTotalMS','setAvailability','number','getFullYear','getAvailabilityIntervalsFor','startDate','endDate','Sch.util.Date','Ext.Date','unitHash','MILLI','SECOND','MONTH','YEAR','units','WEEK','QUARTER','unitNames','setUnitNames','unitsByName','_unitNames','compareUnits','setHours','setMinutes','getSeconds','setSeconds','getMilliseconds','setMilliseconds','clone','getTime','setDate','getFirstDateOfMonth','getLastDateOfMonth','setMonth','setFullYear','getDurationInYears','getDurationInMonths','getDurationInDays','getDurationInHours','getDurationInSeconds','getDurationInMilliseconds','getTimezoneOffset','betweenLesser','getUnitByName','Incorrect UnitName','plural','single','abbrev','Unknown unit name: ','Error','Invalid date unit','getStartOfNextDay','Ymd','YmW','Ym','getUnitDurationInMs','getWeekOfYear','getSubUnit','setValueInUnits','splitMonth','splitDay','ceil','setDateToMidday','setDateToHours','isSameDate','Sch.model.Range','StartDate','EndDate','startDateField','setEndDate','endDateField','setStartDate','isScheduled','getDates','areDatesValid','setStartEndDate','Sch.data.Calendar','store.calendar','00:00-24:00','Calendar','GNT_CALENDAR:','unregister','calendarId','setParent','setCalendarId','unitsInMs','hoursPerDay','daysPerWeek','daysPerMonth','defaultWeekAvailability','getDefaultWeekAvailability','onCalendarUpdate','onCalendarDataChange','clearCache','clsField','nameField','some','EDIT','Model','shouldReactOnCalendarDayFieldUpdate','register','extraParams','defaultAvailability','weekendFirstDay','weekendSecondDay','weekendsAreWorkdays','WEEKDAY','suspendCacheUpdate','holidaysCache','availabilityIntervalsCache','daysIndex','weekAvailability','nonStandardWeeksStartDates','nonStandardWeeksByStartDate','getType','getWeekday','WEEKDAYOVERRIDE','getOverrideStartDate','getOverrideEndDate','Y/m/d','parse','mainDay','Incorrect week day index','resetCache','calendarchange','forEachNonStandardWeek','intersectsWithCurrentWeeks','Can not add intersecting week','isCalendarDayModel','setType','setOverrideStartDate','setOverrideEndDate','setWeekday','Week override','setName','getNonStandardWeekByStartDate','clean','getOverrideDay','getWeekDay','getDefaultCalendarDay','getOwnCalendarDay','getNonStandardWeekByDate','getCalendarDay',"Can't find day for ",'getIsWorkingDay','isHoliday','getNameOfUnit','convertDurationToMs','convertMSDurationToUnit',"startDate can't be bigger than endDate",'getNext','getCls','defaultNonWorkingTimeCssCls','isForward','At least `startDate` or `endDate` is required, depending from the `isForward` option','availabilitySearchLimit','getEndOfPreviousDay','forEachAvailabilityInterval','skipNonWorkingTime: Cannot skip non-working time, please ensure that this calendar has any working period of time specified','calculateEndDate','calculateStartDate','getAllCalendars','isChildOf','getCalendar','Invalid parent specified for the calendar','onParentCalendarChange','onParentDestroy','parentchange','Sch.data.CrudManager','resourceStore','dependencyStore','addRelatedStores','getEventStoreInfo','getDependencyStore','Sch.data.util.EventDependencyCache','getSourceId','getTargetId','addSuccessor','addPredecessor','removeSuccessor','removePredecessor','clearSuccessors','clearPredecessors','moveSuccessors','movePredecessors','has','setSuccessors','setPredecessors','collect','fromField','toField','dependencyStoreDetacher','makeSuccessorsKey','makePredecessorsKey','@#!#@','@#!#@succ','@#!#@pred','Sch.model.DependencyBase','Bidirectional','FromSide','ToSide','Highlighted','isRangeModel','setSourceEvent','setTargetEvent','setSourceId','setTargetId','getFrom','setFrom','getTo','setTo','getSourceEvent','getTargetEvent','StartToStart','StartToEnd','EndToEnd','EndToStart','getHighlighted','setHighlighted','Sch.model.Dependency','isEmpty','left','Sch.data.DependencyStore','makeDependencySourceTargetCompositeKey','DependencyStore','store.sch_dependencystore','dependencies','eventDependencyCache','createEventDependencyCache','removeEventDependencies','isNode','getPredecessors','reduceEventDependencies','getSuccessors','reduceEventIncomingDependencies','reduceEventOutgoingDependencies','mapEventDependencies','mapEventIncomingDependencies','mapEventOutgoingDependencies',"Can't get event predecessors, no event store configured",'truthy',"Can't get event successors, no event store configured",'getEventDependencies','unique','getEventIncomingDependencies','getEventOutgoingDependencies','bySourceTargetId','getDependencyForSourceAndTargetEvents','isHighlightedWith','source(',')-target(','Sch.data.util.IdConsistencyManager','onEventIdChanged','onResourceIdChanged','getUpdateAssignmentEventIdFieldFn','getUpdateDependencySourceTargedIdFieldFn','getUpdateEventResourceIdFieldFn','getUpdateAssignmentResourceIdFieldFn','Sch.data.util.ModelPersistencyManager','onEventStoreBeforeSync','onResourceStoreBeforeSync','onAssignmentStoreBeforeSync','onDependencyStoreBeforeSync','removeNonPersistableRecordsToCreate','shallContinueSync','isPersistable','Sch.data.util.ResourceEventsCache','eventStoreFiltersDetacher','Sch.data.mixin.EventStore','createResourceEventsCache','idConsistencyManager','createIdConsistencyManager','modelPersistencyManager','createModelPersistencyManager','setEventStore','setResourceStore','resourcestorechange','setAssignmentStore','assignmentstorechange','setDependencyStore','dependencystorechange','Assignment','forEachScheduledEvent','addAll','compareWithPrecision','MAX_VALUE','MIN_VALUE','lastTotalTimeSpan','getEvents','Must be implemented by consuming class','Event','assignEventToResource','unassignEventFromResource','removeAssignmentsForResource','getResources','Sch.model.Recurrence','DAILY','Interval','Count','Days','MonthDays','Months','Positions','WEEKLY','MONTHLY','YEARLY','Ymd\\THis\\Z','event','rule','suspendEventNotifying','setRule','resumeEventNotifying','getFrequency','sanitizing','setPositions','setDays','setMonthDays','setMonths','getDays','encodeDay','DayRuleEncoder','recurrence','getMonthDays','getMonths','sanitize','suspendedEventNotifying','onRecurrenceChanged','FREQ=','getInterval','INTERVAL=','BYDAY=','BYMONTHDAY=','BYMONTH=','getCount','COUNT=','UNTIL=','getPositions','BYSETPOS=',';','=','setFrequency','FREQ','setInterval','INTERVAL','setCount','COUNT','UNTIL','BYDAY','BYMONTHDAY','BYMONTH','BYSETPOS','Sch.data.util.DelayedCalls','delayedCalls','Oject','timer','delayed-','-start','beforeFn','fn','entries','afterFn','-end','$name','caller','schedule','args','cancel','execute','delayedCallTimeout','Sch.data.util.recurrence.AbstractIterator','NONE','isValidPosition','Sch.data.util.recurrence.DailyIterator','MAX_OCCURRENCES_COUNT','Sch.data.util.recurrence.DayRuleEncoder','dayParseRegExp','SU','MO','TU','WE','TH','FR','SA','decodeDay','Sch.data.util.recurrence.WeeklyIterator','eventStartDate','interval','count','copyTimeValues','Sch.data.util.recurrence.MonthlyIterator','getDaysInMonth','abs','monthDays','positions','getNthDayInPeriod','getNthDayOfMonth','forEachDateAtPositions','Sch.data.util.recurrence.YearlyIterator','buildDate','Sch.data.mixin.RecurringEvents','recurrenceIterators','addRecurrenceIterators','delayed-regenerate-occurrences-start','delayed-regenerate-occurrences-end','delayed-generate-occurrences-start','delayed-generate-occurrences-end','onDelayedRegenerateOccurrencesEnd','onDelayedGenerateOccurrencesEnd','onEventStoreDestroy','generate-occurrences','regenerate-occurrences','DelayedCalls','frequency','getRecurrence','isRecurring','getRecurrenceIteratorForEvent',"Can't find iterator for ",' frequency','getExceptionDates','toMap','getOccurrenceByStartDate','buildOccurrence','forEachDate','getValues','isIterable','mergeDelayedCallEntries','occurrencesToRemove','getOccurrencesForEvents','generateOccurrencesForEvents','generate-occurrences-start','buildOccurrencesForEvent','generate-occurrences-end','getRecurringEvents','generate-occurrences-all-start','generate-occurrences-all-end','isRecurrableEvent','queryBy','getRecurringEventId','isOccurrence','getOccurrencesForAll','occurrencesready','Sch.model.mixin.RecurrableEvent','RecurringEventId','RecurrenceRule','ExceptionDates','useStrict','isDate','getRecurringEvent','setRecurringEventId','isRecurrenceModel','recurrenceModel','setEvent','getRule','recurrenceRuleField','getRecurrenceRule','getOccurrences','removeOccurrencesForEvents','setRecurrenceRule','setExceptionDates','_startDateValue','beforeStartDateChange','afterStartDateChange','lookupEntity','Schema','schema','Sch.model.Event','IconCls','Draggable','Resizable','AllDay','isEventStore','Event::getResource() is not applicable for events with multiple assignments, please use Event::getResources() instead.','assign','isResourceModel','reassignEventFromResourceToResource','getDraggable','getResizable','isEventPersistable','getAllDay','getAllDayStartDate','statics','getAllDayEndDate','getAllDayDisplayStartDate','Sch.data.EventStore','store.eventstore','events','The model for the EventStore must subclass Sch.model.Event','setupRecurringEvents','Sch.data.mixin.ResourceStore','intersectsRange','Sch.model.Resource','Resource must be added to a store to be able to check if it above of an other resource','Sch.data.ResourceStore','store.resourcestore','resources','The model for the ResourceStore must subclass Sch.model.Resource','Sch.patches.TreeStore','Ext.data.TreeStore','5.1.0','Sch.patches.TreeStoreInternalIdMap','5.1.1','Sch.data.mixin.FilterableTreeStore','inheritables','FilterableTreeStore','mixin','reApplyFilterOnDataChange','reapplyFilterOnDataChange','treeFilter','isNodeFilteredIn','dataChangeListeners','onNeedToUpdateFilter','onStoreBeforeLoad','onStoreLoad','filterUpdateSuspended','monitoringDataChange','suspendIncrementalFilterRefresh','reapplyFilter','isTreeFiltered','currentFilterGeneration','isFilteredFlag','lastTreeFilter','stopDataChangeMonitoring','refreshNodeStoreContent','filter-clear','isHiddenFlag','lastTreeHiding','hideNodesBy','filterTreeBy','addFilter','getRootNode','rootVisible','__filterGen','isLeaf','isExpanded','shallow','checkParents','fullMatchingParents','onlyParents','isOldFilter',"Can't combine `onlyParents` and `checkParents` options",'addedWhileFiltered','keepExpandStateWhileFiltered','filterGeneration','nodestore-datachange-start','markFilteredNodes','startDataChangeMonitoring','nodestore-datachange-end','filter-set','loading','hasNativeFilters',"Can't hide nodes of a filtered tree store",'removeAt','needsLocalFilter','filterVisible','indexOfNextVisibleNode','raw','filterFn','visible','registerNode','previousSibling','lastChild','isLoaded','onNodeExpand','fillCount','needsSync','lazyFill','getReader','getProxy','rootProperty','initialConfig','childType','extractData','fillNode','doFilter','afterEdit','Store','Sch.data.ResourceTreeStore','store.resourcetreestore','initTreeFiltering','The model for the ResourceTreeStore must subclass Sch.model.Resource','isSettingRoot','Sch.model.TimeAxisTick','Sch.data.TimeAxis','Ext.data.JsonStore','plain','setModel','mode','setMode','originalContinuous','continuous','reconfigure','endreconfigure','viewPreset','getPreset','Manager','preset','consumeViewPreset','isConfigured','getAdjustedDates','beforereconfigure','beginreconfigure','unit','increment','generateTicks','Invalid time axis configuration or filter, please check your input data.','isContinuous','adjustedStart','adjustedEnd','visibleTickStart','visibleTickEnd','generateTicksValidatorFn','clearFilter','Invalid time axis filter - no ticks passed through the filter. Please check your filter method.','autoAdjust','mainUnit','defaultSpan','shiftUnit','ceilDate','floorDate','getAt','resolutionIncrement','resolutionUnit','weekStartDay','setTimeSpan','getShiftIncrement','getShiftUnit','shiftIncrement','splitUnit','findBy','betweenLesserEqual','dateInAxis','getTickFromDate','timeSpanInAxis','Invalid time axis configuration','timeResolution','getMainHeader','uncache','destory','Sch.data.util.recurrence.Legend','SU,MO,TU,WE,TH,FR,SA','MO,TU,WE,TH,FR','SU,SA','getDaysLegend','dayNames','arrayToText','getShortMonthName','monthNames','position','allDaysValue','workingDaysValue','nonWorkingDaysValue','getShortDayName','daysFormat','Sch.eventlayout.Horizontal','nbrOfBandsByResource','applyLayout','sortEvents','layoutEventsInBands','bandIndexToPxConvertScope','bandIndexToPxConvertFn','findClosestSuccessor','Sch.eventlayout.Table','timeAxis','getPositionFromDate','Sch.eventlayout.Vertical','findStartSlot','getCluster','barMargin','getPriorOverlappingEvents','sortOverlappers','Sch.feature.AbstractTimeSpan','sch-header-secondary-canvas','uniqueCls','sch-timespangroup-','isReady','viewready','init','innerHeaderTpl','headerTemplate','<tpl for=".">','<div id="{id}" class="{cls}" title="{[values.Name || values.Text || ""]}" style="{side}:{position}px;">','{[this.renderInner(values)]}','</div>','</tpl>','schedulerView','panel','Error: You must define a store for this plugin','showHeaderElements','renderHeaderElements','onViewReady','removeElements','removeBodyElements','removeHeaderElements','getContainerEl','headerContainerEl','isHorizontal','getHorizontalTimeAxisColumn','lockedGrid','headerContainerCls','getHeaderContainerEl','getBodyElements','getHeaderElements','-header-','prepareTemplateData','getTemplateData','sch-header-indicator ','getSecondaryCanvasEl','storeListeners','renderElements','refreshSingle','onTimelinePanelBeforeModeChange','onTimelinePanelModeChange','viewListeners','headerListeners','isWeekView','headerCt','forceNewRenderingTimeout','renderElementsBuffered','_renderTimer','renderElementsInternal','renderDelay','defer','rtl','setRight','setLeft','getTimeAxisViewModel','getElementData','template','getHeaderElementData','isDestroyed','getColumns','getColumnManager','renderBodyElementsInternal','renderingDoneEvent','getElementId','className','$cls','setTop','setElementX','setSize','getHeaderElementId','size','autoDestroy','updateBodyElement','updateHeaderElement','Sch.plugin.Lines','plugin.scheduler_lines','sch-timeline','innerTpl','side','<div id="{id}" ','showTip','title="{[this.getTipText(values)]}" ','class="{$cls}" style="',':{left}px;top:{top}px;width:{width}px">','getFormattedDate','Text','getElementCls','expandToFitView','getTimeSpanRegion','x','y','getCoordinateFromDate','getHeaderElementPosition','getHeaderElementCls','Sch.feature.ColumnLines','sch-column-line','columnlinessynced','onHostDestroy','populate','setData','useLowestHeader','getLowestHeader','columnLinesFor','cellGenerator','sch-column-line-solid','forEachInterval','Sch.util.ScrollManager','both','doScroll','activeEl','refreshElRegion','clearScrollInterval','scrollProcess','cmp','[isViewport]','dir','getScrollX','activeCmp','getVerticalScroll','r','maxPosition','l','u','animDuration','triggerRefresh','scrollHorizontallyBy','scrollVerticallyBy','horizontal','vertical','Invalid direction: ','direction','isScrollAllowed','getY','pt','scrollElRegion','isScrollable','getElement','getScrollable','vthresh','startScrollInterval','hthresh','getRegion','getScrollableContainerRegion','getScrollableMaxPosition','Sch.util.DragTracker','Ext.dd.DragTracker','Ext.util.Region','Touch','supports','isEdge','TouchEvent','handle','handleListeners','translate','dragstart','bindListenersOnDragStart','getListeners','dragend','unbindListenersOnDragEnd','deferTimer','xStep','yStep','getScroll','startXY','getCurrentScroll','scrollWidth','getXY','startScroll','touches','pointerType','mouse','stopPropagation','lastXY','preventDefault','scroll','active','tolerance','triggerStart','onDrag','drag','Sch.tooltip.ClockTemplate','transform:rotate(Ddeg);','<div class="sch-clockwrap sch-supports-border-radius sch-clock-{[this.mode]}"><div class="sch-clock"><div class="sch-hourIndicator" style="{[this.getHourStyle((values.date.getHours() % 12) * 30,','hourTop',', + ','hourHeight',')]}">{[Ext.Date.monthNames[values.date.getMonth()].substr(0,3)]}</div><div class="sch-minuteIndicator" style="{[this.getMinuteStyle(values.date.getMinutes() * 6,','minuteTop','minuteHeight',')]}">{[values.date.getDate()]}</div><div class="sch-clock-dot"></div></div><span class="sch-clock-text">{text}</span></div>','getRotateStyle','Sch.tooltip.Tooltip','Ext.tip.ToolTip','b','0 3 0 0','clockTpl','tooltip','<div class="','fa sch-tip-{[values.valid ? "ok fa-check" : "notok fa-ban"]} ">{[this.renderClock(values.startDate, values.startText, "sch-tooltip-startdate")]}{[this.renderClock(values.endDate, values.endText, "sch-tooltip-enddate")]}<div class="sch-tip-message">{message}</div></div>','valid','allDay','getFormattedEndDate','calendar','allday','6.2.1','getVersion','realignToTarget','realign','getTimeResolution','sch-day-resolution','sch-hour-resolution','clock','offsetAdjust','mouseOffsets','setTarget','show','bl-tl?','alignTo','mouseenter','Sch.tooltip.HoverTip','widget.scheduler_hovertip','sch-hovertip','<div class="sch-hovertip-msg">{message}</div>','messageTpl','beforeshow','tipOnBeforeShow','handleMouseMove','onBodyMouseDown','itemCls','getTarget','eventSelector','getDateFromDomEvent','resolveResource','lastTime','lastResource','setClockMode','updateHoverTip','getText','Sch.feature.DragCreator','Ext.ToolTip','<div class="sch-dragcreator-proxy"><div class="sch-event-inner">&#160;</div></div>','onSchedulerDestroy','boxready','initDragTracker','hoverTip','dragTip','-10000px','setStyle','timeCellCls','isCreateAllowed','beforedragcreate','resourceRecord','originalStart','resourceRegion','getScheduleRegion','dateConstraints','getDateConstraints','disable','tracker','dragging','enable','disableHoverTip','originalScroll','rowBoundaries','setBox','dragcreatestart','showDragTip','showForElement','visibility','activate','ScrollManager','getStartEndDatesFromRegion','constrain','validatorFnScope','validatorFn','setY','eventSwallower','unbindTimer','finalize','beforedragcreatefinalize','deactivate','isTaskModel','taskStore','setCalendar','dragcreateend','createEvent','e','afterdragcreate','dragTolerance','verifyLeftButtonPressed','onBeforeDragStart','onDragStart','onDragEnd','trackerConfig','bindRightClickPreventer','windows','platformTags','showHoverTip','setupTooltips','stopDragCreateOnRightClick','button','ToolTip','tip','sch-dragcreate-tip','scheduler_hovertip','ComponentManager','Sch.feature.SchedulerDragZone','Ext.dd.DragZone','Ext.dd.StatusProxy','Sch.patches.DragZone','transparent','SHIFT','sch-dd-ref','sch-resizable-handle','sch-terminal','dropAllowed','dropNotAllowed','dd','isTarget','ignoreSelf','invalidCssClasses','addInvalidHandleClass','touchScroll','showTooltip','highlight','sch-dragproxy','constrainDragToResource','getMode','sch-dragdrop-tip','preventRightClick','cleanupListeners','setDelta','clearTicks','showExactDropPosition','resetConstraints','initPageX','initPageY','setXConstraint','setYConstraint','leftConstraint','rightConstraint','minX','maxX','setXTicks','constrainX','topConstraint','bottomConstraint','minY','maxY','setYTicks','constrainY','getEventBarElements','dragData','handleMouseUp','DragDropManager','originalHidden','setVisibilityForSourceEvents','enableCopy','enableCopyKey','Key','onShiftKeyStateChange','newResource','updateDragContext','getDateFromXY','sourceDate','origStart','shouldAdjustForRtl','setX','eventdrag','draggedRecords','getEventRecord','isAllDayDrop','vAdjustedPointerDate','getAllDayDisplayEndDate','scrollLeft','body','started','resolveEventRecord','resolveAssignmentRecord','isDraggable','isReadOnly','Resource could not be resolved for event: ','adjust','getConstrainRegion','getSnapPixelAmount','setupConstraints','getRelatedRecords','getElementsFromEventRecord','isAssignmentModel','eventBarEls','getElementById','copyKeyPressed','ddel','getDragElement','sch-event-hover','eventdragstart','viewScrollListener','onViewScroll','gridScrollListener','timelinetree,timelinegrid','deltaSetXY','getTargetCoord','_dd','setLocalXY','onDragOver','sch-event-copy','refElements','getKey','keydown','ESC','abortDrag','ddCallbackArgs','stopDrag','stopEvent','beforeeventdrag','triggerEvent','keyListener','onKey','getDoc','refElement','dragDropProxyCls','.sch-event','origEnd','offsets','afterDragFinalized','isCopyKeyPressed','timeDiff','hAdjustedPointerDate','EventStore','updateRecordsMultipleAssignmentMode','updateRecordsSingleAssignmentMode','copiedRecords','eventdrop','fullCopy','reassign','setAllDay','duration','skipWeekendsDuringDragDrop','adjustStartDate','isAssignedTo','unassign','elementFromPoint','block','grid-group-hd','grid-item','match','snapRelativeToEventStartDate','roundDate','.sch-schedulerview','resolveSchedulerView','pointerDate','resolveStartEndDates','getEventSelectionModel','getDraggableSelections','div','sch-dd-wrap','createDom','DomHelper','core','cloneNode','getOffsetsTo','cachedTarget','getDDById','DragDropMgr','isValidDrop','sch-before-drag-finalized','beforeeventdropfinalize','updateRecords','onInvalidDrop','onValidDrop','aftereventdrop','startsOutsideView','getDateFromTick','endsOutsideView','Sch.feature.DragDrop','eventDragZone','targetEl','dragConfig','cleanUp','Sch.patches.Grouping','6.5.2','Ext.grid.feature.Grouping','showMenuBy','createInterceptor','getMenuItems','getMenu','#groupMenuItem','groupable','dataIndex','getVisibleGridColumns','#groupToggleMenuItem','isGrouped','setChecked','Sch.feature.Grouping','feature.scheduler_grouping','{[this.renderCells(values)]}','<tpl for="."><div class="sch-grid-group-hd-cell {cellCls}" style="{cellStyle}; width: {width}px;"><span>{value}</span></div></tpl>','headerRenderer','value','&nbsp;','headerCellTpl','groupHeaderTpl','schedulerGroupHeaderTpl','renderCells','getRowId','retrieveNode','groupingFeature','isLockedView','getStoreListeners','onResourceAdd','onEventAddOrRemove','onEventUpdate','onAssignmentAddOrRemove','onAssignmentUpdate','getRecordGroup','refreshGroupHeader','refreshGrouping','getGroupField','ignoreCollectionAdd','refreshNode','Sch.widget.recurrence.ConfirmationDialog','Ext.window.MessageBox','widget.recurrenceconfirmationdialog','sch-recurrenceconfirmation','actionType','eventRecord','actionType and eventRecord must be specified for Sch.widget.recurrence.ConfirmationDialog','dialogCls','-title','-all-message','-further-message','QUESTION','MessageBox','dispatchHandler','buttonText','getButtonText','-all-btn-text','-further-btn-text','-only-this-btn-text','yes','no','multipleHandler','singleHandler','cancelHandler','getButtonHandler','handlerScope','changerFn','values','changerFnScope','setRecurrence','addExceptionDate','Sch.widget.RecurrenceConfirmation','Sch.feature.RecurringEvents','feature.scheduler_recurring_events','sch-recurringevents','setPanel','bindPanel','setView','setTimeAxis','refreshOccurrences','panelCls','stopTracking','viewReady','bindView','panelDetacher','onPanelEventStoreChange','onPanelDestroy','viewDetacher','onBeforeEventDropFinalize','onBeforeEventResizeFinalize','isRecurringEventStore','bindEventStore','startTracking','onEventsLoaded','onEventAdd','onGenerateOccurrencesStart','onGenerateOccurrencesEnd','onDelayedRegenerateOccurrencesStart','bindTimeAxis','timeAxisDetacher','onTimeAxisReconfigure','_fadeOutRemoval','fadeOutRemoval','suspendTracking','resumeTracking','generateOccurrencesForEventsBuffered','isTrackingSuspended','isRecurrenceRelatedFieldChange','regenerateOccurrencesForEventsBuffered','trackingSuspended','RecurrenceConfirmation','widget','Sch.feature.ResizeZone','Ext.resizer.Resizer','.sch-resizable-handle','resizer','eventRec','isResizable','handlePos','getHandlePosition','origEl','mouseDownEvent','tipInstance','sch-resize-tip','beforeeventresize','sch-event-resizing','createResizer','resizeTracker','getTipInstance','eventresizestart','east','west','north','south','n','getRight','getBottom','getTop','partialResize','afterResize','z-index','getStyle','isStart','getStartEndDates','showExactResizePosition','getEventColumns','weekview','otherEdgeX','maxWidth','otherEdgeY','maxHeight','eventpartialresize','beforeeventresizefinalize','repaintEventsForResource','eventresizeend','aftereventresize','Sch.field.CellEditor','Ext.form.field.Text','widget.celleditorfield','H','Start date is incorrect','End date is incorrect','Start date is less then end date','divider','bottomUnit','mergeDates','Sch.field.SegmentedButton','Ext.button.Segmented','widget.segmentedbuttonfield','Ext.form.field.Field','sch-segmentedbuttonfield','checkboxgroup','initField','initDefaultName','segmentedButtonFieldCls','change','onFieldChange','allowBlank','setValue','Sch.layout.TableLayout','Ext.view.TableLayout','layout.timeline_tablelayout','owner','ownerGrid','lockingPartner','collapsed','context','doSyncRowHeights','syncRowHeight','syncRowHeightOnNextLayout','columnFlusherId','-columns','rowHeightFlusherId','-rows','bufferedRenderer','beforeTableLayout','beginLayout','isRunning','componentLayout','lockingPartnerContext','rowHeightSynchronizer','syncRowHeightBegin','viewContext','headerContext','Sch.plugin.Zones','plugin.scheduler_zones','sch-zone','<tpl for="."><div id="{id}" class="{$cls}" style="',':{left}px;top:{top}px;height:{height}px;width:{width}px;{style}">','</div></tpl>','border-left-width:','border-top-width:','sch-header-indicator sch-header-indicator-','start ','end ','getZoneHeaderElementData','updateZoneHeaderElement','Sch.plugin.RowZones','scheduler','registerRenderer','<tpl for="."><div id="','-{id}" class="',' {Cls}" style="',':{start}px;width:{width}px;top:{start}px;height:{width}px;{style}">','{','}','fullRefresh','onZoneAdd','onZoneRemove','onZoneUpdate','getViewRecordByZone','getNode','grid-cell-inner','querySelector','getZoneContainerEl','appendZoneElement','getNodes','renderRecordZones','getEventRenderData','getRecordZones','isBoolean','Sch.plugin.ResourceZones','plugin.scheduler_resourcezones','sch-resourcezone','onResourceStoreChange','grid-cell:nth-child(',') .','Sch.mixin.AbstractSchedulerPanel','AbstractManager','Sch.crud.AbstractManager not loaded, did you forget to require crudManager class (e.g. Sch.data.CrudManager)?','xclass','isTree','Your eventStore should be a subclass of Sch.data.EventStore (or consume the EventStore mixin)','initStores','eventBodyTemplate','isVertical','refreshResourceColumns','verticalListeners','calendarResourceStoreListeners','refreshViews','allDayNormalHeader','applyStartEndParameters','passStartEndParameters','startParamName','setExtraParam','endParamName','resourceColumnClass','mainRenderer','registerEventEditor','Sch.template.Event','<div class="sch-resizable-handle sch-resizable-handle-DIR"></div>','<div class="sch-terminal sch-terminal-SIDE"></div>','getOuterMarkup','terminalSides','terminalTpl','<div unselectable="on" tabindex="-1" id="','eventPrefix','{id}" style="right:{right}px;left:{left}px;top:{top}px;height:{height}px;width:{width}px;{style}" class="sch-event ','unselectable {internalCls} {cls}">','resizeHandles','resizeTpl','<div unselectable="on" class="sch-event-inner">','<tpl if="iconCls"><i class="sch-event-icon {iconCls}"></i></tpl>','getInnerMarkup','{body}','Sch.view.Vertical','Ext.Element','[id^=','-]','query','getViewContainerElementTop','translateToScheduleCoordinate','getDateFromPosition','eventBorderWidth','getScheduleCell','getTableRegion','translateToPageCoordinate','getResourceColumnWidth','resourceColumnWidth','cellBorderWidth','cellTopBorderWidth','generateTplData','getResourceColumnLayoutAvailableWidth','eventLayout','&#160;','eventTpl','altColCls','cellCls','is','getResourceRecordFromDomId','timeCellSelector','relayoutRenderedEvents','renderSingle','isSelected','onEventBarSelect','repaintAllEvents','asap','isRangeInAxis','filterEventsForResource','getScheduledEventsForResource','node','eventrepaint','clientWidth','setViewColumnWidth','getViewContainerHeight','getResourceEventBox','managedEventSizing','getBox','adjustItemBox','Sch.mixin.AbstractSchedulerView','sch-schedulerview','sch-col-alt','sch-event-highlighted','sch-event','horizontalLayoutCls','verticalLayoutCls','eventCls','eventTemplateClass','eventResizeHandles','layoutEventVertically','horizontalEventSorterFn','verticalEventSorterFn',' sch-event-resizable-',' sch-dirty ',' sch-event-endsoutside ',' sch-event-startsoutside ',' sch-event-fixed ',' sch-event-milestone ','selectedEventCls',' sch-event-recurring ',' sch-event-occurrence ','isHighlighted','highlightDirtyEvents','highlightedEventCls','-calendar-','-x','internalCls','iconCls','eventBarIconClsField','getIconCls','eventRenderer','eventRendererScope','eventBarTextField','htmlEncode','getResourceRegion','getEventRecordFromDomElement','getFirstSelectedEventForResource','getResourceRecordFromDomElement','getEventIdFromDomNodeId','getEventRecordFromDomId','getResourceIdFromDomNodeId','isDateRangeAvailable','getEventsInTimeSpan','triggerHighlightEvents','getEventsInView','filterBy','highlightEvents','eventEditor','editor','toArray','beforeeventadd','onEventDataRefresh','onAssignmentAdd','onAssignmentRemove','refreshView','refreshKeepingScroll','AbstractSchedulerView::scrollEventIntoView() is not applicable for events with multiple assignments, please use AbstractSchedulerView::scrollResourceEventIntoView() instead.','scrollResourceEventIntoView','dynamicRowHeight','Sch.preset.ViewPreset','normalizeUnits','toUpperCase','headers','mainHeader','rowHeight','timeColumnWidth','timeRowHeight','timeAxisColumnWidth','displayDateFormat','Sch.preset.Manager','Ext.util.MixedCollection','G:i:s','30','i','D, gA/d','Y-m-d G:i','W M Y','Y-m-d','d/m','{0}','substring','<div class="sch-calendarcolumn-ct"><span class="sch-calendarcolumn-hours">{0}</span><span class="sch-calendarcolumn-minutes {2}">{1}</span></div>','sch-calendarcolumn-minutes-non-zero','D d','<div class="sch-calendarcolumn-ct"><span class="sch-calendarcolumn-hours">{0}</span><span class="sch-calendarcolumn-minutes">{1}</span></div>','registerDefaults','middleDateFormat','topDateFormat','bottomDateFormat','eachKey','containsKey','removeAtKey','Invalid preset, please check your configuration','defaultPresets','registerPreset','Sch.view.model.TimeAxis','headersDatesCache','ViewPreset','rowHeightVertical','availableWidth','Invalid available width provided to Sch.view.model.TimeAxis','forceFit','createHeaderRow','originalTickWidth','calculateTickWidth','Invalid column width calculated in Sch.view.model.TimeAxis','updateTickWidth','calendarColumnDates','align','trim','getDefaultValue','header',' sch-dayheadercell-','isWorkingDay',' sch-dayheadercell-nonworking',' sch-dayheadercell-today','getDurationInUnit','calendarRowsAmount','getCalendarColumnDates','weekViewColumnWidth','getUnit','getUnitToBaseUnitRatio','snapToIncrement','getResolution','getSingleUnitInPixels','tickWidth','getVisibleTickTimeSpan','getMeasuringUnit','suppressFit','rowHeightHorizontal','rowHeight info not available','columnwidthchange','forEachAuxInterval','Sch.mixin.Zoomable','manyYears','monthAndYear','weekDateAndMonth','weekAndMonth','weekAndDayLetter','weekAndDay','hourAndDay','minuteAndHour','secondAndMinute','zoomLevels','minZoomLevel','setMinZoomLevel','maxZoomLevel','setMaxZoomLevel','onTimelineReady','getZoomLevelUnit','actualWidth','presetToZoomLevel','calculateCurrentZoomLevel','getMilliSecondsPerPixelForZoomLevel',"Can't find current zoom level index",'Invalid range for `setMinZoomLevel`','Number','beforezoomchange','zoomToLevel','getOuterEl','centerDate','getViewportCenterDateCached','calculateOptimalDateRange','customWidth','isZooming','resolution','setViewPreset','zoomchange','leftMargin','rightMargin','adjustStart','adjustEnd','zoomToSpan','getCurrentZoomLevelIndex','zoomKeepsOriginalTimespan','visibleZoomFactor','zoomOnMouseWheel','wheel','onWheel','scrollWheelBlockTimeout','ctrlKey','preventScrollZoom','deltaY','zoomOut','zoomIn','Sch.mixin.AbstractTimelinePanel','applyViewPreset','_oldViewPresetArgs','calendarViewPreset','initializeZooming','viewchange','clearCenterDateCache','setupClearCenterDateCache','renderers','readRowHeightFromPreset','TimeAxis','autoAdjustTimeAxis','setRowHeight','onTimeAxisViewModelUpdate','refCount','onPanelDestroyed','sch-horizontal','sch-vertical','sch-vertical-resource','sch-calendar','sch-timelinepanel','You must define a valid view preset object. See Sch.preset.Manager class for reference','setReadOnly','cachedCenterDate','getViewportCenterDate','viewPresetActiveScroll','View preset not found','beforeviewchange','setDisplayDateFormat','L','infiniteScroll','cachedScrollDate','cachedScrollDateIsCentered','getViewRowHeight','setColumnWidth','notScroll','scrollVerticallyTo','6.2.0','normalScrollbarScroller','scrollHorizontallyTo','suspendLayouts','shiftNext','resumeLayouts','shiftPrevious','scrollToCoordinate','shiftToDate','scrollToDateCentered','Sch.view.Horizontal','getRowNode','cellBottomBorderWidth','rowHasDynamicRowHeight','findRowByChild','getRecordForRowNode','clientHeight','repaintEventsForResources','fadeOut','getGroups','groupField','isRowVisible','isElementRenderedAndDisplayed','getNodeContainer','getResultEventBox','startIndex','all','endIndex','getRowHeight','isAbove','relPos','after','Sch.mixin.AbstractTimelineView','Ext.dom.Query','sch-event-selected','.sch-timetd','sch-horizontal-view','sch-vertical-view','sch-calendar-view','horizontalViewClass','verticalViewClass','weekViewClass','showAllDayHeader','getDisplayDateFormat','stripEscapeRe','test','hourInfoRe','fitToAvailableWidth','getColumnCount','setResolution','setSnapToIncrement','readOnly','_cmpCls','-readonly','horizontalViewCls','weekviewViewCls','verticalViewCls','ViewCls','getVisibleDateRange','setViewRowHeight','getCellByPosition','getViewportHeight','getViewportWidth','getItemBox','getConnectorStartSide','getConnectorEndSide','%LICENSE%','Sch.mixin.FilterableTreeView','onFilterChangeStart','onFilterChangeEnd','allowExpandCollapseWhileFiltered','onFilterCleared','onFilterSet','prevBlockRefresh','blockRefresh','toggle','sch-tree-filtered','Sch.mixin.GridViewCanvas','afterOnRender','sch-secondary-canvas','sch-secondary-canvas-layer','sch-item-canvas','sch-item-canvas-layer','isItemCanvasAvailable','presentation','secondaryCanvasCls','getItemCanvasEl','itemsCanvasEl','_underMixinControl','isGarbage',"Can't get sub canvas element, view's node container isn't rendered yet",'itemsCanvasCls','insertFirst','[data-sch-secondary-canvas-layer="','"]','selectNode','Query','zIndex','itemsCanvasLayerCls','onBufferedRendererViewReady','6.5.3','tablepanel','onRangeFetched','Sch.mixin.PartnerTimelinePanel','partnerTimelinePanel','onLockedGridResize','getCollapsed','onPartnerCollapseExpand','setupScrollSync','onBeforeZoomChange','onViewChange','scrollstart','component','scrollend','getPosition','suspendPartnerSync','Sch.patches.Element_6_7','Ext.dom.Element','6.7.0','SVGAnimatedString','animVal','classList','classMap','isSynchronized','Sch.patches.NavigationModel6_0_2','Ext.grid.NavigationModel','6.0.2','column','_initializeTimelineView','scrollIntoView','ensureVisible','Sch.patches.View','Ext.view.View','keyEventRe','getNavigationModel','item','itemSelector','editingPlugin','getActiveEditor','processUIEvent','processSpecialEvent','isInputField','SPACE','isNavKeyPress','Sch.patches.Scroller_6_5','Ext.scroll.Scroller','6.5.0','6.5.1.9999','readPosition','positionDirty','isScrolling','fireScrollStart','fireScroll','bufferedOnDomScrollEnd','updateDomScrollPosition','Sch.patches.LayoutContext_6_5','Ext.layout.Context','currentLayout','Sch.patches.ToolTip','onTargetOver','onTargetOut','anchor','anchorTarget','afterSetPosition','anchorEl','syncAnchor','Sch.patches.AbstractView','Ext.view.AbstractView','patches/002_abstract_view.t.js','viewStyleSheet','cssRules','ownerNode','AbstractView','Sch.patches.SpreadsheetModel','Ext.grid.selection.SpreadsheetModel','6.6.0','cellSelector','getHeaderByCell','selected','checkCellClicked','lastOverRecord','setRangeStart','isDragging','extensible','changeSelectionRange','within','scrollTowardsPointer','Sch.patches.CellEditingPlugin','Ext.grid.plugin.CellEditing','8.0.1','disableBufferedRenderingSupport','editors','renderingRows','editing','cancelEdit','cacheElement','Sch.patches.TableScroller','Ext.scroll.TableScroller','restoreTimer','onDomScrollEnd','_partners','suspendSync','invokingPartners','axes','scroller','Sch.tooltip.EventTip','widget.scheduler_eventtip','Ext.Number','Ext.util.Format','Ext.util.Point','sch-tooltip-eventtip','t','7 -7 -7 7','onTipBeforeShow','getAnchorAlign','mouseOffset','anchorSize','tip-anchor-top','anchorToTarget','trackMouse','currentTarget','pointerEvent','getPoint','intersect','tl-br','bl-tr','tr-bl','br-tl','convertPositionSpec','axisLock','targetOffset','constrainPosition','constrainTo','isRegion','Region','constraintInsets','parseBox','Format','inside','triggerElement','window[modal=true]{isVisible()}','isDescendantOf','getActive','WindowManager','beforetooltipshow','getDataForTooltipTpl','tooltipTpl','allowOver','relatedTarget','Sch.mixin.TimelineView','longpress','keyup','afterrender','sch-timelineview','eventAnimations','sch-animations-enabled','scheduledEventName','resolveEventRecordFromResourceRow','overScheduledEventClass','setMouseOverEnabled','touchstart','setupTooltip','setupTimeCellEvents','rowSelector','handleScheduleBarEvent','handleResourceRowEvent','onEventMouseOver','onEventMouseOut','hoveredEventNode','preventOverCls','eventmouseenter','eventmouseleave','highlightedItem','overItemCls','tipCfg','timeAxisColumn','timeaxiscolumn','blockRestoringInfiniteScrollDate','resumeRestoringInfiniteScrollDate','handleScheduleEvent','grid-item-container','getNodeByRecord','findItemByChild','getScrollY','getHorizontalScroll','setConfig','rootInheritedState','getMaxPosition','getVerticalScrollableMaxHeight','getVerticalScroller','timelinegrid, timelinetree','scrollBy','getScrollIntoViewXY','offsetWidth','offsetHeight','Sch.view.TimelineGridView','Ext.grid.View','setupInfiniteScroll','6.0.1','Windows','os','onIdle','idle','GlobalEvents','calculateInfiniteScrollingDateRange','bindInfiniteScrollListeners','onHorizontalScroll','ignoreNextHorizontalScroll','bufferThreshold','bufferCoef','_translatable','translatable','stopAnimation','scrollStateSaved','boxIsReady','restoreScrollToCachedDate','scrollLeftPos','setScrollX','lastScrollPos','dd-drag-proxy','unbindInfiniteScrollListeners','Sch.patches.BoundList','Ext.view.BoundList',':htmlEncode}','Sch.patches.DragDropManager','Ext.dd.ScrollManager','Ext.dd.DragDropManager','dragCurrent','offsetX','startX','offsetY','startY','setPosition','currentPoint','dragThreshMet','clickPixelThresh','claimGesture','startDrag','b4Drag','moveOnly','fireEvents','innerWidth','isLocked','deltaX','notifyOccluded','CSSPointerEvents','isOpera','getDragEl','clientY','dragOvers','isTypeOfDD','isOverTarget','groups','ids','getZIndex','byZIndex','b4DragOut','onDragOut','onDragEnter','b4DragOver','b4DragDrop','onDragDrop','forceCachedTarget','onFire','createSequence','onStop','Sch.patches.NavigationModel','PAGE_DOWN','PAGE_UP','lastFocused','getVisibleColumnManager','cellFocusable','isNormalView','isIE11m','focus','Sch.view.WeekView','-calendar-]','getGridColumns','getColumnsBy','getColumnsByResource','getWeekViewColumnWidth','getColumnEvents','forEachEventRelatedSelection','getColumnsForDateRange','repaintEventsForColumn','isAncestor','getIndex','td:nth-child(',') [id^=','Sch.mixin.SchedulerView','Ext.Factory','eventPrefix missing','_destroy','_afterRender','onRowUpdated','clearRowHeightCache','loadingText','dragCreator','lockedGridDependsOnSchedule','cellIndex','data-cellIndex','pinch','eventSelModel','isSelectionModel','simpleSelect','SIMPLE','multiSelect','MULTI','SINGLE','eventSelModelType','assignmentmodel','eventmodel','allowDeselect','disableSelection','selection','Factory','bindToView','setupEventListeners','configureFunctionality','doResize','afterHeaderResized','itemupdate','ResizeZone','resizePlug','allowOverlap','resizeValidatorFn','resizeConfig','enableEventDragDrop','DragDrop','scheduler_split','findPlugin','dragdropPlug','dndValidatorFn','enableDragCreation','createValidatorFn','createConfig','createEventOnDblClick','doCreateEventOnDblClick','mainScheduler','getEventEditor','allDayField','onEventCreated','showRecord','disableViewScroller','onDragDropStart','onDragDropEnd','onBeforeDragCreate','onDragCreateStart','onDragCreateEnd','onAfterDragCreate','onBeforeResize','onResizeStart','onResizeEnd','origWidth','dragHd','columnRenderer','scrollElementIntoView','scrollTask','getPath','Sch.view.SchedulerGridView','widget.schedulergridview','SchedulerView','Sch.selection.EventModel','Ext.selection.Model','selection.eventmodel','Ext.util.KeyNav','getSelectionStore','onEventClick','onEventMouseDown','onItemMouseDown','onSelectionStoreLoad','deselectAll','selectedOnMouseDown','ignoreRightMouseSelection','selectWithEvent','deselectOnContainerClick','deselect','onEventBarDeselect','getSelection','getSelected','isCollection','isBag','isRows','getSource','refreshing','suspendChanges','pruneRemoved','clearSelections','doSelect','lastSelected','resumeChanges','updating','maybeFireSelectionChange','Sch.selection.AssignmentModel','selection.assignmentmodel','onAssignmentStoreRemove','onAssignmentStoreClear','onAssignmentStoreRefresh','resolveAssignmentRecordFromEventNode','Sch.mixin.SchedulerPanel','Sch.panel.AllDayHeader','sch-schedulerpanel','eventclick','eventlongpress','eventmousedown','eventmouseup','eventdblclick','eventcontextmenu','eventkeydown','eventkeyup','normalViewConfig','getDependencyViewConfig','calendarListeners','refreshCalendarColumns','calendarNormalGridListeners','onCalendarColumnResize','onCalendarResourceStoreChange','enableDependencyDragDrop','recurringEvents','isInstance','setGroupingFeatureDisabled','addDockedAllDayHeader','onLockedViewResize','resourceZones','resourceZonesPlug','resourceZonesConfig','plugin','onColWidthChange','relayedViewEvents','enableRowHeightInjection','sch-scheduler-with-dependencies','scheduler_resourcenamecolumn','verticalColumns','verticaltimeaxis','timeAxisColumnCfg','calendarColumns','calendarTimeAxisCfg','weekViewTimeAxisCfg','columns','createResourceColumns','group','bindGroupingFeatureListener','orientation','reconfigureBufferedRendering','normalGrid','doSuspendLayouts','doResumeLayouts','onNormalViewItemUpdate','selectionchange','handleTimelineKeyEvent','isIE11','handleTimelineEventClick','destroyStores','destroyDockedAllDayHeader','getLocalX','onBeginReconfigure','onEndReconfigure','{%','this.processCellValues(values);','this.nextTpl.applyOut(values, out, parent);','%}','embedRowHeight','addCellTpl','hasCustomRenderer','horizontalColumns','getNumberOfBands',';height:','px;','columnManager','createCalendarRows','createCalendarColumns','processStore','dataSource','refreshGroupingStore','Mode is undefined','beforemodechange','suspendRefresh','unbindGroupingFeatureListener','configureHorizontalMode','configureVerticalMode','configureWeekViewMode','resumeRefresh','getSplitter','setVisible','modechange','horizontalCls','weekviewCls','verticalCls','horizontalLockedWidth','gridcolumn','allDayLockedHeader','sch-all-day-locked-header','unselectable','addDocked','alldayheader','__oldLeadingBufferZone','leadingBufferZone','getLockedScroller','trailingBufferZone','setViewSize','getRowTicks','weekViewColumnClass','text','updateCalendarColumnDates','syncRowHeights','Sch.plugin.CurrentTimeLine','plugin.scheduler_currenttimeline','sch-todayLine','tooltipText','autoUpdate','updateDate','updateInterval','Sch.patches.LockingScroller','getNormalScroller','TimelineGridPanel','TimelineTreePanel','Sch.plugin.NonWorkingTime','plugin.scheduler_nonworkingtime','Gnt.feature.WorkingTime',"Required attribute 'calendar' missed during initialization of 'Sch.plugin.NonWorkingTime'",'bindCalendar','isUnitGreater','getHolidaysRanges','Sch.mixin.TimelinePanel','Ext.grid.plugin.BufferedRenderer','Ext.layout.container.Border','Sch.patches.TablePanel_6_2_1','Sch.patches.TableView','Sch.patches.BufferedRenderer','Sch.patches.BufferedRenderer_6_2_1','Sch.patches.CellContext','Sch.patches.TimelineGridView','Sch.patches.TimelineGridViewScroll6_2','Sch.patches.TimelinePanel','Sch.patches.TouchAction','sch-tip','border','configureChildGrids','configureColumns','6.0.2.437','viewConfig','timeline_tablelayout','-timelineview','autoGenId','sch-lockedview','sch-locked-column-fixer','sch-rtl','sch-ltr','plugins','highlightWeekends','workingTimePlugin','sch-timelinepanel-highlightweekends','showTodayLine','todayLinePlugin','patchNavigationModel','refreshHeaderContainerScrollable','bindAutoTimeSpanListeners','getTimeSpanDefiningStore','applyStartEndDatesFromStore','forceDefineTimeSpanByStore','columnLines','columnLinesFeature','scheduleclick','scheduledblclick','schedulecontextmenu','schedulelongpress','schedulepinch','schedulepinchstart','schedulepinchend','showCrudManagerMask','beforeCrudOperationStart','onCrudOperationComplete','onCrudBeforeLoad','onCrudLoad','patchHeaderScrollSync','afterInitComponent','isConfiguring','refreshAxes','zoomMinLevel','zoomMaxLevel','currentZoomLevel','waitingForAutoTimeSpan','unbindAutoTimeSpanListeners','setupPartnerTimelinePanel','onNormalGridCollapse','onNormalGridExpand','onHeaderClick','.sch-daycolumn-header','onLockedGridCollapse','onLockedGridExpand','onLockedGridItemDblClick','enablePinchZoom','onSchedulePinchStart','onSchedulePinch','onSchedulePinchEnd','rootchange','nodeappend','applyStartEndDatesAfterTreeAppend','Abstract method called','getTotalTimeSpan','column-header','Day','switchToDayViewOnWeekDayHeaderDblClick','locked','"Right" columns must have a fixed width','lockable','erase','variableRowHeight','horizontalTimeAxisColumnCfg','reExpander','placeholder','savedWidth','getPlaceholder','sch-normalgrid-collapsed','savingText','setLoading','renderWaitListener','pinchStartDistanceX','pageX','pinchStartDistanceY','pageY','pinchDistanceX','pinchDistanceY','schedulePinchThreshold','focusItem','focusCls','hasCls','rowclick','rowIdx','getHeaderContainer','syncWithPartners','patchHeaderScrollSyncDetacher','storechange','lockedGridConfig','normalGridConfig','schedulerConfig','lockedXType','xtype','normalXType','viewType','syncLockedWidth','scrollerOwner','setupLockableFilterableTree','sch-timelinepanel-splitter','cellclick','onNormalGridCellClick','zoomOnTimeAxisDoubleClick','getSelectionModel','splitter','child','FilterableTreeView','#unlockItem','#lockItem','prev','fitColumns','setScrollY','refreshSuspensionCount','beforerefresh','preventRefresh','The Ext JS version you are using needs to be updated to at least ','ignore','Sch.panel.TimelineGridPanel','Ext.grid.Panel','widget.timelinegrid','gridpanel','TimelinePanel','Sch.template.DependencyInfo','<dl class="sch-dep-tip"><tpl if="!values.dependency"><div class="','fa {[values.valid ? \'fa-check-circle sch-dep-tip-valid\' : \'fa-times-circle sch-dep-tip-invalid\']}"></div></tpl><dt class="sch-dep-tip-from-title">__FROM__:</dt><dd class="sch-dep-tip-from-value">{[Ext.htmlEncode(values.fromTask.getName()) || "&nbsp;"]}</dd><dt class="sch-dep-tip-to-title">__TO__:</dt><dd class="sch-dep-tip-to-value">{[values.toTask && Ext.htmlEncode(values.toTask.getName()) || "&nbsp;"]}</dd></dl>','toText','fromText','Sch.view.dependency.Tooltip','sch-dependency-tip','.sch-dependency','getPrimaryView','dependencyView','tpl','getDependencyForElement','Sch.view.dependency.DropZone','Ext.dd.DropZone','terminalSelector','tplData','createTooltip','fromId','fromSide','isValidLink','showBy','sch-terminal-','invalid','-drop','tipTpl','sch-dependency-tip sch-create-dependency-tip','sch-terminal-valid-drop','sch-terminal-invalid-drop','createDependencyModel','drop','afterdrop','Dependency','setFromSide','setToSide','getTypeFromSides','isValidDependency','destroyTip','Sch.view.dependency.DragZone','schdependencydragzone.default','Ext.mixin.Factoryable','dropZone','createDropZone','onDependencyDragStart','onDependencyAfterDrop','getDropZoneConfig','dependency','ddGroup','lineProxyEl','sch-dependency-connector-proxy','top:','scrollingElement','getBoundingClientRect','scrollTop','pow','sqrt','atan2','PI','rotate(','rad)','beforedrag','createElement','sourceTerminal','useLineProxy','initLineProxy','sch-terminal-hidden','.sch-terminal:not(.','updateLineProxy','sch-terminals-visible','animationDuration','animate','repairXY','Sch.util.RectangularPathFinder','schpathfinder.rectangular','getConfig','startBox','endBox','startShift','endShift','startSide','endSide','startArrowSize','endArrowSize','startArrowMargin','endArrowMargin','horizontalMargin','verticalMargin','startHorizontalMargin','startVerticalMargin','endHorizontalMargin','endVerticalMargin','otherBoxes','normalizeSide','getConnectionCoordinatesFromBoxSideShift','calcGridBaseBoxFromBoxAndDrawParams','buildPathGrid','convertDecartPointToGridPoint','findPathOnGrid','prependPathWithArrowStaffSegment','appendPathWithArrowStaffSegment','optimizePath','numericSortFn','xs','ys','points','permitted','waveForward','collectPath','ix','iy','distance','getGridPointNeighbors','x1','y1','x2','y2','sideToSide','Sch.template.Dependency','<tpl if="startArrow"><div style="__SIDE__:{startArrow.side}px;top:{startArrow.top}px" class="sch-dependency sch-dependency-arrow sch-dependency-start-arrow sch-dependency-arrow-{startArrow.dir} {lineCls} {[ this.getSuffixedCls(values.cls, "-arrow") ]} {[ values.highlighted || "" ]}" <tpl if="dependencyId">data-sch-dependency-id="{[values.dependencyId]}"</tpl>></div></tpl><tpl for="segments"><div class="sch-dependency sch-dependency-line sch-dependency-line-{dir} {parent.lineCls} {[ parent.highlighted || "" ]} {[ this.getSuffixedCls(parent.cls, "-line") ]}" style="__SIDE__:{side}px;top:{top}px;<tpl if="width !== null && width !== undefined">width:{width}px;</tpl><tpl if="height !== null && height !== undefined">height:{height}px</tpl>" <tpl if="parent.dependencyId">data-sch-dependency-id="{parent.dependencyId}"</tpl>></div></tpl><tpl if="endArrow"><div style="__SIDE__:{endArrow.side}px;top:{endArrow.top}px" class="sch-dependency sch-dependency-arrow sch-dependency-end-arrow sch-dependency-arrow-{endArrow.dir} {lineCls} {[ this.getSuffixedCls(values.cls, "-arrow") ]} {[ values.highlighted || "" ]}" <tpl if="dependencyId">data-sch-dependency-id="{dependencyId}"</tpl>></div></tpl>','$1','Sch.view.dependency.Painter','schdependencypainter.default','data-sch-dependency-id','pathFinder','getPathFinderConfig','createPathFinder','getLineTpl','getRtl','setLineTpl','resetRowIntersectionCache','XTemplate','RectangularPathFinder','getCanvasCls','getUseDependencyRowIntersectionCache','filterByRowIntersections','generatePaintMarkup','innerHTML','syncContent','beforeEnd','insertHtml','getLineDefsForDependencies','path','findPath','getLineTplData','[','dependencyIdAttr','="','getDom','Zero height dependency line boxes detected','getRealLineThickness','lineCls','dependencyId','highlighted','getSegmentDir','convertSideToDir','getDateRange','getViewStartDate','getViewEndDate','allInRowIntersectionCache','isInRowIntersectionCache','isDependencyInTimeSpan','getIndexForCache','rowIntersectionCache','cachedDependencies','keys','Not implemented for scheduler with multi assignment','getTaskStore','addToRowIntersectionCacheIfNotPresent','createLineDef','getHorizontalMargin','getVerticalMargin','getBidirectional','getStartArrowMargin','getStartArrowSize','getEndArrowMargin','getEndArrowSize','getFromSide','getToSide','Invalid dependency type: ','from','to','-rtl','sideToDir','Sch.view.dependency.renderingstrategy.Abstract','Method is not allowed to call at this state','canDrawDependencies','_depsToRender','_depsRendered',"Can't render unstorred dependency",'{isHidden()}','_scheduledRenderDetacher','scheduledRender','_fsaState','_scheduledRenderCancelId','rendering-start','hasListeners','_renderPromise','_renderPromiseResolve','_renderPromiseReject','isDependencyCanvasPresent','getDependencyCanvas','paint','getPainter','getElementsForDependency','resolve','Promise',"Can't render unstored dependency",'delegateRendering','Delegate rendering result must be an array','Delegate rendering result array length must be 2','rendering-progress','rendering-complete','rendering-canceled','asapCancel','sch_dependency_rendering_strategy.abstract','Ext.mixin.Observable','then','Sch.view.dependency.renderingstrategy.Combined','sch_dependency_rendering_strategy.combined','bulk','delegateRenderingBulk','delegateRenderingAsync','getDepsPerStep','Sch.view.dependency.View','schdependencyview.base','Ext.dom.CompositeElementLite','sch-dependencyview-ct','sch-dependency-selected','sch-dependency-over','Dependency view requires a primary view to be configured in','Dependency view requires `Sch.mixin.GridViewCanvas` mixin to be mixed into scheduling view, or the corresponding interface to be implemented','isFunctionProp','painter','getPainterConfig','createPainter','resetPainterCache','updatePainterCache','startDrawDependencies','getEnableDependencyDragDrop','dragZone','-dep-dd','.sch-terminal','getDragTipTpl','getDragZoneConfig','createDragZone','onDependencyDrop','getShowTooltip','getTipTpl','stopDrawDependencies','primaryViewDetacher','primaryViewLockableDetacher','primaryViewElDetacher','renderingStrategy','getDrawDependencies','isDependencyCanvasAvailable','createRenderingStrategy','getPrimaryViewListeners','getPrimaryViewElListeners','ownerLockable','getPrimaryViewLockableListeners','getDependencyStoreListeners','renderAllDependencies','destroyRenderingStrategy','destroyDetachers','destroyDependencyCanvas','getAsyncRenderingDepsPerStep','Combined','renderingstrategy','getBulkRenderingDependencyLimit','onPrimaryViewItemAdd','onPrimaryViewItemRemove','onPrimaryViewItemUpdate','onPrimaryViewRefresh','onPrimaryViewExpandBody','onPrimaryViewCollapseBody','onPrimaryViewEventRepaint','onPrimaryViewDependencyElPointerEvent','onDependencyStoreAdd','onDependencyStoreRemove','onDependencyStoreUpdate','onDependencyStoreRefresh','onDependencyStoreClear','Painter','DragZone','getCanvasLayer','isItemCanvasPresent','getCanvasSpecification','updateDependencies','renderDependencies','clearDependencies','getElementDependencyInternalId','getSelectedCls','unhighlight','getHighlightedDependencies','getOverCls','mouseover','mouseout','maybeSwitchRenderingStrategy','.sch-terminal-hidden','Sch.view.dependency.Mixin','initComponent','setupDependencyView','dependencyViewConfig','View','dependencyViewRelayDetacher','dependencyDragRelayDetacher','createDependencyView','setupDependencyViewRelay','dependencyviewready','getDependencyView','dependencyclick','dependencydblclick','dependencycontextmenu','dependencymouseover','dependencymouseout','Sch.panel.SchedulerGrid','widget.schedulergrid','widget.schedulerpanel','Sch.SchedulerPanel','schedulergridview','SchedulerPanel','Sch.view.AllDayMode','Sch.view.AllDay','isCalendarContext','additionalEventCls','getColor',';background-color: ','sch-all-day-header','resourcestore','dayAndWeek','G','relayedConfigs','mainSchedulerTimeAxis','mainSchedulerView','onMainTimeAxisReconfigure','onSchedulingViewUpdate','syncTimeAxisSpan','syncScroll','fixEventSelection','oldHeaderCtLayout','roundFlex','layout','onContainerGridAfterLayout','storedColumnWidth','resetStoredColumnWidth','syncLockedHeaderComponent','lockedHeaderPartner','getDesiredComponentHeight','lastTimeTdHeight','normalView','addPartner','clearPartnerSelection','clearSelection','getSelectionMode','Sch.panel.TimelineTreePanel','widget.timelinetree','treepanel','Sch.panel.SchedulerTree','widget.schedulertree','Sch.panel.SchedulerTree only support horizontal mode','refreshCounter','scrollable','getSpacerXY','scrollHeight','bufferedrefresh','bodyHeight','isIE8','getBorderWidth','bodyTop','elements','viewClientHeight','teleported','numFromEdge','lastScrollDirection','offsetTop','getFirstVisibleRowIndex','Ext.grid.CellContext','isGreaterThanOrEqual','Sch.patches.DateField','Ext.form.field.Date','6.5.1.345','rawDate','onTabOut','Sch.patches.DragZoneDupIds','https://www.sencha.com/forum/showthread.php?338467-DragZone-duplicates-DOM-ids-which-leads-to-error-if-one-Ext-get()s-duplicated-element','patches/005_dragzone_dup_ids.t.js','Drag zone clones dragged element into drag status proxy without substituting cloned element id, thus we might','hit the case when there are two or more elements with the same id in the DOM. If such original element has been','accessed before via Ext.get(), i.e. it is cached in Ext.dom.Element cache, then accessing the similar element','inside drag proxy with Ext.get() will lead to duplicate ids exception thrown from Ext.get()','onStartDrag','Sch.patches.Element','pxRe','offsetParent','Sch.patches.Element_6_5','isIE11p','Sch.patches.TablePanelScroll6.2','Ext.panel.Table','resumePartnerSync','ensureLockedVisible','isEntity','callback','deferredEnsureVisible','doEnsureVisible','getCellSelector','Ext.view.Table','Ext.dom.TouchAction','onTouchEnd','TouchAction','Sch.plugin.CellPlugin','plugin.scheduler_cellplugin','Ext.form.field.Base','sch-cellplugin-highlighter','sch-cellplugin-highlighter-editing','sch-cellplugin-active','<div class="{cls}" style="width: {width}px; height: {height}px;">','<div class="sch-cellplugin-border sch-cellplugin-border-horizontal sch-cellplugin-border-top"></div>','<div class="sch-cellplugin-border sch-cellplugin-border-horizontal sch-cellplugin-border-bottom"></div>','<div class="sch-cellplugin-border sch-cellplugin-border-vertical sch-cellplugin-border-left"></div>','<div class="sch-cellplugin-border sch-cellplugin-border-vertical sch-cellplugin-border-right"></div>','schedulingView','lockedView','keyNav','itemkeydown','onKeyUp','onKeyDown','onKeyRight','onKeyLeft','onKeyTab','onKeyEnter','onKeyEsc','itemadd','onItemAdd','handleSingleClickTask','handleCellClick','onContainerClick','destroyHighlighter','onCellClick','onCellDblClick','onEventDblClick','onEditorKeyDown','onGroupCollapse','onGroupExpand','moveContainerElToSecondaryCanvas','onViewModelUpdate','onBeforeReconfigure','bindResourceStore','onLockedCellClick','onBeforeItemKeyDown','tickIndex','shiftKey','editPrevious','editNext','TAB','onEditorKeyEnter','ENTER','completeEdit','beginEditBelow','getEventOrCell','showEditorInCell','getResourceIndex','refreshCell','resource','isSpecialKey','renderElement','Base','form','setMaxWidth','frameCls','.sch-cellplugin-clone','selContext','sch-cellplugin-clone','frameTemplate','Helper','Element','setVisibilityMode','applyVisibilityMode','inputEl','dblClickTimeout','delay','singleClickEditing','handleCellDblClick','celldblclick','resourceIndex','isCellContext','getCellEvents','beforeselect','onBeforeSelect','addSelection','alignEditor','onAfterSelect','getContextFromPosition','alignEditorWithRecord','alignEditorWithCell','alignEditorToBox','getRow','moveUp','moveDown','moveLeft','moveRight','walkRecs','sortBy','findPreviousIndex','findNextIndex','eventIndexInCell','stripPosition','getNbrOfTicks','getAbove','getBelow','getPrevious','__oldHeight','expandResourceRow','getNewBottomEditorCoordinate','beforecelledit','.sch-cellplugin-border','editingCls','getResourceRecord','recordNode','getMaxWidth','begincelledit','getValue','beforecancelcelledit','stopEditing','cancelcelledit','beforecompletecelledit','completecelledit','collapseResourceRow','Sch.plugin.DragSelector','plugin.scheduler_dragselector','onBeforeStart','onStart','onEnd','setCmp','onSchedulingViewRender','bodyRegion','getEventNodes','eventData','sm','updateSelection','region','deselectNode','setDisplayed','initEl','sch-drag-selector','Sch.plugin.mixin.Editor','beforeShowRecord','beforeEditorHide','afterShowRecord','sch-event-editor-ignore-click','normal','saveOnEnter','saveAndCloseOnEnter','setRecurringEvents','onCmpAfterRender','onCmpEventStoreChange','onCmpResourceStoreChange','onAfterEventAdd','onAfterEventSave','onAfterEventDelete','hideDragProxy','onActivateEditor','addRepaintListener','isSchedulerGrid','isSchedulerTree','eventRepaintListener','onEventRepaint','setRecord','alignToEl','alignEditorToElement','loadRecord','isEventEditor','scrollNewEventIntoView','scrollEventIntoView','hideEditor','isWindow','hideOnBlur','mouseDownAction','registerEditorInComponent','dragProxyEl','getFloatingComponents','ignoreCls','isEventWithinComponent','ignoreCheckMaxDepth','mask','getSelectorToAlignEditorBy','Sch.widget.mixin.CustomizableRecordForm','customizableRecordForm','beforeCustomizableRecordLoad','beforeCustomizableRecordUpdate','afterCustomizableRecordUpdate','customizableFieldNames','renameCustomizableFieldNamesOnce','customizableFieldNamesRenamed','renameCustomizableFieldNames','extractCustomizableFieldNames','getForm','findField','hiddenfield','getFieldValues','buildMissingCustomizableRecordField','updateAllFields','autogeneratedFieldsToRemove','addMissingCustomizableRecordFields','Sch.widget.recurrence.field.FrequencyComboBox','Ext.form.field.ComboBox','widget.frequencycombo','<ul class="','list-plain">','<li class="','boundlist-item {cls}">{text}</li>','</ul>','local','emptyText','buildOptions','Sch.widget.recurrence.field.RecurrenceComboBox','widget.recurrencecombo','L{None}','custom','sch-recurrencecombo-split','customValue','splitCls','isCustomRecurrence','Sch.widget.recurrence.LegendButton','Ext.button.Button','widget.recurrencelegendbutton','refreshLegend','getLegend','Legend','setText','Sch.widget.recurrence.field.PositionsComboBox','Ext.data.ArrayStore','widget.positionscombobox','sch-recurrenceformpositions-split','1','defaultValue','-1','position-1','buildDayNumbers','findExact','Sch.widget.recurrence.field.DaysComboBox','widget.dayscombo','sch-recurrenceformdays-split','buildWeekDays','Sch.widget.recurrence.field.DaysSegmentedButton','widget.dayssegmentedbutton','0 0 10 0','buildItems','Sch.widget.recurrence.field.MonthDaysSegmentedButton','widget.monthdayssegmentedbutton','MAX_DAYS_IN_MONTH','Sch.widget.recurrence.field.MonthsSegmentedButton','widget.monthssegmentedbutton','Sch.widget.recurrence.field.StopConditionComboBox','widget.stopconditioncombo','sch-combo-with-no-value','Sch.widget.recurrence.Form','Ext.form.Panel','Ext.layout.container.HBox','Ext.layout.container.VBox','Ext.form.field.Display','Ext.form.field.Number','Ext.form.field.Radio','widget.recurrenceform','vbox','stretch','radio','checkbox','Recurrence','setupCustomizableRecordForm','frequencyField','frequencycombo','onFrequencyFieldChange','intervalField','numberfield','0 5 0 0','intervalUnit','displayfield','daysButtonField','dayssegmentedbutton','daysField','monthDaysRadioField','radiofield','radioFieldName','togglePositionAndDayFields','monthdaysButtonField','monthdayssegmentedbutton','monthDaysField','monthsButtonField','monthssegmentedbutton','monthsField','positionAndDayRadioField','positionAndDayCheckboxField','checkboxFieldName','stopRecurrenceField','stopconditioncombo','onStopRecurrenceFieldChange','countField','countUnit','countFieldContainer','fieldcontainer','hbox','datefield','intervalContainer','positionsCombo','positionscombobox','positionsField','MONTHLY|YEARLY','daysCombo','dayscombo','positionDayContainer','[forFrequency]','forFrequency','toggleStopFields','Sch.widget.recurrence.Dialog','Ext.window.Window','widget.recurrencedialog','sch-recurrencedialog','L{Repeat event}','recurrenceDialogCls','recurrenceform','10 10 0 10','buttons','onSaveClick','onCancelClick','saveHandler','updateRecord','close','pickerfield','getPicker','[floating]','Sch.widget.recurrence.EventEditorMixin','Ext.form.field.Hidden','getRecurrableEventDefaultFields','getRecurrableEventFloatingComponents','onRecurrableEventLoad','onRecurrableEventBeforeDelete','onRecurrableEventBeforeSave','onEditorDestroy','recurrenceDialog','recurrenceRule','recurrenceCombo','recurrencecombo','onRecurrenceComboChange','recurrenceLegendButton','recurrencelegendbutton','onRecurrenceLegendClick','recurrencedialog','recurrenceDialogSaveHandler','recurrenceDialogCancelHandler','onRecurrableEventStartDateChange','delete','showRecurrenceDialog','getStartDateValue','captureRecurrence','makeRecurrence','capturedRecurrence','loadingRecord','inOnRecurrenceUpdate','onRecurrenceUpdate','getCapturedRecurrence','setEventStartDate','Sch.widget.EventEditor','widget.eventeditorform','plugin.scheduler_eventeditorform','Ext.form.Label','Ext.form.field.Time','Ext.Button','sch-eventeditor','EventType','eventeditorCls','setupRecurrableEventEditorMixin','buildButtons','container','defaultFields','5 5 5 5','100%','getDefaultFields','fieldsPanelConfig','#defaultFields','tagName','input','save','suspendDateFieldsChange','startTimeField','endTimeField','resumeDateFieldsChange','toggleAllDayFields','-name-field','textfield','nameText','nameFieldConfig','showResourceField','resourceField','-resource-field','combo','resourceText','resourceFieldConfig','merge','-all-day-field','checkboxfield','allDayText','onAllDayChange','allDayFieldConfig','-start-date-field','startDateText','onDatesChange','startDateConfig','-start-time-field','-timefield','timefield','timeFormat','0 0 0 10','startTimeConfig','-end-date-field','endDateText','endDateConfig','-end-time-field','endTimeConfig','saveButton','deleteButton','suspendCheckChange','reset','isNewRecord','setResourcesValue','currentForm','typeField','dynamicForm','> form[EventType]','> form[EventType=',"Can't find form for with EventType equal to ",'setActiveItem','getLayout',"Can't switch active component in the 'fieldsPanel'",'loadevent','setHidden','fieldId','-picker','valueField','displayField','setDisplayTpl','setStore','doSave','beforeeventsave','isSavingEvent','onBeforeSave','assignResourcesToEvent','aftereventadd','aftereventsave','onAfterSave','[isFormField]:not([excludeForm])','isHidden','combineDateAndTime','getResourcesValue','getEndDateValue','deleteEvent','doDeleteEvent','beforeeventdelete','aftereventdelete','saveText','showDeleteButton','deleteText','onDeleteClick','cancelButton','cancelText','Sch.plugin.EditorWindow','widget.scheduler_editorwindow','plugin.scheduler_editorwindow','sch-eventeditor-window','fit','eventeditorform','editorConfig','initEditor','[floating=true]','floatAboveFloatingContainer','addIgnoreCls','setTitle','tl-tr','?','setZIndex','Sch.plugin.EventEditor','widget.eventeditor','plugin.scheduler_eventeditor','sch-eventeditor-floating-container','floatingCls','bl','Sch.plugin.EventTools','Ext.Container','plugin.scheduler_eventtools','b-t','tool','sch-tool','sch-tool-over','Must define an items property for this plugin to function correctly','sch-event-tools','defaultAlign','onOperationStart','onOperationEnd','onEventMouseEnter','onContainerMouseLeave','onContainerMouseEnter','hideTimer','clearTimeout','targetNode','visibleFn','hideDelay','Sch.plugin.exporter.AbstractExporter','abstractexporter','<div class="sch-export-header" style="height:{height}px; width:{width}px"><h2>{pageNo}/{totalPages}</h2></div>','<!DOCTYPE html><html class="','border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{title}</title>{styles}</head><body class="','webkit sch-export {bodyClasses}">{header}<div id="{id}" class="{componentClasses}" style="height:{bodyHeight}px; width:{totalWidth}px; position: relative !important">{HTML}</div>{footer}</body></html>','pageHeaderHeight','headerHeight','pageFooterHeight','footerHeight','exporterId','getUserHeaderTplData','getUserFooterTplData','tableSelector','collectRowsStepTimer','collectRowsTimer','scrollToTimer','timer1','timer2','headerTpl','getTplInstance','footerTpl','isTemplate','ie\\d?|','gecko','g',' sch-ie-export','getComponent','lockedBodySelector','#','normalBodySelector','lockedHeader','normalHeader','printHeight','paperHeight','showHeader','exportConfig','showFooter','saveComponentState','initDependencyPainter','landscape','paperWidth','getBufferedRenderer','range','complete','dateFrom','dateTo','current','completedata','ticks','getTicks','rowsRange','findVisibleRowsRange','getTranslateURLsToAbsolute','link[rel="stylesheet"], style','origin','href','setAttribute','outerHTML','styleSheet','<style type="text/css">','cssText','</style>','AbstractTimeSpan','setTimeColumnWidth','lockedBox','suspendInfiniteScroll','_renderDelay','forEachTimeSpanPlugin','normalBox','setComponentRange','cellSize','setCellSize','beforeExport','prepareColumns','expandAllBeforeExport','expandAll','fitComponentIntoPage','stylesheets','getStylesheets','depViewBeforeRefreshDetacher','updateCanvasLayer','depView','restoreComponentState','restoreInfiniteScroll','afterExport','restoreSettings','columnWidth','normalWidth','normalLeft','lockedWidth','lockedCollapse','normalCollapse','restoreComponentScroll','lockedScrollX','normalScrollX','scrollY','Sch.plugin.exporter.AbstractExporter: [extractPages] "callback" has to be provided.','enableGarbageCollector','GarbageCollector','normalRows','lockedRows','extractedPages','numberOfPages','lockedRowsHeight','normalRowsHeight','firstExportedRowOffset','secondaryCanvasOffset','_abort','setPaperSize','setComponent','prepareComponent','callbacks','collectRows','collectRowsTimerTimeout','renderPages','restoreComponent','submitPages','Sch.plugin.exporter.AbstractExporter: [getExpectedNumberOfPages] Abstract method called.','preparePageToCommit','beforecommitpage','getExpectedNumberOfPages','commitpage','fillRecordRelatedBoxes','onRowsCollected','Sch.plugin.exporter.AbstractExporter: [onRowsCollected] Abstract method called.','iterateTimeout','canStartRowsCollecting','depViewRefreshBlocker','isBuffered','initFirstExportedRowOffset','collectRowsStep','iterateAsync','getScrollTop','getRowVisibilityThreshold','collectLockedRow','collectNormalRow','collectrows','callAsync','html','applyPageTpl','getPageTplData','getTpl','getHeaderTpl','headerTplDataFn','headerTplDataFnScope','getHeaderTplData','src','img','getFooterTpl','footerTplDataFn','footerTplDataFnScope','getFooterTplData','getBodyClasses','getComponentClasses','applyHeaderTpl','applyFooterTpl',' of ','getCurrentPage','getItemSelector','getLockedGridBody','fillLockedGrid','fillNormalGrid','emptyLockedGrid','appendRows','emptyNormalGrid','getNormalGridBody','row','getTotalHeight','bufferedHeightMargin','getLockedGridWidth','box-inner','.sch-secondary-canvas','.sch-remove','0px','transform','.sch-column-line','-targetEl','-innerCt','grid-scroll-container','grid-scroll-body','overflow-y','grid-view','margin','grid-scroll-container ','scroller-spacer','setCurrentPage','_oldStart','_oldEnd','_oldScrollX','eventBoxes','exporter','dependencyPainter','clonePainter','dependencyPainterMembers','dependenciesHtml','Sch.plugin.exporter.SinglePage','singlepage','getTotalSize','px*','startPage','fillGrids','commitPage','onPagesExtracted','.sch-zone','.sch-dependencyview-ct','overflow','Sch.plugin.exporter.MultiPage','multipage','depsTopOffset','rowPageIndex','columnPageIndex','pagesPerColumn','buildPages','buildPageFrames','pageFrames','rowIteratorStep','rowIndex','leftHeight','lockeds','normals','rowsHeight','pageFrame','lockedColumnPages','leftWidth','removeHiddenLockedColumns','normalGridOffset','normalGridWidth','removeInvisibleEvents','showLockedColumns','startOffset','getVisibleColumns','lockedGridOffset','lockedGridWidth','border-style','calculateLockedColumnPages','buildPageFrame','getExpectedColumnsNumber','getExpectedPagesPerColumn','lockedColumns',' (column: ',', row: ','removeNode','lockedHidden','grid-inner-normal','normalHidden','Sch.plugin.exporter.MultiPageVertical','multipagevertical','visibleColumns','visibleColumnsWidth','minAverageColumnWidth','fitLockedColumnWidth','minRowHeight','_restoreColumnWidth','Sch.widget.ResizePicker','Ext.Panel','widget.dualrangepicker','position:absolute; margin:5px','horizontalCfg','dialogConfig','verticalCfg','scrollerDisabled','dockedItems','margin-top:10px','stateful','exporter_resize_vertical','onSliderChange','onSliderChangeComplete','slider','margin-left:28px','exporter_resize_horizontal','sch-ux-range-picker','valueHandle','sch-ux-range-value','span','valueSpan','updateValuesFromHandles','setValues','onBodyClick','getAvailableHeight','getValuesFromXY','maxValue','minValue','getXYFromValues','positionValueText','setValueText','updatePosition','changecomplete','Sch.widget.ColumnPicker','sch-columnpicker-list','fa fa-check','processColumns','getColumnTitle','columnEmptyRegExp','columnEmptyText','selectedItemCls','Sch.widget.ExportDialogForm','Ext.form.FieldContainer','Ext.form.field.Checkbox','widget.export_dialog_form','fieldDefaults','99%','createFields','rangeField','onRangeChange','exportersField','onExporterChange','dateFromField','dateToField','showShowHeaderField','showShowFooterField','onlyVisibleRows','resizePicker','&cellSize[0]=','&cellSize[1]=','columnPicker','getSelectedColumns','<table class="sch-fieldcontainer-label-wrap"><td width="1" class="sch-fieldcontainer-label">','<td><div class="sch-fieldcontainer-separator"></div></table>','showResizePicker','10 20','resizerHolder','adjustCols','adjustColsAndRows','dateRangeFromText','sch-exportdialogform-date','dateRangeFormat','defaultFormat','dateRangeRestriction','applyStateful','dateFromFieldConfig','dateRangeToText','dateToFieldConfig','datesHolder','specifyDateRange','showColumnPicker','columnPickerLabel','sch-export-dialog-columns','columnPickerConfig','showDPIField','dpiField','dpiFieldLabel','sch-export-dialog-dpi','DPI','dpiFieldConfig','showHeaderField','showHeaderLabel','sch-export-dialog-header','applyStatefulFull','showHeaderFieldConfig','showFooterField','showFooterLabel','sch-export-dialog-footer','showFooterFieldConfig','formatField','combobox','formatFieldLabel','pageFormats','A5','A4','A3','Letter','Legal','formatFieldConfig','orientationField','orientationFieldLabel','orientationPortraitText','portrait','orientationLandscapeText','orientationFieldConfig','rangeFieldLabel','sch-export-dialog-range','completeViewText','completeDataText','dateRangeText','currentViewText','rangeFieldConfig','exportersFieldLabel','defaultExporter','sch-export-dialog-exporter','exporters','exportersFieldConfig','showRowsRangeField','rowsRangeField','rowsRangeLabel','sch-export-dialog-rowsrange','allRowsLabel','visibleRowsLabel','rowsRangeFieldConfig','stateId','_','applyFieldState','getFieldState','disableFields','Sch.widget.ExportDialog','Sch.widget.PdfExportDialog','Ext.ProgressBar','widget.exportdialog','sch-exportdialog','Sch.widget.ExportDialog: doExportFn needs to be set in the config','export_dialog_form','pageFormats,startDate,endDate,rowHeight,columnWidth,defaultExporter,exporters,dateRangeFormat,exportConfig,showColumnPicker,columnPickerConfig,showDPIField,dpiFieldConfig,showShowHeaderField,showShowFooterField,showResizePicker,stateful,stateId,dateRangeRestriction,showRowsRangeField,rowsRangeFieldConfig,rangeFieldConfig,formatFieldConfig,orientationFieldConfig,exportersFieldConfig','formConfigs','form_','isForm','mapFormConfigs','buildForm','buttonsPanel','buttonsPanelScope','progressBar','buildProgressBar','medium','export','exportButtonText','onExportButtonPress','exportButtonConfig','cancelButtonText','onCancelButtonPress','cancelButtonConfig','doExportFnScope','onExportSuccess','onExportFailure','doExportFn','#export','defaultFormXType','progressBarText','4px 10px 10px 10px','Sch.plugin.Export','Sch.plugin.PdfExport','plugin.scheduler_export','pdf','exportersIndex','exportDialogConfig','WebSocket','enableWebSocket','fileFormat','setFileFormat','buildExporters','initExporters','bindExporters','showExportDialog','doExport','isExporter','createExporter','bindExporter','onPageCommit','onRowCollected','translateURLsToAbsolute','exporterConfig','getExporterConfig','AbstractExporter','getActiveExportDialog','buildExportDialog','setActiveExportDialog','onExportDialogDestroy','onExportProgress','exportDialogClassName','buildExportDialogConfig','getPageFormats','gridcolumn[ignoreInExport!=true]','cancelExport','updateProgress','updateText','generalError','alert','Msg','pageSizes','getExportConfig','getExporter','beforeexport','myBeforeExport','extractPages','currentAjaxRequest','currentWebSocketRequest','unmask','progressupdate','requestingPrintServer','doSocketRequest','doRequest','fetchingRows','builtPage','myAfterExport','hideExportDialogTimer','hideExportDialogTimeout','openAfterExport','ExportedPanel','open','a','download','openInNewTab','_blank','error','showError','printServer','ws','getPaperFormat','getParameters','onopen','send','onmessage','/','file','msg','debug','onRequestSuccess','onRequestFailure','getAjaxConfig','Print server URL is not defined, please specify printServer config','write','document','testResponse','foo','Wrong server response received','status','statusText','win','exportstart','sch-export-mask','afterexport','openAfterExportTimer','Sch.plugin.HeaderTooltip','plugin.scheduler_headertooltip','M j, Y H:i','sch-header-tooltip','tipCls','delegateCls','beforeTipShow','dataset','encodeDateFormat','getTipContent','Sch.plugin.HeaderZoom','plugin.scheduler_headerzoom','onModeChange','onTimeAxisColumnRender','headerRegion','beforeheaderzoom','Sch.plugin.Pan','plugin.scheduler_pan','onRender','disableOnKey','KEY_SHIFT','KEY_CTRL','altKey','KEY_ALT',' > div > *','mouseX','mouseY','isGecko','enableVerticalPan','Sch.plugin.Printable','Ext.window.Toast','Sch.plugin.Print','plugin.scheduler_printable','plugin.scheduler_print','<!DOCTYPE HTML>','{docType}<html class="','border-box {htmlClasses}"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>{title}</title>{styles}</head><body class="sch-print-body {bodyClasses}"><div class="sch-print-ct" style="width:{totalWidth}px"><tpl for="pages">{html}</tpl></div><script type="text/javascript">{setupScript}</script></body></html>','{header}<div id="{id}" class="{componentClasses}" style="height:{bodyHeight}px; width:{totalWidth}px; position: relative !important">{HTML}</div>{footer}<div style="page-break-after:always;"></div>','window.onload = function(){ document._loaded  = true;if ({autoPrintAndClose}) {window.print();if (!{isChrome}) window.close();}}','mainTpl','dialogTitle','print','getPopupBlockedMessageConfig','toast','disablePopupBlocking','popupBlockerDetected','pageTpl','beforePrint','afterPrint','printPages','sch-print-normal-rows-ct','fakeBackgroundColor','sch-print-fake-background','sch-print-locked-rows-ct','removeSecondaryCanvas','border-right-width','sch-print-normalheader','sch-print-lockedheader','wrapHeaders','<div class="sch-print-header-wrap"></div>','wrap','bodyWrap','absolute','docType','{isChrome}','isChrome','{autoPrintAndClose}','autoPrintAndClose','setupScriptTpl','prepareMainTplData','printgrid','closed','showPopupBlockedMessage','printWindow','onBeforePageCommit','Sch.plugin.SimpleEditor','Ext.Editor','plugin.scheduler_simpleeditor','Ext.form.TextField','sch-simpleeditor','.sch-event-inner','boundEl','onSchedulerRender','renderTo','eventEl','delegate','startEdit','onStartEdit','onAfterEdit','onTriggerEvent','allowBlur','newEventText','Sch.plugin.Split','Ext.menu.Menu','plugin.scheduler_split','sch-dosplitmerge','sch-grid-split','sch-grid-split-resize-handle','sch-grid-split-clone','__cloned','setupGrid','createMenu','addGridListeners','isSplit','splitGrid','gridClone','cloneGrid','gridCloneCls','docked .','resizable-handle-north','resizeHandleCls','onMainGridResize','setupSynchronization','showAt','splitMergeMenuItem','mergeText','splitText','grid-cell','splitPosition','splitMergeMenuItemId','onSplitMergeMenuItemClick','menuConfig','onMenuTriggerEvent','onBeforeGridModeChange','cloneColumn','getGridViewHeight','getCloneMaxHeight','staticCloneConfig','getCloneConfig','flex','setupColumnSync','onColumnResize','onColumnsChanged','setMaxHeight','headercontainer','Sch.plugin.SummaryBar','plugin.scheduler_summarybar','sch-summaryrow-title','sch-summaryrow-view','<table style="width: {totalWidth}px;" cellpadding="0" cellspacing="0"><tr><tpl for="bars"><td style="width: {width}px;"><div class="sch-summaryrow-bar-wrapper"><div class="sch-summaryrow-bar {cls}" style="{style}" {attr}><span class="sch-summaryrow-bar-text">{value}</span></div></div></td></tpl></tr></table>','initBars','setupListeners','titleContainer','titleContainerCls','<span class="sch-summaryrow-title-text" style="line-height: ','px;">','totalText','</span>','barContainer','barContainerCls','renderSummaryRow','onGridModeChange','destroyBars','buildRenderData','getScheduledEventsInTimeSpan','Sch.plugin.TimeGap','plugin.scheduler_timegap','populateStore','eventStoreListeners','getZoneCls','Sch.plugin.TreeCellEditing','plugin.scheduler_treecellediting','beforeedit','onMyBeforeEdit','_startEdit','isTaskField','setSuppressTaskUpdate','getEditor','_cancelEdit','myCancelEdit','editingstart','isTimelineTreePanel','isTimelineGridPanel','applyChanges','task','instantUpdate','setTask','_valueFromTaskField','checkReadOnly','originalValue','Sch.preset.ViewPresetHeaderRow','Sch.util.Debug','schedulerDebugWin','padding:10px','<br/>','.sch-schedulerpanel','No scheduler component found','Your event store must be or extend Sch.data.EventStore','Scheduler view start: ',', end: ','No store configured','No event store configured',' records in the resource store',' records in the eventStore','Your event model must extend Sch.model.Event','Your resource model must extend Sch.model.Resource','idProperty on the event model is incorrectly setup, value: ','idProperty on the resource model is incorrectly setup, value: ',' events present in the DOM','The eventStore reader is misconfigured - The StartDate field is not setup correctly, please investigate','StartDate is configured with dateFormat: ','See Ext JS docs for information about different date formats: http://docs.sencha.com/extjs/#!/api/Ext.Date','The eventStore reader is misconfigured - The EndDate field is not setup correctly, please investigate','EndDate is configured with dateFormat: ','reader','jsonData','Dumping jsonData to console','rawData','Records in the event store:','. ','Event store has no data. Has it been loaded properly?','nodeStore','Records in the resource store:','Resource store has no data.','Everything seems to be setup ok!','Sch.view.dependency.renderingstrategy.Async','sch_dependency_rendering_strategy.async','Sch.view.dependency.renderingstrategy.Bulk','sch_dependency_rendering_strategy.bulk','Sch.widget.PagingToolbar','Ext.toolbar.Paging','widget.sch_pagingtoolbar','getStoreId','loadPage','getPageData','RETURN','readPageFromInput','pageCount','beforechange','HOME','END','UP','DOWN','__BRYNTUM_TRIAL','bryntum.com','location','bmeval','Cookies','callOverridden','bryntum-trial','https://www.bryntum.com/store','Click here to purchase a license','<img src="//www.bryntum.com/site-images/logo2.png" style="margin:5px 0 0 5px; " width="100"/><div style="padding:5px;font-weight:bold">TRIAL VERSION. CLICK HERE TO BUY</div>','color:#FFF;background: #888; z-index:10000;border-radius:3px;box-shadow: 2px 2px 4px rgba(100, 100, 100, 0.7);position:absolute;bottom:10px;right:15px;','Trial Period Expired!','trialmask','.trialmask','<h4>TRIAL PERIOD EXPIRED</h4> Click <a href="https://bryntum.com/store"><strong>here</strong></a> to purchase your licenses.</p>','background-color','rgba(255, 255, 255, 0.8)','border-radius','3px','box-shadow','2px 2px 4px rgba(100, 100, 100, 0.7)',"BRYNTUM TRIAL LICENSE, for purchasing and licensing options please visit: www.bryntum.com/store (btw, we're hiring: www.bryntum.com/company/careers )",'Sch','TimelineGridView','onReady','Connection'];Ext[_0xee2b[6]](_0xee2b[0],{singleton:!0,reduce:function(a,d,f){a=Object(a);if(!Ext[_0xee2b[1]](d)){Ext[_0xee2b[3]](_0xee2b[2])}var b=0,e=a[_0xee2b[4]]>>>0,c=f;if(arguments[_0xee2b[4]]<3){while(!0){if(b in a){c=a[b++];break}if(++b>=e){throw new TypeError(_0xee2b[5])}}}for(;b<e;++b){if(b in a){c=d(c,a[b],b,a)}}return c}});Ext[_0xee2b[6]](_0xee2b[7],{actions:null,title:null,constructor:function(a){a=a||{};Ext[_0xee2b[8]](this,a);this[_0xee2b[9]]([a]);this[_0xee2b[10]]=[]},hasActions:function(){return this[_0xee2b[10]][_0xee2b[4]]>0},addAction:function(a){this[_0xee2b[10]][_0xee2b[11]](a)},getActions:function(){return this[_0xee2b[10]]},undo:function(){for(var a=this[_0xee2b[10]][_0xee2b[4]]-1;a>=0;a--){this[_0xee2b[10]][a][_0xee2b[12]]()}},redo:function(){for(var a=0;a<this[_0xee2b[10]][_0xee2b[4]];a++){this[_0xee2b[10]][a][_0xee2b[13]]()}},getTitle:function(){if(this[_0xee2b[14]]){return this[_0xee2b[14]]}var a=this[_0xee2b[10]][0];return a?a[_0xee2b[15]]():null}});Ext[_0xee2b[6]](_0xee2b[16],{extend:_0xee2b[17],modelName:null,editMementoFix:null,mixinConfig:{before:{endEdit:_0xee2b[18]},after:{endEdit:_0xee2b[19]}},onBeforeEndEdit:function(c,b){var a=this[_0xee2b[20]];if(a){this[_0xee2b[21]]=a;if(!b){b=this[_0xee2b[23]](a[_0xee2b[22]])}if(!a[_0xee2b[24]]){a[_0xee2b[24]]={}}Ext[_0xee2b[26]][_0xee2b[25]](b,function(d){a[_0xee2b[24]][d]=a[_0xee2b[22]][d]})}},onAfterEndEdit:function(a,b){delete this[_0xee2b[21]]},getTitle:function(){return _0xee2b[27]}});Ext[_0xee2b[6]](_0xee2b[28],{constructor:function(a){Ext[_0xee2b[8]](this,a)},undo:function(){throw new Error(_0xee2b[29])},redo:function(){throw new Error(_0xee2b[29])},getTitle:function(){return _0xee2b[27]},prepareRecord:function(a){a[_0xee2b[30]]=!0;if(a[_0xee2b[31]]){a[_0xee2b[22]][a[_0xee2b[31]]]=a[_0xee2b[32]]()}return a}});Ext[_0xee2b[6]](_0xee2b[33],{extend:_0xee2b[28],requires:[_0xee2b[34]],inheritableStatics:{CUSTOMLY_PROCESSED:{}},config:{record:null,fieldNames:null},oldValues:null,newValues:null,constructor:function(b){var a=this;a[_0xee2b[9]]([b]);a[_0xee2b[35]](b);a[_0xee2b[36]]()},saveValues:function(){var a=this,c=a[_0xee2b[37]](),b=a[_0xee2b[38]]();if(b){a[_0xee2b[39]]=Ext[_0xee2b[26]][_0xee2b[41]](b,function(b){return a[_0xee2b[40]](b,c)});a[_0xee2b[42]]=Ext[_0xee2b[26]][_0xee2b[41]](b,function(b){return a[_0xee2b[43]](b,c)})}},undo:function(){var e,a=this,b=a[_0xee2b[37]](),c=a[_0xee2b[38]](),d;if(c){e=a[_0xee2b[45]][_0xee2b[44]];b[_0xee2b[46]]();d=Robo[_0xee2b[49]][_0xee2b[26]][_0xee2b[48]](c,function(f,c,g){var d;if(c){d=a[_0xee2b[47]](a[_0xee2b[39]][g],c,b,_0xee2b[12]);if(d!==e){f[c]=d}}return f},{});b[_0xee2b[50]](d);b[_0xee2b[51]]()}},redo:function(){var e,a=this,b=a[_0xee2b[37]](),c=a[_0xee2b[38]](),d;if(c){e=a[_0xee2b[45]][_0xee2b[44]];b[_0xee2b[46]]();d=Robo[_0xee2b[49]][_0xee2b[26]][_0xee2b[48]](c,function(f,c,g){var d;if(c){d=a[_0xee2b[47]](a[_0xee2b[42]][g],c,b,_0xee2b[13]);if(d!==e){f[c]=d}}return f},{});b[_0xee2b[50]](d);b[_0xee2b[51]]()}},processSavingOldValue:function(b,a){var c=a[_0xee2b[52]]&&a[_0xee2b[52]][_0xee2b[53]](b)&&a[_0xee2b[52]]||a[_0xee2b[24]]&&a[_0xee2b[24]][_0xee2b[53]](b)&&a[_0xee2b[24]]||a[_0xee2b[21]]&&a[_0xee2b[21]][_0xee2b[24]]&&a[_0xee2b[21]][_0xee2b[24]][_0xee2b[53]](b)&&a[_0xee2b[21]][_0xee2b[24]]||a[_0xee2b[21]]&&a[_0xee2b[21]][_0xee2b[22]]&&a[_0xee2b[21]][_0xee2b[22]][_0xee2b[53]](b)&&a[_0xee2b[21]][_0xee2b[22]];if(!c){throw _0xee2b[54]}return c[b]},processSavingNewValue:function(b,a){return a[_0xee2b[55]](b)},processRestoringValue:Ext[_0xee2b[56]],getTitle:function(){var a=this[_0xee2b[37]]();var b=this[_0xee2b[38]]();if(a[_0xee2b[15]]){return _0xee2b[57]+b[0]+_0xee2b[58]+a[_0xee2b[15]](this)}if(a[_0xee2b[59]]){return _0xee2b[57]+a[_0xee2b[59]]+_0xee2b[60]+a[_0xee2b[32]]()}return _0xee2b[27]}});Ext[_0xee2b[6]](_0xee2b[61],{extend:_0xee2b[28],store:null,records:null,index:null,autoSync:!1,undo:function(){var a=this[_0xee2b[62]];this[_0xee2b[64]][_0xee2b[63]](a);if(!this[_0xee2b[65]]){for(var b=0;b<a[_0xee2b[4]];b++){this[_0xee2b[64]][_0xee2b[66]](a[b])}}},redo:function(){if(this[_0xee2b[65]]){this[_0xee2b[62]]=Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[62]],this[_0xee2b[67]])}this[_0xee2b[64]][_0xee2b[69]](this[_0xee2b[68]],this[_0xee2b[62]])},getRecord:function(){return this[_0xee2b[62]][0]},getTitle:function(){var a=this;var b=Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[62]],function(b){if(b[_0xee2b[15]]){return b[_0xee2b[15]](a)}if(b[_0xee2b[59]]){return b[_0xee2b[59]]+_0xee2b[60]+b[_0xee2b[32]]()}return _0xee2b[70]});return _0xee2b[71]+b[_0xee2b[73]](_0xee2b[72])}});Ext[_0xee2b[6]](_0xee2b[74],{extend:_0xee2b[28],store:null,records:null,index:null,autoSync:!1,undo:function(){var a=this;if(a[_0xee2b[65]]){a[_0xee2b[62]]=Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[62]],a[_0xee2b[67]])}a[_0xee2b[64]][_0xee2b[69]](a[_0xee2b[68]],a[_0xee2b[62]])},redo:function(){var a=this;a[_0xee2b[64]][_0xee2b[63]](a[_0xee2b[62]])},getRecord:function(){return this[_0xee2b[62]][0]},getTitle:function(){var a=this;var b=Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[62]],function(b){if(b[_0xee2b[15]]){return b[_0xee2b[15]](a)}if(b[_0xee2b[59]]){return b[_0xee2b[59]]+_0xee2b[60]+b[_0xee2b[32]]()}return _0xee2b[70]});return _0xee2b[75]+b[_0xee2b[73]](_0xee2b[72])}});Ext[_0xee2b[6]](_0xee2b[76],{extend:_0xee2b[28],parent:null,newChild:null,autoSync:!1,undo:function(){var a=this[_0xee2b[77]];this[_0xee2b[79]][_0xee2b[78]](a);delete a[_0xee2b[22]][_0xee2b[80]];if(!this[_0xee2b[65]]){Ext[_0xee2b[26]][_0xee2b[63]](this[_0xee2b[79]][_0xee2b[82]]()[_0xee2b[81]],a)}},redo:function(){if(this[_0xee2b[65]]){this[_0xee2b[77]]=this[_0xee2b[67]](this[_0xee2b[77]])}this[_0xee2b[79]][_0xee2b[83]](this[_0xee2b[77]])},getRecord:function(){return this[_0xee2b[77]]},getTitle:function(){var a=this[_0xee2b[77]];var b;if(a[_0xee2b[15]]){b=a[_0xee2b[15]](this)}else {if(a[_0xee2b[59]]){return a[_0xee2b[59]]+_0xee2b[60]+a[_0xee2b[32]]()}}return _0xee2b[84]+b}});Ext[_0xee2b[6]](_0xee2b[85],{extend:_0xee2b[28],parent:null,newChild:null,insertedBefore:null,autoSync:!1,undo:function(){var a=this[_0xee2b[77]];this[_0xee2b[79]][_0xee2b[78]](a);delete a[_0xee2b[22]][_0xee2b[80]];if(!this[_0xee2b[65]]){Ext[_0xee2b[26]][_0xee2b[63]](this[_0xee2b[79]][_0xee2b[82]]()[_0xee2b[81]],a)}},redo:function(){var a=this[_0xee2b[86]],b=a&&a[_0xee2b[87]]();if(this[_0xee2b[65]]){this[_0xee2b[77]]=this[_0xee2b[67]](this[_0xee2b[77]])}this[_0xee2b[79]][_0xee2b[88]](this[_0xee2b[77]],a);if(b){a[_0xee2b[89]](!1,{isFirst:!1})}},getRecord:function(){return this[_0xee2b[77]]},getTitle:function(){var a=this[_0xee2b[77]];var b;if(a[_0xee2b[15]]){b=a[_0xee2b[15]](this)}else {if(a[_0xee2b[59]]){return a[_0xee2b[59]]+_0xee2b[60]+a[_0xee2b[32]]()}}return _0xee2b[90]+b}});Ext[_0xee2b[6]](_0xee2b[91],{extend:_0xee2b[28],parent:null,removedChild:null,nextSibling:null,newParent:null,newNextSibling:null,dirty:!1,isMove:!1,autoSync:!1,constructor:function(a){this[_0xee2b[9]](arguments);this[_0xee2b[92]]=this[_0xee2b[93]][_0xee2b[92]]},undo:function(){var a=this;if(a[_0xee2b[94]]){a[_0xee2b[95]]=a[_0xee2b[93]][_0xee2b[96]];a[_0xee2b[97]]=a[_0xee2b[93]][_0xee2b[98]]}var c=a[_0xee2b[98]];var e=c&&c[_0xee2b[87]]();if(!a[_0xee2b[94]]&&a[_0xee2b[65]]){a[_0xee2b[93]]=a[_0xee2b[67]](a[_0xee2b[93]])}var b=a[_0xee2b[93]];a[_0xee2b[79]][_0xee2b[88]](b,c);b[_0xee2b[92]]=a[_0xee2b[92]];if(!a[_0xee2b[94]]&&!a[_0xee2b[65]]){var d=b[_0xee2b[82]]();b[_0xee2b[99]](function(a){Ext[_0xee2b[26]][_0xee2b[63]](d[_0xee2b[81]],a)})}if(e){c[_0xee2b[89]](!1,{isFirst:!1})}},redo:function(){if(this[_0xee2b[94]]){var a=this[_0xee2b[97]];var b=a&&a[_0xee2b[87]]();this[_0xee2b[95]][_0xee2b[88]](this[_0xee2b[93]],a);if(b){a[_0xee2b[89]](!1,{isFirst:!1})}}else {this[_0xee2b[79]][_0xee2b[78]](this[_0xee2b[93]]);delete this[_0xee2b[93]][_0xee2b[22]][_0xee2b[80]]}},getRecord:function(){return this[_0xee2b[93]]},getTitle:function(){var a=this[_0xee2b[93]];var b;if(a[_0xee2b[15]]){b=a[_0xee2b[15]](this)}else {if(a[_0xee2b[59]]){return a[_0xee2b[59]]+_0xee2b[60]+a[_0xee2b[32]]()}}return this[_0xee2b[94]]?_0xee2b[100]+b:_0xee2b[75]+b}});Ext[_0xee2b[6]](_0xee2b[101],{extend:_0xee2b[33],processRestoringValue:function(a,d,b,e){var c=this;if(d===_0xee2b[102]){if(a){b[_0xee2b[103]]()}else {b[_0xee2b[104]]()}a=c[_0xee2b[45]][_0xee2b[44]]}else {if(d==_0xee2b[105]){a=c[_0xee2b[9]](arguments);if(a===!0&&e==_0xee2b[12]){b[_0xee2b[22]][_0xee2b[106]]=!1}}else {a=c[_0xee2b[9]](arguments)}}return a}});Ext[_0xee2b[6]](_0xee2b[107],{extend:_0xee2b[108],requires:[_0xee2b[0],_0xee2b[7],_0xee2b[16],_0xee2b[33],_0xee2b[61],_0xee2b[74],_0xee2b[76],_0xee2b[85],_0xee2b[91],_0xee2b[101],_0xee2b[109],_0xee2b[110]],stores:null,storesById:null,autoSync:!1,treeStoreListeners:null,flatStoreListeners:null,stub:function(){},undoQueue:null,redoQueue:null,ignoredFieldNames:{expanded:1},state:_0xee2b[111],transactionBoundary:_0xee2b[112],transactionMaxDuration:100,clearQueuesOnLoad:!1,transactionTimeout:null,currentTransaction:null,constructor:function(b){var a=this;b=b||{};Ext[_0xee2b[8]](a,b);a[_0xee2b[113]]={nodeappend:a[_0xee2b[114]],nodeinsert:a[_0xee2b[115]],noderemove:a[_0xee2b[116]],update:a[_0xee2b[117]],'robo-command':a[_0xee2b[118]],scope:a};a[_0xee2b[119]]={add:a[_0xee2b[120]],remove:a[_0xee2b[121]],update:a[_0xee2b[122]],'robo-command':a[_0xee2b[118]],scope:a};if(a[_0xee2b[123]]){Ext[_0xee2b[8]](a[_0xee2b[113]],{load:a[_0xee2b[124]],clear:a[_0xee2b[124]]});Ext[_0xee2b[8]](a[_0xee2b[119]],{load:a[_0xee2b[124]],clear:a[_0xee2b[124]]})}a[_0xee2b[9]]([b]);var c=a[_0xee2b[125]]||[];a[_0xee2b[125]]=[];a[_0xee2b[126]]={};a[_0xee2b[127]]=[];a[_0xee2b[128]]=[];Ext[_0xee2b[26]][_0xee2b[130]](c,function(c){a[_0xee2b[129]](c)})},addStore:function(a,f){a=Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[131]](a);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[135]](a,_0xee2b[134]);this[_0xee2b[125]][_0xee2b[11]](a);if(f){a[_0xee2b[136]](f)}var h=a[_0xee2b[137]]();var d=h[_0xee2b[139]][_0xee2b[138]]||{};for(var g in d){var b=d[g];var e=b[_0xee2b[140]];if(e&&(!b[_0xee2b[141]]||!b[_0xee2b[141]][this[_0xee2b[32]]()])){var c=this;b[_0xee2b[140]]=function(){var b=e[_0xee2b[8]](this,arguments);if(!c[_0xee2b[142]](b)){c[_0xee2b[129]](b);if(c[_0xee2b[143]]!==_0xee2b[144]&&c[_0xee2b[143]]!==_0xee2b[111]){c[_0xee2b[145]](b)}}return b};b[_0xee2b[141]]=b[_0xee2b[141]]||{};b[_0xee2b[141]][this[_0xee2b[32]]()]=c}}if(a[_0xee2b[146]]){this[_0xee2b[126]][a[_0xee2b[146]]]=a}},getStoreById:function(a){return this[_0xee2b[126]][a]},hasStore:function(a){return Ext[_0xee2b[26]][_0xee2b[147]](this[_0xee2b[125]],a)!==-1},bindStore:function(a){(a[_0xee2b[150]]||a)[_0xee2b[149]](this[_0xee2b[148]](a));if(a[_0xee2b[150]]){a[_0xee2b[149]](this[_0xee2b[151]](a))}},unbindStore:function(a){(a[_0xee2b[150]]||a)[_0xee2b[152]](this[_0xee2b[148]](a));if(a[_0xee2b[150]]){a[_0xee2b[152]](this[_0xee2b[151]](a))}},getStoreTypeListenerStubs:function(b){var c=this;var a=this[_0xee2b[148]](b);a=Ext[_0xee2b[8]]({},a);Ext[_0xee2b[154]][_0xee2b[25]](a,function(d){a[d]=c[_0xee2b[153]]});return a},getStoreTypeListeners:function(b){var a;if(Ext[_0xee2b[22]][_0xee2b[155]]&&b instanceof Ext[_0xee2b[22]][_0xee2b[155]]){a=this[_0xee2b[113]]}else {a=this[_0xee2b[119]]}return a},removeStore:function(a){Ext[_0xee2b[26]][_0xee2b[63]](this[_0xee2b[125]],a);this[_0xee2b[126]][a[_0xee2b[146]]]=null;this[_0xee2b[156]](a)},forEachStore:function(a){Ext[_0xee2b[26]][_0xee2b[130]](this[_0xee2b[125]],a,this)},onAnyChangeInAnyStore:function(a){if(this[_0xee2b[143]]===_0xee2b[157]||a[_0xee2b[158]]&&a[_0xee2b[158]]()){return !1}if(!this[_0xee2b[159]]){this[_0xee2b[160]]()}return !0},hasPersistableChanges:function(a,b){var c=this[_0xee2b[161]];return Robo[_0xee2b[49]][_0xee2b[26]][_0xee2b[48]](b,function(f,d){var e=a[_0xee2b[162]](d);return f||!e||e[_0xee2b[163]]&&!c[_0xee2b[53]](d)},!1)},onIncomingCommand:function(d,c,b){b=b||[];var a=this;if(a[_0xee2b[164]]()){switch(c){case _0xee2b[165]:case _0xee2b[166]:case _0xee2b[167]:case _0xee2b[160]:case _0xee2b[168]:a[c][_0xee2b[8]](a,b);break;}}},incomingCommandsDisabled:0,areIncomingCommandsEnabled:function(){return !this[_0xee2b[169]]},disableIncomingCommands:function(){this[_0xee2b[169]]++},enableIncomingCommands:function(){this[_0xee2b[169]]--},onFlatStoreUpdate:function(d,c,e,a){var b=this;if(!b[_0xee2b[170]](d)||e!==_0xee2b[171]||!a||!a[_0xee2b[4]]||!b[_0xee2b[172]](c,a)){return}b[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[174]].Update({record:c,fieldNames:a[_0xee2b[173]](function(f){return !(f in b[_0xee2b[161]])})}))},onFlatStoreAdd:function(a,b,c){if(!this[_0xee2b[170]](a)){return}this[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[174]].Add({autoSync:this[_0xee2b[65]],store:a,records:b,index:c}))},onFlatStoreRemove:function(a,d,c,b){if(!this[_0xee2b[170]](a)){return}this[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[174]].Remove({autoSync:this[_0xee2b[65]],store:a,records:d,index:c,isMove:b}))},onTreeStoreUpdate:function(d,c,e,a){var b=this;if(!b[_0xee2b[170]](d)||e!==_0xee2b[171]||!a||!a[_0xee2b[4]]||!b[_0xee2b[172]](c,a)){return}b[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[177]].Update({record:c,fieldNames:a[_0xee2b[173]](function(f){return !(f in b[_0xee2b[161]])})}))},onTreeStoreAppend:function(b,a){if(!b||!this[_0xee2b[170]](b[_0xee2b[82]]())){return}if(a[_0xee2b[178]]&&a[_0xee2b[178]][this[_0xee2b[32]]()]){delete a[_0xee2b[178]][this[_0xee2b[32]]()]}else {this[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[177]].Append({autoSync:this[_0xee2b[65]],parent:b,newChild:a}))}},onTreeStoreInsert:function(b,a,c){if(!b||!this[_0xee2b[170]](b[_0xee2b[82]]())){return}if(a[_0xee2b[178]]&&a[_0xee2b[178]][this[_0xee2b[32]]()]){delete a[_0xee2b[178]][this[_0xee2b[32]]()]}else {this[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[177]].Insert({autoSync:this[_0xee2b[65]],parent:b,newChild:a,insertedBefore:c}))}},onTreeStoreRemove:function(b,a,c,d){if(!b||!this[_0xee2b[170]](b[_0xee2b[82]]())){return}if(c){a[_0xee2b[178]]=a[_0xee2b[178]]||{};a[_0xee2b[178]][this[_0xee2b[32]]()]=!0}this[_0xee2b[159]][_0xee2b[176]](new Robo[_0xee2b[175]][_0xee2b[177]].Remove({autoSync:this[_0xee2b[65]],parent:b,removedChild:a,nextSibling:d[_0xee2b[98]],isMove:c}))},start:function(){if(this[_0xee2b[143]]===_0xee2b[111]||this[_0xee2b[143]]===_0xee2b[144]){this[_0xee2b[180]](_0xee2b[179],this);this[_0xee2b[180]](_0xee2b[181],this,this[_0xee2b[127]]);this[_0xee2b[180]](_0xee2b[182],this,this[_0xee2b[128]])}if(this[_0xee2b[143]]!==_0xee2b[183]){this[_0xee2b[184]](this[_0xee2b[145]]);this[_0xee2b[143]]=_0xee2b[185]}},stop:function(){this[_0xee2b[167]]();this[_0xee2b[184]](this[_0xee2b[156]]);this[_0xee2b[143]]=_0xee2b[144];this[_0xee2b[124]]();this[_0xee2b[180]](_0xee2b[186],this)},clearQueues:function(){this[_0xee2b[187]]();this[_0xee2b[188]]()},pause:function(){this[_0xee2b[143]]=_0xee2b[157]},resume:function(){this[_0xee2b[143]]=_0xee2b[185]},hold:function(){Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[135]](this[_0xee2b[159]],_0xee2b[189]);this[_0xee2b[143]]=_0xee2b[183]},release:function(){Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[135]](this[_0xee2b[159]],_0xee2b[190]);this[_0xee2b[143]]=_0xee2b[185]},getUndoQueue:function(){return this[_0xee2b[127]][_0xee2b[191]]()},getRedoQueue:function(){return this[_0xee2b[128]][_0xee2b[191]]()},clearUndoQueue:function(){if(this[_0xee2b[127]][_0xee2b[4]]){this[_0xee2b[127]]=[];this[_0xee2b[180]](_0xee2b[181],this,this[_0xee2b[127]][_0xee2b[191]]())}},clearRedoQueue:function(){if(this[_0xee2b[128]][_0xee2b[4]]){this[_0xee2b[128]]=[];this[_0xee2b[180]](_0xee2b[182],this,this[_0xee2b[128]][_0xee2b[191]]())}},startTransaction:function(c){var a=this,b;if(a[_0xee2b[143]]===_0xee2b[144]){return}if(a[_0xee2b[159]]){a[_0xee2b[167]]()}b=new Robo.Transaction({title:c});a[_0xee2b[159]]=b;a[_0xee2b[192]](b);if(a[_0xee2b[193]]===_0xee2b[112]){a[_0xee2b[194]]()}},scheduleEndTransaction:function(){var a=this;if(a[_0xee2b[195]]){clearTimeout(a[_0xee2b[195]])}a[_0xee2b[195]]=setTimeout(function(){if(a[_0xee2b[143]]!==_0xee2b[183]){a[_0xee2b[167]]();a[_0xee2b[195]]=null}else {a[_0xee2b[194]]()}},a[_0xee2b[196]])},endTransaction:function(){var a=this,b=a[_0xee2b[159]];if(!b){return !1}a[_0xee2b[159]]=null;if(a[_0xee2b[193]]===_0xee2b[112]){clearTimeout(a[_0xee2b[195]]);a[_0xee2b[195]]=null}if(b[_0xee2b[197]]()){a[_0xee2b[168]](b)}a[_0xee2b[198]](b);return b[_0xee2b[197]]()},addTransaction:function(a){this[_0xee2b[127]][_0xee2b[11]](a);this[_0xee2b[180]](_0xee2b[181],this,this[_0xee2b[127]][_0xee2b[191]]());if(this[_0xee2b[128]][_0xee2b[4]]){this[_0xee2b[128]][_0xee2b[4]]=0;this[_0xee2b[180]](_0xee2b[182],this,this[_0xee2b[128]][_0xee2b[191]]())}this[_0xee2b[180]](_0xee2b[199],this,a)},undo:function(a){var b=this[_0xee2b[127]],e,c,d,f=b[_0xee2b[4]];if(this[_0xee2b[143]]===_0xee2b[144]||a===0||!b[_0xee2b[4]]){return}if(a instanceof Robo[_0xee2b[200]]){e=Ext[_0xee2b[26]][_0xee2b[147]](b,a);if(e===-1){return}a=b[_0xee2b[4]]-e}a=a||1;this[_0xee2b[180]](_0xee2b[201],this);this[_0xee2b[165]]();this[_0xee2b[202]]();for(d=0;d<Math[_0xee2b[203]](a,f);d++){c=b[_0xee2b[204]]();c[_0xee2b[12]]();this[_0xee2b[128]][_0xee2b[205]](c)}this[_0xee2b[206]]();this[_0xee2b[180]](_0xee2b[181],this,b[_0xee2b[191]]());this[_0xee2b[180]](_0xee2b[182],this,this[_0xee2b[128]][_0xee2b[191]]());this[_0xee2b[166]]();this[_0xee2b[180]](_0xee2b[207],this)},redo:function(a){var c=this[_0xee2b[128]],b,e,d,f=c[_0xee2b[4]];if(this[_0xee2b[143]]===_0xee2b[144]||a===0||!c[_0xee2b[4]]){return}if(a instanceof Robo[_0xee2b[200]]){e=Ext[_0xee2b[26]][_0xee2b[147]](c,a);if(e===-1){return}a=e+1}a=a||1;this[_0xee2b[180]](_0xee2b[208],this);this[_0xee2b[165]]();this[_0xee2b[202]]();for(d=0;d<Math[_0xee2b[203]](a,f);d++){b=this[_0xee2b[128]][_0xee2b[209]]();b[_0xee2b[13]]();this[_0xee2b[127]][_0xee2b[11]](b)}this[_0xee2b[206]]();this[_0xee2b[180]](_0xee2b[182],this,this[_0xee2b[128]][_0xee2b[191]]());this[_0xee2b[180]](_0xee2b[181],this,this[_0xee2b[127]][_0xee2b[191]]());this[_0xee2b[166]]();this[_0xee2b[180]](_0xee2b[210],this)},undoAll:function(){this[_0xee2b[12]](this[_0xee2b[127]][_0xee2b[4]])},redoAll:function(){this[_0xee2b[13]](this[_0xee2b[128]][_0xee2b[4]])},notifyStoresAboutTransactionStart:function(a){this[_0xee2b[184]](function(b){b[_0xee2b[211]]&&b[_0xee2b[211]](this,a)})},notifyStoresAboutTransactionEnd:function(a){this[_0xee2b[184]](function(b){b[_0xee2b[212]]&&b[_0xee2b[212]](this,a)})},notifyStoresAboutUndoRedoStart:function(){this[_0xee2b[184]](function(a){a[_0xee2b[213]]&&a[_0xee2b[213]](this)})},notifyStoresAboutUndoRedoComplete:function(){this[_0xee2b[184]](function(a){a[_0xee2b[214]]&&a[_0xee2b[214]](this)})}},function(){Ext[_0xee2b[8]](Robo,{VERSION:_0xee2b[215]})});Ext[_0xee2b[6]](_0xee2b[216],{extend:_0xee2b[17],requires:[_0xee2b[108]],undoRedoPostponed:null,inUndoRedoTransaction:!1,undoRedoEventBus:null,mixinConfig:{before:{constructor:_0xee2b[217],destroy:_0xee2b[218],fireEventArgs:_0xee2b[219],setRoot:_0xee2b[220],fillNode:_0xee2b[221]},after:{setRoot:_0xee2b[222],fillNode:_0xee2b[223]}},constructor:function(){var a=this;a[_0xee2b[150]]=new Ext[_0xee2b[49]].Observable()},destroy:function(){Ext[_0xee2b[218]](this[_0xee2b[150]])},fireEventArgs:function(b,a){var c=this;if(!a[_0xee2b[53]](_0xee2b[224])){a[_0xee2b[224]]={}}if(!a[_0xee2b[224]][b]){a[_0xee2b[224]][b]=!0;c[_0xee2b[150]][_0xee2b[225]](b)&&c[_0xee2b[150]][_0xee2b[219]](b,a)}},isInUndoRedoTransaction:function(){return this[_0xee2b[226]]},onUndoRedoTransactionStart:function(a,b){this[_0xee2b[226]]=!0},onUndoRedoTransactionEnd:function(a,b){this[_0xee2b[226]]=!1},isUndoingOrRedoing:function(){return !!this[_0xee2b[227]]},beforeUndoRedo:function(a){this[_0xee2b[227]]=[]},afterUndoRedo:function(b){var a=this;if(a[_0xee2b[227]]){Ext[_0xee2b[26]][_0xee2b[130]](a[_0xee2b[227]],function(a){a()})}a[_0xee2b[227]]=null},postponeAfterUndoRedo:function(a){Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1]](a,_0xee2b[228]);this[_0xee2b[227]][_0xee2b[11]](a)},beforeSetRoot:function(){this[_0xee2b[229]]=!0},afterSetRoot:function(){this[_0xee2b[229]]=!1;if(!this[_0xee2b[230]]()){this[_0xee2b[180]](_0xee2b[231],this)}},beforeFillNode:function(a){if(a[_0xee2b[232]]()){this[_0xee2b[220]]()}},afterFillNode:function(a){if(a[_0xee2b[232]]()){this[_0xee2b[222]]()}},isRootSettingOrLoading:function(){return this[_0xee2b[233]]()||this[_0xee2b[234]]&&this[_0xee2b[229]]}});Ext[_0xee2b[6]](_0xee2b[235],{extend:_0xee2b[236],alias:_0xee2b[237],iconCls:Ext[_0xee2b[238]]+_0xee2b[239],robo:null,transactionList:null,type:_0xee2b[12],text:_0xee2b[240],disabled:!0,constructor:function(a){a=a||{};Ext[_0xee2b[8]](this,a);if(!this[_0xee2b[241]]){throw new Error(_0xee2b[242]+this[_0xee2b[243]])}this[_0xee2b[9]](a)},initComponent:function(){var a=this;Ext[_0xee2b[8]](this,{menu:new Ext[_0xee2b[247]].Menu({cls:_0xee2b[244],items:this[_0xee2b[245]](),listeners:{click:this[_0xee2b[246]],scope:this}})});this[_0xee2b[149]](_0xee2b[248],function(){a[_0xee2b[241]][a[_0xee2b[249]]]()});this[_0xee2b[252]](a[_0xee2b[241]],a[_0xee2b[249]]+_0xee2b[250],this[_0xee2b[251]],this);this[_0xee2b[9]]()},onTransactionQueueChange:function(c,b){this[_0xee2b[253]](b[_0xee2b[4]]===0);var a=this[_0xee2b[247]];a[_0xee2b[254]]();a[_0xee2b[255]](this[_0xee2b[245]]());if(!b[_0xee2b[4]]){a[_0xee2b[256]]()}},getTransactionItems:function(){var a=this;var b=Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[241]][this[_0xee2b[249]]+_0xee2b[257]],function(b){return new Ext[_0xee2b[247]].Item({text:b[_0xee2b[15]](),transaction:b,listeners:{activate:a[_0xee2b[258]],deactivate:a[_0xee2b[259]],scope:a}})});if(this[_0xee2b[249]]==_0xee2b[12]){b[_0xee2b[260]]()}return b},onTransactionClick:function(b,a){if(!a){return}this[_0xee2b[241]][this[_0xee2b[249]]](a[_0xee2b[261]])},onTransactionItemActivated:function(a){this[_0xee2b[247]][_0xee2b[266]][_0xee2b[25]](function(b){if(b==a){return !1}if(b[_0xee2b[262]]){b[_0xee2b[265]][_0xee2b[264]](b[_0xee2b[263]])}})},onTransactionItemDeActivated:function(a){this[_0xee2b[247]][_0xee2b[266]][_0xee2b[25]](function(b){if(b==a){return !1}if(b[_0xee2b[262]]){b[_0xee2b[265]][_0xee2b[267]](b[_0xee2b[263]])}})}});Ext[_0xee2b[6]](_0xee2b[268],{extend:_0xee2b[235],alias:_0xee2b[269],iconCls:Ext[_0xee2b[238]]+_0xee2b[270],type:_0xee2b[13],text:_0xee2b[271]});Ext[_0xee2b[6]](_0xee2b[272],{extend:_0xee2b[273],alias:_0xee2b[274],robo:null,type:_0xee2b[12],constructor:function(a){a=a||{};Ext[_0xee2b[8]](this,a);if(!this[_0xee2b[241]]){throw new Error(_0xee2b[242]+this[_0xee2b[243]])}this[_0xee2b[9]](a)},initComponent:function(){var a=this;Ext[_0xee2b[8]](this,{rootVisible:!1,columns:[{xtype:_0xee2b[275],text:_0xee2b[276],dataIndex:_0xee2b[14],width:250},{text:_0xee2b[277],dataIndex:_0xee2b[278],flex:1,tdCls:_0xee2b[279]}],store:{fields:[_0xee2b[14],_0xee2b[278],_0xee2b[280]]},viewConfig:{getRowClass:Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[281]],this)}});this[_0xee2b[252]](a[_0xee2b[241]],a[_0xee2b[249]]+_0xee2b[250],this[_0xee2b[251]],this);this[_0xee2b[9]]()},getActiveRowClass:function(a,c,b,d){return a[_0xee2b[55]](_0xee2b[280])?_0xee2b[284]:_0xee2b[27]},onTransactionQueueChange:function(d,a){var b=this[_0xee2b[249]];var c=Ext[_0xee2b[26]][_0xee2b[41]](a,function(f,e){var c=b==_0xee2b[12]?e==a[_0xee2b[4]]-1:e===0;return {leaf:!1,expanded:!0,title:f[_0xee2b[15]](),isActive:c,children:Ext[_0xee2b[26]][_0xee2b[41]](f[_0xee2b[285]](),function(b){var g=b[_0xee2b[37]]();return {leaf:!0,title:b[_0xee2b[15]](),fieldNames:b instanceof Robo[_0xee2b[175]][_0xee2b[174]][_0xee2b[286]]?b[_0xee2b[278]][_0xee2b[73]](_0xee2b[287]):_0xee2b[27],isActive:c}})}});this[_0xee2b[64]][_0xee2b[288]]({expanded:!0,children:c});this[_0xee2b[290]]()[_0xee2b[289]](0,Infinity)}});Ext[_0xee2b[6]](_0xee2b[291],{requires:[_0xee2b[110]],mixins:{observable:_0xee2b[108]},isCrudManager:!0,revision:null,stores:null,storeIdProperty:_0xee2b[146],filterParam:_0xee2b[173],storesIndex:null,activeRequests:null,delayedSyncs:null,transport:null,trackResponseType:!1,phantomIdField:_0xee2b[292],autoLoad:!1,autoSyncTimeout:100,autoSync:!1,resetIdsBeforeSync:!0,syncApplySequence:null,writeAllFields:!1,fieldMapping:!1,destroyed:!1,ignoreUpdates:0,loaded:!1,createMissingRecords:!1,autoSyncTimerId:null,applyingLoadResponse:!1,applyingSyncResponse:!1,constructor:function(a){a=a||{};this[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this,a);this[_0xee2b[296]]={};this[_0xee2b[297]]=[];this[_0xee2b[298]]=a[_0xee2b[298]]||this[_0xee2b[298]]||{};var c=a[_0xee2b[125]]||this[_0xee2b[125]];this[_0xee2b[125]]=[];this[_0xee2b[129]](c);var b=a[_0xee2b[299]]||this[_0xee2b[299]];if(b){this[_0xee2b[299]]=null;this[_0xee2b[300]](b)}if(this[_0xee2b[301]]){this[_0xee2b[302]]()}},updateStoreIndex:function(){var c={};for(var a=0,d=this[_0xee2b[125]][_0xee2b[4]];a<d;a++){var b=this[_0xee2b[125]][a];if(b[_0xee2b[146]]){c[b[_0xee2b[146]]]=this[_0xee2b[125]][a]}}this[_0xee2b[303]]=c},getStoreDescriptor:function(a){if(!a){return}if(a[_0xee2b[304]]){for(var b=0,c=this[_0xee2b[125]][_0xee2b[4]];b<c;b++){if(this[_0xee2b[125]][b][_0xee2b[64]]===a){return this[_0xee2b[125]][b]}}}else {if(typeof a==_0xee2b[305]){return this[_0xee2b[303]][a[_0xee2b[146]]]}else {return this[_0xee2b[303]][a]||this[_0xee2b[306]](Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[55]](a))}}},getStore:function(b){var a=this[_0xee2b[306]](b);return a&&a[_0xee2b[64]]},forEachStore:function(c,e){if(!c){return}var b=this[_0xee2b[125]];for(var a=0,d=b[_0xee2b[4]];a<d;a++){if(c[_0xee2b[293]](e||this,b[a][_0xee2b[64]],b[a][_0xee2b[146]],b[a])===!1){break}}},addStore:function(c,i,b){if(!c){return}if(!Ext[_0xee2b[307]](c)){c=[c]}var e=[];for(var g=0,k=c[_0xee2b[4]];g<k;g++){var a=c[g];if(a[_0xee2b[304]]){a={store:a}}else {if(typeof a==_0xee2b[305]){if(a[_0xee2b[125]]){if(!Ext[_0xee2b[307]](a[_0xee2b[125]])){a[_0xee2b[125]]=[a[_0xee2b[125]]]}for(var d=0,l=a[_0xee2b[125]][_0xee2b[4]];d<l;d++){var h=a[_0xee2b[125]][d],f=h;if(_0xee2b[308]===typeof h){f={storeId:h}}f[_0xee2b[309]]=a;a[_0xee2b[125]][d]=f}}}else {a={store:Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[55]](a)}}}e[_0xee2b[11]](this[_0xee2b[310]](a));if(a[_0xee2b[64]][_0xee2b[311]]){a[_0xee2b[64]][_0xee2b[311]](this)}else {a[_0xee2b[64]][_0xee2b[312]]=this}if(a[_0xee2b[64]][_0xee2b[234]]){a[_0xee2b[64]][_0xee2b[314]]({type:_0xee2b[313]})}a[_0xee2b[64]][_0xee2b[315]](!1);this[_0xee2b[316]](a[_0xee2b[64]])}if(typeof i===_0xee2b[317]){this[_0xee2b[125]][_0xee2b[11]][_0xee2b[8]](this[_0xee2b[125]],e)}else {var j=i;if(b){if(b[_0xee2b[304]]||typeof b!==_0xee2b[305]){b=this[_0xee2b[306]](b)}j+=Ext[_0xee2b[26]][_0xee2b[147]](this[_0xee2b[125]],b)}this[_0xee2b[125]][_0xee2b[319]][_0xee2b[8]](this[_0xee2b[125]],[][_0xee2b[318]]([j,0],e))}this[_0xee2b[320]]()},bindStoreListeners:function(b,c){var a={update:this[_0xee2b[321]],clear:this[_0xee2b[322]],scope:this};if(b[_0xee2b[234]]){Ext[_0xee2b[8]](a,{nodeappend:this[_0xee2b[323]],nodeinsert:this[_0xee2b[323]],noderemove:this[_0xee2b[324]]})}else {Ext[_0xee2b[8]](a,{add:this[_0xee2b[322]],remove:this[_0xee2b[322]]})}if(c){this[_0xee2b[325]](b,a)}else {this[_0xee2b[252]](b,a)}},unbindStoreListeners:function(a){this[_0xee2b[316]](a,!0)},fillStoreDescriptor:function(c){var b=c[_0xee2b[64]],d=b[_0xee2b[326]]||this[_0xee2b[326]],a=b[_0xee2b[137]]&&b[_0xee2b[137]]()||b[_0xee2b[327]];a=a&&a[_0xee2b[139]];Ext[_0xee2b[330]](c,{storeId:b[d],phantomIdField:a&&a[_0xee2b[31]],idProperty:a&&a[_0xee2b[328]],writeAllFields:b[_0xee2b[329]]});return c},removeStore:function(c){for(var b=0,d=this[_0xee2b[125]][_0xee2b[4]];b<d;b++){var a=this[_0xee2b[125]][b];if(a===c||a[_0xee2b[64]]===c||a[_0xee2b[146]]===c){this[_0xee2b[331]](a[_0xee2b[64]]);delete this[_0xee2b[303]][a[_0xee2b[146]]];this[_0xee2b[125]][_0xee2b[319]](b,1);if(this[_0xee2b[299]]){this[_0xee2b[332]](c)}break}}},addStoreToApplySequence:function(b,f,a){if(!b){return}if(!Ext[_0xee2b[307]](b)){b=[b]}var d=[];for(var c=0,h=b[_0xee2b[4]];c<h;c++){var e=this[_0xee2b[306]](b[c]);if(e){d[_0xee2b[11]](e)}}if(!this[_0xee2b[299]]){this[_0xee2b[299]]=[]}if(typeof f===_0xee2b[317]){this[_0xee2b[299]][_0xee2b[11]][_0xee2b[8]](this[_0xee2b[299]],d)}else {var g=f;if(a){if(a[_0xee2b[304]]||typeof a!==_0xee2b[305]){a=this[_0xee2b[306]](a)}g+=Ext[_0xee2b[26]][_0xee2b[147]](this[_0xee2b[299]],a)}this[_0xee2b[299]][_0xee2b[319]][_0xee2b[8]](this[_0xee2b[299]],[][_0xee2b[318]]([g,0],d))}},removeStoreFromApplySequence:function(c){for(var a=0,d=this[_0xee2b[299]][_0xee2b[4]];a<d;a++){var b=this[_0xee2b[299]][a];if(b===c||b[_0xee2b[64]]===c||b[_0xee2b[146]]===c){this[_0xee2b[299]][_0xee2b[319]](a,1);break}}},onNodeRemove:function(a){var b=a&&a[_0xee2b[82]]();b&&b[_0xee2b[149]](_0xee2b[333],this[_0xee2b[322]],this,{single:!0})},onStoreUpdate:function(c,b,e,a){if(!c[_0xee2b[234]]||b!==c[_0xee2b[230]]()){var d=a&&a[_0xee2b[4]]===1&&b[_0xee2b[162]](a[0])&&!b[_0xee2b[162]](a[0])[_0xee2b[163]];if(!d){this[_0xee2b[322]]()}}},onTreeStoreInsertOrAppend:function(b,a){if(!a[_0xee2b[232]]()){this[_0xee2b[322]]()}},suspendChangesTracking:function(){this[_0xee2b[334]]++},resumeChangesTracking:function(a){this[_0xee2b[334]]--;a&&this[_0xee2b[322]]()},onStoreChange:function(){if(this[_0xee2b[334]]){return}var a=this;if(this[_0xee2b[335]]()){this[_0xee2b[180]](_0xee2b[336],this);if(this[_0xee2b[65]]){if(!this[_0xee2b[337]]){this[_0xee2b[337]]=setTimeout(function(){a[_0xee2b[337]]=null;a[_0xee2b[338]]()},this[_0xee2b[339]])}}}else {this[_0xee2b[180]](_0xee2b[340],this)}},hasChanges:function(c){var a;if(c){a=this[_0xee2b[341]](c);if(!a){return !1}return this[_0xee2b[342]](a)}for(var b=0,d=this[_0xee2b[125]][_0xee2b[4]];b<d;b++){if(this[_0xee2b[342]](this[_0xee2b[125]][b][_0xee2b[64]])){return !0}}return !1},isStoreDirty:function(b){if(b[_0xee2b[343]]()[_0xee2b[4]]){return !0}if(b[_0xee2b[234]]){for(var e in b[_0xee2b[344]]){var a=b[_0xee2b[344]][e];if(a[_0xee2b[92]]===!0&&!a[_0xee2b[55]](_0xee2b[345])&&(Ext[_0xee2b[154]][_0xee2b[347]](a[_0xee2b[346]])[_0xee2b[4]]!==1||!(_0xee2b[102] in a[_0xee2b[346]])&&!(_0xee2b[80] in a[_0xee2b[346]]))){return !0}else {if(!a[_0xee2b[55]](_0xee2b[345])&&a[_0xee2b[30]]&&a[_0xee2b[348]]()){return !0}}}}else {var d=b[_0xee2b[349]]()[_0xee2b[266]];for(var c=0,f=d[_0xee2b[4]];c<f;c++){if(d[c][_0xee2b[92]]||d[c][_0xee2b[30]]){return !0}}}return !1},getLoadPackage:function(k){var j={type:_0xee2b[302],requestId:this[_0xee2b[350]](),stores:[]};var d=this[_0xee2b[125]],g=j[_0xee2b[125]];for(var c=0,l=d[_0xee2b[4]];c<l;c++){var a=d[c],h=a[_0xee2b[351]]||a[_0xee2b[64]][_0xee2b[351]]||this[_0xee2b[351]],b=k&&k[a[_0xee2b[146]]],i=a[_0xee2b[352]]||a[_0xee2b[64]][_0xee2b[352]];if(a[_0xee2b[64]][_0xee2b[353]]&&h){b=b||{};var f=[];a[_0xee2b[64]][_0xee2b[355]]()[_0xee2b[25]](function(a){f[_0xee2b[11]](a[_0xee2b[354]]())});b[h]=f}if(b||i){var e=Ext[_0xee2b[8]]({storeId:a[_0xee2b[146]],page:1,pageSize:i},b);d[c][_0xee2b[356]]=e[_0xee2b[357]];g[_0xee2b[11]](e)}else {g[_0xee2b[11]](a[_0xee2b[146]])}}return j},prepareAdded:function(e,g,f){var d=this,h=[];for(var c=0,j=e[_0xee2b[4]];c<j;c++){var b=e[c],a=b[_0xee2b[349]]({serialize:!0,persist:!0}),i=b[_0xee2b[349]]({serialize:!0,persist:!0,critical:!0,changes:!0});a=Ext[_0xee2b[330]](a,i);if(!a[_0xee2b[53]](g)){a[g]=b[_0xee2b[32]]()}if(d[_0xee2b[358]]){delete a[b[_0xee2b[328]]]}d[_0xee2b[359]](a,b);if(f){d[_0xee2b[360]](b,a,f)}h[_0xee2b[11]](a)}return h},prepareUpdated:function(g,j,i){var f=this,h=[],e=i[_0xee2b[329]]||i[_0xee2b[329]]!==!1&&f[_0xee2b[329]];for(var d=0,l=g[_0xee2b[4]];d<l;d++){var b=g[d],a=b[_0xee2b[349]]({serialize:!0,persist:!0,critical:!e,changes:!e});a[b[_0xee2b[328]]]=b[_0xee2b[32]]();for(var k in a){var c=b[_0xee2b[162]](k);var m=!c||(e?!c[_0xee2b[163]]&&!c[_0xee2b[361]]:!c[_0xee2b[163]]);if(m){delete a[k]}}f[_0xee2b[359]](a,b);if(j){f[_0xee2b[360]](b,a,j)}h[_0xee2b[11]](a)}return h},prepareRemoved:function(d){var c=[];for(var a=0,f=d[_0xee2b[4]];a<f;a++){var e=d[a],b={};b[e[_0xee2b[328]]]=e[_0xee2b[32]]();c[_0xee2b[11]](b)}return c},processFieldMapping:function(b,f){var a=this;if(!a[_0xee2b[362]]){return}if(Ext[_0xee2b[1]](a[_0xee2b[362]])){a[_0xee2b[362]](b,f);return}for(var c in b){var e=f[_0xee2b[162]](c),d=e&&e[Ext[_0xee2b[363]](a[_0xee2b[362]])?a[_0xee2b[362]]:_0xee2b[364]];if(d&&d!==c){b[d]=b[c];delete b[c]}}},processSubStores:function(g,c,d){for(var a=0,h=d[_0xee2b[4]];a<h;a++){var b=d[a][_0xee2b[146]],f=g[_0xee2b[55]](b);if(f){var e=this[_0xee2b[365]](Ext[_0xee2b[8]]({store:f},d[a]));if(e){c[b]=Ext[_0xee2b[8]](e,{$store:!0})}else {delete c[b]}}else {delete c[b]}}},getStoreChanges:function(e,g){g=g||e[_0xee2b[31]]||this[_0xee2b[31]];var f=e[_0xee2b[64]],a=f[_0xee2b[366]](),b=f[_0xee2b[367]](),c=f[_0xee2b[343]](),h=e[_0xee2b[125]];var d;if(a[_0xee2b[4]]){a=this[_0xee2b[368]](a,g,h)}if(b[_0xee2b[4]]){b=this[_0xee2b[369]](b,h,e)}if(c[_0xee2b[4]]){c=this[_0xee2b[370]](c)}if(a[_0xee2b[4]]||b[_0xee2b[4]]||c[_0xee2b[4]]){d={};if(a[_0xee2b[4]]){d[_0xee2b[371]]=a}if(b[_0xee2b[4]]){d[_0xee2b[372]]=b}if(c[_0xee2b[4]]){d[_0xee2b[373]]=c}}return d},getChangeSetPackage:function(){var e={type:_0xee2b[338],requestId:this[_0xee2b[350]](),revision:this[_0xee2b[374]]};var c=this[_0xee2b[125]],f=0;for(var b=0,g=c[_0xee2b[4]];b<g;b++){var a=c[b],i=a[_0xee2b[31]]||this[_0xee2b[31]],h=a[_0xee2b[146]];var d=this[_0xee2b[365]](a,i);if(d){f++;e[h]=d}}return f?e:null},getSubStoresData:function(b,d,h,i){if(!b){return}var c=[];var e=function(e,f){for(var a=0,j=f[_0xee2b[4]];a<j;a++){var g=f[a][_0xee2b[146]];if(e[g]){c[_0xee2b[11]]({id:e[h],storeDesc:f[a],data:e[g]});delete e[g]}}};var a=0,f=b[_0xee2b[4]];if(i){for(;a<f;a++){e(b[a],d);var g=this[_0xee2b[376]](b[a][_0xee2b[375]],d,h,!0);if(g){c=c[_0xee2b[318]](g)}}}else {for(;a<f;a++){e(b[a],d)}}return c},loadDataToTreeStore:function(b,c,f,e){var d=c&&c[_0xee2b[377]]||[];var a=b[_0xee2b[230]]();if(a){a[_0xee2b[346]]=null;a[_0xee2b[378]]()}b[_0xee2b[379]][_0xee2b[22]]=d;b[_0xee2b[302]]({onChildNodesAvailable:function(){var a=this[_0xee2b[355]]();a[_0xee2b[380]]();a[_0xee2b[381]]()}})},loadDataToFlatStore:function(a,b,d,e){var f=b&&b[_0xee2b[377]]||[];a[_0xee2b[382]]=b[_0xee2b[383]];a[_0xee2b[356]]=e[_0xee2b[356]];var c=Ext[_0xee2b[26]][_0xee2b[41]](f,function(c){return new a[_0xee2b[327]](c)});a[_0xee2b[385]](c,d&&d[_0xee2b[384]]||b[_0xee2b[384]]);a[_0xee2b[180]](_0xee2b[302],a,c,!0)},applyMetaDataToStore:function(b,a){if(a){if(b[_0xee2b[386]]){b[_0xee2b[386]](a,this)}else {b[_0xee2b[387]]=a}}},loadDataToStore:function(c,b,m){var a=c[_0xee2b[64]],f=a[_0xee2b[137]](),j=c[_0xee2b[125]],n=c[_0xee2b[328]]||f&&f[_0xee2b[139]]&&f[_0xee2b[139]][_0xee2b[328]]||_0xee2b[388],h=a[_0xee2b[234]],d;a[_0xee2b[389]]=!0;if(b){this[_0xee2b[390]](a,b[_0xee2b[387]]);var i=b[_0xee2b[377]]||[];if(i){if(j){d=this[_0xee2b[376]](i,j,n,h)}var k=h?this[_0xee2b[391]]:this[_0xee2b[392]];k[_0xee2b[293]](this,a,b,m,c);if(d){for(var g=0,l=d[_0xee2b[4]];g<l;g++){var e=d[g];this[_0xee2b[396]](Ext[_0xee2b[8]]({store:a[h?_0xee2b[394]:_0xee2b[395]](e[_0xee2b[388]])[_0xee2b[55]](e[_0xee2b[393]][_0xee2b[146]])},e[_0xee2b[393]]),e[_0xee2b[22]])}}}}a[_0xee2b[389]]=!1},loadData:function(f,b){b=b||{};this[_0xee2b[397]]();for(var a=0,g=this[_0xee2b[125]][_0xee2b[4]];a<g;a++){var e=this[_0xee2b[125]][a],d=e[_0xee2b[146]],c=f[d];if(c){this[_0xee2b[396]](e,c,b[d])}}this[_0xee2b[398]]()},applyChangesToRecord:function(b,d,g,c){var n=b[_0xee2b[22]],i={},h=!1,a;if(g){for(var f=0,l=g[_0xee2b[4]];f<l;f++){a=g[f][_0xee2b[146]];if(d[_0xee2b[53]](a)){i[a]=!0;var j=b[_0xee2b[55]](a);if(j){this[_0xee2b[399]](Ext[_0xee2b[8]]({store:j},g[f]),d[a])}else {Ext[_0xee2b[401]](_0xee2b[400])}}}}for(a in d){if(d[_0xee2b[53]](a)&&!i[a]){var e=d[a];if(!b[_0xee2b[402]](n[a],e)){var m=c&&c[_0xee2b[403]]||_0xee2b[404];if(!h){h=!0;b[_0xee2b[46]]()}if(a===b[_0xee2b[328]]){b[_0xee2b[405]](e)}else {if(a===m&&c[_0xee2b[234]]){var k=e&&c[_0xee2b[394]](e)||c[_0xee2b[230]]();k[_0xee2b[83]](b)}else {if(b[_0xee2b[162]](a)){b[_0xee2b[50]](a,e)}}}}}}if(h){b[_0xee2b[51]]()}b[_0xee2b[406]]()},applyRemovals:function(g,j,c){var o=c[_0xee2b[328]],b=g[_0xee2b[234]]?g[_0xee2b[81]]:g[_0xee2b[373]],k=c[_0xee2b[407]],m=c[_0xee2b[408]],d=0;for(var e=0,l=j[_0xee2b[4]];e<l;e++){var h=!1;var i=j[e][o];for(var a=0,n=b[_0xee2b[4]];a<n;a++){if(b[a][_0xee2b[32]]()==i){b[_0xee2b[319]](a,1);h=!0;d++;break}}if(!h){var f=k(i);if(f){this[_0xee2b[397]]();m(f);Ext[_0xee2b[26]][_0xee2b[63]](b,f);d++;this[_0xee2b[398]]()}else {Ext[_0xee2b[401]](_0xee2b[409])}}}return d},getApplyChangesToStoreHelpers:function(a){if(a[_0xee2b[234]]){var b=function(b){return a[_0xee2b[394]](b)},c=a[_0xee2b[403]]||_0xee2b[404];return {findByPhantomFn:b,findByIdFn:b,addRecordFn:function(b){var d=b[c]&&a[_0xee2b[394]](b[c])||a[_0xee2b[230]]();return d[_0xee2b[83]](b)},removeRecordFn:function(b){return b[_0xee2b[96]][_0xee2b[78]](b)}}}else {return {findByPhantomFn:function(b){return a[_0xee2b[22]][_0xee2b[410]](b)},findByIdFn:function(b){return a[_0xee2b[395]](b)},addRecordFn:function(b){return a[_0xee2b[255]](b)[0]},removeRecordFn:function(b){return a[_0xee2b[63]](b)}}}},applyChangesToStore:function(j,l){var c=this,v=j[_0xee2b[31]]||c[_0xee2b[31]],h=j[_0xee2b[328]],a=j[_0xee2b[64]];if(!h){var e=a[_0xee2b[137]]&&a[_0xee2b[137]]()||a[_0xee2b[327]];e=e&&e[_0xee2b[139]];h=e&&e[_0xee2b[328]]||_0xee2b[388]}var f=c[_0xee2b[411]](a),w=f[_0xee2b[412]],q=f[_0xee2b[407]],u=f[_0xee2b[413]],r=f[_0xee2b[408]],n=l[_0xee2b[387]],k=l[_0xee2b[377]],o=l[_0xee2b[373]],p=0,b;n&&c[_0xee2b[390]](a,n);if(o){p=c[_0xee2b[414]](a,o,{idProperty:h,findByIdFn:q,removeRecordFn:r})}if(k){var d,i,g,t=j[_0xee2b[125]];for(var m=0,s=k[_0xee2b[4]];m<s;m++){d=k[m];g=d[v];i=d[h];b=null;if(g!=null&&g!==_0xee2b[27]){b=w(g)}else {if(i!=null&&i!==_0xee2b[27]){b=q(i)}}if(b){c[_0xee2b[415]](b,d,t,a)}else {b=u(d);b[_0xee2b[406]]()}}}if(p>0){a[_0xee2b[180]](_0xee2b[416],a);a[_0xee2b[180]](_0xee2b[406],a)}},applySyncResponse:function(e){this[_0xee2b[417]]=!0;this[_0xee2b[397]]();var b=this[_0xee2b[299]]||this[_0xee2b[125]];for(var a=0,d=b[_0xee2b[4]];a<d;a++){var c=e[b[a][_0xee2b[146]]];if(c){this[_0xee2b[399]](b[a],c)}}this[_0xee2b[417]]=!1;this[_0xee2b[398]]()},applyLoadResponse:function(a,b){this[_0xee2b[418]]=!0;this[_0xee2b[385]](a,b);this[_0xee2b[418]]=!1},applyResponse:function(a,b,c){if(this[_0xee2b[419]]){a=b[_0xee2b[249]]||a}switch(a){case _0xee2b[302]:this[_0xee2b[420]](b,c);break;case _0xee2b[338]:this[_0xee2b[421]](b);break;}},getRequestId:function(){return Math[_0xee2b[424]](Math[_0xee2b[422]]()*Date[_0xee2b[423]]())},onResponse:function(b,d,c,e){this[_0xee2b[296]][b]=null;var a=this[_0xee2b[425]](d);if(!a||!a[_0xee2b[426]]){this[_0xee2b[180]](_0xee2b[427],this,b,a,c);this[_0xee2b[180]](b+_0xee2b[428],this,a,c,e);if(_0xee2b[308]!=typeof d){d=_0xee2b[27]+d}this[_0xee2b[431]](_0xee2b[429]+b+_0xee2b[430],d[_0xee2b[4]]<1024*1024&&d||_0xee2b[27])}else {this[_0xee2b[180]](_0xee2b[432],this,b,a,c);this[_0xee2b[180]](b+_0xee2b[426],this,a,c,e);if(this[_0xee2b[180]](_0xee2b[433],this,b,a)!==!1&&this[_0xee2b[180]](_0xee2b[434]+b+_0xee2b[8],this,a,e)!==!1){this[_0xee2b[374]]=a[_0xee2b[374]];this[_0xee2b[435]](b,a,e);this[_0xee2b[180]](_0xee2b[436],this,b,a,c);this[_0xee2b[180]](b,this,a,c,e);if(b===_0xee2b[302]||!this[_0xee2b[335]]()){this[_0xee2b[180]](_0xee2b[340],this)}}}return a},onLoad:function(c,b,a){this[_0xee2b[106]]=!0;return this[_0xee2b[437]](_0xee2b[302],c,b,a)},onSync:function(c,b,a){return this[_0xee2b[437]](_0xee2b[338],c,b,a)},load:function(c,b,a){var e;if(typeof c===_0xee2b[305]){e=c;c=b;b=a;a=arguments[3]}var d=this[_0xee2b[438]](e);if(this[_0xee2b[180]](_0xee2b[439],this,d)!==!1){a=a||this;if(this[_0xee2b[296]][_0xee2b[302]]){this[_0xee2b[441]](this[_0xee2b[296]][_0xee2b[302]][_0xee2b[440]]);this[_0xee2b[180]](_0xee2b[442],this,d)}this[_0xee2b[296]][_0xee2b[302]]={id:d[_0xee2b[443]]};this[_0xee2b[296]][_0xee2b[302]][_0xee2b[440]]=this[_0xee2b[446]]({data:this[_0xee2b[444]](d),type:_0xee2b[302],success:function(f,g){var d=this[_0xee2b[445]](f,g,e);if(b&&(!d||!d[_0xee2b[426]])){b[_0xee2b[293]](a,d,f,e)}else {if(c){c[_0xee2b[293]](a,d,f,e)}}},failure:function(d,e){this[_0xee2b[445]](d,e);if(b){b[_0xee2b[8]](a,arguments)}},scope:this})}else {this[_0xee2b[180]](_0xee2b[442],this,d)}},sync:function(d,c,a){if(this[_0xee2b[296]][_0xee2b[338]]){this[_0xee2b[297]][_0xee2b[11]](arguments);this[_0xee2b[180]](_0xee2b[447],this,arguments);return}var b=this[_0xee2b[448]]();a=a||this;if(!b){if(d){d[_0xee2b[293]](a,null,null)}return}if(this[_0xee2b[180]](_0xee2b[449],this,b)===!1){this[_0xee2b[180]](_0xee2b[450],this,b);return}this[_0xee2b[296]][_0xee2b[338]]={id:b[_0xee2b[443]]};this[_0xee2b[296]][_0xee2b[338]][_0xee2b[440]]=this[_0xee2b[446]]({data:this[_0xee2b[444]](b),type:_0xee2b[338],success:function(e,g){var f=this[_0xee2b[296]][_0xee2b[338]];var b=this[_0xee2b[451]](e,g);if(c&&(!b||!b[_0xee2b[426]])){c[_0xee2b[293]](a,b,e,f)}else {if(d){d[_0xee2b[293]](a,b,e,f)}}this[_0xee2b[452]]()},failure:function(b,e){this[_0xee2b[451]](b,e);if(c){c[_0xee2b[8]](a,arguments)}this[_0xee2b[452]]()},scope:this})},runDelayedSync:function(){var a=this[_0xee2b[297]][_0xee2b[209]]();if(!a){return}this[_0xee2b[338]][_0xee2b[8]](this,a)},commit:function(){for(var a=0,c=this[_0xee2b[125]][_0xee2b[4]];a<c;a++){var b=this[_0xee2b[125]][a][_0xee2b[64]];b[_0xee2b[453]](!0);b[_0xee2b[454]]();b[_0xee2b[455]]()}},reject:function(){for(var a=0,b=this[_0xee2b[125]][_0xee2b[4]];a<b;a++){this[_0xee2b[125]][a][_0xee2b[64]][_0xee2b[456]]()}},warn:function(){if(_0xee2b[457] in window){var a=console;a[_0xee2b[401]]&&a[_0xee2b[401]][_0xee2b[8]]&&a[_0xee2b[401]][_0xee2b[8]](a,arguments)}},isLoading:function(){return Boolean(this[_0xee2b[296]][_0xee2b[302]]||this[_0xee2b[418]])},destroy:function(){var a=this;if(a[_0xee2b[458]]){return}a[_0xee2b[296]][_0xee2b[302]]&&a[_0xee2b[441]](a[_0xee2b[296]][_0xee2b[302]][_0xee2b[440]]);a[_0xee2b[296]][_0xee2b[338]]&&a[_0xee2b[441]](a[_0xee2b[296]][_0xee2b[338]][_0xee2b[440]]);while(a[_0xee2b[125]][_0xee2b[4]]>0){a[_0xee2b[459]](a[_0xee2b[125]][0])}clearTimeout(a[_0xee2b[337]]);a[_0xee2b[458]]=!0}});Ext[_0xee2b[6]](_0xee2b[460],{extend:_0xee2b[461],singleton:!0,requires:[_0xee2b[291]],type:_0xee2b[462],prefix:_0xee2b[463],constructor:function(){var a=this;a[_0xee2b[9]]();a[_0xee2b[465]](Sch[_0xee2b[464]].AbstractManager)},match:function(d,c){var a=!1,b=d[_0xee2b[466]];if(c===_0xee2b[467]){a=!0}else {if(b){a=Ext[_0xee2b[26]][_0xee2b[147]](b,this[_0xee2b[468]]+c)>-1}}return a}});Ext[_0xee2b[6]](_0xee2b[469],{extend:_0xee2b[470],alias:_0xee2b[471],align:_0xee2b[472],start:null,end:null,draggable:!1,groupable:!1,hideable:!1,sortable:!1,menuDisabled:!0,enableLocking:!1,lockable:!1,flex:1,resizable:!1,cellFocusable:!1,tdCls:_0xee2b[473],initComponent:function(){var a=new Date();this[_0xee2b[264]](_0xee2b[474]);if(this[_0xee2b[475]]()){this[_0xee2b[264]](_0xee2b[476]);this[_0xee2b[477]]=(this[_0xee2b[477]]||_0xee2b[27])+_0xee2b[478]}if(this[_0xee2b[179]][_0xee2b[479]]()===a[_0xee2b[479]]()&&this[_0xee2b[179]][_0xee2b[480]]()===a[_0xee2b[480]]()&&this[_0xee2b[179]][_0xee2b[481]]()===a[_0xee2b[481]]()){this[_0xee2b[264]](_0xee2b[482]);this[_0xee2b[477]]=(this[_0xee2b[477]]||_0xee2b[27])+_0xee2b[483]}this[_0xee2b[9]](arguments)},isWeekend:function(){var a=this[_0xee2b[179]][_0xee2b[484]]();return a===6||a===0}});Ext[_0xee2b[6]](_0xee2b[485],{extend:_0xee2b[486],alias:_0xee2b[487],align:_0xee2b[472],menuDisabled:!0,hideable:!1,sortable:!1,locked:!1,lockable:!1,draggable:!1,enableLocking:!1,cellFocusable:!1,model:null,initComponent:function(){this[_0xee2b[477]]=(this[_0xee2b[477]]||_0xee2b[27])+_0xee2b[488];this[_0xee2b[489]]=(this[_0xee2b[489]]||_0xee2b[27])+_0xee2b[490];this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[491],{l10n:null,localeName:null,namespaceId:null,constructor:function(){if(!Sch[_0xee2b[493]][_0xee2b[492]]){Sch[_0xee2b[493]][_0xee2b[492]]={};this[_0xee2b[494]]()}var b=this[_0xee2b[45]][_0xee2b[497]]()[_0xee2b[496]](_0xee2b[495]);var c=this[_0xee2b[498]]=b[_0xee2b[204]]();this[_0xee2b[499]]=b[_0xee2b[73]](_0xee2b[495]);var a=Sch[_0xee2b[493]][_0xee2b[492]][this[_0xee2b[499]]];if(!(c==_0xee2b[500]&&a&&a[_0xee2b[498]]!=_0xee2b[500])){this[_0xee2b[8]]()}},bindRequire:function(){var a=Ext[_0xee2b[502]][_0xee2b[501]];Ext[_0xee2b[502]][_0xee2b[501]]=function(b){a[_0xee2b[8]](this,arguments);if(b){var c=Ext[_0xee2b[502]][_0xee2b[55]](b);for(var d in Sch[_0xee2b[493]][_0xee2b[492]]){Sch[_0xee2b[493]][_0xee2b[492]][d][_0xee2b[8]](c)}}}},applyToClass:function(c,a){var e=this,d=e[_0xee2b[45]][_0xee2b[497]]();a=a||Ext[_0xee2b[502]][_0xee2b[55]](c);if(a&&a[_0xee2b[503]]!==d){var b=e[_0xee2b[504]][c];if(typeof b===_0xee2b[505]){b(c)}else {if(a[_0xee2b[506]]){a[_0xee2b[504]]=Ext[_0xee2b[8]]({},b,a[_0xee2b[139]]&&a[_0xee2b[139]][_0xee2b[504]])}else {if(a[_0xee2b[139]][_0xee2b[53]](_0xee2b[504])){b=Ext[_0xee2b[8]]({},b,a[_0xee2b[139]]&&a[_0xee2b[139]][_0xee2b[504]])}Ext[_0xee2b[507]](a,{l10n:b})}}a[_0xee2b[503]]=d;if(a[_0xee2b[508]]){a[_0xee2b[508]]()}}},apply:function(a){if(this[_0xee2b[504]]){var e=this;if(a){if(!Ext[_0xee2b[307]](a)){a=[a]}var c,d;for(var b=0,g=a[_0xee2b[4]];b<g;b++){if(Ext[_0xee2b[135]](a[b])){if(a[b][_0xee2b[506]]){d=a[b];c=Ext[_0xee2b[510]](Ext[_0xee2b[509]](d))}else {d=Ext[_0xee2b[509]](a[b]);c=Ext[_0xee2b[510]](d)}}else {d=null;c=_0xee2b[308]===typeof a[b]?a[b]:Ext[_0xee2b[510]](a[b])}if(c){if(c in this[_0xee2b[504]]){e[_0xee2b[511]](c,d)}}}}else {Sch[_0xee2b[493]][_0xee2b[492]][this[_0xee2b[499]]]=this;for(var f in this[_0xee2b[504]]){e[_0xee2b[511]](f)}}}}});Ext[_0xee2b[6]](_0xee2b[512],{extend:_0xee2b[491],singleton:!0,l10n:{'Sch.util.Date':{unitNames:{YEAR:{single:_0xee2b[513],plural:_0xee2b[514],abbrev:_0xee2b[515]},QUARTER:{single:_0xee2b[516],plural:_0xee2b[517],abbrev:_0xee2b[518]},MONTH:{single:_0xee2b[519],plural:_0xee2b[520],abbrev:_0xee2b[252]},WEEK:{single:_0xee2b[521],plural:_0xee2b[522],abbrev:_0xee2b[523]},DAY:{single:_0xee2b[524],plural:_0xee2b[525],abbrev:_0xee2b[526]},HOUR:{single:_0xee2b[527],plural:_0xee2b[528],abbrev:_0xee2b[529]},MINUTE:{single:_0xee2b[530],plural:_0xee2b[531],abbrev:_0xee2b[203]},SECOND:{single:_0xee2b[532],plural:_0xee2b[533],abbrev:_0xee2b[534]},MILLI:{single:_0xee2b[535],plural:_0xee2b[535],abbrev:_0xee2b[535]}}},'Sch.model.CalendarDay':{startTimeAfterEndTime:_0xee2b[536],availabilityIntervalsShouldNotIntersect:_0xee2b[537],invalidFormat:_0xee2b[538]},'Sch.panel.SchedulerTree':{'All day':_0xee2b[539]},'Sch.panel.SchedulerGrid':{'All day':_0xee2b[539]},'Sch.panel.TimelineGridPanel':{weekStartDay:1,loadingText:_0xee2b[540],savingText:_0xee2b[541]},'Sch.panel.TimelineTreePanel':{weekStartDay:1,loadingText:_0xee2b[540],savingText:_0xee2b[541]},'Sch.mixin.SchedulerView':{loadingText:_0xee2b[542]},'Sch.plugin.CurrentTimeLine':{tooltipText:_0xee2b[543]},'Sch.widget.recurrence.ConfirmationDialog':{'delete-title':_0xee2b[544],'delete-all-message':_0xee2b[545],'delete-further-message':_0xee2b[546],'delete-all-btn-text':_0xee2b[547],'delete-further-btn-text':_0xee2b[548],'delete-only-this-btn-text':_0xee2b[549],'update-title':_0xee2b[550],'update-all-message':_0xee2b[551],'update-further-message':_0xee2b[552],'update-all-btn-text':_0xee2b[553],'update-further-btn-text':_0xee2b[554],'update-only-this-btn-text':_0xee2b[555],Yes:_0xee2b[556],Cancel:_0xee2b[557]},'Sch.widget.recurrence.Dialog':{'Repeat event':_0xee2b[558],Cancel:_0xee2b[557],Save:_0xee2b[559]},'Sch.widget.recurrence.Form':{Frequency:_0xee2b[560],Every:_0xee2b[561],DAILYintervalUnit:_0xee2b[562],WEEKLYintervalUnit:_0xee2b[563],MONTHLYintervalUnit:_0xee2b[564],YEARLYintervalUnit:_0xee2b[565],Each:_0xee2b[566],'On the':_0xee2b[567],'End repeat':_0xee2b[568],'time(s)':_0xee2b[569]},'Sch.widget.recurrence.field.DaysComboBox':{day:_0xee2b[524],weekday:_0xee2b[570],'weekend day':_0xee2b[571]},'Sch.widget.recurrence.field.PositionsComboBox':{position1:_0xee2b[572],position2:_0xee2b[532],position3:_0xee2b[573],position4:_0xee2b[574],position5:_0xee2b[575],'position-1':_0xee2b[576]},'Sch.data.util.recurrence.Legend':{', ':_0xee2b[287],' and ':_0xee2b[577],Daily:_0xee2b[578],'Weekly on {1}':_0xee2b[579],'Monthly on {1}':_0xee2b[580],'Yearly on {1} of {2}':_0xee2b[581],'Every {0} days':_0xee2b[582],'Every {0} weeks on {1}':_0xee2b[583],'Every {0} months on {1}':_0xee2b[584],'Every {0} years on {1} of {2}':_0xee2b[585],position1:_0xee2b[586],position2:_0xee2b[587],position3:_0xee2b[588],position4:_0xee2b[589],position5:_0xee2b[590],'position-1':_0xee2b[591],day:_0xee2b[524],weekday:_0xee2b[570],'weekend day':_0xee2b[571],daysFormat:_0xee2b[592]},'Sch.widget.recurrence.field.StopConditionComboBox':{Never:_0xee2b[593],After:_0xee2b[594],'On date':_0xee2b[595]},'Sch.widget.recurrence.field.FrequencyComboBox':{Daily:_0xee2b[578],Weekly:_0xee2b[596],Monthly:_0xee2b[597],Yearly:_0xee2b[598]},'Sch.widget.recurrence.field.RecurrenceComboBox':{None:_0xee2b[599],'Custom...':_0xee2b[600]},'Sch.widget.EventEditor':{Repeat:_0xee2b[601],saveText:_0xee2b[559],deleteText:_0xee2b[602],cancelText:_0xee2b[557],nameText:_0xee2b[603],allDayText:_0xee2b[539],startDateText:_0xee2b[604],endDateText:_0xee2b[605],resourceText:_0xee2b[606]},'Sch.plugin.SimpleEditor':{newEventText:_0xee2b[607]},'Sch.widget.ExportDialogForm':{formatFieldLabel:_0xee2b[608],orientationFieldLabel:_0xee2b[609],rangeFieldLabel:_0xee2b[610],showHeaderLabel:_0xee2b[611],showFooterLabel:_0xee2b[612],orientationPortraitText:_0xee2b[613],orientationLandscapeText:_0xee2b[614],completeViewText:_0xee2b[615],currentViewText:_0xee2b[616],dateRangeText:_0xee2b[617],dateRangeFromText:_0xee2b[618],dateRangeToText:_0xee2b[619],exportersFieldLabel:_0xee2b[620],adjustCols:_0xee2b[621],adjustColsAndRows:_0xee2b[622],specifyDateRange:_0xee2b[623],columnPickerLabel:_0xee2b[624],completeDataText:_0xee2b[625],dpiFieldLabel:_0xee2b[626],rowsRangeLabel:_0xee2b[627],allRowsLabel:_0xee2b[628],visibleRowsLabel:_0xee2b[629],columnEmptyText:_0xee2b[630]},'Sch.widget.ExportDialog':{title:_0xee2b[631],exportButtonText:_0xee2b[632],cancelButtonText:_0xee2b[557],progressBarText:_0xee2b[633]},'Sch.plugin.Export':{generalError:_0xee2b[634],fetchingRows:_0xee2b[635],builtPage:_0xee2b[636],requestingPrintServer:_0xee2b[637]},'Sch.plugin.Printable':{dialogTitle:_0xee2b[638],exportButtonText:_0xee2b[639],disablePopupBlocking:_0xee2b[640],popupBlockerDetected:_0xee2b[641]},'Sch.plugin.exporter.AbstractExporter':{name:_0xee2b[642]},'Sch.plugin.exporter.SinglePage':{name:_0xee2b[643]},'Sch.plugin.exporter.MultiPageVertical':{name:_0xee2b[644]},'Sch.plugin.exporter.MultiPage':{name:_0xee2b[645]},'Sch.plugin.Split':{splitText:_0xee2b[646],mergeText:_0xee2b[647]},'Sch.plugin.SummaryBar':{totalText:_0xee2b[648]},'Sch.column.ResourceName':{name:_0xee2b[603]},'Sch.template.DependencyInfo':{fromText:_0xee2b[649],toText:_0xee2b[650]},'Sch.preset.Manager':{hourAndDay:{displayDateFormat:_0xee2b[651],middleDateFormat:_0xee2b[651],topDateFormat:_0xee2b[652]},secondAndMinute:{displayDateFormat:_0xee2b[653],topDateFormat:_0xee2b[654]},dayAndWeek:{displayDateFormat:_0xee2b[655],middleDateFormat:_0xee2b[656]},weekAndDay:{displayDateFormat:_0xee2b[657],bottomDateFormat:_0xee2b[658],middleDateFormat:_0xee2b[659]},weekAndMonth:{displayDateFormat:_0xee2b[660],middleDateFormat:_0xee2b[657],topDateFormat:_0xee2b[660]},weekAndDayLetter:{displayDateFormat:_0xee2b[660],middleDateFormat:_0xee2b[661]},weekDateAndMonth:{displayDateFormat:_0xee2b[660],middleDateFormat:_0xee2b[526],topDateFormat:_0xee2b[662]},monthAndYear:{displayDateFormat:_0xee2b[660],middleDateFormat:_0xee2b[663],topDateFormat:_0xee2b[664]},year:{displayDateFormat:_0xee2b[660],middleDateFormat:_0xee2b[664]},manyYears:{displayDateFormat:_0xee2b[660],middleDateFormat:_0xee2b[664]}}}});Ext[_0xee2b[6]](_0xee2b[665],{extend:_0xee2b[17],requires:[_0xee2b[512]],activeLocaleId:_0xee2b[27],l10n:null,inTextLocaleRegExp:/L\{([^}]+)\}/g,localizableProperties:null,isLocaleApplied:function(){var a=this[_0xee2b[506]]&&this[_0xee2b[503]]||this[_0xee2b[45]][_0xee2b[503]];if(!a){return !1}for(var b in Sch[_0xee2b[493]][_0xee2b[492]]){if(a===Sch[_0xee2b[493]][_0xee2b[492]][b][_0xee2b[45]][_0xee2b[497]]()){return !0}}return !1},applyLocale:function(){for(var a in Sch[_0xee2b[493]][_0xee2b[492]]){Sch[_0xee2b[493]][_0xee2b[492]][a][_0xee2b[8]](this[_0xee2b[506]]?this:this[_0xee2b[45]][_0xee2b[497]]())}},L:function(){return this[_0xee2b[666]][_0xee2b[8]](this,arguments)},localize:function(b,d,c){var a=this[_0xee2b[667]](b,d,c);if(a===null||a===undefined){throw _0xee2b[668]+b+_0xee2b[669]+this[_0xee2b[45]][_0xee2b[497]]()+_0xee2b[670]}return a},getLocale:function(a,f,e){if(!this[_0xee2b[671]]()&&!e){this[_0xee2b[672]]()}if(this[_0xee2b[53]](_0xee2b[504])&&this[_0xee2b[504]]&&this[_0xee2b[504]][_0xee2b[53]](a)&&_0xee2b[505]!=typeof this[_0xee2b[504]][a]){return this[_0xee2b[504]][a]}var c=this[_0xee2b[45]]&&this[_0xee2b[45]][_0xee2b[139]];var b=c[_0xee2b[504]]&&c[_0xee2b[504]][a];if(b===null||b===undefined){var d=c&&c[_0xee2b[673]];if(d&&d[_0xee2b[666]]){b=d[_0xee2b[666]](a,f,e)}}return b},localizeText:function(a){var b,c,d=this[_0xee2b[674]];while(b=d[_0xee2b[676]](a)){if(c=this[_0xee2b[667]](b[1])){a=a[_0xee2b[675]](b[0],c)}}return a},localizeProperties:function(){var c=this,a=c[_0xee2b[677]];if(a){a=a[_0xee2b[496]](_0xee2b[72]);for(var b=a[_0xee2b[4]]-1;b>=0;b--){c[a[b]]=c[_0xee2b[678]](c[a[b]])}}},mixinConfig:{before:{initComponent:_0xee2b[679]}},beforeInitComponent:function(){this[_0xee2b[680]]()}});Ext[_0xee2b[6]](_0xee2b[681],{extend:_0xee2b[486],alias:_0xee2b[682],mixins:[_0xee2b[665]],initComponent:function(){Ext[_0xee2b[8]](this,{text:this.L(_0xee2b[683])});this[_0xee2b[9]](arguments)},renderer:function(c,b,a){return a[_0xee2b[497]]()}});Ext[_0xee2b[6]](_0xee2b[684],{extend:_0xee2b[470],alias:[_0xee2b[685]],lockableScope:_0xee2b[686],showPercent:!1,nbrDecimals:1,sortable:!1,fixed:!0,menuDisabled:!0,width:80,dataIndex:_0xee2b[687],schedulerPanel:null,lockable:!1,init:Ext[_0xee2b[688]],constructor:function(a){this[_0xee2b[689]]=this;this[_0xee2b[9]](arguments);this[_0xee2b[149]](_0xee2b[690],this[_0xee2b[691]],this)},onMyBeforeRender:function(){this[_0xee2b[692]]=this[_0xee2b[694]](_0xee2b[693])},getTimeAxis:function(){return this[_0xee2b[692]][_0xee2b[695]]()},getEventStore:function(){return this[_0xee2b[692]][_0xee2b[696]]()},renderer:function(i,h,e){var d=this[_0xee2b[695]](),g=this[_0xee2b[696]](),b=d[_0xee2b[697]](),c=d[_0xee2b[698]](),a=this[_0xee2b[700]](g[_0xee2b[699]](e),b,c);if(a<=0){return _0xee2b[27]}if(this[_0xee2b[701]]){var f=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[702]](b,c);return Math[_0xee2b[704]](a*100/f)+_0xee2b[705]}else {if(a>1440){return (a/1440)[_0xee2b[707]](this[_0xee2b[706]])+_0xee2b[60]+Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[709]](_0xee2b[708])}if(a>=30){return (a/60)[_0xee2b[707]](this[_0xee2b[706]])+_0xee2b[60]+Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[709]](_0xee2b[710])}return a+_0xee2b[60]+Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[709]](_0xee2b[711])}},calculate:function(g,f,e){var d=0,c,b,a=Sch[_0xee2b[49]][_0xee2b[703]];Ext[_0xee2b[26]][_0xee2b[25]](g,function(h){c=h[_0xee2b[712]]();b=h[_0xee2b[713]]();if(a[_0xee2b[714]](f,e,c,b)){d+=a[_0xee2b[702]](a[_0xee2b[715]](c,f),a[_0xee2b[203]](b,e))}});return d}});Ext[_0xee2b[6]](_0xee2b[716],{extend:_0xee2b[108],requires:[_0xee2b[717]],statics:{encodeDateFormat:_0xee2b[718]},trackHeaderOver:!0,compactCellWidthThreshold:15,baseCls:_0xee2b[719],tableCls:_0xee2b[720],enableTickResizing:!1,headerHtmlRowTpl:_0xee2b[721],model:null,hoverCls:_0xee2b[27],containerEl:null,height:null,constructor:function(d){var a=this;var c=!!Ext[_0xee2b[723]][_0xee2b[722]];Ext[_0xee2b[8]](this,d);a[_0xee2b[9]](arguments);a[_0xee2b[327]][_0xee2b[149]](_0xee2b[724],a[_0xee2b[725]],this,{priority:5});a[_0xee2b[726]]=Ext[_0xee2b[55]](a[_0xee2b[726]]);if(!(a[_0xee2b[727]] instanceof Ext[_0xee2b[728]])){if(Ext[_0xee2b[363]](a[_0xee2b[727]])){a[_0xee2b[727]]=a[_0xee2b[727]][_0xee2b[675]](_0xee2b[734],this[_0xee2b[735]])[_0xee2b[675]](_0xee2b[732],this[_0xee2b[733]])[_0xee2b[675]](_0xee2b[729],this[_0xee2b[730]]?_0xee2b[731]:_0xee2b[27])}a[_0xee2b[727]]=new Ext.XTemplate(a[_0xee2b[727]])}if(a[_0xee2b[736]]&&a[_0xee2b[737]]){a[_0xee2b[726]][_0xee2b[149]]({mousemove:a[_0xee2b[738]],delegate:_0xee2b[495]+this[_0xee2b[735]],scope:a});a[_0xee2b[726]][_0xee2b[149]]({mouseleave:a[_0xee2b[739]],scope:a})}var b={scope:this,delegate:_0xee2b[495]+this[_0xee2b[735]]};if(c){b[_0xee2b[740]]=this[_0xee2b[741]](_0xee2b[740]);b[_0xee2b[742]]=this[_0xee2b[741]](_0xee2b[742])}else {b[_0xee2b[248]]=this[_0xee2b[741]](_0xee2b[248]);b[_0xee2b[743]]=this[_0xee2b[741]](_0xee2b[743]);b[_0xee2b[744]]=this[_0xee2b[741]](_0xee2b[744])}a[_0xee2b[745]]=b;if(a[_0xee2b[726]]){a[_0xee2b[726]][_0xee2b[149]](b)}},destroy:function(){var a=this;if(a[_0xee2b[726]]){a[_0xee2b[726]][_0xee2b[152]](a._listenerCfg);a[_0xee2b[726]][_0xee2b[152]]({mousemove:a[_0xee2b[738]],delegate:_0xee2b[746],scope:a});a[_0xee2b[726]][_0xee2b[152]]({mouseleave:a[_0xee2b[739]],scope:a})}a[_0xee2b[327]][_0xee2b[152]](_0xee2b[724],a[_0xee2b[725]],this,{priority:5})},onModelUpdate:function(){this[_0xee2b[747]]=null;this[_0xee2b[748]]()},getHTML:function(){var a=this[_0xee2b[327]][_0xee2b[749]]();var c=this[_0xee2b[327]][_0xee2b[750]]();var d=Ext[_0xee2b[154]][_0xee2b[347]](a)[_0xee2b[4]];var b=_0xee2b[27];if(a[_0xee2b[686]]){this[_0xee2b[751]](a[_0xee2b[686]]);b+=this[_0xee2b[727]][_0xee2b[8]]({totalWidth:c,cells:a[_0xee2b[686]],position:_0xee2b[686],tstyle:_0xee2b[752]})}if(a[_0xee2b[753]]){this[_0xee2b[751]](a[_0xee2b[753]]);b+=this[_0xee2b[727]][_0xee2b[8]]({totalWidth:c,cells:a[_0xee2b[753]],position:_0xee2b[753],tstyle:a[_0xee2b[686]]?_0xee2b[27]:_0xee2b[752],cls:!a[_0xee2b[754]]&&this[_0xee2b[327]][_0xee2b[755]]()<=this[_0xee2b[756]]?_0xee2b[757]:_0xee2b[27]})}if(a[_0xee2b[754]]){this[_0xee2b[751]](a[_0xee2b[754]]);b+=this[_0xee2b[727]][_0xee2b[8]]({totalWidth:c,cells:a[_0xee2b[754]],position:_0xee2b[754],cls:this[_0xee2b[327]][_0xee2b[755]]()<=this[_0xee2b[756]]?_0xee2b[757]:_0xee2b[27]})}return b},deleteTimeAxisRows:function(){var a=this[_0xee2b[726]],b=a[_0xee2b[758]];Ext[_0xee2b[761]](b)[_0xee2b[760]](_0xee2b[759])[_0xee2b[63]]()},render:function(){if(!this[_0xee2b[726]]){return}var e=this[_0xee2b[726]],a=e[_0xee2b[758]],d=a[_0xee2b[763]][_0xee2b[762]],c=this[_0xee2b[327]][_0xee2b[749]](),b=a[_0xee2b[96]];a[_0xee2b[763]][_0xee2b[762]]=_0xee2b[764];b[_0xee2b[78]](a);this[_0xee2b[765]]();a[_0xee2b[768]](_0xee2b[766],this[_0xee2b[767]]());if(!c[_0xee2b[686]]&&!c[_0xee2b[753]]){this[_0xee2b[726]][_0xee2b[264]](_0xee2b[769])}else {this[_0xee2b[726]][_0xee2b[267]](_0xee2b[769])}b&&b[_0xee2b[83]](a);a[_0xee2b[763]][_0xee2b[762]]=d;this[_0xee2b[180]](_0xee2b[770],this)},embedCellWidths:function(d,e){for(var b=0;b<d[_0xee2b[4]];b++){var a=d[b];var c=this[_0xee2b[327]][_0xee2b[772]](a[_0xee2b[179]],a[_0xee2b[771]]);if(c){a[_0xee2b[773]]=c}else {a[_0xee2b[773]]=0;a[_0xee2b[763]]=_0xee2b[774]}}},onElClick:function(a){return function(c,b){b=c[_0xee2b[775]]||b;var f=Ext[_0xee2b[761]](b)[_0xee2b[777]](_0xee2b[776]),e=Ext[_0xee2b[761]](b)[_0xee2b[777]](_0xee2b[778]),d=this[_0xee2b[327]][_0xee2b[749]]()[f][e];this[_0xee2b[180]](_0xee2b[779]+a,this,d[_0xee2b[179]],d[_0xee2b[771]],c)}},highlightCell:function(c,b){var a=this;if(b!==a[_0xee2b[780]]){a[_0xee2b[739]]();a[_0xee2b[780]]=b;Ext[_0xee2b[761]](b)[_0xee2b[264]](a[_0xee2b[737]])}},clearHighlight:function(){var a=this,b=a[_0xee2b[780]];if(b){Ext[_0xee2b[761]](b)[_0xee2b[267]](a[_0xee2b[737]]);delete a[_0xee2b[780]]}}});Ext[_0xee2b[6]](_0xee2b[781],{extend:_0xee2b[782],selector:null,currentCell:null,originalCellWidth:null,startClientX:null,timeAxisViewModel:null,minCellWidth:15,init:function(a){a[_0xee2b[149]](_0xee2b[748],this[_0xee2b[783]],this)},onColumnRender:function(a){a[_0xee2b[787]]()[_0xee2b[149]](_0xee2b[784],this[_0xee2b[785]],this,{delegate:this[_0xee2b[786]]})},getClientX:function(a){return Ext[_0xee2b[789]](a[_0xee2b[788]])?a[_0xee2b[788]]:a[_0xee2b[790]][_0xee2b[788]]},onMouseDown:function(c,d){var a=this,b=d[_0xee2b[791]];a[_0xee2b[792]]=Ext[_0xee2b[761]](b)[_0xee2b[793]]();a[_0xee2b[794]]=a[_0xee2b[795]](c);a[_0xee2b[796]]=b;a[_0xee2b[800]]()[_0xee2b[252]](Ext[_0xee2b[797]](),_0xee2b[798],a[_0xee2b[799]],a);a[_0xee2b[800]]()[_0xee2b[252]](Ext[_0xee2b[797]](),_0xee2b[801],a[_0xee2b[802]],a,{capture:!0,single:!0})},onMouseMove:function(g,i){var a=this,c=a[_0xee2b[796]],e=c[_0xee2b[98]],f=a[_0xee2b[794]]-a[_0xee2b[795]](g),b=a[_0xee2b[792]],d=Math[_0xee2b[715]](a[_0xee2b[803]],b-f);if(e&&d<b){var h=Math[_0xee2b[203]](b*2-a[_0xee2b[803]],b+f);e[_0xee2b[763]][_0xee2b[773]]=h+_0xee2b[804]}c[_0xee2b[763]][_0xee2b[773]]=d+_0xee2b[804]},onMouseUp:function(f,i){var a=this,b=a[_0xee2b[800]]()[_0xee2b[694]](_0xee2b[805]),d=b[_0xee2b[808]]()[_0xee2b[807]](Ext[_0xee2b[761]](a[_0xee2b[796]])[_0xee2b[806]]()),e=Ext[_0xee2b[761]](a[_0xee2b[796]])[_0xee2b[809]]()-b[_0xee2b[808]]()[_0xee2b[809]](),g=a[_0xee2b[795]](f)-a[_0xee2b[794]],c=a[_0xee2b[792]]/a[_0xee2b[810]][_0xee2b[755]](),h=Math[_0xee2b[715]](a[_0xee2b[803]],a[_0xee2b[810]][_0xee2b[755]]()+g/c);a[_0xee2b[810]][_0xee2b[811]](Math[_0xee2b[704]](h));b[_0xee2b[812]](d,!1,e);a[_0xee2b[800]]()[_0xee2b[325]](Ext[_0xee2b[797]](),_0xee2b[798],a[_0xee2b[799]],a);this[_0xee2b[796]]=this[_0xee2b[813]]=null}});Ext[_0xee2b[6]](_0xee2b[814],{extend:_0xee2b[470],alias:_0xee2b[815],requires:[_0xee2b[716],_0xee2b[781]],draggable:!1,groupable:!1,hideable:!1,sortable:!1,resizable:!1,menuDisabled:!0,cls:_0xee2b[816],tdCls:_0xee2b[473],enableLocking:!1,locked:!1,lockable:!1,enableTickResizing:!1,cellFocusable:!1,timeAxisViewModel:null,headerView:null,hoverCls:_0xee2b[27],ownHoverCls:_0xee2b[817],trackHeaderOver:!0,compactCellWidthThreshold:Ext[_0xee2b[818]]&&Ext[_0xee2b[818]][_0xee2b[683]][_0xee2b[819]]()===_0xee2b[820]?15:35,initComponent:function(){if(this[_0xee2b[730]]){this[_0xee2b[823]](new Sch[_0xee2b[822]].HeaderResize({selector:_0xee2b[821],timeAxisViewModel:this[_0xee2b[810]]}))}this[_0xee2b[9]](arguments)},afterRender:function(){var a=this;var b=a[_0xee2b[826]][_0xee2b[825]]({cls:_0xee2b[824]});if(!(a[_0xee2b[827]] instanceof Sch[_0xee2b[829]][_0xee2b[828]])){a[_0xee2b[827]]=Ext[_0xee2b[831]](Ext[_0xee2b[330]](a[_0xee2b[827]]||{},{xclass:_0xee2b[716],model:a[_0xee2b[810]],containerEl:b,hoverCls:a[_0xee2b[830]],trackHeaderOver:a[_0xee2b[736]],enableTickResizing:this[_0xee2b[730]],compactCellWidthThreshold:a[_0xee2b[756]]}))}a[_0xee2b[827]][_0xee2b[149]](_0xee2b[770],a[_0xee2b[832]],a);a[_0xee2b[827]][_0xee2b[748]]();a[_0xee2b[834]][_0xee2b[840]][_0xee2b[149]](_0xee2b[833],function(){if(!a[_0xee2b[834]]){return}a[_0xee2b[252]](a[_0xee2b[834]],_0xee2b[835],a[_0xee2b[836]],a);if(this[_0xee2b[793]]()>0){if(a[_0xee2b[837]]()!==a[_0xee2b[810]][_0xee2b[838]]()){a[_0xee2b[810]][_0xee2b[724]](a[_0xee2b[837]]())}a[_0xee2b[839]](a[_0xee2b[810]][_0xee2b[750]]())}},null,{single:!0});this[_0xee2b[845]](_0xee2b[841],_0xee2b[842],_0xee2b[843],_0xee2b[844]);a[_0xee2b[846]](a[_0xee2b[827]],[_0xee2b[841],_0xee2b[842],_0xee2b[843]]);a[_0xee2b[9]](arguments);a[_0xee2b[847]]=!1;this[_0xee2b[180]](_0xee2b[844],this)},initRenderData:function(){var a=this;a[_0xee2b[849]][_0xee2b[848]]=a[_0xee2b[849]][_0xee2b[848]]||a[_0xee2b[848]];return a[_0xee2b[9]](arguments)},destroy:function(){if(this[_0xee2b[827]]){this[_0xee2b[827]][_0xee2b[218]]();this[_0xee2b[827]]=null}this[_0xee2b[9]](arguments)},onTimeAxisViewRefresh:function(){var b=this[_0xee2b[850]]()[_0xee2b[840]];if(!b||b[_0xee2b[851]]){this[_0xee2b[827]][_0xee2b[152]](_0xee2b[770],this[_0xee2b[832]],this);var a=this[_0xee2b[810]][_0xee2b[750]]();if(this[_0xee2b[793]]()!==a){this[_0xee2b[839]](a)}else {this[_0xee2b[852]]()}this[_0xee2b[853]]();this[_0xee2b[827]][_0xee2b[149]](_0xee2b[770],this[_0xee2b[832]],this)}},getAvailableWidthForSchedule:function(){if(!this[_0xee2b[834]]){return 0}var d=this[_0xee2b[834]][_0xee2b[854]](!0)?this[_0xee2b[834]][_0xee2b[793]]():this[_0xee2b[834]][_0xee2b[855]]&&this[_0xee2b[834]][_0xee2b[855]][_0xee2b[773]]||0,c=this[_0xee2b[834]][_0xee2b[266]],a;for(var b=1;b<c[_0xee2b[4]];b++){a=c[_0xee2b[55]](b);if(!a[_0xee2b[856]]){d-=a[_0xee2b[854]](!0)?a[_0xee2b[793]]():a[_0xee2b[855]]&&a[_0xee2b[855]][_0xee2b[773]]||0}}return Math[_0xee2b[715]](0,d-Ext[_0xee2b[857]]()[_0xee2b[773]]-1)},onResize:function(){this[_0xee2b[9]](arguments);this[_0xee2b[810]][_0xee2b[858]](this[_0xee2b[837]]())},onHeaderContainerResize:function(c,d,a,e,b){this[_0xee2b[810]][_0xee2b[858]](this[_0xee2b[837]]());if(a!==b){this[_0xee2b[827]][_0xee2b[748]]()}},ensureSizing:function(){var a=this[_0xee2b[827]][_0xee2b[726]];var b=this[_0xee2b[834]][_0xee2b[859]]();var c=a[_0xee2b[859]]();var e=b-c;if(e>0){var d=a[_0xee2b[861]](_0xee2b[860]);if(d){a[_0xee2b[760]](_0xee2b[864])[_0xee2b[863]](b/this[_0xee2b[810]][_0xee2b[862]]()[_0xee2b[4]])}}},refresh:function(){if(this[_0xee2b[262]]){this[_0xee2b[810]][_0xee2b[724]](null,!0);this[_0xee2b[827]][_0xee2b[748]]()}}});Ext[_0xee2b[6]](_0xee2b[865],{extend:_0xee2b[470],alias:_0xee2b[866],align:_0xee2b[867],draggable:!1,groupable:!1,hideable:!1,sortable:!1,menuDisabled:!0,timeAxis:null,timeAxisViewModel:null,enableLocking:!1,locked:!0,lockable:!1,dataIndex:_0xee2b[179],initComponent:function(){this[_0xee2b[9]](arguments);this[_0xee2b[477]]=(this[_0xee2b[477]]||_0xee2b[27])+_0xee2b[868];this[_0xee2b[689]]=this;this[_0xee2b[264]](_0xee2b[869])},renderer:function(d,c,e,f){var a=this[_0xee2b[810]];if(!a[_0xee2b[870]][_0xee2b[753]]){return}c[_0xee2b[763]]=_0xee2b[871]+(a[_0xee2b[755]]()-1)+_0xee2b[804];var b;if(!a[_0xee2b[872]]()&&d&&a[_0xee2b[873]](d)){b=a[_0xee2b[875]][a[_0xee2b[874]]()];c[_0xee2b[477]]+=_0xee2b[876]}else {b=a[_0xee2b[877]]()}if(b[_0xee2b[878]]){return b[_0xee2b[878]][_0xee2b[293]](b[_0xee2b[689]]||this,e[_0xee2b[22]][_0xee2b[179]],e[_0xee2b[22]][_0xee2b[771]],c,f)}else {return Ext[_0xee2b[703]][_0xee2b[880]](d,b[_0xee2b[879]])}}});Ext[_0xee2b[6]](_0xee2b[881],{format:_0xee2b[882],encode:function(a){return Ext[_0xee2b[883]][_0xee2b[444]](a)},decode:function(a){if(typeof a==_0xee2b[305]){return a}return Ext[_0xee2b[883]][_0xee2b[425]](a,!0)}});Ext[_0xee2b[6]](_0xee2b[884],{requires:[_0xee2b[717]],format:_0xee2b[885],stringReplaces:[[/&/g,_0xee2b[886]],[/</g,_0xee2b[887]],[/>/g,_0xee2b[888]],[/"/g,_0xee2b[889]]],encodeString:function(b){if(!b){return b}var c=b.toString(),d=this[_0xee2b[890]];for(var a=0,e=d[_0xee2b[4]];a<e;a++){c=c[_0xee2b[675]](d[a][0],d[a][1])}return c},encodeRecords:function(c){var b=_0xee2b[27];for(var a=0,d=c[_0xee2b[4]];a<d;a++){b+=this[_0xee2b[891]](c[a])}return b},encodeRecord:function(d){var b=_0xee2b[892];for(var c in d){var a=d[c];b+=_0xee2b[893]+this[_0xee2b[894]](c)+_0xee2b[895]+(a&&a[_0xee2b[896]]?this[_0xee2b[897]]({storeId:c},a):this[_0xee2b[894]](a))+_0xee2b[898]}b+=_0xee2b[899];return b},encodeStoreChanges:function(c,a){var b=_0xee2b[900]+this[_0xee2b[894]](c[_0xee2b[146]])+_0xee2b[895];if(a[_0xee2b[371]]){b+=_0xee2b[901]+this[_0xee2b[902]](a[_0xee2b[371]])+_0xee2b[903]}if(a[_0xee2b[372]]){b+=_0xee2b[904]+this[_0xee2b[902]](a[_0xee2b[372]])+_0xee2b[905]}if(a[_0xee2b[373]]){b+=_0xee2b[906]+this[_0xee2b[902]](a[_0xee2b[373]])+_0xee2b[907]}b+=_0xee2b[908];return b},encode:function(a){var b,d,e,c;switch(a[_0xee2b[249]]){case _0xee2b[302]:b=_0xee2b[909]+this[_0xee2b[894]](a[_0xee2b[443]])+_0xee2b[895];for(d=0,e=a[_0xee2b[125]][_0xee2b[4]];d<e;d++){c=a[_0xee2b[125]][d];if(typeof c===_0xee2b[308]){b+=_0xee2b[900]+this[_0xee2b[894]](c)+_0xee2b[910]}else {b+=_0xee2b[900]+this[_0xee2b[894]](c[_0xee2b[146]])+_0xee2b[911]+this[_0xee2b[894]](c[_0xee2b[357]])+_0xee2b[912]+this[_0xee2b[894]](c[_0xee2b[352]])+_0xee2b[910]}};b+=_0xee2b[913];return b;case _0xee2b[338]:b=_0xee2b[914]+this[_0xee2b[894]](a[_0xee2b[443]])+_0xee2b[915]+this[_0xee2b[894]](a[_0xee2b[374]])+_0xee2b[895];for(d in a){if(a[_0xee2b[53]](d)){c=this[_0xee2b[341]](d);if(c){b+=this[_0xee2b[897]](c,a[d])}}};b+=_0xee2b[916];break;}return b},stringToXML:function(b){if(!b){return}var a;if(window[_0xee2b[917]]){a=(new DOMParser())[_0xee2b[919]](b,_0xee2b[918])}else {if(window[_0xee2b[920]]){a=new ActiveXObject(_0xee2b[921]);a[_0xee2b[922]]=!1;a[_0xee2b[923]](b)}}return a},decodeRecords:function(b){var c=[];for(var a=0,d=b[_0xee2b[4]];a<d;a++){c[_0xee2b[11]](this[_0xee2b[924]](b[a]))}return c},decodeRecord:function(g){var f=g[_0xee2b[925]],d={},c;for(var b=0,h=f[_0xee2b[4]];b<h;b++){var a=f[b];if(a[_0xee2b[926]]==_0xee2b[927]){c=_0xee2b[27];if(a[_0xee2b[928]]){var e=this[_0xee2b[929]](a,_0xee2b[64]);c=e?this[_0xee2b[930]](e):a[_0xee2b[928]][_0xee2b[931]]}d[a[_0xee2b[777]](_0xee2b[388])]=c}}return d},getElementsByTagName:function(d,f){var b=d[_0xee2b[925]],c=[];for(var a=0,e=b[_0xee2b[4]];a<e;a++){if(b[a][_0xee2b[926]]==f){c[_0xee2b[11]](b[a])}}return c},getElementByTagName:function(c,e){var b=c[_0xee2b[925]];for(var a=0,d=b[_0xee2b[4]];a<d;a++){if(b[a][_0xee2b[926]]==e){return b[a]}}},decodeStore:function(e){var a={},c=this[_0xee2b[932]](e,_0xee2b[377]);if(c[_0xee2b[4]]){a[_0xee2b[377]]=this[_0xee2b[934]](this[_0xee2b[932]](c[0],_0xee2b[933]));var b=parseInt(c[0][_0xee2b[777]](_0xee2b[383]),10);if(isNaN(b)||b<a[_0xee2b[377]][_0xee2b[4]]){b=a[_0xee2b[377]][_0xee2b[4]]}a[_0xee2b[383]]=b}var d=this[_0xee2b[929]](e,_0xee2b[373]);if(d){a[_0xee2b[373]]=this[_0xee2b[934]](this[_0xee2b[932]](d,_0xee2b[933]))}return a},decode:function(d){var h=typeof d==_0xee2b[308]?this[_0xee2b[935]](d):d;if(!h){return}var a={},b=h[_0xee2b[936]],i=b[_0xee2b[932]](_0xee2b[64]),c,f;a[_0xee2b[443]]=b[_0xee2b[777]](_0xee2b[443]);a[_0xee2b[374]]=b[_0xee2b[777]](_0xee2b[374]);a[_0xee2b[426]]=b[_0xee2b[777]](_0xee2b[426])||_0xee2b[937];a[_0xee2b[426]]=a[_0xee2b[426]][_0xee2b[819]]()==_0xee2b[938];if(!a[_0xee2b[426]]){a[_0xee2b[939]]=b[_0xee2b[777]](_0xee2b[939]);var g=b[_0xee2b[932]](_0xee2b[940])[0];a[_0xee2b[940]]=g&&g[_0xee2b[928]]&&g[_0xee2b[928]][_0xee2b[931]]}for(var e=0,j=i[_0xee2b[4]];e<j;e++){c=i[e];f=c[_0xee2b[777]](_0xee2b[388]);if(this[_0xee2b[341]](f)){a[f]=this[_0xee2b[930]](c)}}return a}});Ext[_0xee2b[6]](_0xee2b[941],{defaultMethod:{load:_0xee2b[942],sync:_0xee2b[943]},cancelRequest:function(a){Ext[_0xee2b[945]][_0xee2b[944]](a)},sendRequest:function(a){var d=a[_0xee2b[22]],c=this[_0xee2b[298]][a[_0xee2b[249]]],f=c[_0xee2b[946]],e=Ext[_0xee2b[8]]({},c&&c[_0xee2b[947]]),g=c[_0xee2b[948]]||this[_0xee2b[949]][a[_0xee2b[249]]];var b=Ext[_0xee2b[8]]({url:c[_0xee2b[950]],method:g,params:e,failure:a[_0xee2b[951]],success:function(b,c){if(a[_0xee2b[426]]){a[_0xee2b[426]][_0xee2b[293]](a[_0xee2b[689]]||this,b[_0xee2b[952]]||b[_0xee2b[953]])}},scope:a[_0xee2b[689]]},c[_0xee2b[954]]);if(!f){if(this[_0xee2b[880]]===_0xee2b[885]){Ext[_0xee2b[8]](b,{xmlData:d})}else {Ext[_0xee2b[8]](b,{jsonData:d})}}else {b[_0xee2b[947]]=b[_0xee2b[947]]||{};b[_0xee2b[947]][f]=d}this[_0xee2b[180]](_0xee2b[955],this,e,a[_0xee2b[249]],b);return Ext[_0xee2b[945]][_0xee2b[956]](b)}});Ext[_0xee2b[6]](_0xee2b[957],{target:null,minVersion:null,maxVersion:null,reportUrl:null,obsoleteTestName:null,description:null,applyFn:null,ieOnly:!1,macOnly:!1,overrides:null,onClassExtended:function(b,a){if(Sch[_0xee2b[958]]){return}if(a[_0xee2b[959]]&&!Ext[_0xee2b[960]]){return}if(a[_0xee2b[961]]&&!Ext[_0xee2b[962]]){return}if((!a[_0xee2b[963]]||Ext[_0xee2b[723]][_0xee2b[965]][_0xee2b[964]](a[_0xee2b[963]])||Ext[_0xee2b[723]][_0xee2b[965]][_0xee2b[966]](a[_0xee2b[963]]))&&(!a[_0xee2b[967]]||Ext[_0xee2b[723]][_0xee2b[965]][_0xee2b[964]](a[_0xee2b[967]])||Ext[_0xee2b[723]][_0xee2b[965]][_0xee2b[968]](a[_0xee2b[967]]))){Ext[_0xee2b[972]](a[_0xee2b[969]],function(){if(a[_0xee2b[970]]){a[_0xee2b[970]]()}else {if(a[_0xee2b[971]]){Ext[_0xee2b[502]][_0xee2b[55]](a[_0xee2b[969]])[_0xee2b[507]](a[_0xee2b[971]])}}})}}});Ext[_0xee2b[6]](_0xee2b[973],{extend:_0xee2b[957],target:_0xee2b[974],minVersion:_0xee2b[975],reportUrl:_0xee2b[976],obsoleteTestName:_0xee2b[977],description:[_0xee2b[978],_0xee2b[979],_0xee2b[980],_0xee2b[981]][_0xee2b[73]](_0xee2b[60]),applyFn:function(){var a;a=Ext[_0xee2b[49]][_0xee2b[983]][_0xee2b[139]][_0xee2b[982]];Ext[_0xee2b[49]][_0xee2b[983]][_0xee2b[139]][_0xee2b[982]]=Ext[_0xee2b[56]];Ext[_0xee2b[49]][_0xee2b[983]][_0xee2b[139]][_0xee2b[984]]=a}});Ext[_0xee2b[6]](_0xee2b[985],{cache:null,constructor:function(){var a=this;a[_0xee2b[986]]={};a[_0xee2b[45]][_0xee2b[987]][Ext[_0xee2b[510]](a)]=a[_0xee2b[987]]={hit:0,miss:0}},key:function(a){var b;if(a&&a[_0xee2b[988]]){b=a[_0xee2b[32]]().toString()}else {if(a===undefined||a===null){b=_0xee2b[989]}else {b=a.toString()}}return b},has:function(a){var b=this;a=b[_0xee2b[990]](a);return b[_0xee2b[986]][_0xee2b[53]](a)},get:function(c,d){var b=this,a;c=b[_0xee2b[990]](c);a=b[_0xee2b[986]][_0xee2b[53]](c)&&b[_0xee2b[986]][c];!a&&d?++b[_0xee2b[987]][_0xee2b[991]]:++b[_0xee2b[987]][_0xee2b[992]];if(!a&&d){a=d()}else {if(!a){a=[]}}b[_0xee2b[986]][c]=a;return a},add:function(c,d){var a=this,b=a[_0xee2b[990]](c);if(!a[_0xee2b[986]][_0xee2b[53]](b)){a[_0xee2b[986]][b]=a[_0xee2b[55]](c)}arguments[_0xee2b[4]]>1&&Ext[_0xee2b[26]][_0xee2b[993]](a[_0xee2b[986]][b],d);return a},set:function(d,c){var a=this,b=a[_0xee2b[990]](d);a[_0xee2b[986]][b]=c;return a},remove:function(b,c){var a=this;b=a[_0xee2b[990]](b);if(a[_0xee2b[986]][_0xee2b[53]](b)){Ext[_0xee2b[26]][_0xee2b[63]](a[_0xee2b[986]][b],c)}return a},move:function(b,c,d){var a=this;b=a[_0xee2b[990]](b);c=a[_0xee2b[990]](c);if(b!=c&&arguments[_0xee2b[4]]>=3){a[_0xee2b[63]](b,d);a[_0xee2b[255]](c,d)}else {if(b!=c&&a[_0xee2b[986]][_0xee2b[53]](b)&&a[_0xee2b[986]][_0xee2b[53]](c)){a[_0xee2b[986]][c]=Ext[_0xee2b[26]][_0xee2b[994]](a[_0xee2b[986]][c],a[_0xee2b[986]][b]);a[_0xee2b[986]][b]=[]}else {if(b!=c&&a[_0xee2b[986]][_0xee2b[53]](b)){a[_0xee2b[986]][c]=a[_0xee2b[986]][b];a[_0xee2b[986]][b]=[]}}}return a},clear:function(b){var a=this;if(!arguments[_0xee2b[4]]){a[_0xee2b[986]]={}}else {b=a[_0xee2b[990]](b);if(a[_0xee2b[986]][_0xee2b[53]](b)){delete a[_0xee2b[986]][b]}}return a},uncache:function(c){var a=this,b;for(b in a[_0xee2b[986]]){if(a[_0xee2b[986]][_0xee2b[53]](b)){a[_0xee2b[986]][b]=Ext[_0xee2b[26]][_0xee2b[63]](a[_0xee2b[986]][b],c)}}return a},inheritableStatics:{stats:{}}});Ext[_0xee2b[6]](_0xee2b[995],{extend:_0xee2b[985],requires:[_0xee2b[996]],assignmentStore:null,assignmentStoreDetacher:null,assignmentStoreFiltersDetacher:null,eventStoreDetacher:null,constructor:function(b){var a=this,c=b[_0xee2b[696]]();a[_0xee2b[9]]();function _0x8e22x8(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[255]](e[_0xee2b[997]](),e)})}function _0x8e22x6(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[63]](e[_0xee2b[997]](),e)})}function _0x8e22x10(g,c,h){var d=c[_0xee2b[998]],e=c[_0xee2b[52]]&&d in c[_0xee2b[52]],f=e&&c[_0xee2b[52]][d];if(e){a[_0xee2b[999]](f,c[_0xee2b[997]](),c)}}function _0x8e22xd(c){a[_0xee2b[231]]()}function _0x8e22x4(d,c){a[_0xee2b[231]]();_0x8e22x3(c)}function _0x8e22xa(f,e,c,d){a[_0xee2b[999]](c,d)}function _0x8e22x2(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[231]](e)})}function _0x8e22x1(){a[_0xee2b[231]]()}function _0x8e22x3(c){Ext[_0xee2b[218]](a[_0xee2b[1000]]);a[_0xee2b[1000]]=c&&c[_0xee2b[149]]({idchanged:_0x8e22xa,remove:_0x8e22x2,cacheresethint:_0x8e22x1,clear:_0x8e22x1,rootchange:_0x8e22x1,priority:100,destroyable:!0})}a[_0xee2b[1001]]=b[_0xee2b[149]]({add:_0x8e22x8,remove:_0x8e22x6,update:_0x8e22x10,cacheresethint:_0x8e22xd,clear:_0x8e22xd,eventstorechange:_0x8e22x4,priority:100,destroyable:!0});a[_0xee2b[1002]]=b[_0xee2b[355]]()[_0xee2b[149]]({endupdate:_0x8e22xd,priority:1002,destroyable:!0});_0x8e22x3(c);a[_0xee2b[1003]]=b},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1001],_0xee2b[1002],_0xee2b[1000]);a[_0xee2b[1003]]=null},get:function(a,c){var b=this;a=b[_0xee2b[990]](a);c=c||function(){return Ext[_0xee2b[26]][_0xee2b[173]](b[_0xee2b[1003]][_0xee2b[1005]](),function(b){return b[_0xee2b[997]]()==a})};return b[_0xee2b[9]]([a,c])}});Ext[_0xee2b[6]](_0xee2b[1006],{extend:_0xee2b[985],requires:[_0xee2b[996]],assignmentStore:null,assignmentStoreDetacher:null,eventStoreDetacher:null,resourceStoreDetacher:null,constructor:function(b){var a=this,c=b[_0xee2b[696]](),d=c&&c[_0xee2b[1007]]();a[_0xee2b[9]]();function _0x8e22xd(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[255]](e[_0xee2b[1008]](),e)})}function _0x8e22x6(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[63]](e[_0xee2b[1008]](),e)})}function _0x8e22xc(h,c,g){var d=c[_0xee2b[1009]],e=c[_0xee2b[52]]&&d in c[_0xee2b[52]],f=e&&c[_0xee2b[52]][d];if(e){a[_0xee2b[999]](f,c[_0xee2b[1008]](),c)}}function _0x8e22x10(c){a[_0xee2b[231]]()}function _0x8e22x4(c,a){_0x8e22x3(a);_0x8e22x5(a&&a[_0xee2b[1007]]())}function _0x8e22xf(d,c){a[_0xee2b[231]]();_0x8e22x5(c)}function _0x8e22xa(e,f,c,d){a[_0xee2b[999]](c,d)}function _0x8e22x9(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[231]](e)})}function _0x8e22x2(){a[_0xee2b[231]]()}function _0x8e22x3(c){Ext[_0xee2b[218]](a[_0xee2b[1000]]);a[_0xee2b[1000]]=c&&c[_0xee2b[149]]({resourcestorechange:_0x8e22xf,priority:100,destroyable:!0})}function _0x8e22x5(c){Ext[_0xee2b[218]](a[_0xee2b[1010]]);a[_0xee2b[1010]]=c&&c[_0xee2b[149]]({idchanged:_0x8e22xa,remove:_0x8e22x9,clear:_0x8e22x2,cacheresethint:_0x8e22x2,rootchange:_0x8e22x2,priority:100,destroyable:!0})}a[_0xee2b[1001]]=b[_0xee2b[149]]({add:_0x8e22xd,remove:_0x8e22x6,update:_0x8e22xc,clear:_0x8e22x10,cacheresethint:_0x8e22x10,eventstorechange:_0x8e22x4,priority:100,destroyable:!0});a[_0xee2b[1002]]=b[_0xee2b[355]]()[_0xee2b[149]](_0xee2b[333],_0x8e22x10,a,{priority:1002,destroyable:!0});_0x8e22x3(c);_0x8e22x5(d);a[_0xee2b[1003]]=b},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1001],_0xee2b[1002],_0xee2b[1000],_0xee2b[1010]);a[_0xee2b[1003]]=null},get:function(a,c){var b=this;a=b[_0xee2b[990]](a);c=c||function(){return Ext[_0xee2b[26]][_0xee2b[173]](b[_0xee2b[1003]][_0xee2b[1005]](),function(b){return b[_0xee2b[1008]]()==a})};return b[_0xee2b[9]]([a,c])}});Ext[_0xee2b[6]](_0xee2b[1011],{onClassMixedIn:function(a){var b={};if(a[_0xee2b[139]][_0xee2b[234]]){b[_0xee2b[1012]]=a[_0xee2b[139]][_0xee2b[394]]}else {b[_0xee2b[1012]]=a[_0xee2b[139]][_0xee2b[395]]}if(a[_0xee2b[139]][_0xee2b[234]]){b[_0xee2b[1013]]=function(b){return this[_0xee2b[1014]][b]||null}}else {b[_0xee2b[1013]]=a[_0xee2b[139]][_0xee2b[1015]]}Ext[_0xee2b[507]](a,b)}});Ext[_0xee2b[6]](_0xee2b[1016],{extend:_0xee2b[17],mixinConfig:{before:{loadRecords:_0xee2b[1017],removeAll:_0xee2b[254]}},loadRecords:function(){this[_0xee2b[180]](_0xee2b[1018],this)},removeAll:function(a){if(a){this[_0xee2b[180]](_0xee2b[1018],this)}}});Ext[_0xee2b[6]](_0xee2b[1019],function(a){return {extend:_0xee2b[996],mixins:{robo:_0xee2b[16]},isCustomizableModel:!0,customizableFields:null,previous:null,__editing:null,__editCounter:0,constructor:function(){var b=this[_0xee2b[9]](arguments);return b},storePreviousFlex:Ext[_0xee2b[283]][_0xee2b[1021]](function(e,c){var d=this,b=d[_0xee2b[55]](e);if(b instanceof Date&&!(c instanceof Date)){c=d[_0xee2b[162]](e)[_0xee2b[1020]](c,d)}if(b instanceof Date&&b-c||!(b instanceof Date)&&b!==c){d[_0xee2b[52]][e]=b}}),deletePreviousFlex:Ext[_0xee2b[283]][_0xee2b[1021]](function(b,c){delete this[_0xee2b[52]][b]}),set:function(c,d){var b=this,e=!1,f=null;if(!b[_0xee2b[52]]){e=!0;b[_0xee2b[52]]={}}b[_0xee2b[1022]](c,d);f=b[_0xee2b[9]](arguments);if(!b[_0xee2b[1023]]){if(e){delete b[_0xee2b[52]]}else {b[_0xee2b[1024]](c,d)}}return f},reject:function(){var b=this,d=b[_0xee2b[346]]||{},c;b[_0xee2b[1023]]=!0;b[_0xee2b[52]]=b[_0xee2b[52]]||{};for(c in d){if(d[_0xee2b[53]](c)){if(typeof d[c]!=_0xee2b[505]){b[_0xee2b[52]][c]=b[_0xee2b[55]](c)}}}b[_0xee2b[9]](arguments);delete b[_0xee2b[52]];b[_0xee2b[1023]]=!1},beginEdit:function(){this[_0xee2b[1025]]++;this[_0xee2b[1023]]=!0;this[_0xee2b[9]](arguments)},cancelEdit:function(){this[_0xee2b[1025]]=0;this[_0xee2b[1023]]=!1;this[_0xee2b[9]](arguments);delete this[_0xee2b[52]]},endEdit:function(c,b){if(--this[_0xee2b[1025]]===0){if(!c&&this[_0xee2b[23]]){var d=this[_0xee2b[20]];if(!b){b=this[_0xee2b[23]](d[_0xee2b[22]])}if(b&&b[_0xee2b[4]]===0){c=!0}}this[_0xee2b[9]]([c][_0xee2b[318]](Array[_0xee2b[139]][_0xee2b[191]][_0xee2b[293]](arguments,1)));this[_0xee2b[1023]]=!1;delete this[_0xee2b[52]]}}}},function(a){a[_0xee2b[1028]][_0xee2b[205]]({fn:function(c,b){if(b){if(Ext[_0xee2b[307]](b)){c[_0xee2b[1026]]=b[_0xee2b[191]]()}else {if(b[_0xee2b[1027]]){if(!Ext[_0xee2b[307]](b[_0xee2b[1027]])){c[_0xee2b[1026]]=[b[_0xee2b[1027]]]}else {c[_0xee2b[1026]]=b[_0xee2b[1027]][_0xee2b[191]]()}}}}}});a[_0xee2b[1045]](function(b,e,f){var c=Ext[_0xee2b[502]],d=c[_0xee2b[501]];c[_0xee2b[501]]=function(l){var g=b[_0xee2b[139]];if(g[_0xee2b[1029]]){g[_0xee2b[1030]]=(b[_0xee2b[673]][_0xee2b[1030]]||[])[_0xee2b[318]](g[_0xee2b[1029]])}else {g[_0xee2b[1030]]=b[_0xee2b[673]][_0xee2b[1030]]||[]}var j={};Ext[_0xee2b[26]][_0xee2b[25]](g[_0xee2b[1030]],function(c){if(typeof c==_0xee2b[308]){c={name:c}}j[c[_0xee2b[683]]]=c});var k=g[_0xee2b[1027]];var i=[];var h=[];Ext[_0xee2b[26]][_0xee2b[25]](k,function(c){if(c[_0xee2b[1031]]){h[_0xee2b[11]](c[_0xee2b[497]]())}});if(g[_0xee2b[328]]!==_0xee2b[388]&&g[_0xee2b[162]](_0xee2b[388])){if(!g[_0xee2b[162]](_0xee2b[388])[_0xee2b[53]](_0xee2b[683])){h[_0xee2b[11]](_0xee2b[388])}}if(g[_0xee2b[328]]!==_0xee2b[1032]&&g[_0xee2b[162]](_0xee2b[1032])){if(!g[_0xee2b[162]](_0xee2b[1032])[_0xee2b[53]](_0xee2b[683])){h[_0xee2b[11]](_0xee2b[1032])}}b[_0xee2b[1033]](h);function _0x8e22xf(i,c,h){if(!c){return}if(!Ext[_0xee2b[307]](c)){c=[c]}var g;for(var d=c[_0xee2b[4]]-1;d>=0;d--){if(c[d][_0xee2b[683]]==h){g=c[d];break}}Ext[_0xee2b[330]](i,g)}function _0x8e22x10(d){var g=b,c=g[_0xee2b[139]],j=d===_0xee2b[1032]?_0xee2b[328]:d[_0xee2b[1034]](0)[_0xee2b[819]]()+d[_0xee2b[1035]](1)+_0xee2b[1036],h={name:c[j]||d,isCustomizableField:!0},i;while(c&&c[_0xee2b[1037]]){i=c[j]||d;c[_0xee2b[53]](_0xee2b[1029])&&_0x8e22xf(h,c[_0xee2b[1029]],d);_0x8e22xf(h,g[_0xee2b[1026]],i);c=g[_0xee2b[673]];g=c&&c[_0xee2b[45]]}return h}h=[];Ext[_0xee2b[154]][_0xee2b[25]](j,function(q,p){var d=p[_0xee2b[683]]||p[_0xee2b[497]]();var n=d===_0xee2b[1032]?_0xee2b[328]:d[_0xee2b[1034]](0)[_0xee2b[819]]()+d[_0xee2b[1035]](1)+_0xee2b[1036];var c=g[n]||d;g[_0xee2b[162]](c)&&h[_0xee2b[11]](c);var o=_0x8e22x10(d);i[_0xee2b[11]](Ext[_0xee2b[831]](_0xee2b[1038]+(o[_0xee2b[249]]||_0xee2b[1039]),o));var m=Ext[_0xee2b[1041]][_0xee2b[1040]](d);if(m!=_0xee2b[1032]){var j=_0xee2b[55]+m;var k=_0xee2b[50]+m;if(!g[j]||g[j][_0xee2b[1042]]&&g[j][_0xee2b[1042]]!=c){g[j]=function(){return this[_0xee2b[55]](this[n]||c)};g[j][_0xee2b[1042]]=c}if(!g[k]||g[k][_0xee2b[1043]]&&g[k][_0xee2b[1043]]!=c){g[k]=function(d){return this[_0xee2b[50]](this[n]||c,d)};g[k][_0xee2b[1043]]=c}}});b[_0xee2b[1044]](i,h);d[_0xee2b[8]](this,arguments);c[_0xee2b[501]]=d}})});Ext[_0xee2b[6]](_0xee2b[1046],{extend:_0xee2b[1019],idProperty:_0xee2b[1032],isAssignmentModel:!0,customizableFields:[{name:_0xee2b[1047]},{name:_0xee2b[1048]}],resourceIdField:_0xee2b[1047],eventIdField:_0xee2b[1048],getInternalId:function(){return this[_0xee2b[1049]]},getAssignmentStore:function(){return this[_0xee2b[1050]]&&this[_0xee2b[1050]][0]},getEventStore:function(){var a=this[_0xee2b[1051]]();return a&&a[_0xee2b[696]]()},getResourceStore:function(){var a=this[_0xee2b[696]]();return a&&a[_0xee2b[1007]]()},getEvent:function(a){var b=this;a=a||b[_0xee2b[696]]();return a&&a[_0xee2b[1012]](b[_0xee2b[997]]())},getResource:function(a){var b=this;a=a||b[_0xee2b[1007]]();return a&&a[_0xee2b[1012]](b[_0xee2b[1008]]())},getEventName:function(b){var a=this[_0xee2b[1052]](b);return a&&a[_0xee2b[497]]()||_0xee2b[27]},getResourceName:function(b){var a=this[_0xee2b[1053]](b);return a&&a[_0xee2b[497]]()||_0xee2b[27]},isPersistable:function(){var c=this,a=c[_0xee2b[1052]](),b=c[_0xee2b[1053]]();return a&&!a[_0xee2b[30]]&&b&&!b[_0xee2b[30]]},fullCopy:function(){return this[_0xee2b[1054]][_0xee2b[8]](this,arguments)},getEventResourceCompositeKey:function(){var a=this;return a[_0xee2b[45]][_0xee2b[1055]](a[_0xee2b[997]](),a[_0xee2b[1008]]())},inheritableStatics:{makeAssignmentEventResourceCompositeKey:function(){var a=[];return function(c,b){a[_0xee2b[4]]=0;a[_0xee2b[11]](_0xee2b[1056],c,_0xee2b[1057],b,_0xee2b[1058]);return a[_0xee2b[73]](_0xee2b[27])}}()}});Ext[_0xee2b[6]](_0xee2b[1059],{extend:_0xee2b[109],requires:[_0xee2b[973],_0xee2b[995],_0xee2b[1006]],uses:[_0xee2b[995],_0xee2b[1006],_0xee2b[1060],_0xee2b[1061]],mixins:[_0xee2b[1011],_0xee2b[1016],_0xee2b[216]],config:{extraKeys:{byEventIdResourceId:{keyFn:_0xee2b[1062]}}},model:_0xee2b[1046],alias:_0xee2b[1063],storeId:_0xee2b[1064],eventResourceCache:null,resourceEventsCache:null,eventStoreDetacher:null,resourceStoreDetacher:null,eventStore:null,constructor:function(b){var a=this;a[_0xee2b[9]]([b]);a[_0xee2b[1065]]=a[_0xee2b[1065]]||a[_0xee2b[1066]]();a[_0xee2b[1067]]=a[_0xee2b[1067]]||a[_0xee2b[1068]]()},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1069],_0xee2b[1070],_0xee2b[1065],_0xee2b[1070],_0xee2b[1000],_0xee2b[1010]);a[_0xee2b[9]]()},createEventAssignmentCache:function(){return new Sch[_0xee2b[22]][_0xee2b[49]].EventAssignmentsCache(this)},createResourceAssignmentCache:function(){return new Sch[_0xee2b[22]][_0xee2b[49]].ResourceAssignmentsCache(this)},createAssignmentStoreEventResourcesCache:function(){return new Sch[_0xee2b[22]][_0xee2b[49]].AssignmentStoreEventResourcesCache(this)},createAssignmentStoreResourceEventsCache:function(){return new Sch[_0xee2b[22]][_0xee2b[49]].AssignmentStoreResourceEventsCache(this)},getEventStore:function(){return this[_0xee2b[1071]]},setEventStore:function(b){var a=this,c=a[_0xee2b[1071]];a[_0xee2b[1071]]=b&&Ext[_0xee2b[1072]][_0xee2b[131]](b)||null;a[_0xee2b[1073]](a[_0xee2b[1071]]);if((c||b)&&c!==b){a[_0xee2b[180]](_0xee2b[1074],a,b,c)}},attachToEventStore:function(b){var a=this;Ext[_0xee2b[218]](a[_0xee2b[1000]]);if(b&&b[_0xee2b[234]]){a[_0xee2b[1000]]=b[_0xee2b[149]]({noderemove:a[_0xee2b[1075]],resourcestorechange:a[_0xee2b[1076]],scope:a,destroyable:!0,priority:200})}else {if(b){a[_0xee2b[1000]]=b[_0xee2b[149]]({remove:a[_0xee2b[1077]],resourcestorechange:a[_0xee2b[1076]],scope:a,destroyable:!0,priority:200})}}a[_0xee2b[1078]](b&&b[_0xee2b[1007]]())},attachToResourceStore:function(b){var a=this;Ext[_0xee2b[218]](a[_0xee2b[1010]]);if(b){if(b[_0xee2b[234]]){a[_0xee2b[1010]]=b[_0xee2b[149]]({noderemove:a[_0xee2b[1079]],scope:a,destroyable:!0,priority:200})}else {a[_0xee2b[1010]]=b[_0xee2b[149]]({remove:a[_0xee2b[1080]],scope:a,destroyable:!0,priority:200})}}},onEventStoreResourceStoreChange:function(c,a,b){this[_0xee2b[1078]](a)},onEventRemove:function(e,c,f,d){var b=this,a;if(!d){a=[];Ext[_0xee2b[26]][_0xee2b[25]](c,function(g){a=a[_0xee2b[318]](b[_0xee2b[1081]](g))});a[_0xee2b[4]]&&b[_0xee2b[63]](a)}},onEventNodeRemove:function(e,c,d){var b=this,a;if(!d){a=[];c[_0xee2b[99]](function(f){a=a[_0xee2b[318]](b[_0xee2b[1081]](f))});a[_0xee2b[4]]&&b[_0xee2b[63]](a)}},onResourceRemove:function(e,c,f,d){var b=this,a;if(!d){a=[];Ext[_0xee2b[26]][_0xee2b[25]](c,function(g){a=a[_0xee2b[318]](b[_0xee2b[1082]](g))});a[_0xee2b[4]]&&b[_0xee2b[63]](a)}},onResourceNodeRemove:function(e,c,d){var b=this,a;if(!d){a=[];c[_0xee2b[99]](function(f){a=a[_0xee2b[318]](b[_0xee2b[1082]](f))});a[_0xee2b[4]]&&b[_0xee2b[63]](a)}},mapAssignmentsForEvent:function(e,c,a){var d=this,b=[];c=c||Ext[_0xee2b[56]];a=a||Ext[_0xee2b[1083]];if(c!==Ext[_0xee2b[56]]||a!==Ext[_0xee2b[1083]]){Ext[_0xee2b[26]][_0xee2b[25]](d[_0xee2b[1065]][_0xee2b[55]](e),function(f){var d=c(f);a(d)&&b[_0xee2b[11]](d)})}else {b=b[_0xee2b[318]](d[_0xee2b[1065]][_0xee2b[55]](e))}return b},mapAssignmentsForResource:function(e,b,a){var d=this,c=[];b=b||Ext[_0xee2b[56]];a=a||Ext[_0xee2b[1083]];if(b!==Ext[_0xee2b[56]]||a!==Ext[_0xee2b[1083]]){Ext[_0xee2b[26]][_0xee2b[25]](d[_0xee2b[1067]][_0xee2b[55]](e),function(f){var d=b(f);a(d)&&c[_0xee2b[11]](d)})}else {c=[][_0xee2b[318]](d[_0xee2b[1067]][_0xee2b[55]](e))}return c},getAssignmentsForEvent:function(a){return this[_0xee2b[1084]](a)},removeAssignmentsForEvent:function(b){var a=this;a[_0xee2b[63]](a[_0xee2b[1081]](b))},getAssignmentsForResource:function(a){return this[_0xee2b[1085]](a)},removeAssignmentsForResource:function(b){var a=this;a[_0xee2b[63]](a[_0xee2b[1082]](b))},getResourcesForEvent:function(c){var b=this,a;if(b[_0xee2b[1069]]){a=b[_0xee2b[1069]][_0xee2b[55]](c)}else {a=b[_0xee2b[1084]](c,function _0x8e22x2(a){return a[_0xee2b[1053]]()},function _0x8e22x6(a){return !!a})}return a},getEventsForResource:function(c){var d=this,b=this[_0xee2b[696]](),a;a=d[_0xee2b[1085]](c,function _0x8e22x1(a){return a[_0xee2b[1052]]()},function _0x8e22x4(a){return !!a&&(!b[_0xee2b[1086]]()||b[_0xee2b[1087]](a))});return a},assignEventToResource:function(a,b,d){var e=this,c=[];d=d||Ext[_0xee2b[56]];var f=Ext[_0xee2b[307]](b)?b:[b];Ext[_0xee2b[26]][_0xee2b[25]](f,function(g){if(!e[_0xee2b[1088]](a,g)){var f=new e[_0xee2b[327]]();f=d(f);f[_0xee2b[1089]](a&&a[_0xee2b[988]]&&a[_0xee2b[32]]()||a);f[_0xee2b[1090]](g&&g[_0xee2b[988]]&&g[_0xee2b[32]]()||g);c[_0xee2b[11]](f)}});e[_0xee2b[255]](c);return c},unassignEventFromResource:function(d,b){var a=this,c;if(!b){this[_0xee2b[1091]](d)}else {if(a[_0xee2b[1088]](d,b)){c=a[_0xee2b[1092]](d,b);a[_0xee2b[63]](c)}}return c},isEventAssignedToResource:function(f,b){var g=this,e=g[_0xee2b[1093]](f),a=!1,c,d;if(b&&b[_0xee2b[988]]){b=b[_0xee2b[32]]()}for(c=0,d=e[_0xee2b[4]];!a&&c<d;c++){a=e[c];a=a[_0xee2b[32]]()==b}return a},getAssignmentForEventAndResource:function(b,a){var c=this;if(b&&b[_0xee2b[988]]){b=b[_0xee2b[32]]()}if(a&&a[_0xee2b[988]]){a=a[_0xee2b[32]]()}return c[_0xee2b[1094]][_0xee2b[55]](c[_0xee2b[327]][_0xee2b[1055]](b,a))},commitChanges:function(){this[_0xee2b[453]](!0);this[_0xee2b[9]](arguments);this[_0xee2b[455]]()}});Ext[_0xee2b[6]](_0xee2b[1095],{requires:[_0xee2b[1096]],extend:_0xee2b[1019],mixins:[_0xee2b[665]],idProperty:_0xee2b[1032],isCalendarDayModel:!0,customizableFields:[{name:_0xee2b[703],type:_0xee2b[1097],dateFormat:_0xee2b[1098],persist:!0,convert:function(b,c){if(!b){return}var a=Ext[_0xee2b[22]][_0xee2b[1100]][_0xee2b[1099]][_0xee2b[1020]][_0xee2b[293]](this,b);if(a){Ext[_0xee2b[703]][_0xee2b[1101]](a)}return a}},{name:_0xee2b[1102],type:_0xee2b[1103]},{name:_0xee2b[1104],type:_0xee2b[1097],dateFormat:_0xee2b[1098]},{name:_0xee2b[1105],type:_0xee2b[1097],dateFormat:_0xee2b[1098]},{name:_0xee2b[1106],defaultValue:_0xee2b[708]},{name:_0xee2b[1107],type:_0xee2b[1108],defaultValue:!1},{name:_0xee2b[1109],defaultValue:_0xee2b[1110]},_0xee2b[603],{name:_0xee2b[1111],persist:!0,convert:function(a,b){if(a){return typeof a===_0xee2b[308]?[a]:a}else {return []}}}],availabilityCache:null,weekdayField:_0xee2b[1102],overrideStartDateField:_0xee2b[1104],overrideEndDateField:_0xee2b[1105],typeField:_0xee2b[1106],dateField:_0xee2b[703],isWorkingDayField:_0xee2b[1107],clsField:_0xee2b[1109],nameField:_0xee2b[603],availabilityField:_0xee2b[1111],setDate:function(a){if(a){a=Ext[_0xee2b[703]][_0xee2b[1101]](a,!0)}this[_0xee2b[50]](this[_0xee2b[1112]],a)},clearDate:function(){this[_0xee2b[50]](this[_0xee2b[1112]],null)},getAvailability:function(c){var b=this;if(c){return this[_0xee2b[55]](this[_0xee2b[1113]])}if(this[_0xee2b[1114]]){return this[_0xee2b[1114]]}var a=Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[55]](this[_0xee2b[1113]]),function(a){return typeof a===_0xee2b[308]?b[_0xee2b[1115]](a):a});this[_0xee2b[1116]](a);return this[_0xee2b[1114]]=a},setAvailability:function(a){this[_0xee2b[1114]]=null;this[_0xee2b[50]](this[_0xee2b[1113]],this[_0xee2b[1117]](a));this[_0xee2b[1118]]()},verifyAvailability:function(a){var b=this;a[_0xee2b[1120]](function(c,b){return c[_0xee2b[1119]]-b[_0xee2b[1119]]});Ext[_0xee2b[26]][_0xee2b[25]](a,function(c,d){if(c[_0xee2b[1119]]>c[_0xee2b[1121]]){throw new Error(Ext[_0xee2b[1041]][_0xee2b[880]](b.L(_0xee2b[1122]),Ext[_0xee2b[703]][_0xee2b[880]](c[_0xee2b[1119]],_0xee2b[1123]),Ext[_0xee2b[703]][_0xee2b[880]](c[_0xee2b[1121]],_0xee2b[1123])))}if(d>0&&a[d-1][_0xee2b[1121]]>c[_0xee2b[1119]]){throw new Error(Ext[_0xee2b[1041]][_0xee2b[880]](b.L(_0xee2b[1124]),b[_0xee2b[1125]](a[d-1]),b[_0xee2b[1125]](c)))}})},prependZero:function(a){return a<10?_0xee2b[1126]+a:a},stringifyInterval:function(c){var b=c[_0xee2b[1119]];var a=c[_0xee2b[1121]];return this[_0xee2b[1128]](b[_0xee2b[1127]]())+_0xee2b[1129]+this[_0xee2b[1128]](b[_0xee2b[1130]]())+_0xee2b[1131]+(a[_0xee2b[479]]()==1?24:this[_0xee2b[1128]](a[_0xee2b[1127]]()))+_0xee2b[1129]+this[_0xee2b[1128]](a[_0xee2b[1130]]())},stringifyIntervals:function(a){var b=this;return Ext[_0xee2b[26]][_0xee2b[41]](a,function(c){if(typeof c===_0xee2b[308]){return c}return b[_0xee2b[1125]](c)})},parseInterval:function(b){var a=/(\d\d):(\d\d)-(\d\d):(\d\d)/[_0xee2b[676]](b);if(!a){throw new Error(Ext[_0xee2b[1041]][_0xee2b[880]](this.L(_0xee2b[1132]),b))}return {startTime:new Date(2016,11,0,a[1],a[2]),endTime:new Date(2016,11,0,a[3],a[4])}},getTotalHours:function(){return this[_0xee2b[1133]]()/1000/60/60},getTotalMS:function(){var a=0;Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[1118]](),function(b){a+=b[_0xee2b[1121]]-b[_0xee2b[1119]]});return a},addAvailabilityInterval:function(a,b){var c;function _0x8e22x3(c){return new Date(2016,11,c[_0xee2b[479]]()==1?1:0,c[_0xee2b[1127]](),c[_0xee2b[1130]]())}if(a instanceof Date){c={startTime:_0x8e22x3(a),endTime:_0x8e22x3(b)}}else {c=this[_0xee2b[1115]](a+(b?_0xee2b[1131]+b:_0xee2b[27]))}var d=this[_0xee2b[1118]]()[_0xee2b[318]](c);this[_0xee2b[1116]](d);this[_0xee2b[1134]](d)},removeAvailabilityInterval:function(b){var a=this[_0xee2b[1118]]();a[_0xee2b[319]](b,1);this[_0xee2b[1134]](a)},getAvailabilityIntervalsFor:function(a){a=typeof a==_0xee2b[1135]?new Date(a):a;var d=a[_0xee2b[1136]]();var c=a[_0xee2b[480]]();var b=a[_0xee2b[479]]();return Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[1118]](),function(e){var f=e[_0xee2b[1121]][_0xee2b[479]]();return {startDate:new Date(d,c,b,e[_0xee2b[1119]][_0xee2b[1127]](),e[_0xee2b[1119]][_0xee2b[1130]]()),endDate:new Date(d,c,b+(f==1?1:0),e[_0xee2b[1121]][_0xee2b[1127]](),e[_0xee2b[1121]][_0xee2b[1130]]())}})},getAvailabilityStartFor:function(b){var a=this[_0xee2b[1137]](b);if(!a[_0xee2b[4]]){return null}return a[0][_0xee2b[1138]]},getAvailabilityEndFor:function(b){var a=this[_0xee2b[1137]](b);if(!a[_0xee2b[4]]){return null}return a[a[_0xee2b[4]]-1][_0xee2b[1139]]}});Ext[_0xee2b[6]](_0xee2b[1140],{requires:_0xee2b[1141],mixins:[_0xee2b[665]],singleton:!0,stripEscapeRe:/(\\.)/g,hourInfoRe:/([gGhHisucUOPZ]|MS)/,unitHash:null,unitsByName:{},MIN_VALUE:new Date(-8.64E15),MAX_VALUE:new Date(8.64E15),constructor:function(){var a=this,b=Ext[_0xee2b[703]];var c=a[_0xee2b[1142]]={MILLI:b[_0xee2b[1143]],SECOND:b[_0xee2b[1144]],MINUTE:b[_0xee2b[711]],HOUR:b[_0xee2b[710]],DAY:b[_0xee2b[708]],WEEK:_0xee2b[523],MONTH:b[_0xee2b[1145]],QUARTER:_0xee2b[518],YEAR:b[_0xee2b[1146]]};Ext[_0xee2b[8]](a,c);a[_0xee2b[1147]]=[a[_0xee2b[1143]],a[_0xee2b[1144]],a[_0xee2b[711]],a[_0xee2b[710]],a[_0xee2b[708]],a[_0xee2b[1148]],a[_0xee2b[1145]],a[_0xee2b[1149]],a[_0xee2b[1146]]]},onLocalized:function(){this[_0xee2b[1151]](this.L(_0xee2b[1150]))},setUnitNames:function(d){var e=this[_0xee2b[1152]]={};this[_0xee2b[504]][_0xee2b[1150]]=d;this[_0xee2b[1153]]=Ext[_0xee2b[8]]({},d);var c=this[_0xee2b[1142]];for(var a in c){if(c[_0xee2b[53]](a)){var b=c[a];this[_0xee2b[1153]][b]=this[_0xee2b[1153]][a];e[a]=b;e[b]=b}}},betweenLesser:function(a,c,b){return c<=a&&a<b},betweenLesserEqual:function(a,c,b){return c<=a&&a<=b},constrain:function(c,b,a){return this[_0xee2b[203]](this[_0xee2b[715]](c,b),a)},compareUnits:function(c,d){var a=Ext[_0xee2b[26]][_0xee2b[147]](this[_0xee2b[1147]],c),b=Ext[_0xee2b[26]][_0xee2b[147]](this[_0xee2b[1147]],d);return a>b?1:a<b?-1:0},isUnitGreater:function(b,a){return this[_0xee2b[1154]](b,a)>0},copyTimeValues:function(a,b){a[_0xee2b[1155]](b[_0xee2b[1127]]());a[_0xee2b[1156]](b[_0xee2b[1130]]());a[_0xee2b[1158]](b[_0xee2b[1157]]());a[_0xee2b[1160]](b[_0xee2b[1159]]());return a},add:function(b,e,c){var a=Ext[_0xee2b[703]][_0xee2b[1161]](b);if(!e||c===0){return a}switch(e[_0xee2b[819]]()){case this[_0xee2b[1143]]:a=new Date(b[_0xee2b[1162]]()+c);break;case this[_0xee2b[1144]]:a=new Date(b[_0xee2b[1162]]()+c*1000);break;case this[_0xee2b[711]]:a=new Date(b[_0xee2b[1162]]()+c*60000);break;case this[_0xee2b[710]]:a=new Date(b[_0xee2b[1162]]()+c*3600000);break;case this[_0xee2b[708]]:a[_0xee2b[1163]](b[_0xee2b[479]]()+c);if(a[_0xee2b[1127]]()===23&&b[_0xee2b[1127]]()===0){a=Ext[_0xee2b[703]][_0xee2b[255]](a,Ext[_0xee2b[703]].HOUR,1)};break;case this[_0xee2b[1148]]:a[_0xee2b[1163]](b[_0xee2b[479]]()+c*7);break;case this[_0xee2b[1145]]:var d=b[_0xee2b[479]]();if(d>28){d=Math[_0xee2b[203]](d,Ext[_0xee2b[703]][_0xee2b[1165]](this[_0xee2b[255]](Ext[_0xee2b[703]][_0xee2b[1164]](b),this.MONTH,c))[_0xee2b[479]]())};a[_0xee2b[1163]](d);a[_0xee2b[1166]](a[_0xee2b[480]]()+c);break;case this[_0xee2b[1149]]:a=this[_0xee2b[255]](b,this.MONTH,c*3);break;case this[_0xee2b[1146]]:a[_0xee2b[1167]](b[_0xee2b[1136]]()+c);break;}return a},getUnitDurationInMs:function(a){return this[_0xee2b[255]](new Date(1,0,1),a,1)-new Date(1,0,1)},getMeasuringUnit:function(a){if(a===this[_0xee2b[1148]]){return this[_0xee2b[708]]}return a},getDurationInUnit:function(b,c,d,e){var a;switch(d){case this[_0xee2b[1146]]:a=this[_0xee2b[1168]](b,c);break;case this[_0xee2b[1149]]:a=this[_0xee2b[1169]](b,c)/3;break;case this[_0xee2b[1145]]:a=this[_0xee2b[1169]](b,c);break;case this[_0xee2b[1148]]:a=this[_0xee2b[1170]](b,c)/7;break;case this[_0xee2b[708]]:a=this[_0xee2b[1170]](b,c);break;case this[_0xee2b[710]]:a=this[_0xee2b[1171]](b,c);break;case this[_0xee2b[711]]:a=this[_0xee2b[702]](b,c);break;case this[_0xee2b[1144]]:a=this[_0xee2b[1172]](b,c);break;case this[_0xee2b[1143]]:a=this[_0xee2b[1173]](b,c);break;}return e?a:Math[_0xee2b[704]](a)},getUnitToBaseUnitRatio:function(b,a){if(b===a){return 1}switch(b){case this[_0xee2b[1146]]:switch(a){case this[_0xee2b[1149]]:return 1/4;case this[_0xee2b[1145]]:return 1/12;};break;case this[_0xee2b[1149]]:switch(a){case this[_0xee2b[1146]]:return 4;case this[_0xee2b[1145]]:return 1/3;};break;case this[_0xee2b[1145]]:switch(a){case this[_0xee2b[1146]]:return 12;case this[_0xee2b[1149]]:return 3;};break;case this[_0xee2b[1148]]:switch(a){case this[_0xee2b[708]]:return 1/7;case this[_0xee2b[710]]:return 1/168;};break;case this[_0xee2b[708]]:switch(a){case this[_0xee2b[1148]]:return 7;case this[_0xee2b[710]]:return 1/24;case this[_0xee2b[711]]:return 1/1440;};break;case this[_0xee2b[710]]:switch(a){case this[_0xee2b[708]]:return 24;case this[_0xee2b[711]]:return 1/60;};break;case this[_0xee2b[711]]:switch(a){case this[_0xee2b[710]]:return 60;case this[_0xee2b[1144]]:return 1/60;case this[_0xee2b[1143]]:return 1/60000;};break;case this[_0xee2b[1144]]:switch(a){case this[_0xee2b[1143]]:return 1/1000;};break;case this[_0xee2b[1143]]:switch(a){case this[_0xee2b[1144]]:return 1000;};break;}return -1},isUnitDivisibleIntoSubunit:function(c,a){var b=c===this[_0xee2b[1145]]&&a===this[_0xee2b[1148]];return !b},getDurationInMilliseconds:function(b,a){return a-b},getDurationInSeconds:function(b,a){return (a-b)/1000},getDurationInMinutes:function(b,a){return (a-b)/60000},getDurationInHours:function(b,a){return (a-b)/3600000},getDurationInDays:function(a,b){var c=a[_0xee2b[1174]]()-b[_0xee2b[1174]]();return (b-a+c*60*1000)/86400000},getDurationInMonths:function(b,a){return (a[_0xee2b[1136]]()-b[_0xee2b[1136]]())*12+(a[_0xee2b[480]]()-b[_0xee2b[480]]())},getDurationInYears:function(b,a){return this[_0xee2b[1169]](b,a)/12},min:function(b,a){return (b&&b.valueOf()||b)<(a&&a.valueOf()||a)?b:a},max:function(b,a){return (b&&b.valueOf()||b)>(a&&a.valueOf()||a)?b:a},intersectSpans:function(a,d,b,c){return this[_0xee2b[1175]](a,b,c)||this[_0xee2b[1175]](b,a,d)},getNameOfUnit:function(a){a=this[_0xee2b[1176]](a);switch(a[_0xee2b[819]]()){case this[_0xee2b[1146]]:return _0xee2b[1146];case this[_0xee2b[1149]]:return _0xee2b[1149];case this[_0xee2b[1145]]:return _0xee2b[1145];case this[_0xee2b[1148]]:return _0xee2b[1148];case this[_0xee2b[708]]:return _0xee2b[708];case this[_0xee2b[710]]:return _0xee2b[710];case this[_0xee2b[711]]:return _0xee2b[711];case this[_0xee2b[1144]]:return _0xee2b[1144];case this[_0xee2b[1143]]:return _0xee2b[1143];}throw _0xee2b[1177]},getReadableNameOfUnit:function(b,a){if(!this[_0xee2b[671]]()){this[_0xee2b[672]]()}return this[_0xee2b[1153]][b][a?_0xee2b[1178]:_0xee2b[1179]]},getShortNameOfUnit:function(a){if(!this[_0xee2b[671]]()){this[_0xee2b[672]]()}return this[_0xee2b[1153]][a][_0xee2b[1180]]},getUnitByName:function(a){if(!this[_0xee2b[671]]()){this[_0xee2b[672]]()}if(!this[_0xee2b[1152]][a]){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[1181]+a)}return this[_0xee2b[1152]][a]},getNext:function(c,d,b,e){var a=Ext[_0xee2b[703]][_0xee2b[1161]](c);e=arguments[_0xee2b[4]]<4?1:e;b=b==null?1:b;switch(d){case this[_0xee2b[1143]]:a=this[_0xee2b[255]](c,d,b);break;case this[_0xee2b[1144]]:a=this[_0xee2b[255]](c,d,b);if(a[_0xee2b[1159]]()>0){a[_0xee2b[1160]](0)};break;case this[_0xee2b[711]]:a=this[_0xee2b[255]](c,d,b);if(a[_0xee2b[1157]]()>0){a[_0xee2b[1158]](0)};if(a[_0xee2b[1159]]()>0){a[_0xee2b[1160]](0)};break;case this[_0xee2b[710]]:a=this[_0xee2b[255]](c,d,b);if(a[_0xee2b[1130]]()>0){a[_0xee2b[1156]](0)};if(a[_0xee2b[1157]]()>0){a[_0xee2b[1158]](0)};if(a[_0xee2b[1159]]()>0){a[_0xee2b[1160]](0)};break;case this[_0xee2b[708]]:var g=c[_0xee2b[1127]]()===23&&this[_0xee2b[255]](a,this.HOUR,1)[_0xee2b[1127]]()===1;if(g){a=this[_0xee2b[255]](a,this.DAY,2);this[_0xee2b[1101]](a);return a};this[_0xee2b[1101]](a);a=this[_0xee2b[255]](a,this.DAY,b);if(a[_0xee2b[1127]]()===1){this[_0xee2b[1101]](a)};break;case this[_0xee2b[1148]]:this[_0xee2b[1101]](a);var f=a[_0xee2b[484]]();a=this[_0xee2b[255]](a,this.DAY,e-f+7*(b-(e<=f?0:1)));if(a[_0xee2b[484]]()!==e){a=this[_0xee2b[255]](a,this.HOUR,1)}else {this[_0xee2b[1101]](a)};break;case this[_0xee2b[1145]]:a=this[_0xee2b[255]](a,this.MONTH,b);a[_0xee2b[1163]](1);this[_0xee2b[1101]](a);break;case this[_0xee2b[1149]]:a=this[_0xee2b[255]](a,this.MONTH,(b-1)*3+(3-a[_0xee2b[480]]()%3));this[_0xee2b[1101]](a);a[_0xee2b[1163]](1);break;case this[_0xee2b[1146]]:a=new Date(a[_0xee2b[1136]]()+b,0,1);break;default:throw new Error(_0xee2b[1183]+d);}return a},getNumberOfMsFromTheStartOfDay:function(a){return a-this[_0xee2b[1101]](a,!0)||86400000},getNumberOfMsTillTheEndOfDay:function(a){return this[_0xee2b[1184]](a,!0)-a},getStartOfNextDay:function(a,c,d){var b=this[_0xee2b[255]](d?a:this[_0xee2b[1101]](a,c),this.DAY,1);if(b[_0xee2b[479]]()==a[_0xee2b[479]]()){var f=this[_0xee2b[255]](this[_0xee2b[1101]](a,c),this.DAY,2)[_0xee2b[1174]]();var e=a[_0xee2b[1174]]();b=this[_0xee2b[255]](b,this.MINUTE,e-f)}return b},getEndOfPreviousDay:function(b,c){var a=c?b:this[_0xee2b[1101]](b,!0);if(a-b){return a}else {return this[_0xee2b[255]](a,this.DAY,-1)}},timeSpanContains:function(b,d,c,a){return c-b>=0&&d-a>=0},compareWithPrecision:function(a,b,d){var c=Sch[_0xee2b[49]][_0xee2b[703]],e=Ext[_0xee2b[703]],f;switch(d){case c[_0xee2b[708]]:a=Number(e[_0xee2b[880]](a,_0xee2b[1185]));b=Number(e[_0xee2b[880]](b,_0xee2b[1185]));break;case c[_0xee2b[1148]]:a=Number(e[_0xee2b[880]](a,_0xee2b[1186]));b=Number(e[_0xee2b[880]](b,_0xee2b[1186]));break;case c[_0xee2b[1145]]:a=Number(e[_0xee2b[880]](a,_0xee2b[1187]));b=Number(e[_0xee2b[880]](b,_0xee2b[1187]));break;case c[_0xee2b[1149]]:a=a[_0xee2b[1136]]()*4+Math[_0xee2b[424]](a[_0xee2b[480]]()/3);b=b[_0xee2b[1136]]()*4+Math[_0xee2b[424]](b[_0xee2b[480]]()/3);break;case c[_0xee2b[1146]]:a=a[_0xee2b[1136]]();b=b[_0xee2b[1136]]();break;default:case c[_0xee2b[1143]]:case c[_0xee2b[1144]]:case c[_0xee2b[711]]:case c[_0xee2b[710]]:d=d&&this[_0xee2b[1188]](d)||1;a=Math[_0xee2b[424]](a.valueOf()/d);b=Math[_0xee2b[424]](b.valueOf()/d);break;}a<b&&(f=-1)||a>b&&(f=+1)||(f=0);return f},getValueInUnits:function(a,b){switch(b){case this[_0xee2b[1146]]:return a[_0xee2b[1136]]();case this[_0xee2b[1149]]:return Math[_0xee2b[424]](a[_0xee2b[480]]()/3)+1;case this[_0xee2b[1145]]:return a[_0xee2b[480]]();case this[_0xee2b[1148]]:return Ext[_0xee2b[703]][_0xee2b[1189]](a);case this[_0xee2b[708]]:return a[_0xee2b[479]]();case this[_0xee2b[710]]:return a[_0xee2b[1127]]();case this[_0xee2b[711]]:return a[_0xee2b[1130]]();case this[_0xee2b[1144]]:return a[_0xee2b[1157]]();}},setValueInUnits:function(e,d,c){var b=Ext[_0xee2b[703]][_0xee2b[1161]](e),a;switch(d){case this[_0xee2b[1146]]:a=_0xee2b[1167];break;case this[_0xee2b[1145]]:a=_0xee2b[1166];break;case this[_0xee2b[708]]:a=_0xee2b[1163];break;case this[_0xee2b[710]]:a=_0xee2b[1155];break;case this[_0xee2b[711]]:a=_0xee2b[1156];break;case this[_0xee2b[1144]]:a=_0xee2b[1158];break;case this[_0xee2b[1143]]:a=_0xee2b[1160];break;}b[a](c);return b},getSubUnit:function(a){switch(a){case this[_0xee2b[1146]]:return this[_0xee2b[1145]];case this[_0xee2b[1145]]:return this[_0xee2b[708]];case this[_0xee2b[708]]:return this[_0xee2b[710]];case this[_0xee2b[710]]:return this[_0xee2b[711]];case this[_0xee2b[711]]:return this[_0xee2b[1144]];case this[_0xee2b[1144]]:return this[_0xee2b[1143]];}},setValueInSubUnits:function(b,a,c){a=this[_0xee2b[1190]](a);return this[_0xee2b[1191]](b,a,c)},mergeDates:function(d,b,c){var a=Ext[_0xee2b[703]][_0xee2b[1161]](d);switch(c){case this[_0xee2b[1146]]:a[_0xee2b[1167]](b[_0xee2b[1136]]());case this[_0xee2b[1145]]:a[_0xee2b[1166]](b[_0xee2b[480]]());case this[_0xee2b[1148]]:case this[_0xee2b[708]]:if(c===this[_0xee2b[1148]]){a=this[_0xee2b[255]](a,this.DAY,b[_0xee2b[484]]()-a[_0xee2b[484]]())}else {a[_0xee2b[1163]](b[_0xee2b[479]]())};case this[_0xee2b[710]]:a[_0xee2b[1155]](b[_0xee2b[1127]]());case this[_0xee2b[711]]:a[_0xee2b[1156]](b[_0xee2b[1130]]());case this[_0xee2b[1144]]:a[_0xee2b[1158]](b[_0xee2b[1157]]());case this[_0xee2b[1143]]:a[_0xee2b[1160]](b[_0xee2b[1159]]());}return a},splitToSubUnits:function(c,d,a,b){a=a||1;b=arguments[_0xee2b[4]]<4?1:b;switch(d){case this[_0xee2b[1145]]:return this[_0xee2b[1192]](c,a,b);case this[_0xee2b[1148]]:case this[_0xee2b[708]]:return this[_0xee2b[1193]](c,a);default:break;}},splitYear:function(d,e){var b=this[_0xee2b[1101]](d,!0);b[_0xee2b[1166]](0);b[_0xee2b[1163]](1);var c=[];for(var a=0;a<=12;a=a+e){c[_0xee2b[11]](this[_0xee2b[255]](b,this.MONTH,a))}return c},splitMonth:function(g,f,h){var a=this[_0xee2b[1101]](g,!0);a[_0xee2b[1163]](1);a=this[_0xee2b[255]](a,this.DAY,h-a[_0xee2b[484]]());var c=Ext[_0xee2b[703]][_0xee2b[1161]](a);var e=this[_0xee2b[255]](a,this.MONTH,1);var d=[];for(var b=0;c[_0xee2b[1162]]()<e[_0xee2b[1162]]();b=b+f){c=this[_0xee2b[255]](a,this.WEEK,b);d[_0xee2b[11]](c)}return d},splitWeek:function(c,f,e){var b=this[_0xee2b[255]](c,this.DAY,e-c[_0xee2b[484]]());b=this[_0xee2b[1101]](b);var d=[];for(var a=0;a<=7;a=a+f){d[_0xee2b[11]](this[_0xee2b[255]](b,this.DAY,a))}return d},splitDay:function(c,e){var d=this[_0xee2b[1101]](c,!0);var b=[];for(var a=0;a<=24;a=a+e){b[_0xee2b[11]](this[_0xee2b[255]](d,this.HOUR,a))}return b},splitHour:function(d,e){var b=new Date(d[_0xee2b[1162]]());b[_0xee2b[1156]](0);b[_0xee2b[1158]](0);b[_0xee2b[1160]](0);var c=[];for(var a=0;a<=60;a=a+e){c[_0xee2b[11]](this[_0xee2b[255]](b,this.MINUTE,a))}return c},splitMinute:function(d,e){var b=Ext[_0xee2b[703]][_0xee2b[1161]](d);b[_0xee2b[1158]](0);b[_0xee2b[1160]](0);var c=[];for(var a=0;a<=60;a=a+e){c[_0xee2b[11]](this[_0xee2b[255]](b,this.SECOND,a))}return c},clearTime:function(a,b){if(a[_0xee2b[1127]]()>0||a[_0xee2b[1130]]()>0||a[_0xee2b[1157]]()>0){return Ext[_0xee2b[703]][_0xee2b[1101]](a,b)}return b?Ext[_0xee2b[703]][_0xee2b[1161]](a):a},getWeekNumber:function(b){var a=new Date(b.valueOf());var c=(b[_0xee2b[484]]()+6)%7;a[_0xee2b[1163]](a[_0xee2b[479]]()-c+3);var d=a.valueOf();a[_0xee2b[1166]](0,1);if(a[_0xee2b[484]]()!=4){a[_0xee2b[1166]](0,1+(4-a[_0xee2b[484]]()+7)%7)}return 1+Math[_0xee2b[1194]]((d-a)/604800000)},getWeekStartDate:function(c,a){var b=this[_0xee2b[1195]](c,!0);a=typeof a!==_0xee2b[1135]?1:a;while(b[_0xee2b[484]]()!==a){b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].DAY,-1)}return b},getWeekEndDate:function(c,a){var b=this[_0xee2b[1195]](c,!0);a=typeof a!==_0xee2b[1135]?0:a;while(b[_0xee2b[484]]()!==a){b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].DAY,1)}return b},setDateToHours:function(a,c,b){if(c){return new Date(a[_0xee2b[1136]](),a[_0xee2b[480]](),a[_0xee2b[479]](),b)}a[_0xee2b[1155]](b);a[_0xee2b[1156]](0);a[_0xee2b[1158]](0);a[_0xee2b[1160]](0);return a},setDateToMidnight:function(a,b){return this[_0xee2b[1196]](a,b,0)},setDateToMidday:function(a,b){return this[_0xee2b[1196]](a,b,12)},isLaterDate:function(a,b){return !this[_0xee2b[1197]](a,b)&&a>b},isSameDate:function(a,b){return a[_0xee2b[1136]]()===b[_0xee2b[1136]]()&&a[_0xee2b[480]]()===b[_0xee2b[480]]()&&a[_0xee2b[479]]()===b[_0xee2b[479]]()},isEarlierDate:function(a,b){return !this[_0xee2b[1197]](a,b)&&a<b}});Ext[_0xee2b[6]](_0xee2b[1198],{extend:_0xee2b[1019],requires:[_0xee2b[1140]],idProperty:_0xee2b[1032],isRangeModel:!0,startDateField:_0xee2b[1199],endDateField:_0xee2b[1200],nameField:_0xee2b[603],clsField:_0xee2b[1109],customizableFields:[{name:_0xee2b[1199],type:_0xee2b[1097],dateFormat:_0xee2b[1098]},{name:_0xee2b[1200],type:_0xee2b[1097],dateFormat:_0xee2b[1098]},{name:_0xee2b[1109],type:_0xee2b[308]},{name:_0xee2b[603],type:_0xee2b[308]}],setStartDate:function(a,d){var b=this[_0xee2b[713]]();var c=this[_0xee2b[712]]();this[_0xee2b[46]]();this[_0xee2b[50]](this[_0xee2b[1201]],a);if(d===!0&&b&&c){this[_0xee2b[1202]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].MILLI,b-c))}this[_0xee2b[51]]()},setEndDate:function(c,d){var a=this[_0xee2b[712]]();var b=this[_0xee2b[713]]();this[_0xee2b[46]]();this[_0xee2b[50]](this[_0xee2b[1203]],c);if(d===!0&&a&&b){this[_0xee2b[1204]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](c,Sch[_0xee2b[49]][_0xee2b[703]].MILLI,-(b-a)))}this[_0xee2b[51]]()},setStartEndDate:function(b,a){this[_0xee2b[46]]();this[_0xee2b[50]](this[_0xee2b[1201]],b);this[_0xee2b[50]](this[_0xee2b[1203]],a);this[_0xee2b[51]]()},getDates:function(){var b=[],c=this[_0xee2b[713]]();if(this[_0xee2b[1205]]()){var d=Ext[_0xee2b[703]][_0xee2b[1101]](this[_0xee2b[712]](),!0);if(c-this[_0xee2b[712]]()===0){b[_0xee2b[11]](d)}else {for(var a=d;a<c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].DAY,1)){b[_0xee2b[11]](a)}}}return b},forEachDate:function(b,a){return Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[1206]](),b,a)},isScheduled:function(){var a=this;return Boolean(a[_0xee2b[712]]()&&a[_0xee2b[713]]()&&a[_0xee2b[1207]]())},isValid:function(){var b=this,a=b[_0xee2b[9]](),c,d;if(a){c=b[_0xee2b[712]](),d=b[_0xee2b[713]]();a=!c||!d||d-c>=0}return a},areDatesValid:function(){var c=this,b=c[_0xee2b[712]](),a=c[_0xee2b[713]]();return !b||!a||a-b>=0},shift:function(b,a){this[_0xee2b[1208]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[712]](),b,a),Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[713]](),b,a))},fullCopy:function(){return this[_0xee2b[1054]][_0xee2b[8]](this,arguments)},intersectsRange:function(d,c){var a=this[_0xee2b[712]]();var b=this[_0xee2b[713]]();return a&&b&&Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[714]](a,b,d,c)}});Ext[_0xee2b[6]](_0xee2b[1209],{extend:_0xee2b[109],alias:_0xee2b[1210],requires:[_0xee2b[1141],_0xee2b[1095],_0xee2b[1198],_0xee2b[1140]],mixins:[_0xee2b[1011],_0xee2b[216]],model:_0xee2b[1095],daysPerMonth:30,daysPerWeek:7,hoursPerDay:24,unitsInMs:null,defaultNonWorkingTimeCssCls:_0xee2b[1110],weekendsAreWorkdays:!1,weekendFirstDay:6,weekendSecondDay:0,holidaysCache:null,availabilityIntervalsCache:null,daysIndex:null,weekAvailability:null,defaultWeekAvailability:null,nonStandardWeeksByStartDate:null,nonStandardWeeksStartDates:null,calendarId:null,parent:null,defaultAvailability:[_0xee2b[1211]],name:null,suspendCacheUpdate:0,availabilitySearchLimit:1825,inheritableStatics:{getCalendar:function(a){if(a instanceof Sch[_0xee2b[22]][_0xee2b[1212]]){return a}return Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[131]](_0xee2b[1213]+a)},getAllCalendars:function(){var a=[];Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[25]](function(b){if(b instanceof Sch[_0xee2b[22]][_0xee2b[1212]]){a[_0xee2b[11]](b)}});return a},removeAll:function(){var a=Ext[_0xee2b[22]][_0xee2b[132]];a[_0xee2b[25]](function(b){if(b instanceof Sch[_0xee2b[22]][_0xee2b[1212]]){a[_0xee2b[1214]](b);Ext[_0xee2b[218]](b)}})}},constructor:function(a){a=a||{};var c=a[_0xee2b[79]];delete a[_0xee2b[79]];var b=a[_0xee2b[1215]];delete a[_0xee2b[1215]];this[_0xee2b[9]](arguments);this[_0xee2b[1216]](c);this[_0xee2b[1217]](b);this[_0xee2b[1218]]={MILLI:1,SECOND:1000,MINUTE:60*1000,HOUR:60*60*1000,DAY:this[_0xee2b[1219]]*60*60*1000,WEEK:this[_0xee2b[1220]]*this[_0xee2b[1219]]*60*60*1000,MONTH:this[_0xee2b[1221]]*this[_0xee2b[1219]]*60*60*1000,QUARTER:3*this[_0xee2b[1221]]*this[_0xee2b[1219]]*60*60*1000,YEAR:12*this[_0xee2b[1221]]*this[_0xee2b[1219]]*60*60*1000};this[_0xee2b[1222]]=this[_0xee2b[1223]]();this[_0xee2b[149]]({update:this[_0xee2b[1224]],add:this[_0xee2b[1225]],remove:this[_0xee2b[1225]],filter:this[_0xee2b[1225]],sort:this[_0xee2b[1225]],clear:this[_0xee2b[1225]],refresh:this[_0xee2b[1225]],write:this[_0xee2b[1225]],scope:this});this[_0xee2b[1226]]()},shouldReactOnCalendarDayFieldUpdate:function(a,b){return Boolean(Ext[_0xee2b[26]][_0xee2b[1229]](b,function(c){return c!==a[_0xee2b[1227]]&&c!==a[_0xee2b[1228]]}))},onCalendarUpdate:function(d,a,c,b){if(c==Ext[_0xee2b[22]][_0xee2b[1231]][_0xee2b[1230]]&&this[_0xee2b[1232]](a,b)){this[_0xee2b[1225]]()}},onCalendarDataChange:function(){this[_0xee2b[1226]]()},getCalendarId:function(){return this[_0xee2b[1215]]},setCalendarId:function(a){if(this[_0xee2b[1215]]!=null){Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[1214]](this)}this[_0xee2b[1215]]=a;if(a!=null){this[_0xee2b[146]]=_0xee2b[1213]+a;Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[1233]](this)}else {this[_0xee2b[146]]=null}var b=this[_0xee2b[379]];if(b&&b[_0xee2b[1234]]){b[_0xee2b[1234]][_0xee2b[1215]]=a}},getDefaultWeekAvailability:function(){var b=this[_0xee2b[1235]];var e=this[_0xee2b[1236]];var d=this[_0xee2b[1237]];var c=[];for(var a=0;a<7;a++){c[_0xee2b[11]](this[_0xee2b[1238]]||a!=e&&a!=d?new this[_0xee2b[327]]({Type:_0xee2b[1239],Weekday:a,Availability:b&&b[_0xee2b[191]]()||[],IsWorkingDay:!0}):new this[_0xee2b[327]]({Type:_0xee2b[1239],Weekday:a,Availability:[]}))}return c},resetCache:function(){if(this[_0xee2b[1240]]>0){return}this[_0xee2b[1241]]={};this[_0xee2b[1242]]={};var d=this[_0xee2b[1243]]={};var c=this[_0xee2b[1244]]=[];var b=this[_0xee2b[1245]]=[];var a=this[_0xee2b[1246]]={};this[_0xee2b[25]](function(e){var m=e[_0xee2b[32]]();var i=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/[_0xee2b[676]](m);var k=/^WEEKDAY:(\d+)$/[_0xee2b[676]](m);var l=e[_0xee2b[1247]]();var f=e[_0xee2b[1248]]();if(l==_0xee2b[1249]||i){var g,j;if(l==_0xee2b[1249]){g=e[_0xee2b[1250]]();j=e[_0xee2b[1251]]()}if(i){g=Ext[_0xee2b[703]][_0xee2b[1253]](i[2],_0xee2b[1252]);j=Ext[_0xee2b[703]][_0xee2b[1253]](i[3],_0xee2b[1252]);f=i[1]}if(g&&j&&f!=null){var h=g-0;if(!a[h]){a[h]={startDate:new Date(g),endDate:new Date(j),name:e[_0xee2b[497]](),weekAvailability:[],mainDay:null};b[_0xee2b[11]](h)}if(f>=0){a[h][_0xee2b[1244]][f]=e}else {a[h][_0xee2b[1254]]=e}}}else {if(l==_0xee2b[1239]||k){if(k){f=k[1]}if(f!=null){if(f<0||f>6){throw new Error(_0xee2b[1255])}c[f]=e}}else {var n=e[_0xee2b[479]]();if(n){d[n-0]=e}}}});b[_0xee2b[1120]](function(a,b){return a-b})},clearCache:function(){if(this[_0xee2b[1240]]>0){return}this[_0xee2b[1256]]();this[_0xee2b[180]](_0xee2b[1257],this)},intersectsWithCurrentWeeks:function(c,b){var a=!1;this[_0xee2b[1258]](function(d){var f=d[_0xee2b[1138]];var e=d[_0xee2b[1139]];if(f<=c&&c<e||f<b&&b<=e){a=!0;return !1}});return a},addNonStandardWeek:function(c,a,g,e){c=Ext[_0xee2b[703]][_0xee2b[1101]](new Date(c));a=Ext[_0xee2b[703]][_0xee2b[1101]](new Date(a));if(this[_0xee2b[1259]](c,a)){throw new Error(_0xee2b[1260])}var f=this[_0xee2b[327]];var d=[];Ext[_0xee2b[26]][_0xee2b[25]](g,function(b,i){if(b&&b[_0xee2b[1261]]){b[_0xee2b[1262]](_0xee2b[1249]);b[_0xee2b[1263]](c);b[_0xee2b[1264]](a);b[_0xee2b[1265]](i);b[_0xee2b[1267]](e||_0xee2b[1266]);d[_0xee2b[11]](b)}else {if(Ext[_0xee2b[307]](b)){var h=new f();h[_0xee2b[1262]](_0xee2b[1249]);h[_0xee2b[1263]](c);h[_0xee2b[1264]](a);h[_0xee2b[1265]](i);h[_0xee2b[1267]](e||_0xee2b[1266]);h[_0xee2b[1134]](b);d[_0xee2b[11]](h)}}});var b=new f();b[_0xee2b[1262]](_0xee2b[1249]);b[_0xee2b[1263]](c);b[_0xee2b[1264]](a);b[_0xee2b[1265]](-1);b[_0xee2b[1267]](e||_0xee2b[1266]);d[_0xee2b[11]](b);this[_0xee2b[255]](d)},getNonStandardWeekByStartDate:function(a){return this[_0xee2b[1246]][Ext[_0xee2b[703]][_0xee2b[1101]](new Date(a))-0]||null},getNonStandardWeekByDate:function(a){a=Ext[_0xee2b[703]][_0xee2b[1101]](new Date(a))-0;var d=this[_0xee2b[1245]];var e=this[_0xee2b[1246]];for(var c=0;c<d[_0xee2b[4]];c++){var b=e[d[c]];if(b[_0xee2b[1138]]>a){break}if(b[_0xee2b[1138]]<=a&&a<=b[_0xee2b[1139]]){return b}}return null},removeNonStandardWeek:function(a){a=Ext[_0xee2b[703]][_0xee2b[1101]](new Date(a))-0;var b=this[_0xee2b[1268]](a);if(!b){return}this[_0xee2b[63]](Ext[_0xee2b[26]][_0xee2b[1269]](b[_0xee2b[1244]])[_0xee2b[318]](b[_0xee2b[1254]]))},forEachNonStandardWeek:function(c,e){var f=this;var b=this[_0xee2b[1245]];var d=this[_0xee2b[1246]];for(var a=0;a<b[_0xee2b[4]];a++){if(c[_0xee2b[293]](e||f,d[b[a]])===!1){return !1}}},setWeekendsAreWorkDays:function(a){if(a!==this[_0xee2b[1238]]){this[_0xee2b[1238]]=a;this[_0xee2b[1222]]=this[_0xee2b[1223]]();this[_0xee2b[1226]]()}},areWeekendsWorkDays:function(){return this[_0xee2b[1238]]},getCalendarDay:function(a){a=typeof a==_0xee2b[1135]?new Date(a):a;return this[_0xee2b[1270]](a)||this[_0xee2b[1271]](a[_0xee2b[484]](),a)||this[_0xee2b[1272]](a[_0xee2b[484]]())},getOverrideDay:function(a){return this[_0xee2b[1273]](a)||this[_0xee2b[79]]&&this[_0xee2b[79]][_0xee2b[1270]](a)||null},getOwnCalendarDay:function(a){a=typeof a==_0xee2b[1135]?new Date(a):a;return this[_0xee2b[1243]][Ext[_0xee2b[703]][_0xee2b[1101]](a,!0)-0]},getWeekDay:function(a,c){if(c){var b=this[_0xee2b[1274]](c);if(b&&b[_0xee2b[1244]][a]){return b[_0xee2b[1244]][a]}}return this[_0xee2b[1244]][a]||this[_0xee2b[79]]&&this[_0xee2b[79]][_0xee2b[1271]](a,c)||null},getDefaultCalendarDay:function(a){if(!this[_0xee2b[53]](_0xee2b[1235])&&!this[_0xee2b[53]](_0xee2b[1238])&&this[_0xee2b[79]]){return this[_0xee2b[79]][_0xee2b[1272]](a)}return this[_0xee2b[1222]][a]},isHoliday:function(a){var c=a-0;var b=this[_0xee2b[1241]];if(b[c]!=null){return b[c]}a=typeof a==_0xee2b[1135]?new Date(a):a;var d=this[_0xee2b[1275]](a);if(!d){throw new Error(_0xee2b[1276]+a)}return b[c]=!d[_0xee2b[1277]]()},isWeekend:function(b){var a=b[_0xee2b[484]]();return a===this[_0xee2b[1236]]||a===this[_0xee2b[1237]]},isWorkingDay:function(a){return !this[_0xee2b[1278]](a)},convertMSDurationToUnit:function(a,b){return a/this[_0xee2b[1218]][Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1279]](b)]},convertDurationToMs:function(b,a){return b*this[_0xee2b[1218]][Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1279]](a)]},convertDuration:function(a,d,e){var c=this,b=a;if(d!=e){b=c[_0xee2b[1281]](c[_0xee2b[1280]](a,d),e)}return b},getHolidaysRanges:function(d,c,i){if(d>c){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[1282])}d=Ext[_0xee2b[703]][_0xee2b[1101]](d,!0);c=c-Ext[_0xee2b[703]][_0xee2b[1101]](c,!0)>0?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1184]](c,!0,!0):c;var e=[],a,b;for(b=d;b<c;b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1283]](b,Sch[_0xee2b[49]][_0xee2b[703]].DAY,1)){if(this[_0xee2b[1278]](b)||this[_0xee2b[1238]]&&i&&this[_0xee2b[475]](b)){var h=this[_0xee2b[1275]](b);var g=h&&h[_0xee2b[1284]]()||this[_0xee2b[1285]];var f=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1283]](b,Sch[_0xee2b[49]][_0xee2b[703]].DAY,1);if(!a){a=new Sch[_0xee2b[327]].Range({StartDate:b,EndDate:f,Cls:g})}else {if(a[_0xee2b[1284]]()==g){a[_0xee2b[1202]](f)}else {e[_0xee2b[11]](a);a=new Sch[_0xee2b[327]].Range({StartDate:b,EndDate:f,Cls:g})}}}else {if(a){e[_0xee2b[11]](a);a=null}}}if(a){e[_0xee2b[11]](a)}return e},forEachAvailabilityInterval:function(f,n,k){k=k||this;var b=f[_0xee2b[1138]];var c=f[_0xee2b[1139]];var a=f[_0xee2b[1286]]!==!1;if(a?!b:!c){throw new Error(_0xee2b[1287])}var d=new Date(a?b:c);var e=Sch[_0xee2b[49]][_0xee2b[703]];if(a){if(!c){c=e[_0xee2b[255]](b,e.DAY,f[_0xee2b[1288]]||this[_0xee2b[1288]]||5*365)}}else {if(!b){b=e[_0xee2b[255]](c,e.DAY,-(f[_0xee2b[1288]]||this[_0xee2b[1288]]||5*365))}}var h=!1;while(a?d<c:d>b){var j=this[_0xee2b[1137]](d-(a?0:1),a?h:!1);for(var g=a?0:j[_0xee2b[4]]-1;a?g<j[_0xee2b[4]]:g>=0;a?g++:g--){var m=j[g];var i=m[_0xee2b[1138]];var l=m[_0xee2b[1139]];if(i>=c||l<=b){continue}var o=i<b?b:i;var p=l>c?c:l;if(n[_0xee2b[293]](k,o,p)===!1){return !1}}d=a?e[_0xee2b[1184]](d,!1,h):e[_0xee2b[1289]](d,h);h=!0}},calculateDuration:function(b,c,d){var a=0;this[_0xee2b[1290]]({startDate:b,endDate:c},function(f,e){var g=f[_0xee2b[1174]]()-e[_0xee2b[1174]]();a+=e-f+g*60*1000});return this[_0xee2b[1281]](a,d)},calculateEndDate:function(b,a,f){if(!a){return new Date(b)}var d=Sch[_0xee2b[49]][_0xee2b[703]],c;a=this[_0xee2b[1280]](a,f);var e=a===0&&Ext[_0xee2b[703]][_0xee2b[1101]](b,!0)-b===0?d[_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].DAY,-1):b;this[_0xee2b[1290]]({startDate:e},function(d,e){var g=e-d;var h=d[_0xee2b[1174]]()-e[_0xee2b[1174]]();if(g>=a){c=new Date(d-0+a);return !1}else {a-=g+h*60*1000}});return c},calculateStartDate:function(c,a,d){if(!a){return new Date(c)}var b;a=this[_0xee2b[1280]](a,d);this[_0xee2b[1290]]({endDate:c,isForward:!1},function(g,e){var f=e-g;if(f>=a){b=new Date(e-a);return !1}else {a-=f}});return b},skipNonWorkingTime:function(a,b){var c=!1;this[_0xee2b[1290]](b?{startDate:a}:{endDate:a,isForward:!1},function(d,e){a=b?d:e;c=!0;return !1});if(!c){throw new Error(_0xee2b[1291])}return new Date(a)},skipWorkingTime:function(b,a,c){return a>=0?this[_0xee2b[1292]](b,a,c):this[_0xee2b[1293]](b,-a,c)},getAvailabilityIntervalsFor:function(a,b){if(b){a=a.valueOf()}else {if(a instanceof Date){a=(new Date(a[_0xee2b[1136]](),a[_0xee2b[480]](),a[_0xee2b[479]]())).valueOf()}else {a=Ext[_0xee2b[703]][_0xee2b[1101]](new Date(a)).valueOf()}}return this[_0xee2b[1242]][a]=this[_0xee2b[1242]][a]||this[_0xee2b[1275]](a)[_0xee2b[1137]](a)},isChildOf:function(c){var a=this,b=!1;while(a&&!b){b=a===c;a=a[_0xee2b[79]]}return b},getParentableCalendars:function(){var b=this,a=[],c=Sch[_0xee2b[22]][_0xee2b[1212]][_0xee2b[1294]]();Ext[_0xee2b[26]][_0xee2b[25]](c,function(c){if(c!==b&&!c[_0xee2b[1295]](b)){a[_0xee2b[11]]({Id:c[_0xee2b[1215]],Name:c[_0xee2b[683]]||c[_0xee2b[1215]]})}});return a},setParent:function(d){var a=Sch[_0xee2b[22]][_0xee2b[1212]][_0xee2b[1296]](d);if(d&&!a){throw new Error(_0xee2b[1297])}if(this[_0xee2b[79]]!=a){var c=this[_0xee2b[379]];var e={calendarchange:this[_0xee2b[1298]],destroy:this[_0xee2b[1299]],scope:this};var b=this[_0xee2b[79]];if(b){b[_0xee2b[152]](e)}this[_0xee2b[79]]=a;if(a){a[_0xee2b[149]](e)}if(c&&c[_0xee2b[1234]]){c[_0xee2b[1234]][_0xee2b[404]]=a?a[_0xee2b[1215]]:null}this[_0xee2b[1226]]();this[_0xee2b[180]](_0xee2b[1300],this,a,b)}},onParentCalendarChange:function(){this[_0xee2b[1226]]()},onParentDestroy:function(){this[_0xee2b[1216]](null)},isAvailabilityIntersected:function(i,k,m){var g,c,f,e;for(var a=0;a<7;a++){g=this[_0xee2b[1271]](a)||this[_0xee2b[1272]](a);f=i[_0xee2b[1271]](a)||i[_0xee2b[1272]](a);if(!g||!f){continue}c=g[_0xee2b[1118]]();e=f[_0xee2b[1118]]();for(var b=0,j=c[_0xee2b[4]];b<j;b++){for(var d=0,l=e[_0xee2b[4]];d<l;d++){if(e[d][_0xee2b[1119]]<c[b][_0xee2b[1121]]&&e[d][_0xee2b[1121]]>c[b][_0xee2b[1119]]){return !0}}}}var h=!1;this[_0xee2b[1258]](function(a){if(a[_0xee2b[1138]]>=m){return !1}if(k<a[_0xee2b[1139]]){h=!0;return !1}});return h}});Ext[_0xee2b[6]](_0xee2b[1301],{extend:_0xee2b[291],mixins:[_0xee2b[881],_0xee2b[941]],resourceStore:null,eventStore:null,assignmentStore:null,dependencyStore:null,addRelatedStores:!0,constructor:function(a){a=a||{};var d=a[_0xee2b[1302]]||this[_0xee2b[1302]]||new Sch[_0xee2b[22]].ResourceStore(),c=a[_0xee2b[1071]]||this[_0xee2b[1071]]||new Sch[_0xee2b[22]].EventStore(),e=a[_0xee2b[1003]]||this[_0xee2b[1003]],b=a[_0xee2b[1303]]||this[_0xee2b[1303]],g=[];if(c&&a[_0xee2b[1304]]!==!1){var i=this[_0xee2b[1305]](c,a);e=e||i[_0xee2b[1003]];d=d||i[_0xee2b[1302]];b=b||i[_0xee2b[1303]]}c&&g[_0xee2b[11]](c);d&&g[_0xee2b[11]](d);e&&g[_0xee2b[11]](e);b&&g[_0xee2b[11]](b);if(g[_0xee2b[4]]){var f=[];d&&f[_0xee2b[11]](d);c&&f[_0xee2b[11]](c);e&&f[_0xee2b[11]](e);b&&f[_0xee2b[11]](b);if(f[_0xee2b[4]]){a[_0xee2b[299]]=(a[_0xee2b[299]]||a[_0xee2b[125]]||[])[_0xee2b[318]](f)}var h=a[_0xee2b[125]]||this[_0xee2b[125]];if(h&&!Ext[_0xee2b[307]](h)){h=[h]}a[_0xee2b[125]]=(h||[])[_0xee2b[318]](g)}this[_0xee2b[9]]([a]);this[_0xee2b[1071]]=this[_0xee2b[306]](c);this[_0xee2b[1302]]=this[_0xee2b[306]](d);this[_0xee2b[1003]]=this[_0xee2b[306]](e);this[_0xee2b[1303]]=this[_0xee2b[306]](b)},getEventStoreInfo:function(a,c){if(!a[_0xee2b[304]]){if(typeof a==_0xee2b[308]){a=Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[55]](a)}else {a=a[_0xee2b[64]]}}var b={},d=c[_0xee2b[1003]],e=c[_0xee2b[1302]],f=c[_0xee2b[1303]];!d&&(b[_0xee2b[1003]]=a[_0xee2b[1051]]());!e&&(b[_0xee2b[1302]]=a[_0xee2b[1007]]());!f&&(b[_0xee2b[1303]]=a[_0xee2b[1306]]());return b},getResourceStore:function(){return this[_0xee2b[1302]]&&this[_0xee2b[1302]][_0xee2b[64]]},setResourceStore:function(a){if(this[_0xee2b[1007]]()){this[_0xee2b[459]](this[_0xee2b[1007]]())}this[_0xee2b[129]](a);this[_0xee2b[1302]]={store:a}},getEventStore:function(){return this[_0xee2b[1071]]&&this[_0xee2b[1071]][_0xee2b[64]]},setEventStore:function(a){if(this[_0xee2b[696]]()){this[_0xee2b[459]](this[_0xee2b[696]]())}this[_0xee2b[129]](a);this[_0xee2b[1071]]={store:a}},getAssignmentStore:function(){return this[_0xee2b[1003]]&&this[_0xee2b[1003]][_0xee2b[64]]},setAssignmentStore:function(a){if(this[_0xee2b[1051]]()){this[_0xee2b[459]](this[_0xee2b[1051]]())}this[_0xee2b[129]](a);this[_0xee2b[1003]]={store:a}},getDependencyStore:function(){return this[_0xee2b[1303]]&&this[_0xee2b[1303]][_0xee2b[64]]},setDependencyStore:function(a){if(this[_0xee2b[1306]]()){this[_0xee2b[459]](this[_0xee2b[1306]]())}this[_0xee2b[129]](a);this[_0xee2b[1303]]={store:a}}});Ext[_0xee2b[6]](_0xee2b[1307],function(){var b={allowNull:!1,filtered:!1,collapsed:!0};var a=[null];function _0x8e22xa(a,b){Ext[_0xee2b[26]][_0xee2b[25]](b,function(c){var d=c[_0xee2b[1308]](),e=c[_0xee2b[1309]]();if(d){a[_0xee2b[255]](d,c)}if(e){a[_0xee2b[255]](e,c)}if(d&&e){a[_0xee2b[1310]](d,c);a[_0xee2b[1311]](e,c)}})}function _0x8e22x7(a,b){Ext[_0xee2b[26]][_0xee2b[25]](b,function(c){var d=c[_0xee2b[1308]](),e=c[_0xee2b[1309]]();if(d){a[_0xee2b[63]](d,c);a[_0xee2b[1312]](d,c)}if(e){a[_0xee2b[63]](e,c);a[_0xee2b[1313]](e,c)}})}function _0x8e22x2(a,b){Ext[_0xee2b[26]][_0xee2b[25]](b,function(c){a[_0xee2b[231]](c);a[_0xee2b[1314]](c);a[_0xee2b[1315]](c)})}function _0x8e22x1(b,c,f,d,e,a){if(c!==f){b[_0xee2b[999]](f,c,a);b[_0xee2b[1316]](f,c,a)}if(d!==e){b[_0xee2b[999]](e,d,a);b[_0xee2b[1317]](e,d,a)}}function _0x8e22x6(c,a,b){c[_0xee2b[999]](a,b);c[_0xee2b[1316]](a,b);c[_0xee2b[1317]](a,b)}function _0x8e22x3(a,b){Ext[_0xee2b[26]][_0xee2b[25]](b,function(c){if(!a[_0xee2b[1318]](c)){a[_0xee2b[50]](c,[]);a[_0xee2b[1319]](c,[]);a[_0xee2b[1320]](c,[])}})}function _0x8e22x4(c,d,a){c[_0xee2b[231]]();_0x8e22xa(c,d[_0xee2b[1005]]());a&&(!a[_0xee2b[230]]||a[_0xee2b[230]]())&&_0x8e22x3(c,a[_0xee2b[1321]](a[_0xee2b[137]]()[_0xee2b[328]],b))}function _0x8e22x5(a,b,d,c){b=Ext[_0xee2b[26]][_0xee2b[48]](b,function(f,e){a[_0xee2b[50]](e,[]);f[a[_0xee2b[990]](e)]=!0},{});d[_0xee2b[25]](function(e){var g=e[_0xee2b[1308]](),f=e[_0xee2b[1309]](),h=b[_0xee2b[53]](g),i=b[_0xee2b[53]](f);h&&a[_0xee2b[255]](g,e);h&&a[_0xee2b[1310]](g,e);i&&a[_0xee2b[255]](f,e);i&&a[_0xee2b[1311]](f,e)});Ext[_0xee2b[154]][_0xee2b[25]](b,function(e){if(!a[_0xee2b[1318]](e)&&(c[_0xee2b[394]]?c[_0xee2b[394]](e):c[_0xee2b[395]](e))){a[_0xee2b[50]](e,[])}})}return {extend:_0xee2b[985],dependencyStore:null,dependencyStoreDetacher:null,eventStoreDetacher:null,constructor:function(c){var b=this;b[_0xee2b[9]]();b[_0xee2b[1303]]=c;function _0x8e22x14(d,a){_0x8e22xa(b,a)}function _0x8e22xc(e,d,f,a){!a&&_0x8e22x7(b,d)}function _0x8e22xf(k,a,j){var g=a[_0xee2b[1322]],f=a[_0xee2b[1323]],d=a[_0xee2b[52]]&&g in a[_0xee2b[52]],e=a[_0xee2b[52]]&&f in a[_0xee2b[52]],h=d&&a[_0xee2b[52]][g],i=e&&a[_0xee2b[52]][f];if(d||e){if(!h&&a[_0xee2b[52]][_0xee2b[53]](g)||!i&&a[_0xee2b[52]][_0xee2b[53]](f)){_0x8e22x7(b,[a]);_0x8e22xa(b,[a])}else {_0x8e22x1(b,d?a[_0xee2b[1308]]():!1,d?h:!1,e?a[_0xee2b[1309]]():!1,e?i:!1,a)}}}function _0x8e22x10(a){_0x8e22x4(b,a,a[_0xee2b[696]]())}function _0x8e22xb(d,a){_0x8e22x4(b,d,a);_0x8e22xd(a)}function _0x8e22x13(e,f,d,a){_0x8e22x6(b,d,a)}function _0x8e22x23(d,a){_0x8e22x3(b,a)}function _0x8e22x16(e,d){_0x8e22x3(b,a[0]=d,a)}function _0x8e22x11(e,d){_0x8e22x3(b,a[0]=d,a)}function _0x8e22x19(e,d,f,a){!a&&_0x8e22x2(b,d)}function _0x8e22x17(f,e,d){!d&&_0x8e22x2(b,a[0]=e,a)}function _0x8e22x15(){_0x8e22x4(b,b[_0xee2b[1303]],b[_0xee2b[1303]][_0xee2b[696]]())}function _0x8e22x18(d,a){if(!a){_0x8e22x4(b,b[_0xee2b[1303]],b[_0xee2b[1071]])}else {if(!Ext[_0xee2b[307]](a)){a=[a]}_0x8e22x5(b,a,b[_0xee2b[1303]],b[_0xee2b[1071]])}}function _0x8e22xd(d){var a;Ext[_0xee2b[218]](b[_0xee2b[1000]]);if(d){a={idchanged:_0x8e22x13,cacheresethint:_0x8e22x15,clear:_0x8e22x15,refresh:_0x8e22x15,'event-dependency-cache-invalidate':_0x8e22x18,priority:100,destroyable:!0};if(d[_0xee2b[234]]){a=Ext[_0xee2b[8]](a,{nodeappend:_0x8e22x16,nodeinsert:_0x8e22x11,noderemove:_0x8e22x17,rootchange:_0x8e22x15})}else {a=Ext[_0xee2b[8]](a,{add:_0x8e22x23,remove:_0x8e22x19})}b[_0xee2b[1000]]=d[_0xee2b[149]](a)}}b[_0xee2b[1324]]=c[_0xee2b[149]]({add:_0x8e22x14,remove:_0x8e22xc,update:_0x8e22xf,refresh:_0x8e22x10,cacheresethint:_0x8e22x10,clear:_0x8e22x10,eventstorechange:_0x8e22xb,'event-dependency-cache-invalidate':_0x8e22x18,priority:100,destroyable:!0});_0x8e22x4(b,c,c[_0xee2b[696]]())},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1324],_0xee2b[1000]);a[_0xee2b[1303]]=null},get:function(a,c){var b=this;return b[_0xee2b[9]]([a])},getSuccessors:function(b,c){var a=this;return a[_0xee2b[55]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)),c)},getPredecessors:function(b,c){var a=this;return a[_0xee2b[55]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)),c)},addSuccessor:function(b,c){var a=this;return arguments[_0xee2b[4]]>1?a[_0xee2b[255]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)),c):a[_0xee2b[255]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)))},addPredecessor:function(b,c){var a=this;return arguments[_0xee2b[4]]>1?a[_0xee2b[255]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)),c):a[_0xee2b[255]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)))},setSuccessors:function(b,c){var a=this;a[_0xee2b[50]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)),c)},setPredecessors:function(b,c){var a=this;a[_0xee2b[50]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)),c)},removeSuccessor:function(c,b){var a=this;return a[_0xee2b[63]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](c)),b)},removePredecessor:function(c,b){var a=this;return a[_0xee2b[63]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](c)),b)},moveSuccessors:function(b,c,d){var a=this;return arguments[_0xee2b[4]]>=3?a[_0xee2b[999]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)),a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](c)),d):a[_0xee2b[999]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)),a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](c)))},movePredecessors:function(b,c,d){var a=this;return arguments[_0xee2b[4]]>=3?a[_0xee2b[999]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)),a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](c)),d):a[_0xee2b[999]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)),a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](c)))},clearSuccessors:function(b){var a=this;return a[_0xee2b[231]](a[_0xee2b[45]][_0xee2b[1325]](a[_0xee2b[990]](b)))},clearPredecessors:function(b){var a=this;return a[_0xee2b[231]](a[_0xee2b[45]][_0xee2b[1326]](a[_0xee2b[990]](b)))},inheritableStatics:{splitKey:function(a){a=a[_0xee2b[496]](_0xee2b[1327]);return {id:a[0],type:a[_0xee2b[4]]&&a[1]||!1}},makeSuccessorsKey:function(a){return a+_0xee2b[1328]},makePredecessorsKey:function(a){return a+_0xee2b[1329]}}}});Ext[_0xee2b[6]](_0xee2b[1330],{extend:_0xee2b[1019],isDependencyModel:!0,inheritableStatics:{Type:{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}},idProperty:_0xee2b[1032],customizableFields:[{name:_0xee2b[649]},{name:_0xee2b[650]},{name:_0xee2b[1106],type:_0xee2b[1103],defaultValue:2},{name:_0xee2b[1109],defaultValue:_0xee2b[27]},{name:_0xee2b[1331],type:_0xee2b[1108]},{name:_0xee2b[1332],type:_0xee2b[308]},{name:_0xee2b[1333],type:_0xee2b[308]},{name:_0xee2b[1334],type:_0xee2b[308],persist:!1,defaultValue:_0xee2b[27]}],fromField:_0xee2b[649],toField:_0xee2b[650],typeField:_0xee2b[1106],clsField:_0xee2b[1109],bidirectionalField:_0xee2b[1331],highlightedField:_0xee2b[1334],constructor:function(a){var b=this;b[_0xee2b[9]](arguments);if(a){if(a[b[_0xee2b[1322]]]&&a[b[_0xee2b[1322]]][_0xee2b[1335]]){b[_0xee2b[1336]](a[b[_0xee2b[1322]]]);delete a[_0xee2b[1322]]}if(a[b[_0xee2b[1323]]]&&a[b[_0xee2b[1323]]][_0xee2b[1335]]){b[_0xee2b[1337]](a[b[_0xee2b[1323]]]);delete a[_0xee2b[1323]]}}},getEventStore:function(){return this[_0xee2b[64]][_0xee2b[696]]()},getSourceEvent:function(b){var a=this;return (b||a[_0xee2b[696]]())[_0xee2b[1012]](a[_0xee2b[1308]]())},setSourceEvent:function(a){this[_0xee2b[1338]](a[_0xee2b[32]]())},getTargetEvent:function(b){var a=this;return (b||a[_0xee2b[696]]())[_0xee2b[1012]](a[_0xee2b[1309]]())},setTargetEvent:function(a){this[_0xee2b[1339]](a[_0xee2b[32]]())},getSourceId:function(){return this[_0xee2b[1340]]()},setSourceId:function(a){return this[_0xee2b[1341]](a)},getTargetId:function(){return this[_0xee2b[1342]]()},setTargetId:function(a){return this[_0xee2b[1343]](a)},isPersistable:function(){var a=this,c=a[_0xee2b[1344]](),b=a[_0xee2b[1345]]();return c&&!c[_0xee2b[30]]&&b&&!b[_0xee2b[30]]},getDateRange:function(){var b=this[_0xee2b[1344]]();var c=this[_0xee2b[1345]]();if(b&&c&&b[_0xee2b[1205]]()&&c[_0xee2b[1205]]()){var e=this[_0xee2b[45]][_0xee2b[1106]];var d,a;switch(this[_0xee2b[1247]]()){case e[_0xee2b[1346]]:d=b[_0xee2b[712]]();a=c[_0xee2b[712]]();break;case e[_0xee2b[1347]]:d=b[_0xee2b[712]]();a=c[_0xee2b[713]]();break;case e[_0xee2b[1348]]:d=b[_0xee2b[713]]();a=c[_0xee2b[713]]();break;case e[_0xee2b[1349]]:d=b[_0xee2b[713]]();a=c[_0xee2b[712]]();break;}return {start:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](d,a),end:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](d,a)}}return null},highlight:function(a){var b=this,c=b[_0xee2b[1350]]()[_0xee2b[496]](_0xee2b[60]);if(!Ext[_0xee2b[26]][_0xee2b[1087]](c,a)){var d=c[_0xee2b[318]](a);b[_0xee2b[1351]](d[_0xee2b[73]](_0xee2b[60]))}},unhighlight:function(a){var b=this,c=b[_0xee2b[1350]]()[_0xee2b[496]](_0xee2b[60]);if(Ext[_0xee2b[26]][_0xee2b[1087]](c,a)){var d=Ext[_0xee2b[26]][_0xee2b[63]](c,a);b[_0xee2b[1351]](d[_0xee2b[73]](_0xee2b[60]))}},isHighlightedWith:function(a){var b=this,c=b[_0xee2b[1350]]()[_0xee2b[496]](_0xee2b[60]);return Ext[_0xee2b[26]][_0xee2b[1087]](c,a)}});Ext[_0xee2b[6]](_0xee2b[1352],{extend:_0xee2b[1330],isValid:function(f){var a=this,e=a[_0xee2b[9]](arguments),b=a[_0xee2b[1308]](),c=a[_0xee2b[1309]](),d=a[_0xee2b[1247]]();return Ext[_0xee2b[789]](d)&&!Ext[_0xee2b[1353]](b)&&!Ext[_0xee2b[1353]](c)&&b!=c},getTypeFromSides:function(f,d,b){var a=this[_0xee2b[45]][_0xee2b[1106]],c=b?_0xee2b[867]:_0xee2b[1354],e=b?_0xee2b[1354]:_0xee2b[867];if(f===c){return d===c?a[_0xee2b[1346]]:a[_0xee2b[1347]]}return d===e?a[_0xee2b[1348]]:a[_0xee2b[1349]]}});Ext[_0xee2b[6]](_0xee2b[1355],{extend:_0xee2b[109],requires:[_0xee2b[973],_0xee2b[1307]],mixins:[_0xee2b[1011],_0xee2b[1016],_0xee2b[216]],config:{extraKeys:{bySourceTargetId:{keyFn:function(a){return Sch[_0xee2b[22]][_0xee2b[1357]][_0xee2b[1356]](a[_0xee2b[1308]](),a[_0xee2b[1309]]())}}}},model:_0xee2b[1352],alias:_0xee2b[1358],storeId:_0xee2b[1359],eventStoreDetacher:null,eventStore:null,constructor:function(b){var a=this;a[_0xee2b[9]]([b]);a[_0xee2b[1360]]=a[_0xee2b[1360]]||a[_0xee2b[1361]]()},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1360],_0xee2b[1000]);a[_0xee2b[9]]()},createEventDependencyCache:function(){return new Sch[_0xee2b[22]][_0xee2b[49]].EventDependencyCache(this)},getEventStore:function(){return this[_0xee2b[1071]]},setEventStore:function(b){var a=this,c=a[_0xee2b[1071]];a[_0xee2b[1071]]=b&&Ext[_0xee2b[1072]][_0xee2b[131]](b)||null;a[_0xee2b[1073]](a[_0xee2b[1071]]);if((c||b)&&c!==b){a[_0xee2b[180]](_0xee2b[1074],a,b,c)}},attachToEventStore:function(b){var a=this;Ext[_0xee2b[218]](a[_0xee2b[1000]]);if(b&&b[_0xee2b[234]]){a[_0xee2b[1000]]=b[_0xee2b[149]]({noderemove:a[_0xee2b[1075]],scope:a,destroyable:!0,priority:200})}else {if(b){a[_0xee2b[1000]]=b[_0xee2b[149]]({remove:a[_0xee2b[1077]],scope:a,destroyable:!0,priority:200})}}},onEventRemove:function(c,b,d,a){!a&&this[_0xee2b[1362]](b,!1)},onEventNodeRemove:function(c,b,a){!a&&this[_0xee2b[1362]](b,!1)},reduceEventDependencies:function(a,d,e,c,b){var f=this;b=b||function(g){var h=g&&g[_0xee2b[988]]?g[_0xee2b[32]]():g;return f[_0xee2b[1360]][_0xee2b[55]](g,function(){return Ext[_0xee2b[26]][_0xee2b[173]](f[_0xee2b[1005]](),function(f){return f[_0xee2b[1309]]()==h||f[_0xee2b[1308]]()==h})})};a=Ext[_0xee2b[307]](a)?a:[a];c=c===undefined?!0:!1;Ext[_0xee2b[26]][_0xee2b[48]](a,function(f,g){if(g[_0xee2b[1363]]&&!c){g[_0xee2b[99]](function(h){f=Ext[_0xee2b[26]][_0xee2b[48]](b(h),d,f)})}else {f=Ext[_0xee2b[26]][_0xee2b[48]](b(g),d,f)}},e);return e},reduceEventIncomingDependencies:function(d,e,c,b){var a=this;return a[_0xee2b[1365]](d,e,c,b,function(f){var g=f&&f[_0xee2b[988]]?f[_0xee2b[32]]():f;return a[_0xee2b[1360]][_0xee2b[1364]](f,function(){return Ext[_0xee2b[26]][_0xee2b[173]](a[_0xee2b[1005]](),function(a){return a[_0xee2b[1309]]()==g})})})},reduceEventOutgoingDependencies:function(d,e,c,b){var a=this;return a[_0xee2b[1365]](d,e,c,b,function(f){var g=f&&f[_0xee2b[988]]?f[_0xee2b[32]]():f;return a[_0xee2b[1360]][_0xee2b[1366]](f,function(){return Ext[_0xee2b[26]][_0xee2b[173]](a[_0xee2b[1005]](),function(a){return a[_0xee2b[1308]]()==g})})})},mapEventDependencies:function(c,e,d,a,b){return this[_0xee2b[1365]](c,function(f,g){d(g)&&f[_0xee2b[11]](g);return f},[],a,b)},mapEventIncomingDependencies:function(c,d,a,b){return this[_0xee2b[1367]](c,function(f,e){a(e)&&f[_0xee2b[11]](e);return f},[],b)},mapEventOutgoingDependencies:function(c,d,a,b){return this[_0xee2b[1368]](c,function(f,e){a(e)&&f[_0xee2b[11]](e);return f},[],b)},getEventDependencies:function(a,b){return this[_0xee2b[1369]](a,Ext[_0xee2b[56]],Ext[_0xee2b[1083]],b)},getEventIncomingDependencies:function(a,b){return this[_0xee2b[1370]](a,Ext[_0xee2b[56]],Ext[_0xee2b[1083]],b)},getEventOutgoingDependencies:function(a,b){return this[_0xee2b[1371]](a,Ext[_0xee2b[56]],Ext[_0xee2b[1083]],b)},getEventPredecessors:function(c,d){var a=this,b=a[_0xee2b[696]]();Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1373]](b,_0xee2b[1372]);return a[_0xee2b[1365]](c,function(e,g){var a=g[_0xee2b[1340]](),f=a&&b[_0xee2b[1012]](a);if(f){e[_0xee2b[11]](f)}return e},[],d,function(b){return a[_0xee2b[1360]][_0xee2b[1364]](b)})},getEventSuccessors:function(c,d){var a=this,b=a[_0xee2b[696]]();Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1373]](b,_0xee2b[1374]);return a[_0xee2b[1365]](c,function(e,g){var f=g[_0xee2b[1342]](),a=f&&b[_0xee2b[1012]](f);if(a){e[_0xee2b[11]](a)}return e},[],d,function(b){return a[_0xee2b[1360]][_0xee2b[1366]](b)})},removeEventDependencies:function(d,c){var b=this,a;a=b[_0xee2b[1375]](d,c);a[_0xee2b[4]]&&b[_0xee2b[63]](Ext[_0xee2b[26]][_0xee2b[1376]](a))},removeEventIncomingDependencies:function(d,c){var b=this,a;a=b[_0xee2b[1377]](d,c);a[_0xee2b[4]]&&b[_0xee2b[63]](Ext[_0xee2b[26]][_0xee2b[1376]](a))},removeEventOutgoingDependencies:function(d,c){var b=this,a;a=b[_0xee2b[1378]](d,c);a[_0xee2b[4]]&&b[_0xee2b[63]](Ext[_0xee2b[26]][_0xee2b[1376]](a))},getDependencyForSourceAndTargetEvents:function(a,b){var c=this;a=a&&a[_0xee2b[988]]&&a[_0xee2b[32]]()||a;b=b&&b[_0xee2b[988]]&&b[_0xee2b[32]]()||b;return c[_0xee2b[1379]][_0xee2b[55]](c[_0xee2b[45]][_0xee2b[1356]](a,b))},getEventsLinkingDependency:function(c,a){var b=this;return b[_0xee2b[1380]](c,a)||b[_0xee2b[1380]](a,c)},isValidDependency:function(b){var c=b[_0xee2b[1308]]();var a=b[_0xee2b[1309]]();return c!=null&&a!=null&&c!==a},getHighlightedDependencies:function(a){return Ext[_0xee2b[26]][_0xee2b[48]](this[_0xee2b[1005]](),function(c,b){if(b[_0xee2b[1381]](a)){c[_0xee2b[11]](b)}return c},[])},inheritableStatics:{makeDependencySourceTargetCompositeKey:function(){var a=[];return function(b,c){a[_0xee2b[4]]=0;a[_0xee2b[11]](_0xee2b[1382],b,_0xee2b[1383],c,_0xee2b[1058]);return a[_0xee2b[73]](_0xee2b[27])}}()}});Ext[_0xee2b[6]](_0xee2b[1384],{config:{eventStore:null,resourceStore:null,assignmentStore:null,dependencyStore:null},eventStoreDetacher:null,resourceStoreDetacher:null,constructor:function(a){this[_0xee2b[35]](a)},updateEventStore:function(b,c){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1000]);if(b){a[_0xee2b[1000]]=b[_0xee2b[149]]({idchanged:a[_0xee2b[1385]],scope:a,destroyable:!0,priority:200})}},updateResourceStore:function(b,c){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1010]);if(b){a[_0xee2b[1010]]=b[_0xee2b[149]]({idchanged:a[_0xee2b[1386]],scope:a,destroyable:!0,priority:200})}},onEventIdChanged:function(h,i,f,d){var c=this,g=c[_0xee2b[1051]](),e=c[_0xee2b[1306]](),a,b;if(g){a=c[_0xee2b[1387]](g,f,d)}if(e){b=c[_0xee2b[1388]](e,f,d)}if(a||b){h[_0xee2b[149]](_0xee2b[724],function(){a&&a();b&&b()},null,{single:!0,priority:200})}},onResourceIdChanged:function(h,i,g,f){var b=this,e=b[_0xee2b[696]](),c=b[_0xee2b[1051]](),a,d;if(e&&!c){a=b[_0xee2b[1389]](e,g,f)}if(c){d=b[_0xee2b[1390]](c,g,f)}if(a||c){h[_0xee2b[149]](_0xee2b[724],function(){a&&a();d&&d()},null,{single:!0,priority:200})}},getUpdateEventResourceIdFieldFn:function(b,c,a){var d=b[_0xee2b[1005]]();return function(){Ext[_0xee2b[26]][_0xee2b[25]](d,function(d){d[_0xee2b[1008]]()==c&&d[_0xee2b[1090]](a)})}},getUpdateAssignmentEventIdFieldFn:function(c,a,d){var b=c[_0xee2b[1081]](a);return function(){Ext[_0xee2b[26]][_0xee2b[25]](b,function(b){b[_0xee2b[997]]()==a&&b[_0xee2b[1089]](d)})}},getUpdateAssignmentResourceIdFieldFn:function(c,a,d){var b=c[_0xee2b[1082]](a);return function(){Ext[_0xee2b[26]][_0xee2b[25]](b,function(b){b[_0xee2b[1008]]()==a&&b[_0xee2b[1090]](d)})}},getUpdateDependencySourceTargedIdFieldFn:function(d,a,b){var c=d[_0xee2b[1375]](a);return function(){Ext[_0xee2b[26]][_0xee2b[25]](c,function(c){c[_0xee2b[1308]]()==a&&c[_0xee2b[1338]](b);c[_0xee2b[1309]]()==a&&c[_0xee2b[1339]](b)})}}});Ext[_0xee2b[6]](_0xee2b[1391],{config:{eventStore:null,resourceStore:null,assignmentStore:null,dependencyStore:null},eventStoreDetacher:null,resourceStoreDetacher:null,assignmentStoreDetacher:null,dependencyStoreDetacher:null,constructor:function(a){this[_0xee2b[35]](a)},updateEventStore:function(b,c){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1000]);if(b&&b[_0xee2b[65]]){a[_0xee2b[1000]]=b[_0xee2b[149]]({beforesync:a[_0xee2b[1392]],scope:a,destroyable:!0,priority:100})}},updateResourceStore:function(b,c){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1010]);if(b&&b[_0xee2b[65]]){a[_0xee2b[1010]]=b[_0xee2b[149]]({beforesync:a[_0xee2b[1393]],scope:a,destroyable:!0,priority:100})}},updateAssignmentStore:function(b,c){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1001]);if(b&&b[_0xee2b[65]]){a[_0xee2b[1001]]=b[_0xee2b[149]]({beforesync:a[_0xee2b[1394]],scope:a,destroyable:!0,priority:100})}},updateDependencyStore:function(b,c){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1324]);if(b&&b[_0xee2b[65]]){a[_0xee2b[1324]]=b[_0xee2b[149]]({beforesync:a[_0xee2b[1395]],scope:a,destroyable:!0,priority:100})}},onEventStoreBeforeSync:function(a){var b=this;b[_0xee2b[1396]](a);return b[_0xee2b[1397]](a)},onResourceStoreBeforeSync:function(a){var b=this;b[_0xee2b[1396]](a);return b[_0xee2b[1397]](a)},onAssignmentStoreBeforeSync:function(a){var b=this;b[_0xee2b[1396]](a);return b[_0xee2b[1397]](a)},onDependencyStoreBeforeSync:function(a){var b=this;b[_0xee2b[1396]](a);return b[_0xee2b[1397]](a)},removeNonPersistableRecordsToCreate:function(d){var a=d[_0xee2b[831]]||[],c,b;for(b=a[_0xee2b[4]]-1;b>=0;--b){c=a[b];if(!c[_0xee2b[1398]]()){Ext[_0xee2b[26]][_0xee2b[63]](a,c)}}if(a[_0xee2b[4]]===0){delete d[_0xee2b[831]]}},shallContinueSync:function(a){return Boolean(a[_0xee2b[831]]&&a[_0xee2b[831]][_0xee2b[4]]>0||a[_0xee2b[724]]&&a[_0xee2b[724]][_0xee2b[4]]>0||a[_0xee2b[218]]&&a[_0xee2b[218]][_0xee2b[4]]>0)}});Ext[_0xee2b[6]](_0xee2b[1399],{extend:_0xee2b[985],requires:[_0xee2b[996]],eventStore:null,eventStoreDetacher:null,resourceStoreDetacher:null,constructor:function(b){var a=this,c=b[_0xee2b[1007]]();a[_0xee2b[9]]();function _0x8e22x10(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[255]](e[_0xee2b[1008]](),e)})}function _0x8e22x2(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[63]](e[_0xee2b[1008]](),e)})}function _0x8e22x5(h,c,i,g){var d=c[_0xee2b[1009]],e=c[_0xee2b[52]]&&d in c[_0xee2b[52]],f=e&&c[_0xee2b[52]][d];if(e){a[_0xee2b[999]](f,c[_0xee2b[1008]](),c)}}function _0x8e22x9(){a[_0xee2b[231]]()}function _0x8e22xd(e,c,d){a[_0xee2b[231]]();_0x8e22x3(c)}function _0x8e22x7(f,e,c,d){a[_0xee2b[999]](c,d)}function _0x8e22x1(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[231]](e)})}function _0x8e22x6(){a[_0xee2b[231]]()}function _0x8e22x3(c){Ext[_0xee2b[218]](a[_0xee2b[1010]]);a[_0xee2b[1010]]=c&&c[_0xee2b[149]]({idchanged:_0x8e22x7,remove:_0x8e22x1,clear:_0x8e22x6,cacheresethint:_0x8e22x6,rootchange:_0x8e22x6,priority:100,destroyable:!0})}a[_0xee2b[1000]]=b[_0xee2b[149]]({add:_0x8e22x10,remove:_0x8e22x2,update:_0x8e22x5,clear:_0x8e22x9,cacheresethint:_0x8e22x9,rootchange:_0x8e22x9,resourcestorechange:_0x8e22xd,priority:100,destroyable:!0});a[_0xee2b[1400]]=b[_0xee2b[355]]()[_0xee2b[149]](_0xee2b[333],_0x8e22x9,this,{priority:1002,destroyable:!0});_0x8e22x3(c);a[_0xee2b[1071]]=b},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1000],_0xee2b[1400],_0xee2b[1010]);a[_0xee2b[1071]]=null},get:function(a,c){var b=this;a=b[_0xee2b[990]](a);c=c||function(){return Ext[_0xee2b[26]][_0xee2b[173]](b[_0xee2b[1071]][_0xee2b[1005]](),function(b){return b[_0xee2b[1008]]()==a})};return b[_0xee2b[9]]([a,c])}});Ext[_0xee2b[6]](_0xee2b[1401],{extend:_0xee2b[17],requires:[_0xee2b[1140],_0xee2b[1384],_0xee2b[1391],_0xee2b[1399]],isEventStore:!0,assignmentStore:null,resourceStore:null,resourceEventsCache:null,idConsistencyManager:null,modelPersistencyManager:null,mixinConfig:{after:{constructor:_0xee2b[217],destroy:_0xee2b[218]}},constructor:function(){var a=this;a[_0xee2b[1070]]=a[_0xee2b[1402]]();a[_0xee2b[1403]]=a[_0xee2b[1404]]();a[_0xee2b[1405]]=a[_0xee2b[1406]]()},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1070],_0xee2b[1403],_0xee2b[1405])},createResourceEventsCache:function(){return new Sch[_0xee2b[22]][_0xee2b[49]].ResourceEventsCache(this)},createIdConsistencyManager:function(){var a=this;return new Sch[_0xee2b[22]][_0xee2b[49]].IdConsistencyManager({eventStore:a,resourceStore:a[_0xee2b[1007]](),assignmentStore:a[_0xee2b[1051]](),dependencyStore:a[_0xee2b[1306]]()})},createModelPersistencyManager:function(){var a=this;return new Sch[_0xee2b[22]][_0xee2b[49]].ModelPersistencyManager({eventStore:a,resourceStore:a[_0xee2b[1007]](),assignmentStore:a[_0xee2b[1051]](),dependencyStore:a[_0xee2b[1306]]()})},getResourceStore:function(){return this[_0xee2b[1302]]},setResourceStore:function(b){var a=this,c=a[_0xee2b[1302]];if(a[_0xee2b[1302]]){a[_0xee2b[1302]][_0xee2b[1407]](null);a[_0xee2b[1403]]&&a[_0xee2b[1403]][_0xee2b[1408]](null);a[_0xee2b[1405]]&&a[_0xee2b[1405]][_0xee2b[1408]](null)}a[_0xee2b[1302]]=b&&Ext[_0xee2b[1072]][_0xee2b[131]](b)||null;if(a[_0xee2b[1302]]){a[_0xee2b[1405]]&&a[_0xee2b[1405]][_0xee2b[1408]](a[_0xee2b[1302]]);a[_0xee2b[1403]]&&a[_0xee2b[1403]][_0xee2b[1408]](a[_0xee2b[1302]]);b[_0xee2b[1407]](a)}if((c||b)&&c!==b){a[_0xee2b[180]](_0xee2b[1409],a,b,c)}},getAssignmentStore:function(){return this[_0xee2b[1003]]},setAssignmentStore:function(b){var a=this,c=a[_0xee2b[1003]];if(a[_0xee2b[1003]]){a[_0xee2b[1003]][_0xee2b[1407]](null);a[_0xee2b[1403]]&&a[_0xee2b[1403]][_0xee2b[1410]](null);a[_0xee2b[1405]]&&a[_0xee2b[1405]][_0xee2b[1410]](null)}a[_0xee2b[1003]]=b&&Ext[_0xee2b[1072]][_0xee2b[131]](b)||null;if(a[_0xee2b[1003]]){a[_0xee2b[1405]]&&a[_0xee2b[1405]][_0xee2b[1410]](a[_0xee2b[1003]]);a[_0xee2b[1403]]&&a[_0xee2b[1403]][_0xee2b[1410]](a[_0xee2b[1003]]);a[_0xee2b[1003]][_0xee2b[1407]](a);Ext[_0xee2b[218]](a[_0xee2b[1070]])}else {a[_0xee2b[1070]]=a[_0xee2b[1402]]()}if((c||b)&&c!==b){a[_0xee2b[180]](_0xee2b[1411],a,b,c)}},getDependencyStore:function(){return this[_0xee2b[1303]]},setDependencyStore:function(b){var a=this,c=a[_0xee2b[1357]];if(a[_0xee2b[1303]]){a[_0xee2b[1303]][_0xee2b[1407]](null);a[_0xee2b[1403]]&&a[_0xee2b[1403]][_0xee2b[1412]](null);a[_0xee2b[1405]]&&a[_0xee2b[1405]][_0xee2b[1412]](null)}a[_0xee2b[1303]]=b&&Ext[_0xee2b[1072]][_0xee2b[131]](b)||null;if(a[_0xee2b[1303]]){a[_0xee2b[1405]]&&a[_0xee2b[1405]][_0xee2b[1412]](a[_0xee2b[1303]]);a[_0xee2b[1403]]&&a[_0xee2b[1403]][_0xee2b[1412]](a[_0xee2b[1303]]);a[_0xee2b[1303]][_0xee2b[1407]](a)}if((c||b)&&c!==b){a[_0xee2b[180]](_0xee2b[1413],a,b,c)}},isDateRangeAvailable:function(g,e,a,c){var d=Sch[_0xee2b[49]][_0xee2b[703]],f=c?this[_0xee2b[699]](c):this[_0xee2b[1005]](),b=!0;if(Sch[_0xee2b[327]][_0xee2b[1414]]&&a instanceof Sch[_0xee2b[327]][_0xee2b[1414]]){a=a[_0xee2b[1052]](this)}Ext[_0xee2b[25]](f,function(f){b=a===f||!d[_0xee2b[714]](g,e,f[_0xee2b[712]](),f[_0xee2b[713]]());return b});return b},getEventsInTimeSpan:function(b,d,f){var c=new Ext[_0xee2b[49]].MixedCollection();var a=[];if(f!==!1){var e=Sch[_0xee2b[49]][_0xee2b[703]];this[_0xee2b[1415]](function(h,c,g){if(e[_0xee2b[714]](c,g,b,d)){a[_0xee2b[11]](h)}})}else {this[_0xee2b[1415]](function(g,c,e){if(c-b>=0&&d-e>=0){a[_0xee2b[11]](g)}})}c[_0xee2b[1416]](a);return c},getEventsByStartDate:function(c){var b=Sch[_0xee2b[49]][_0xee2b[703]];var a=[];this[_0xee2b[1415]](function(d,e,f){if(b[_0xee2b[1417]](e,c,b.DAY)===0){a[_0xee2b[11]](d)}});return a},forEachScheduledEvent:function(b,a){this[_0xee2b[25]](function(c){var e=c[_0xee2b[712]](),d=c[_0xee2b[713]]();if(e&&d){return b[_0xee2b[293]](a||this,c,e,d)}},this)},getTotalTimeSpan:function(){var a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1418]],b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1419]],c=Sch[_0xee2b[49]][_0xee2b[703]];this[_0xee2b[25]](function(d){if(d[_0xee2b[712]]()){a=c[_0xee2b[203]](d[_0xee2b[712]](),a)}if(d[_0xee2b[713]]()){b=c[_0xee2b[715]](d[_0xee2b[713]](),b)}});a=a<Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1418]]?a:null;b=b>Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1419]]?b:null;this[_0xee2b[1420]]={start:a||null,end:b||a||null};return this[_0xee2b[1420]]},filterEventsForResource:function(c,b,d){var a=c[_0xee2b[1421]](this);return Ext[_0xee2b[26]][_0xee2b[173]](a,b,d||this)},append:function(a){throw _0xee2b[1422]},getResourcesForEvent:function(b){var c=this,d=c[_0xee2b[1051]](),e=c[_0xee2b[1007]](),a;if(d){a=d[_0xee2b[1093]](b)}else {if(e){b=b instanceof Sch[_0xee2b[327]][_0xee2b[1423]]&&b||c[_0xee2b[1012]](b);a=b&&e[_0xee2b[1012]](b[_0xee2b[1008]]());a=a&&[a]||[]}else {a=[]}}return a},getEventsForResource:function(c){var b=this,d=b[_0xee2b[1051]](),a;if(d){a=d[_0xee2b[699]](c)}else {if(b[_0xee2b[1070]]){a=b[_0xee2b[1070]][_0xee2b[55]](c)}else {a=[]}}return a},getAssignmentsForEvent:function(c){var b=this,a=b[_0xee2b[1051]]();return a&&a[_0xee2b[1081]](c)||[]},getAssignmentsForResource:function(c){var b=this,a=b[_0xee2b[1051]]();return a&&a[_0xee2b[1082]](c)||[]},assignEventToResource:function(b,a){var c=this,d=c[_0xee2b[1051]]();if(d){d[_0xee2b[1424]](b,a)}else {if(Ext[_0xee2b[307]](a)){a=a[0]}b=b instanceof Sch[_0xee2b[327]][_0xee2b[1423]]&&b||c[_0xee2b[1012]](b);a=a instanceof Sch[_0xee2b[327]][_0xee2b[606]]?a[_0xee2b[32]]():a;b&&b[_0xee2b[1090]](a)}},unassignEventFromResource:function(a,b){var c=this,d=c[_0xee2b[1051]]();if(d){d[_0xee2b[1425]](a,b)}else {a=a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]&&a||c[_0xee2b[1012]](a);b=b instanceof Sch[_0xee2b[327]][_0xee2b[606]]?b[_0xee2b[32]]():b;if(a&&(typeof b==_0xee2b[317]||a[_0xee2b[1008]]()==b)){a[_0xee2b[1090]](null)}}},reassignEventFromResourceToResource:function(a,c,b){var e=this,d=e[_0xee2b[1051]]();var f=b instanceof Sch[_0xee2b[327]][_0xee2b[606]]?b[_0xee2b[32]]():b;var h=c instanceof Sch[_0xee2b[327]][_0xee2b[606]]?c[_0xee2b[32]]():c;if(d){var g=d[_0xee2b[1092]](a,c);if(g){g[_0xee2b[1090]](f)}else {d[_0xee2b[1424]](a,b)}}else {a=a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]&&a||e[_0xee2b[1012]](a);if(a[_0xee2b[1008]]()==h){a[_0xee2b[1090]](f)}}},isEventAssignedToResource:function(a,b){var e=this,d=e[_0xee2b[1051]](),c;if(d){c=d[_0xee2b[1088]](a,b)}else {a=a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]&&a||e[_0xee2b[1012]](a);b=b instanceof Sch[_0xee2b[327]][_0xee2b[606]]?b[_0xee2b[32]]():b;c=a&&a[_0xee2b[1008]]()==b||!1}return c},removeAssignmentsForEvent:function(a){var b=this,c=b[_0xee2b[1051]]();if(c){c[_0xee2b[1091]](a)}else {a=a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]&&a||b[_0xee2b[1012]](a);a&&a[_0xee2b[1090]](null)}},removeAssignmentsForResource:function(a){var b=this,d=b[_0xee2b[1051]](),c=b[_0xee2b[1007]]();if(d){d[_0xee2b[1426]](a)}else {if(c){a=a instanceof Sch[_0xee2b[327]][_0xee2b[606]]&&a||c[_0xee2b[1012]](a);a&&Ext[_0xee2b[26]][_0xee2b[25]](b[_0xee2b[1070]][_0xee2b[55]](a),function(b){b[_0xee2b[1090]](null)})}else {a=a instanceof Sch[_0xee2b[327]][_0xee2b[606]]?a[_0xee2b[32]]():a;Ext[_0xee2b[26]][_0xee2b[25]](b[_0xee2b[1005]](),function(b){b[_0xee2b[1008]]()==a&&b[_0xee2b[1090]](null)})}}},isEventPersistable:function(e){var f=this,g=f[_0xee2b[1051]](),b,a,d,c=!0;if(!g){b=e[_0xee2b[1427]]();for(a=0,d=b[_0xee2b[4]];c&&a<d;++a){c=b[a][_0xee2b[30]]!==!0}}return c}});Ext[_0xee2b[6]](_0xee2b[1428],{extend:_0xee2b[1019],idProperty:_0xee2b[1032],isRecurrenceModel:!0,customizableFields:[{name:_0xee2b[560],defaultValue:_0xee2b[1429]},{name:_0xee2b[1430],type:_0xee2b[1103],defaultValue:1},{name:_0xee2b[1200],type:_0xee2b[1097]},{name:_0xee2b[1431],type:_0xee2b[1103],allowNull:!0},{name:_0xee2b[1432],convert:function(a,b){if(a){if(Ext[_0xee2b[363]](a)){a=a[_0xee2b[496]](_0xee2b[72])}}else {a=null}return a},isEqual:function(b,a){return String(b)===String(a)}},{name:_0xee2b[1433],convert:function(a,b){if(a){if(Ext[_0xee2b[363]](a)){a=Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[496]](_0xee2b[72]),function(c){return parseInt(c,10)})}}else {a=null}return a},isEqual:function(b,a){return String(b)===String(a)}},{name:_0xee2b[1434],convert:function(a,b){if(a){if(Ext[_0xee2b[363]](a)){a=Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[496]](_0xee2b[72]),function(c){return parseInt(c,10)})}}else {a=null}return a},isEqual:function(b,a){return String(b)===String(a)}},{name:_0xee2b[1435],convert:function(a,b){if(a){if(Ext[_0xee2b[363]](a)){a=Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[496]](_0xee2b[72]),function(c){return parseInt(c,10)})}}else {a=null}return a},isEqual:function(b,a){return String(b)===String(a)}}],frequencyField:_0xee2b[560],intervalField:_0xee2b[1430],endDateField:_0xee2b[1200],countField:_0xee2b[1431],daysField:_0xee2b[1432],monthDaysField:_0xee2b[1433],monthsField:_0xee2b[1434],positionsField:_0xee2b[1435],inheritableStatics:{DAILY:_0xee2b[1429],WEEKLY:_0xee2b[1436],MONTHLY:_0xee2b[1437],YEARLY:_0xee2b[1438]},dateFormat:_0xee2b[1439],event:null,rule:null,suspendedEventNotifying:0,constructor:function(a){a=a||{};var b,c;if(a[_0xee2b[1440]]){c=a[_0xee2b[1440]];delete a[_0xee2b[1440]]}if(a[_0xee2b[1441]]){b=a[_0xee2b[1441]];delete a[_0xee2b[1441]]}this[_0xee2b[9]](arguments);this[_0xee2b[1442]]();if(b){this[_0xee2b[1443]](b)}this[_0xee2b[1444]]();this[_0xee2b[1440]]=c},sanitize:function(){var a=this,h=a[_0xee2b[1445]](),f=a[_0xee2b[1052]](),b=f&&f[_0xee2b[712]]();a[_0xee2b[1446]]=!0;switch(h){case _0xee2b[1429]:a[_0xee2b[1447]](null);a[_0xee2b[1448]](null);a[_0xee2b[1449]](null);a[_0xee2b[1450]](null);break;case _0xee2b[1436]:a[_0xee2b[1447]](null);a[_0xee2b[1449]](null);a[_0xee2b[1450]](null);var e=a[_0xee2b[1451]](),g=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[1452]];if(b&&e&&e[_0xee2b[4]]==1&&e[0]==g(b[_0xee2b[484]]())){a[_0xee2b[1448]](null)};break;case _0xee2b[1437]:if(a[_0xee2b[1455]]()&&a[_0xee2b[1455]]()[_0xee2b[4]]){a[_0xee2b[1447]](null);a[_0xee2b[1448]](null)};a[_0xee2b[1450]](null);var c=a[_0xee2b[1455]]();if(b&&c&&c[_0xee2b[4]]==1&&c[0]==b[_0xee2b[479]]()){a[_0xee2b[1449]](null)};break;case _0xee2b[1438]:a[_0xee2b[1449]](null);var d=a[_0xee2b[1456]]();if(b&&d&&d[_0xee2b[4]]==1&&d[0]==b[_0xee2b[480]]()+1){a[_0xee2b[1450]](null)};break;}a[_0xee2b[1446]]=!1},copy:function(){var a=this[_0xee2b[9]](arguments);a[_0xee2b[879]]=this[_0xee2b[879]];a[_0xee2b[1440]]=this[_0xee2b[1440]];return a},set:function(b,c){this[_0xee2b[9]](arguments);if(!this[_0xee2b[1446]]){this[_0xee2b[1457]]()}var a=this[_0xee2b[1052]]();if(a&&!this[_0xee2b[1458]]){a[_0xee2b[1459]]()}},suspendEventNotifying:function(){this[_0xee2b[1458]]++},resumeEventNotifying:function(){if(this[_0xee2b[1458]]){this[_0xee2b[1458]]--}},getEvent:function(){return this[_0xee2b[1440]]},setEvent:function(a){return this[_0xee2b[1440]]=a},getRule:function(){var a=this,b=[];if(a[_0xee2b[1445]]()){b[_0xee2b[11]](_0xee2b[1460]+a[_0xee2b[1445]]());if(a[_0xee2b[1461]]()>1){b[_0xee2b[11]](_0xee2b[1462]+a[_0xee2b[1461]]())}if(a[_0xee2b[1451]]()&&a[_0xee2b[1451]]()[_0xee2b[4]]){b[_0xee2b[11]](_0xee2b[1463]+a[_0xee2b[1451]]()[_0xee2b[73]](_0xee2b[72]))}if(a[_0xee2b[1455]]()&&a[_0xee2b[1455]]()[_0xee2b[4]]){b[_0xee2b[11]](_0xee2b[1464]+a[_0xee2b[1455]]()[_0xee2b[73]](_0xee2b[72]))}if(a[_0xee2b[1456]]()&&a[_0xee2b[1456]]()[_0xee2b[4]]){b[_0xee2b[11]](_0xee2b[1465]+a[_0xee2b[1456]]()[_0xee2b[73]](_0xee2b[72]))}if(a[_0xee2b[1466]]()){b[_0xee2b[11]](_0xee2b[1467]+a[_0xee2b[1466]]())}if(a[_0xee2b[713]]()){b[_0xee2b[11]](_0xee2b[1468]+Ext[_0xee2b[703]][_0xee2b[880]](a[_0xee2b[713]](),a[_0xee2b[879]]))}if(a[_0xee2b[1469]]()&&a[_0xee2b[1469]]()[_0xee2b[4]]){b[_0xee2b[11]](_0xee2b[1470]+a[_0xee2b[1469]]()[_0xee2b[73]](_0xee2b[72]))}}return b[_0xee2b[73]](_0xee2b[1471])},setRule:function(f){var a=this;if(f){a[_0xee2b[46]]();var d=f[_0xee2b[496]](_0xee2b[1471]);for(var c=0,g=d[_0xee2b[4]];c<g;c++){var e=d[c][_0xee2b[496]](_0xee2b[1472]),b=e[1];switch(e[0]){case _0xee2b[1474]:a[_0xee2b[1473]](b);break;case _0xee2b[1476]:a[_0xee2b[1475]](b);break;case _0xee2b[1478]:a[_0xee2b[1477]](b);break;case _0xee2b[1479]:a[_0xee2b[1202]](Ext[_0xee2b[703]][_0xee2b[1253]](b,a[_0xee2b[879]]));break;case _0xee2b[1480]:a[_0xee2b[1448]](b);break;case _0xee2b[1481]:a[_0xee2b[1449]](b);break;case _0xee2b[1482]:a[_0xee2b[1450]](b);break;case _0xee2b[1483]:a[_0xee2b[1447]](b);break;}}a[_0xee2b[51]]()}}});Ext[_0xee2b[6]](_0xee2b[1484],{singleton:!0,mixins:[_0xee2b[108]],delayedCallTimeout:100,delayedCalls:null,constructor:function(a){this[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this,a);Ext[_0xee2b[8]](this,a)},cancel:function(){var e=this,a=e[_0xee2b[1485]];if(a){var d=arguments[_0xee2b[4]]?arguments:Ext[_0xee2b[1486]][_0xee2b[347]](a);for(var c=d[_0xee2b[4]]-1;c>=0;c--){var b=d[c];if(a[b]&&a[b][_0xee2b[1487]]){clearTimeout(a[b][_0xee2b[1487]]);a[b][_0xee2b[1487]]=null}}}},execute:function(a){var b=a[_0xee2b[689]],c;this[_0xee2b[180]](_0xee2b[1488]+a[_0xee2b[388]]+_0xee2b[1489],this,a);a[_0xee2b[1490]]&&a[_0xee2b[1490]][_0xee2b[293]](b,a);var d=a[_0xee2b[1491]];while(c=a[_0xee2b[1492]][_0xee2b[209]]()){d[_0xee2b[8]](b,c)}a[_0xee2b[1493]]&&a[_0xee2b[1493]][_0xee2b[293]](b,a);this[_0xee2b[180]](_0xee2b[1488]+a[_0xee2b[388]]+_0xee2b[1494],this,a)},schedule:function(c){c=c||{};var a=this;a[_0xee2b[1485]]=a[_0xee2b[1485]]||{};var b=c[_0xee2b[388]]||a[_0xee2b[1497]][_0xee2b[1496]][_0xee2b[1495]];var e=c[_0xee2b[1498]]||[];if(!a[_0xee2b[1485]][b]){a[_0xee2b[1485]][b]=Ext[_0xee2b[8]]({scope:this},{id:b,entries:[]},c);delete a[_0xee2b[1485]][b][_0xee2b[1498]]}var d=a[_0xee2b[1485]][b];a[_0xee2b[1499]](b);d[_0xee2b[1492]][_0xee2b[11]](e);d[_0xee2b[1487]]=setTimeout(function(){a[_0xee2b[1500]](d);delete a[_0xee2b[1485]][b]},c[_0xee2b[112]]||a[_0xee2b[1501]]);return d}});Ext[_0xee2b[6]](_0xee2b[1502],{frequency:_0xee2b[1503],MAX_OCCURRENCES_COUNT:1000000,getNthDayInPeriod:function(g,f,j,c){var b,a,e,d;if(c){var h=86400000,i=604800000;if(c>0){a=1;d=g}else {a=-1;d=f}e=j-d[_0xee2b[484]]();if(a*e<0){c+=a}b=new Date(d[_0xee2b[1162]]()+(c-a)*i+e*h);if(b<g||b>f){b=null}}return b},buildDate:function(d,c,b){var a=new Date(d,c,b);if(a[_0xee2b[1136]]()==d&&a[_0xee2b[480]]()==c&&a[_0xee2b[479]]()==b){return a}},isValidPosition:function(a){return Boolean(a)},forEachDateAtPositions:function(c,e,h,i){var g=c[_0xee2b[4]],f={};for(var d=0;d<e[_0xee2b[4]];d++){var b=e[d];if(this[_0xee2b[1504]](b)){var a=b>0?c[b-1]:c[g+b];if(a&&!f[a[_0xee2b[1162]]()]){f[a[_0xee2b[1162]]()]=!0;if(h[_0xee2b[293]](i,a)===!1){return !1}}}}}});Ext[_0xee2b[6]](_0xee2b[1505],{extend:_0xee2b[1502],requires:[_0xee2b[1140]],singleton:!0,frequency:_0xee2b[1429],forEachDate:function(d){var k=this,h=d[_0xee2b[1454]],r=h[_0xee2b[1052]](),c=r[_0xee2b[712]](),f=d[_0xee2b[1138]]||c,g=h[_0xee2b[713]](),a=d[_0xee2b[1139]]||g,p=d[_0xee2b[1491]],o=d[_0xee2b[689]]||k,i=Sch[_0xee2b[49]][_0xee2b[703]],l=h[_0xee2b[1461]](),e=h[_0xee2b[1466]](),j=0;if(g&&a&&a>g){a=g}if(c>f){f=c}var q=f-c,m=l*86400000,n=Math[_0xee2b[424]](q/m);if(!a&&!e){e=k[_0xee2b[1506]]}var b=i[_0xee2b[255]](c,i.DAY,n);while(!a||b<=a){j++;if(b>=f){if(a&&b>a||p[_0xee2b[293]](o,b,j)===!1||e&&j>=e){break}}b=i[_0xee2b[255]](b,i.DAY,l)}}});Ext[_0xee2b[6]](_0xee2b[1507],{singleton:!0,dayParseRegExp:/^([+-]?[0-9])?(SU|MO|TU|WE|TH|FR|SA)$/,decodeDay:function(c){var b,a;if(b=this[_0xee2b[1508]][_0xee2b[676]](c)){a=[];switch(b[2]){case _0xee2b[1509]:a[_0xee2b[11]](0);break;case _0xee2b[1510]:a[_0xee2b[11]](1);break;case _0xee2b[1511]:a[_0xee2b[11]](2);break;case _0xee2b[1512]:a[_0xee2b[11]](3);break;case _0xee2b[1513]:a[_0xee2b[11]](4);break;case _0xee2b[1514]:a[_0xee2b[11]](5);break;case _0xee2b[1515]:a[_0xee2b[11]](6);break;}if(a){if(b[1]){b[1]=parseInt(b[1],10)}a[_0xee2b[11]](b[1])}}return a},encodeDay:function(b){var c;if(Ext[_0xee2b[307]](b)){b=b[0];c=b[1]}var a=c?c.toString():_0xee2b[27];switch(b){case 0:a+=_0xee2b[1509];break;case 1:a+=_0xee2b[1510];break;case 2:a+=_0xee2b[1511];break;case 3:a+=_0xee2b[1512];break;case 4:a+=_0xee2b[1513];break;case 5:a+=_0xee2b[1514];break;case 6:a+=_0xee2b[1515];break;}return a},decode:function(b){var c=[],d;if(b){for(var a=0;a<b[_0xee2b[4]];a++){if(d=this[_0xee2b[1516]](b[a])){c[_0xee2b[11]](d)}}}return c},encode:function(b){var c=[],d;if(b){for(var a=0;a<b[_0xee2b[4]];a++){if(d=this[_0xee2b[1452]](b[a])){c[_0xee2b[11]](d)}}}return c}});Ext[_0xee2b[6]](_0xee2b[1517],{extend:_0xee2b[1502],requires:[_0xee2b[1140],_0xee2b[1507]],singleton:!0,frequency:_0xee2b[1436],forEachDate:function(a){var n=this,b=Sch[_0xee2b[49]][_0xee2b[703]],p=a[_0xee2b[1491]],o=a[_0xee2b[689]]||n,c=a[_0xee2b[1454]],r=a[_0xee2b[1440]]||c&&c[_0xee2b[1052]](),e=a[_0xee2b[1518]]||r[_0xee2b[712]](),j=a[_0xee2b[1138]]||e,k=c&&c[_0xee2b[713]](),d=a[_0xee2b[1139]]||k,q=a[_0xee2b[1519]]||c[_0xee2b[1461]](),f=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[425]](a[_0xee2b[525]]||c&&c[_0xee2b[1451]]()),i=a[_0xee2b[1520]]||c&&c[_0xee2b[1466]](),l=0,g,h;if(k&&d&&d>k){d=k}if(f&&f[_0xee2b[4]]){f[_0xee2b[1120]](function(b,c){return b[0]-c[0]})}else {f=[[e[_0xee2b[484]]()]]}if(e>j){j=e}if(i){g=b[_0xee2b[1283]](e,b.WEEK,0,0)}else {g=b[_0xee2b[1283]](j,b.WEEK,0,0)}if(!d&&!i){i=n[_0xee2b[1506]]}while(!d||g<=d){for(var m=0;m<f[_0xee2b[4]];m++){h=b[_0xee2b[1521]](b[_0xee2b[255]](g,b.DAY,f[m][0]),e);if(h>=e){l++;if(h>=j){if(d&&h>d||p[_0xee2b[293]](o,h,l)===!1||i&&l>=i){return}}}}g=b[_0xee2b[1283]](g,b.WEEK,q,0)}}});Ext[_0xee2b[6]](_0xee2b[1522],{extend:_0xee2b[1502],requires:[_0xee2b[1140],_0xee2b[1507]],singleton:!0,frequency:_0xee2b[1437],getNthDayOfMonth:function(b,a){var c=null,d=Ext[_0xee2b[703]][_0xee2b[1523]](b);if(a&&Math[_0xee2b[1524]](a)<=d){c=new Date(b[_0xee2b[1136]](),b[_0xee2b[480]](),a<0?d+a+1:a)}return c},isValidPosition:function(a){return a&&Math[_0xee2b[1524]](a)>0&&Math[_0xee2b[1524]](a)<=31},forEachDate:function(d){var p=this,c=Sch[_0xee2b[49]][_0xee2b[703]],x=d[_0xee2b[1491]],u=d[_0xee2b[689]]||p,e=d[_0xee2b[1454]],z=d[_0xee2b[1440]]||e[_0xee2b[1052]](),g=d[_0xee2b[1518]]||z[_0xee2b[712]](),m=d[_0xee2b[1138]]||g,r=e&&e[_0xee2b[713]](),f=d[_0xee2b[1139]]||r,y=d[_0xee2b[1519]]||e[_0xee2b[1461]](),A=d[_0xee2b[525]]||e&&e[_0xee2b[1451]](),k=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[425]](A),n=d[_0xee2b[1525]]||e&&e[_0xee2b[1455]](),j=d[_0xee2b[1520]]||e&&e[_0xee2b[1466]](),w=d[_0xee2b[1526]]||e&&e[_0xee2b[1469]](),s=w&&w[_0xee2b[4]],h=0,o={},v,i,t,l,a,b;if(r&&f&&f>r){f=r}if(g>m){m=g}if(j){i=new Date(c[_0xee2b[1283]](g,c.MONTH,0))}else {i=new Date(c[_0xee2b[1283]](m,c.MONTH,0))}t=new Date(c[_0xee2b[1283]](i,c.MONTH,1)-1);if(!(n&&n[_0xee2b[4]])&&!(k&&k[_0xee2b[4]])){n=[g[_0xee2b[479]]()]}if(k&&k[_0xee2b[4]]){Ext[_0xee2b[25]](k,function(a){if(a[1]){v=v||{};v[a[0]]=a[1]}})}B: while((!f||f>=i)&&(!j||h<j)){l=[];if(k&&k[_0xee2b[4]]){Ext[_0xee2b[25]](k,function(e){var j=e[0],h=1,f=53;if(e[1]){h=f=e[1]}for(b=h;b<=f;b++){if(a=p[_0xee2b[1527]](i,t,j,b)){a=c[_0xee2b[1521]](a,g);if(!o[a[_0xee2b[1162]]()]){o[a[_0xee2b[1162]]()]=!0;l[_0xee2b[11]](a)}}}});l[_0xee2b[1120]](function(a,b){return a-b});if(!s){for(b=0;b<l[_0xee2b[4]];b++){a=l[b];if(a>=g){h++;if(a>=m){if(f&&a>f||x[_0xee2b[293]](u,a,h)===!1||j&&h>=j){return !1}}}}}}else {var q=[];for(b=0;b<n[_0xee2b[4]];b++){if((a=p[_0xee2b[1528]](i,n[b]))&&!o[a[_0xee2b[1162]]()]){o[a[_0xee2b[1162]]()]=!0;q[_0xee2b[11]](a)}}q[_0xee2b[1120]](function(a,b){return a-b});for(b=0;b<q[_0xee2b[4]];b++){a=c[_0xee2b[1521]](q[b],g);if(s){l[_0xee2b[11]](a)}else {if(a>=g){h++;if(a>=m){if(f&&a>f||x[_0xee2b[293]](u,a,h)===!1||j&&h>=j){break B}}}}}}if(s&&l[_0xee2b[4]]){p[_0xee2b[1529]](l,w,function(a){if(a>=g){h++;if(a>=m&&(!f||a<=f)){if(x[_0xee2b[293]](u,a,h)===!1||j&&h>=j){return !1}}}})}i=c[_0xee2b[1283]](i,c.MONTH,y);t=new Date(c[_0xee2b[1283]](i,c.MONTH,1)-1)}}});Ext[_0xee2b[6]](_0xee2b[1530],{extend:_0xee2b[1502],requires:[_0xee2b[1140],_0xee2b[1507]],singleton:!0,frequency:_0xee2b[1438],forEachDate:function(d){var p=this,c=Sch[_0xee2b[49]][_0xee2b[703]],w=d[_0xee2b[1491]],t=d[_0xee2b[689]]||p,e=d[_0xee2b[1454]],y=d[_0xee2b[1440]]||e[_0xee2b[1052]](),g=d[_0xee2b[1518]]||y[_0xee2b[712]](),n=d[_0xee2b[1138]]||g,q=e&&e[_0xee2b[713]](),f=d[_0xee2b[1139]]||q,x=d[_0xee2b[1519]]||e[_0xee2b[1461]](),z=d[_0xee2b[525]]||e&&e[_0xee2b[1451]](),k=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[425]](z),m=d[_0xee2b[520]]||e&&e[_0xee2b[1456]](),j=d[_0xee2b[1520]]||e&&e[_0xee2b[1466]](),u=d[_0xee2b[1526]]||e&&e[_0xee2b[1469]](),r=u&&u[_0xee2b[4]],h=0,o={},s,i,v,l,a,b;if(q&&f&&f>q){f=q}if(g>n){n=g}if(j){i=new Date(c[_0xee2b[1283]](g,c.YEAR,0))}else {i=new Date(c[_0xee2b[1283]](n,c.YEAR,0))}v=new Date(c[_0xee2b[1283]](i,c.YEAR,1)-1);m&&m[_0xee2b[1120]](function(a,b){return a-b});if(!(m&&m[_0xee2b[4]])&&!(k&&k[_0xee2b[4]])){m=[g[_0xee2b[480]]()+1]}if(k&&k[_0xee2b[4]]){Ext[_0xee2b[25]](k,function(a){if(a[1]){s=s||{};s[a[0]]=a[1]}})}A: while((!f||f>=i)&&(!j||h<j)){l=[];if(k&&k[_0xee2b[4]]){Ext[_0xee2b[25]](k,function(e){var j=e[0],f=1,h=53;if(e[1]){f=h=e[1]}for(b=f;b<=h;b++){if(a=p[_0xee2b[1527]](i,v,j,b)){a=c[_0xee2b[1521]](a,g);if(!o[a[_0xee2b[1162]]()]){o[a[_0xee2b[1162]]()]=!0;l[_0xee2b[11]](a)}}}});l[_0xee2b[1120]](function(a,b){return a-b});if(!r){for(b=0;b<l[_0xee2b[4]];b++){a=l[b];if(a>=g){h++;if(a>=n){if(f&&a>f||w[_0xee2b[293]](t,a,h)===!1||j&&h>=j){return !1}}}}}}else {for(b=0;b<m[_0xee2b[4]];b++){if(a=p[_0xee2b[1531]](i[_0xee2b[1136]](),m[b]-1,g[_0xee2b[479]]())){a=c[_0xee2b[1521]](a,g);if(!o[a[_0xee2b[1162]]()]){o[a[_0xee2b[1162]]()]=!0;if(r){l[_0xee2b[11]](a)}else {if(a>=g){h++;if(a>=n){if(f&&a>f||w[_0xee2b[293]](t,a,h)===!1||j&&h>=j){break A}}}}}}}}if(r&&l[_0xee2b[4]]){p[_0xee2b[1529]](l,u,function(a){if(a>=g){h++;if(a>=n&&(!f||a<=f)){if(w[_0xee2b[293]](t,a,h)===!1||j&&h>=j){return !1}}}})}i=c[_0xee2b[1283]](i,c.YEAR,x);v=new Date(c[_0xee2b[1283]](i,c.YEAR,1)-1)}}});Ext[_0xee2b[6]](_0xee2b[1532],{extend:_0xee2b[17],requires:[_0xee2b[1428],_0xee2b[1484],_0xee2b[1505],_0xee2b[1517],_0xee2b[1522],_0xee2b[1530]],isRecurringEventStore:!0,delayedCallTimeout:100,setupRecurringEvents:function(){this[_0xee2b[1533]]=this[_0xee2b[1533]]||[];this[_0xee2b[1534]](Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]].DailyIterator,Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]].WeeklyIterator,Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]].MonthlyIterator,Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]].YearlyIterator);this[_0xee2b[846]](Sch[_0xee2b[22]][_0xee2b[49]].DelayedCalls,[_0xee2b[1535],_0xee2b[1536],_0xee2b[1537],_0xee2b[1538]]);this[_0xee2b[252]](Sch[_0xee2b[22]][_0xee2b[49]].DelayedCalls,{'delayed-regenerate-occurrences-end':this[_0xee2b[1539]],'delayed-generate-occurrences-end':this[_0xee2b[1540]],scope:this});this[_0xee2b[149]](_0xee2b[218],this[_0xee2b[1541]],this)},onEventStoreDestroy:function(){Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1544]][_0xee2b[1499]](_0xee2b[1542],_0xee2b[1543])},addRecurrenceIterators:function(){for(var a=0;a<arguments[_0xee2b[4]];a++){this[_0xee2b[1533]][arguments[a][_0xee2b[1545]]]=arguments[a]}},getRecurrenceIteratorForEvent:function(a){return this[_0xee2b[1533]][a[_0xee2b[1546]]()[_0xee2b[1445]]()]},buildOccurrencesForEvent:function(a,f,i,h){var b=[];if(a[_0xee2b[1547]]()&&a[_0xee2b[712]]()){var j=this,c=a[_0xee2b[1546]](),d=j[_0xee2b[1548]](a);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1373]](d,_0xee2b[1549]+c[_0xee2b[1445]]()+_0xee2b[1550]);var e=a[_0xee2b[713]]()-a[_0xee2b[712]]();var g=a[_0xee2b[1551]]()?Ext[_0xee2b[26]][_0xee2b[1552]](a[_0xee2b[1551]](),function(b){return b-0}):{};d[_0xee2b[1555]]({recurrence:c,startDate:f,endDate:i,fn:function(c){if(!g[c-0]&&(!h||!a[_0xee2b[1553]](c))){b[_0xee2b[11]](a[_0xee2b[1554]](c,e))}}})}return b},mergeDelayedCallEntries:function(m){var f=m[_0xee2b[1492]],j={},d,e,l,c,a;for(var b=0;b<f[_0xee2b[4]];b++){a=f[b];l=a[0];d=a[1];e=a[2];for(var k=0;k<l[_0xee2b[4]];k++){c=l[k];var g=j[c[_0xee2b[32]]()];if(g){if(g[1]>d){g[1]=d}if(g[2]<e){g[2]=e}}else {j[c[_0xee2b[32]]()]=[[c]][_0xee2b[318]](a[_0xee2b[191]](1))}}}f=Ext[_0xee2b[154]][_0xee2b[1556]](j);var h={};for(b=0;b<f[_0xee2b[4]];b++){a=f[b];c=a[0];d=a[1];e=a[2];var i=(d?d[_0xee2b[1162]]():_0xee2b[27])+_0xee2b[1131]+(e?e[_0xee2b[1162]]():_0xee2b[27]);if(h[i]){h[i][0]=h[i][0][_0xee2b[318]](c)}else {h[i]=a}}m[_0xee2b[1492]]=Ext[_0xee2b[154]][_0xee2b[1556]](h)},regenerateOccurrencesForEventsBuffered:function(a,e,d){var b=this;if(!Ext[_0xee2b[1557]](a)){a=[a]}a=Ext[_0xee2b[26]][_0xee2b[173]](a,function(b){return b[_0xee2b[1547]]()});if(a[_0xee2b[4]]){var c=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1544]][_0xee2b[1497]]({id:_0xee2b[1543],timeout:b[_0xee2b[1501]],beforeFn:b[_0xee2b[1558]],fn:function(g,h,i){var f=c[_0xee2b[1559]]=c[_0xee2b[1559]]||[];f[_0xee2b[11]][_0xee2b[8]](f,b[_0xee2b[1560]](g));b[_0xee2b[1561]](g,h,i,!1)},args:[a,e,d],afterFn:function(c){c[_0xee2b[1559]][_0xee2b[4]]&&b[_0xee2b[63]](c[_0xee2b[1559]])},scope:b})}},generateOccurrencesForEventsBuffered:function(a,e,d,c){var b=this;c=c!==!1;if(!Ext[_0xee2b[1557]](a)){a=[a]}a=Ext[_0xee2b[26]][_0xee2b[173]](a,function(b){return b[_0xee2b[1547]]()});if(a[_0xee2b[4]]){Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1544]][_0xee2b[1497]]({id:_0xee2b[1542],timeout:b[_0xee2b[1501]],beforeFn:b[_0xee2b[1558]],fn:b[_0xee2b[1561]],args:[a,e,d,c],scope:b})}},generateOccurrencesForEvents:function(a,e,l,d){if(a){var b=this,j=[],c=[];d=d!==!1;if(!Ext[_0xee2b[1557]](a)){a=[a]}if(a[_0xee2b[4]]){b[_0xee2b[180]](_0xee2b[1562],b,a,e,l,d);for(var h=0;h<a[_0xee2b[4]];h++){var f=a[h],i,g,k;if(j=b[_0xee2b[1563]](f,e,l,d)){k=f[_0xee2b[712]]();if(e<=k){if(g=j[_0xee2b[209]]()){i=g[_0xee2b[712]]();if(i-k){f[_0xee2b[1208]](i,g[_0xee2b[713]]());f[_0xee2b[1546]]()[_0xee2b[1457]]()}}}c[_0xee2b[11]][_0xee2b[8]](c,j)}}if(c[_0xee2b[4]]){b[_0xee2b[255]](c)}b[_0xee2b[180]](_0xee2b[1564],b,a,c,e,l,d)}}},generateOccurrencesForAll:function(e,c,d){var a=this,b;if((b=a[_0xee2b[1565]]())&&b[_0xee2b[4]]){a[_0xee2b[180]](_0xee2b[1566],a,b,e,c,d);a[_0xee2b[1561]](b,e,c,d);a[_0xee2b[180]](_0xee2b[1567],a,b,e,c,d)}},getRecurringEvents:function(){var a=this;return a[_0xee2b[1569]](function(a){return a[_0xee2b[1568]]&&a[_0xee2b[1547]]()})[_0xee2b[1005]]()},getOccurrencesForEvents:function(a){var b=[];if(!Ext[_0xee2b[1557]](a)){a=[a]}if(a[_0xee2b[4]]){for(var c=0;c<a[_0xee2b[4]];c++){var d=a[c][_0xee2b[32]]();b[_0xee2b[11]][_0xee2b[8]](b,this[_0xee2b[1569]](function(b){return b[_0xee2b[1568]]&&b[_0xee2b[1570]]()==d})[_0xee2b[1005]]())}}return b},getOccurrencesForAll:function(){return this[_0xee2b[1569]](function(a){return a[_0xee2b[1568]]&&a[_0xee2b[1571]]()})[_0xee2b[1005]]()},removeOccurrencesForEvents:function(a){return this[_0xee2b[63]](this[_0xee2b[1560]](a))},removeOccurrencesForAll:function(){return this[_0xee2b[63]](this[_0xee2b[1572]]())},onDelayedRegenerateOccurrencesEnd:function(){this[_0xee2b[180]](_0xee2b[1573],this)},onDelayedGenerateOccurrencesEnd:function(){this[_0xee2b[180]](_0xee2b[1573],this)}});Ext[_0xee2b[6]](_0xee2b[1574],{extend:_0xee2b[17],requires:[_0xee2b[1428]],isRecurrableEvent:!0,recurringEventIdField:_0xee2b[1575],recurrenceRuleField:_0xee2b[1576],exceptionDatesField:_0xee2b[1577],customizableFields:[{name:_0xee2b[1575]},{name:_0xee2b[1576],allowNull:!0,convert:function(a,b){if(Ext[_0xee2b[1353]](a)){a=null}return a}},{name:_0xee2b[1577],dateFormat:_0xee2b[1098],convert:function(a,d){if(a){var b=this[_0xee2b[879]],c=this[_0xee2b[1578]];a=Ext[_0xee2b[363]](a)?a[_0xee2b[496]](_0xee2b[72]):a;a=Ext[_0xee2b[26]][_0xee2b[41]](a,function(e){if(!Ext[_0xee2b[1579]](e)){e=Ext[_0xee2b[703]][_0xee2b[1253]](e,b,c)}return e})}return a}}],recurrenceModel:_0xee2b[1428],setRecurrence:function(c,g,d){var b=this,e,a,h;if(b[_0xee2b[1571]]()){var f=b[_0xee2b[1580]]();e=f&&f[_0xee2b[1546]]();b[_0xee2b[1581]](null)}if(c){e&&e[_0xee2b[1202]](new Date(b[_0xee2b[712]]()-1));if(c[_0xee2b[1582]]){a=c}else {if(Ext[_0xee2b[135]](c)){a=new this[_0xee2b[1583]](c)}else {a=new this[_0xee2b[1583]]();a[_0xee2b[1473]](c);g&&a[_0xee2b[1475]](g);if(d){if(d instanceof Date){a[_0xee2b[1202]](d)}else {a[_0xee2b[1477]](d)}}}}a[_0xee2b[1584]](b);h=a[_0xee2b[1585]]()}b[_0xee2b[1454]]=a;b[_0xee2b[50]](b[_0xee2b[1586]],h)},getRecurrence:function(){var a=this,b=a[_0xee2b[1587]]();if(!a[_0xee2b[1454]]&&b){a[_0xee2b[1454]]=new a[_0xee2b[1583]]({rule:b,event:a})}return a[_0xee2b[1454]]},isRecurring:function(){return this[_0xee2b[1546]]()&&!this[_0xee2b[1571]]()},isOccurrence:function(){return Boolean(this[_0xee2b[1570]]())},getRecurringEvent:function(){var b=this[_0xee2b[1570]](),a=this[_0xee2b[696]]();return b&&a&&a[_0xee2b[1012]](b)},getOccurrenceByStartDate:function(d){var c,b;if(d){b=this[_0xee2b[1588]]();for(var a=0;a<b[_0xee2b[4]];a++){if(b[a][_0xee2b[712]]()-d===0){c=b[a];break}}}return c},getOccurrences:function(){var a=this[_0xee2b[696]]();return a&&a[_0xee2b[1560]](this)},removeOccurrences:function(){var a=this[_0xee2b[696]]();return a&&a[_0xee2b[1589]](this)},onRecurrenceChanged:function(){var a=this[_0xee2b[1546]]();this[_0xee2b[1590]](a&&a[_0xee2b[1585]]()||null)},buildOccurrence:function(c,b){b=b||this[_0xee2b[713]]()-this[_0xee2b[712]]();var a=this[_0xee2b[1054]](null);a[_0xee2b[46]]();a[_0xee2b[1208]](c,new Date(c[_0xee2b[1162]]()+b));a[_0xee2b[1581]](this[_0xee2b[32]]());a[_0xee2b[51]]();return a},setRecurrenceRule:function(b){var a=this,c;if(b!=a[_0xee2b[1587]]()){if(b){c=new a[_0xee2b[1583]]({rule:b,event:a})}a[_0xee2b[1454]]=c;a[_0xee2b[50]](a[_0xee2b[1586]],b)}},addExceptionDate:function(a){var b=this,c=b[_0xee2b[1551]]()||[];if(a){b[_0xee2b[1591]](c[_0xee2b[318]](a))}},beforeStartDateChange:function(){this[_0xee2b[1592]]=this[_0xee2b[712]]()},afterStartDateChange:function(){if(this[_0xee2b[1592]]-this[_0xee2b[712]]()&&this[_0xee2b[1551]]()){this[_0xee2b[1591]]()}},mixinConfig:{before:{setStartDate:_0xee2b[1593],setStartEndDate:_0xee2b[1593]},after:{setStartDate:_0xee2b[1594],setStartEndDate:_0xee2b[1594]},extended:function(d,c,b){var a=b[_0xee2b[1583]];if(typeof a==_0xee2b[308]){Ext[_0xee2b[972]](a,function(){b[_0xee2b[1583]]=Ext[_0xee2b[22]][_0xee2b[1597]][_0xee2b[1596]][_0xee2b[1595]](a);Ext[_0xee2b[507]](c,{recurrenceModel:Ext[_0xee2b[22]][_0xee2b[1597]][_0xee2b[1596]][_0xee2b[1595]](a)})})}}},onClassMixedIn:function(a){var b=a[_0xee2b[139]][_0xee2b[1583]]||this[_0xee2b[139]][_0xee2b[1583]];if(typeof b==_0xee2b[308]){Ext[_0xee2b[972]](b,function(){Ext[_0xee2b[507]](a,{recurrenceModel:Ext[_0xee2b[22]][_0xee2b[1597]][_0xee2b[1596]][_0xee2b[1595]](b)})})}Ext[_0xee2b[507]](a,{isPersistable:function(){var b=this;return b[_0xee2b[9]](arguments)&&!b[_0xee2b[1571]]()},set:function(b,c){if(typeof b==_0xee2b[308]?b==this[_0xee2b[1586]]:this[_0xee2b[1586]] in b){this[_0xee2b[1454]]=null}return this[_0xee2b[9]](arguments)},customizableFields:(a[_0xee2b[139]][_0xee2b[1029]]||[])[_0xee2b[318]](this[_0xee2b[139]][_0xee2b[1029]])})}});Ext[_0xee2b[6]](_0xee2b[1598],{extend:_0xee2b[1198],uses:[_0xee2b[1140]],idProperty:_0xee2b[1032],mixins:[_0xee2b[1574]],isEventModel:!0,customizableFields:[{name:_0xee2b[1599]},{name:_0xee2b[1047]},{name:_0xee2b[1600],type:_0xee2b[1108],persist:!1,defaultValue:!0},{name:_0xee2b[1601],persist:!1,defaultValue:!0},{name:_0xee2b[1602],defaultValue:!1}],resourceIdField:_0xee2b[1047],draggableField:_0xee2b[1600],resizableField:_0xee2b[1601],allDayField:_0xee2b[1602],iconClsField:_0xee2b[1599],getInternalId:function(){return this[_0xee2b[1049]]},isHighlighted:!1,getEventStore:function(){var b=this,a=b[_0xee2b[1050]]&&b[_0xee2b[1050]][0];if(a&&!a[_0xee2b[1603]]){Ext[_0xee2b[26]][_0xee2b[1120]](b[_0xee2b[1050]],function(b,a){return (b[_0xee2b[1603]]||!1)>(a[_0xee2b[1603]]||!1)&&-1||1});a=b[_0xee2b[1050]][0];a=a[_0xee2b[1603]]?a:null}return a},getResourceStore:function(){var a=this[_0xee2b[696]]();return a&&a[_0xee2b[1007]]()},getAssignmentStore:function(){var a=this[_0xee2b[696]]();return a&&a[_0xee2b[1051]]()},getResources:function(a){var b=this;a=a||b[_0xee2b[696]]();return a&&a[_0xee2b[1093]](b)||[]},forEachResource:function(d,c){var b=this[_0xee2b[1427]]();for(var a=0;a<b[_0xee2b[4]];a++){if(d[_0xee2b[293]](c||this,b[a])===!1){return}}},getResource:function(b){var d=this,a=null,c=d[_0xee2b[696]](),e=c&&c[_0xee2b[1007]]();b=b==null?d[_0xee2b[1008]]():b;if(c&&(b===null||b===undefined)){a=c[_0xee2b[1093]](d);if(a[_0xee2b[4]]==1){a=a[0]}else {if(a[_0xee2b[4]]>1){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[1604])}else {a=null}}}else {if(e){a=e[_0xee2b[1012]](b)}}return a},setResource:function(c){var a=this,b=a[_0xee2b[696]]();b&&b[_0xee2b[1091]](a);a[_0xee2b[1605]](c)},assign:function(a){var b=this,c=b[_0xee2b[696]]();if(a&&a[_0xee2b[1606]]){a=a[_0xee2b[32]]()}if(c){c[_0xee2b[1424]](b,a)}else {b[_0xee2b[1090]](a)}},unassign:function(a){var b=this,c=b[_0xee2b[696]]();if(a&&a[_0xee2b[1606]]){a=a[_0xee2b[32]]()}if(c){c[_0xee2b[1425]](b,a)}else {if(b[_0xee2b[1008]]()==a){b[_0xee2b[1090]](null)}}},reassign:function(b,a){var c=this,d=c[_0xee2b[696]]();if(b&&b[_0xee2b[1606]]){b=b[_0xee2b[32]]()}if(a&&a[_0xee2b[1606]]){a=a[_0xee2b[32]]()}if(d){d[_0xee2b[1607]](c,b,a)}else {c[_0xee2b[1090]](a)}},isAssignedTo:function(a){var c=this,d=c[_0xee2b[696]](),b=!1;if(a&&a[_0xee2b[1606]]){a=a[_0xee2b[32]]()}if(d){b=d[_0xee2b[1088]](c,a)}else {b=c[_0xee2b[1008]]()==a}return b},getAssignments:function(){var b=this,a=b[_0xee2b[696]]();return a&&a[_0xee2b[1081]](b)},isDraggable:function(){return this[_0xee2b[1608]]()},isResizable:function(){return this[_0xee2b[1609]]()},isPersistable:function(){var b=this,a=b[_0xee2b[696]]();return a&&a[_0xee2b[1610]](b)},getStartDate:function(){var a=this[_0xee2b[22]][this[_0xee2b[1201]]];if(this[_0xee2b[1611]]()){a=this[_0xee2b[1613]]()[_0xee2b[1612]](a)}return a},getEndDate:function(){var a=this[_0xee2b[22]][this[_0xee2b[1203]]];if(this[_0xee2b[1611]]()){a=this[_0xee2b[1613]]()[_0xee2b[1614]](a)}return a},inheritableStatics:{getAllDayStartDate:function(a){if(a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]){a=a[_0xee2b[55]](a[_0xee2b[1201]])}if(a){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a,!0)}return a},getAllDayEndDate:function(a){if(a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]){a=a[_0xee2b[55]](a[_0xee2b[1203]])}if(a&&(a[_0xee2b[1127]]()>0||a[_0xee2b[1130]]()>0||a[_0xee2b[1157]]()>0||a[_0xee2b[1159]]()>0)){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1283]](a,_0xee2b[526],1)}return a},getAllDayDisplayStartDate:function(a){if(a instanceof Sch[_0xee2b[327]][_0xee2b[1423]]){a=a[_0xee2b[55]](a[_0xee2b[1201]])}return Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a,!0)},getAllDayDisplayEndDate:function(b,a){var c=b;if(b instanceof Sch[_0xee2b[327]][_0xee2b[1423]]){b=c[_0xee2b[55]](c[_0xee2b[1201]]);a=c[_0xee2b[55]](c[_0xee2b[1203]])}b=Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[1615]](b);if(Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a,!0).valueOf()===a.valueOf()){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].DAY,-1)}else {if(b.valueOf()!==a.valueOf()){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a,!0)}}return a}}});Ext[_0xee2b[6]](_0xee2b[1616],{extend:_0xee2b[109],alias:_0xee2b[1617],mixins:[_0xee2b[1011],_0xee2b[1016],_0xee2b[1401],_0xee2b[216],_0xee2b[1532]],storeId:_0xee2b[1618],model:_0xee2b[1598],config:{model:_0xee2b[1598]},constructor:function(b){var a=this;a[_0xee2b[9]]([b]);a[_0xee2b[1302]]&&a[_0xee2b[1408]](a[_0xee2b[1302]]);a[_0xee2b[1003]]&&a[_0xee2b[1410]](a[_0xee2b[1003]]);if(a[_0xee2b[137]]()!==Sch[_0xee2b[327]][_0xee2b[1423]]&&!(a[_0xee2b[137]]()[_0xee2b[139]] instanceof Sch[_0xee2b[327]][_0xee2b[1423]])){throw _0xee2b[1619]}a[_0xee2b[1620]]()},append:function(a){this[_0xee2b[255]](a)}});Ext[_0xee2b[6]](_0xee2b[1621],{eventStore:null,getEventStore:function(){return this[_0xee2b[1071]]},setEventStore:function(b){var a=this,c;if(a[_0xee2b[1071]]!==b){c=a[_0xee2b[1071]];a[_0xee2b[1071]]=b&&Ext[_0xee2b[1072]][_0xee2b[131]](b)||null;a[_0xee2b[180]](_0xee2b[1074],a,b,c)}},getScheduledEventsInTimeSpan:function(c,d,a){var b=[];var e=Sch[_0xee2b[49]][_0xee2b[703]];a=a||this[_0xee2b[696]]();Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[1005]](),function(e){Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[699]](e),function(f){if(f[_0xee2b[1622]](c,d)){b[_0xee2b[11]](f)}})});return b}});Ext[_0xee2b[6]](_0xee2b[1623],{extend:_0xee2b[1019],isResourceModel:!0,idProperty:_0xee2b[1032],config:Ext[_0xee2b[723]][_0xee2b[722]]?{idProperty:_0xee2b[1032]}:null,nameField:_0xee2b[603],customizableFields:[{name:_0xee2b[603],type:_0xee2b[308]}],getInternalId:function(){return this[_0xee2b[1049]]},getResourceStore:function(){return this[_0xee2b[1050]]&&this[_0xee2b[1050]][0]||this[_0xee2b[82]]&&this[_0xee2b[82]]()},getEventStore:function(){var a=this[_0xee2b[1007]]();return a&&a[_0xee2b[696]]()||this[_0xee2b[96]]&&this[_0xee2b[96]][_0xee2b[696]]()},getAssignmentStore:function(){var a=this[_0xee2b[696]]();return a&&a[_0xee2b[1051]]()},getEvents:function(a){var b=this;a=a||b[_0xee2b[696]]();return a&&a[_0xee2b[699]](b)||[]},getAssignments:function(){var b=this,a=b[_0xee2b[696]]();return a&&a[_0xee2b[1082]](b)},isPersistable:function(){var a=this[_0xee2b[96]];return !a||!a[_0xee2b[30]]||a[_0xee2b[232]]&&a[_0xee2b[232]]()},isAbove:function(e){var c=this,g=c[_0xee2b[1007]](),h=!1,a,d,f,b,i;Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1373]](g,_0xee2b[1624]);if(c==e){h=!1}else {if(g&&g[_0xee2b[234]]){a=c;d=[];while(a){d[_0xee2b[11]](a);a=a[_0xee2b[96]]}a=e;f=[];while(a){f[_0xee2b[11]](a);a=a[_0xee2b[96]]}b=0;while(b<d[_0xee2b[4]]-1&&b<f[_0xee2b[4]]-1&&d[b]==f[b]){++b}i=d[b];c=d[b+1];e=f[b+1];h=i[_0xee2b[147]](c)<i[_0xee2b[147]](e)}else {h=g[_0xee2b[147]](c)<g[_0xee2b[147]](e)}}return h}});Ext[_0xee2b[6]](_0xee2b[1625],{extend:_0xee2b[109],model:_0xee2b[1623],config:{model:_0xee2b[1623]},alias:_0xee2b[1626],mixins:[_0xee2b[1011],_0xee2b[1016],_0xee2b[1621],_0xee2b[216]],storeId:_0xee2b[1627],constructor:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[137]]()!==Sch[_0xee2b[327]][_0xee2b[606]]&&!(this[_0xee2b[137]]()[_0xee2b[139]] instanceof Sch[_0xee2b[327]][_0xee2b[606]])){throw _0xee2b[1628]}}});Ext[_0xee2b[6]](_0xee2b[1629],{extend:_0xee2b[957],target:_0xee2b[1630],minVersion:_0xee2b[1631],overrides:{remove:function(a){if(a[_0xee2b[988]]){return a[_0xee2b[63]]()}else {if(a instanceof Array&&a[0][_0xee2b[988]]){for(var b=0;b<a[_0xee2b[4]];b++){a[b][_0xee2b[63]]()}return a}else {return this[_0xee2b[9]](arguments)}}}}});Ext[_0xee2b[6]](_0xee2b[1632],{extend:_0xee2b[957],target:_0xee2b[1630],minVersion:_0xee2b[1633],overrides:{registerNode:function(b,c){var a=this;if(!a[_0xee2b[1014]]){a[_0xee2b[1014]]={}}a[_0xee2b[1014]][b[_0xee2b[1049]]]=b;a[_0xee2b[9]](arguments)},unregisterNode:function(b,c){var a=this;if(a[_0xee2b[1014]]){delete a[_0xee2b[1014]][b[_0xee2b[1049]]]}a[_0xee2b[9]](arguments)},updateRoot:function(){this[_0xee2b[1014]]={};this[_0xee2b[9]](arguments)}}});Ext[_0xee2b[6]](_0xee2b[1634],{isFilteredFlag:!1,isHiddenFlag:!1,treeFilter:null,lastTreeFilter:null,lastTreeHiding:null,allowExpandCollapseWhileFiltered:!0,keepExpandStateWhileFiltered:!1,reApplyFilterOnDataChange:null,reapplyFilterOnDataChange:!0,suspendIncrementalFilterRefresh:0,filterGeneration:0,currentFilterGeneration:null,dataChangeListeners:null,monitoringDataChange:!1,filterUpdateSuspended:!1,onClassMixedIn:function(a){a[_0xee2b[507]](Sch[_0xee2b[22]][_0xee2b[1637]][_0xee2b[1636]][_0xee2b[139]][_0xee2b[1635]]()||{})},initTreeFiltering:function(){if(this[_0xee2b[1638]]!=null){this[_0xee2b[1639]]=this[_0xee2b[1638]]}this[_0xee2b[1640]]=new Ext[_0xee2b[49]].Filter({filterFn:this[_0xee2b[1641]],scope:this});this[_0xee2b[1642]]={nodeappend:this[_0xee2b[1643]],nodeinsert:this[_0xee2b[1643]],scope:this};Ext[_0xee2b[8]](this[_0xee2b[1642]],{beforeload:this[_0xee2b[1644]],load:this[_0xee2b[1645]]})},onStoreBeforeLoad:function(){this[_0xee2b[1646]]=!0},onStoreLoad:function(){this[_0xee2b[1646]]=!1;this[_0xee2b[1643]]()},startDataChangeMonitoring:function(){if(this[_0xee2b[1647]]){return}this[_0xee2b[1647]]=!0;this[_0xee2b[149]](this[_0xee2b[1642]])},stopDataChangeMonitoring:function(){if(!this[_0xee2b[1647]]){return}this[_0xee2b[1647]]=!1;this[_0xee2b[152]](this[_0xee2b[1642]])},onNeedToUpdateFilter:function(){if(this[_0xee2b[1639]]&&!this[_0xee2b[1646]]&&!this[_0xee2b[1648]]){this[_0xee2b[1649]]()}},clearTreeFilter:function(){if(!this[_0xee2b[1650]]()){return}this[_0xee2b[1651]]=null;this[_0xee2b[1652]]=!1;this[_0xee2b[1653]]=null;if(!this[_0xee2b[1650]](!0)){this[_0xee2b[1654]]()}this[_0xee2b[1655]]();this[_0xee2b[180]](_0xee2b[1656],this)},reapplyFilter:function(){if(this[_0xee2b[1657]]){this[_0xee2b[1659]][_0xee2b[8]](this,this[_0xee2b[1658]][_0xee2b[318]](this[_0xee2b[1652]]))}if(this[_0xee2b[1652]]){this[_0xee2b[1660]](this[_0xee2b[1653]])}},reApplyFilter:function(){this[_0xee2b[1649]]()},refreshNodeStoreContent:function(){var a=this,b=a[_0xee2b[355]]();if(b[_0xee2b[147]](a[_0xee2b[1640]])<0){a[_0xee2b[1661]](a[_0xee2b[1640]])}else {this[_0xee2b[355]]()[_0xee2b[180]](_0xee2b[333],this[_0xee2b[355]]())}},getIndexInTotalDataset:function(b){var a=this[_0xee2b[1662]](),c=-1;var e=this[_0xee2b[1663]];if(!e&&b==a){return -1}var g=this[_0xee2b[1650]]();var f=this[_0xee2b[1651]];var d=function(h){if(g&&h[_0xee2b[1664]]!=f||h[_0xee2b[856]]){if(h==b){return !1}}if(e||h!=a){c++}if(h==b){return !1}if(!h[_0xee2b[1665]]()&&h[_0xee2b[1666]]()){var j=h[_0xee2b[925]],k=j[_0xee2b[4]];for(var i=0;i<k;i++){if(d(j[i])===!1){return !1}}}};d(a);return c},isTreeFiltered:function(a){return this[_0xee2b[1652]]||a&&this[_0xee2b[1657]]},markFilteredNodes:function(o,b){var p=this;var m=this[_0xee2b[1651]];var a={};var h=this[_0xee2b[1662]](),l=this[_0xee2b[1663]];var f=function(d){var c=d[_0xee2b[96]];while(c&&!a[c[_0xee2b[1049]]]){a[c[_0xee2b[1049]]]=!0;c=c[_0xee2b[96]]}};var d=b[_0xee2b[173]];var g=b[_0xee2b[689]]||this;var c=b[_0xee2b[1667]];var i=b[_0xee2b[1668]]||c;var k=b[_0xee2b[1669]];var j=b[_0xee2b[1670]]||k;var n=!b[_0xee2b[1671]];if(j&&i){throw new Error(_0xee2b[1672])}if(l){a[h[_0xee2b[1049]]]=!0}var e=function(m){if(m[_0xee2b[856]]){return}var q,p,r,n;if(m[_0xee2b[1665]]()){if(d[_0xee2b[293]](g,m,a)){a[m[_0xee2b[1049]]]=!0;f(m)}}else {if(j){q=d[_0xee2b[293]](g,m);p=m[_0xee2b[925]];r=p[_0xee2b[4]];if(q){a[m[_0xee2b[1049]]]=!0;f(m);if(k){m[_0xee2b[99]](function(c){a[c[_0xee2b[1049]]]=!0});return}}for(n=0;n<r;n++){if(q&&p[n][_0xee2b[1665]]()){a[p[n][_0xee2b[1049]]]=!0}else {if(!p[n][_0xee2b[1665]]()){e(p[n])}}}}else {if(i){q=d[_0xee2b[293]](g,m,a);if(q){a[m[_0xee2b[1049]]]=!0;f(m)}}if(!i||!c||c&&(q||m==h&&!l)){p=m[_0xee2b[925]];r=p[_0xee2b[4]];for(n=0;n<r;n++){e(p[n])}}}}};e(o);h[_0xee2b[99]](function(c){if(n){c[_0xee2b[1673]]=!1}if(a[c[_0xee2b[1049]]]){c[_0xee2b[1664]]=m;if(!p[_0xee2b[1674]]&&!c[_0xee2b[1665]]()){c[_0xee2b[103]]()}}})},filterTreeBy:function(a,c){this[_0xee2b[1651]]=this[_0xee2b[1675]]++;var b;if(arguments[_0xee2b[4]]==1&&Ext[_0xee2b[135]](arguments[0])){c=a[_0xee2b[689]];b=a[_0xee2b[173]]}else {b=a;a={filter:b,scope:c}}this[_0xee2b[180]](_0xee2b[1676],this);a=a||{};this[_0xee2b[1677]](this[_0xee2b[1662]](),a);a[_0xee2b[1671]]=!0;this[_0xee2b[1678]]();this[_0xee2b[1652]]=!0;this[_0xee2b[1653]]=a;this[_0xee2b[180]](_0xee2b[1679],this);this[_0xee2b[180]](_0xee2b[1680],this);this[_0xee2b[1655]]()},isNodeFilteredIn:function(a){var c=this[_0xee2b[1650]]();var b=this[_0xee2b[1651]];return this[_0xee2b[1681]]||a[_0xee2b[1673]]&&a[_0xee2b[854]]()||!Boolean(c&&a[_0xee2b[1664]]!=b||a[_0xee2b[856]])},hasNativeFilters:function(){var b=this,c=b[_0xee2b[355]](),a=c[_0xee2b[1466]]();return a&&a>1||c[_0xee2b[147]](b[_0xee2b[1640]])<0},hideNodesBy:function(c,b,d){var a=this;if(a[_0xee2b[1086]]()&&a[_0xee2b[1682]]()){throw new Error(_0xee2b[1683])}b=b||a;a[_0xee2b[1662]]()[_0xee2b[99]](function(e){e[_0xee2b[856]]=Boolean(c[_0xee2b[293]](b,e,a))});a[_0xee2b[1678]]();a[_0xee2b[1657]]=!0;a[_0xee2b[1658]]=[c,b];if(!d){a[_0xee2b[1655]]()}},showAllNodes:function(a){this[_0xee2b[1662]]()[_0xee2b[99]](function(b){b[_0xee2b[856]]=!1});this[_0xee2b[1657]]=!1;this[_0xee2b[1658]]=null;if(!this[_0xee2b[1650]](!0)){this[_0xee2b[1654]]()}if(!a){this[_0xee2b[1655]]()}},inheritables:function(){return {onNodeExpand:function(a){if(this[_0xee2b[1650]](!0)&&a==this[_0xee2b[230]]()){this[_0xee2b[9]](arguments);this[_0xee2b[1649]]()}else {return this[_0xee2b[9]](arguments)}},onNodeCollapse:function(c,b){var a=this;var d=a[_0xee2b[22]];var h=d[_0xee2b[1087]];var f=a[_0xee2b[1650]]();var e=a[_0xee2b[1651]];d[_0xee2b[1087]]=function(){var i,d,j;var k=a[_0xee2b[147]](c)+1;var l=!1;for(var g=0;g<b[_0xee2b[4]];g++){if(!(b[g][_0xee2b[856]]||f&&b[g][_0xee2b[1664]]!=e)&&h[_0xee2b[293]](this,b[g])){i=c;while(i[_0xee2b[96]]){d=i;do{d=d[_0xee2b[98]]}while(d&&(d[_0xee2b[856]]||f&&d[_0xee2b[1664]]!=e));if(d){l=!0;j=a[_0xee2b[147]](d);break}else {i=i[_0xee2b[96]]}}if(!l){j=a[_0xee2b[1466]]()}a[_0xee2b[1684]](k,j-k);break}}return !1};this[_0xee2b[9]](arguments);if(this[_0xee2b[1650]]()){if(a[_0xee2b[1685]]()){b=Ext[_0xee2b[26]][_0xee2b[173]](b,a[_0xee2b[1686]])}if(!b[_0xee2b[4]]&&a[_0xee2b[147]](c)!==-1){var g=a[_0xee2b[147]](c)+1;var i=a[_0xee2b[1687]](c);a[_0xee2b[1684]](g,i-g)}}d[_0xee2b[1087]]=h},handleNodeExpand:function(g,e,h){var d=this;var a=[];var f=d[_0xee2b[1650]]();var i=d[_0xee2b[1651]];for(var b=0;b<e[_0xee2b[4]];b++){var c=e[b];if(!(f&&c[_0xee2b[1664]]!=i||c[_0xee2b[856]])){a[a[_0xee2b[4]]]=c}}return this[_0xee2b[9]]([g,a,h])},onNodeInsert:function(e,a,o){var c=this,d,b,l,j,f,g,n=a[_0xee2b[1688]]||a[_0xee2b[22]],p=c[_0xee2b[81]],k,h,i,m=this[_0xee2b[1650]]();if(c[_0xee2b[1689]]){h=c[_0xee2b[1689]](a);a[_0xee2b[50]](_0xee2b[1690],h);if(h){e[_0xee2b[50]](_0xee2b[1690],c[_0xee2b[1689]](e))}}if(!this[_0xee2b[1639]]&&m){a[_0xee2b[1673]]=!0}c[_0xee2b[1691]](a,!0);c[_0xee2b[380]]();if(c[_0xee2b[854]](a)||m&&a[_0xee2b[1673]]){if(o===0||!a[_0xee2b[1692]]){d=e}else {for(b=a[_0xee2b[1692]];b&&!b[_0xee2b[1673]]&&!b[_0xee2b[55]](_0xee2b[1690]);b=b[_0xee2b[1692]]){}if(!b){d=e}else {while(b[_0xee2b[1666]]()&&b[_0xee2b[1693]]){b=b[_0xee2b[1693]]}for(;b&&!b[_0xee2b[1673]]&&!b[_0xee2b[55]](_0xee2b[1690]);b=b[_0xee2b[1692]]){}d=b}}c[_0xee2b[69]](c[_0xee2b[147]](d)+1,a);if(!a[_0xee2b[1665]]()&&a[_0xee2b[1666]]()){if(a[_0xee2b[1694]]()){c[_0xee2b[1695]](a,a[_0xee2b[925]])}else {if(!c[_0xee2b[1696]]){a[_0xee2b[50]](_0xee2b[102],!1);a[_0xee2b[103]]()}}}}Ext[_0xee2b[26]][_0xee2b[63]](p,a);c[_0xee2b[1697]]=c[_0xee2b[1697]]||a[_0xee2b[30]]||a[_0xee2b[92]];if(!a[_0xee2b[1665]]()&&!a[_0xee2b[1694]]()&&!c[_0xee2b[1698]]){l=c[_0xee2b[1700]]()[_0xee2b[1699]]();j=a[_0xee2b[1700]]();f=j?j[_0xee2b[1699]]():null;g=f&&f[_0xee2b[1702]][_0xee2b[1701]]?f:l;k=g[_0xee2b[230]](n);if(k){i=a[_0xee2b[1703]];c[_0xee2b[1705]](a,g[_0xee2b[1704]](k,i?{model:i}:undefined))}}c[_0xee2b[381]]()},isFiltered:function(){return this[_0xee2b[9]](arguments)||this[_0xee2b[1650]]()},afterEdit:function(b,c){var a=this;a[_0xee2b[355]]();if(a[_0xee2b[1685]]()&&a[_0xee2b[1639]]){a[_0xee2b[1706]](b)}Ext[_0xee2b[22]][_0xee2b[1708]][_0xee2b[139]][_0xee2b[1707]][_0xee2b[8]](a,[b,c])}}}});Ext[_0xee2b[6]](_0xee2b[1709],{extend:_0xee2b[1630],requires:[_0xee2b[1629],_0xee2b[1632]],mixins:[_0xee2b[1011],_0xee2b[1016],_0xee2b[1621],_0xee2b[1634],_0xee2b[216]],alias:_0xee2b[1710],model:_0xee2b[1623],storeId:_0xee2b[1627],constructor:function(){this[_0xee2b[9]](arguments);this[_0xee2b[1711]]();if(this[_0xee2b[137]]()!==Sch[_0xee2b[327]][_0xee2b[606]]&&!(this[_0xee2b[137]]()[_0xee2b[139]] instanceof Sch[_0xee2b[327]][_0xee2b[606]])){throw _0xee2b[1712]}},setRootNode:function(){this[_0xee2b[1713]]=!0;var a=this[_0xee2b[9]](arguments);this[_0xee2b[1713]]=!1;return a}});Ext[_0xee2b[6]](_0xee2b[1714],{extend:_0xee2b[1198],isTimeAxisTickModel:!0,startDateField:_0xee2b[179],endDateField:_0xee2b[771]});Ext[_0xee2b[6]](_0xee2b[1715],{extend:_0xee2b[1716],requires:[_0xee2b[1140],_0xee2b[1714]],model:_0xee2b[1714],continuous:!0,originalContinuous:null,autoAdjust:!0,unit:null,increment:null,resolutionUnit:null,resolutionIncrement:null,weekStartDay:null,mainUnit:null,shiftUnit:null,shiftIncrement:1,defaultSpan:1,isConfigured:!1,adjustedStart:null,adjustedEnd:null,visibleTickStart:null,visibleTickEnd:null,presetName:null,mode:_0xee2b[1717],startTime:0,endTime:24,constructor:function(b){var a=this;b=b||{};if(a[_0xee2b[1718]]){a[_0xee2b[1718]](a[_0xee2b[327]])}a[_0xee2b[1720]](b[_0xee2b[1719]]||a[_0xee2b[1719]]);a[_0xee2b[1721]]=a[_0xee2b[1722]];a[_0xee2b[9]](arguments);a[_0xee2b[149]](Ext[_0xee2b[723]][_0xee2b[722]]?_0xee2b[770]:_0xee2b[416],function(){a[_0xee2b[180]](_0xee2b[1723],a,!1)});a[_0xee2b[149]](_0xee2b[1724],function(a,c){a[_0xee2b[180]](_0xee2b[1723],a,c)});if(b[_0xee2b[1725]]){var c=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](b[_0xee2b[1725]]);c&&a[_0xee2b[1729]](c)}if(b[_0xee2b[179]]||a[_0xee2b[179]]){a[_0xee2b[1723]](b)}},reconfigure:function(c,k){this[_0xee2b[1730]]=!0;Ext[_0xee2b[8]](this,c);var j=this[_0xee2b[1731]](c[_0xee2b[179]],c[_0xee2b[771]],!0);var i=this[_0xee2b[1731]](c[_0xee2b[179]],c[_0xee2b[771]]);var h=i[_0xee2b[179]];var g=i[_0xee2b[771]];if(this[_0xee2b[180]](_0xee2b[1732],this,h,g)!==!1){this[_0xee2b[180]](_0xee2b[1733],this);var a=this[_0xee2b[1734]];var d=this[_0xee2b[1735]]||1;var f=this[_0xee2b[1736]](h,g,a,d);this[_0xee2b[254]](!0);this[_0xee2b[453]]();this[_0xee2b[255]](f);if(this[_0xee2b[1466]]()===0){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[1737])}this[_0xee2b[455]]();var e=Sch[_0xee2b[49]][_0xee2b[703]];var b=f[_0xee2b[4]];if(this[_0xee2b[1738]]()){this[_0xee2b[1739]]=j[_0xee2b[179]];this[_0xee2b[1740]]=this[_0xee2b[1283]](b>1?f[b-1][_0xee2b[179]]:j[_0xee2b[179]],a,d)}else {this[_0xee2b[1739]]=this[_0xee2b[697]]();this[_0xee2b[1740]]=this[_0xee2b[698]]()}do{this[_0xee2b[1741]]=(this[_0xee2b[697]]()-this[_0xee2b[1739]])/(e[_0xee2b[1188]](a)*d);if(this[_0xee2b[1741]]>=1){this[_0xee2b[1739]]=e[_0xee2b[1283]](this[_0xee2b[1739]],a,d)}}while(this[_0xee2b[1741]]>=1);do{this[_0xee2b[1742]]=b-(this[_0xee2b[1740]]-this[_0xee2b[698]]())/(e[_0xee2b[1188]](a)*d);if(b-this[_0xee2b[1742]]>=1){this[_0xee2b[1740]]=e[_0xee2b[1283]](this[_0xee2b[1740]],a,-1)}}while(b-this[_0xee2b[1742]]>=1);this[_0xee2b[180]](_0xee2b[1724],this,k)}},isWeek:function(){return this[_0xee2b[1719]]!==_0xee2b[1717]},setMode:function(a){this[_0xee2b[1719]]=a;if(this[_0xee2b[872]]()){this[_0xee2b[1743]]=function(b){if(this[_0xee2b[1119]]>0||this[_0xee2b[1121]]<24){return b[_0xee2b[1127]]()>=this[_0xee2b[1119]]&&b[_0xee2b[1127]]()<this[_0xee2b[1121]]}else {return !0}}}else {this[_0xee2b[1743]]=function(){return !0}}},setTimeSpan:function(b,a){var c=this[_0xee2b[1731]](b,a);b=c[_0xee2b[179]];a=c[_0xee2b[771]];if(this[_0xee2b[697]]()-b!==0||this[_0xee2b[698]]()-a!==0){this[_0xee2b[1723]]({start:b,end:a})}},filterBy:function(b,a){this[_0xee2b[1722]]=!1;a=a||this;this[_0xee2b[1744]](!0);this[_0xee2b[453]](!0);this[_0xee2b[173]]([{filterFn:function(d,c){return b[_0xee2b[293]](a,d[_0xee2b[22]],c)}}]);if(this[_0xee2b[1466]]()===0){this[_0xee2b[1744]]();this[_0xee2b[455]]();Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[1745])}this[_0xee2b[455]]()},isContinuous:function(){var a=this[_0xee2b[1722]]&&!this[_0xee2b[1086]]();if(this[_0xee2b[872]]()){a=a&&this[_0xee2b[1119]]===0&&this[_0xee2b[1121]]===24}return a},clearFilter:function(){this[_0xee2b[1722]]=this[_0xee2b[1721]];this[_0xee2b[9]](arguments)},generateTicks:function(b,c,g,e){var d=[],a,h=Sch[_0xee2b[49]][_0xee2b[703]],f=0;g=g||this[_0xee2b[1734]];e=e||this[_0xee2b[1735]];var j=this[_0xee2b[1731]](b,c);b=j[_0xee2b[179]];c=j[_0xee2b[771]];while(b<c){a=this[_0xee2b[1283]](b,g,e);if(!this[_0xee2b[1746]]&&a>c){a=c}if(g===h[_0xee2b[710]]&&e>1&&d[_0xee2b[4]]>0&&f===0){var i=d[d[_0xee2b[4]]-1];f=(i[_0xee2b[179]][_0xee2b[1127]]()+e)%24-i[_0xee2b[771]][_0xee2b[1127]]();if(f!==0){a=h[_0xee2b[255]](a,h.HOUR,f)}}this[_0xee2b[1743]](b)&&d[_0xee2b[11]]({start:b,end:a});b=a}return d},getVisibleTickTimeSpan:function(){return this[_0xee2b[1738]]()?this[_0xee2b[1742]]-this[_0xee2b[1741]]:this[_0xee2b[1466]]()},getAdjustedDates:function(b,a,h){var d=Sch[_0xee2b[49]][_0xee2b[703]];b=b||this[_0xee2b[697]]();a=a||d[_0xee2b[255]](b,this[_0xee2b[1747]],this[_0xee2b[1748]]);if(this[_0xee2b[872]]()){if(this[_0xee2b[1749]]===d[_0xee2b[1145]]){var i=d[_0xee2b[255]](b,d.WEEK,1);var g=d[_0xee2b[255]](a,d.WEEK,-1);if(!a){a=this[_0xee2b[1283]](b,this[_0xee2b[1749]],1);a=this[_0xee2b[1750]](a,!1,this[_0xee2b[1749]]);a=this[_0xee2b[1750]](a,!1,this[_0xee2b[1747]])}if(i[_0xee2b[480]]()!==b[_0xee2b[480]]()&&g[_0xee2b[480]]()!==a[_0xee2b[480]]()){return {start:b,end:a}}}var e,c,f;e=this[_0xee2b[1751]](b,!1,this[_0xee2b[1749]],1);e=this[_0xee2b[1751]](e,!1,this[_0xee2b[1747]],1);if(this[_0xee2b[1746]]){f=this[_0xee2b[1283]](b,this[_0xee2b[1749]],1);c=this[_0xee2b[1750]](f,!1,this[_0xee2b[1749]]);c=this[_0xee2b[1750]](c,!1,this[_0xee2b[1747]])}else {c=this[_0xee2b[1750]](a,!1,this[_0xee2b[1749]]);c=this[_0xee2b[1750]](c,!1,this[_0xee2b[1747]])}return {start:e,end:c}}else {return this[_0xee2b[1746]]||h?{start:this[_0xee2b[1751]](b,!1,this[_0xee2b[1746]]?this[_0xee2b[1747]]:this[_0xee2b[1734]],1),end:this[_0xee2b[1750]](a,!1,this[_0xee2b[1746]]?this[_0xee2b[1747]]:this[_0xee2b[1734]],1)}:{start:b,end:a}}},getTickFromDate:function(b){var a=this[_0xee2b[22]][_0xee2b[266]];var f=a[_0xee2b[4]]-1;if(b.valueOf()<a[0][_0xee2b[22]][_0xee2b[179]].valueOf()||b.valueOf()>a[f][_0xee2b[22]][_0xee2b[771]].valueOf()){return -1}var e,d,h;if(this[_0xee2b[1738]]()){if(b-a[0][_0xee2b[22]][_0xee2b[179]]===0){return this[_0xee2b[1741]]}if(b-a[f][_0xee2b[22]][_0xee2b[771]]===0){return this[_0xee2b[1742]]}var i=this[_0xee2b[1739]];var j=this[_0xee2b[1740]];var c=Math[_0xee2b[424]](a[_0xee2b[4]]*(b-i)/(j-i));if(c>f){c=f}d=c===0?i:a[c][_0xee2b[22]][_0xee2b[179]];h=c==f?j:a[c][_0xee2b[22]][_0xee2b[771]];e=c+(b-d)/(h-d);if(e<this[_0xee2b[1741]]||e>this[_0xee2b[1742]]){return -1}return e}else {for(var g=0;g<=f;g++){h=a[g][_0xee2b[22]][_0xee2b[771]];if(b<=h){d=a[g][_0xee2b[22]][_0xee2b[179]];e=g+(b>d?(b-d)/(h-d):0);return e}}}return -1},getDateFromTick:function(b,g){if(b===this[_0xee2b[1742]]){return this[_0xee2b[698]]()}var a=Math[_0xee2b[424]](b),i=b-a,f=this[_0xee2b[1752]](a);if(!f){return null}var d=f[_0xee2b[22]];var e=a===0?this[_0xee2b[1739]]:d[_0xee2b[179]];var h=a==this[_0xee2b[1466]]()-1&&this[_0xee2b[1738]]()?this[_0xee2b[1740]]:d[_0xee2b[771]];var c=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](e,Sch[_0xee2b[49]][_0xee2b[703]].MILLI,i*(h-e));if(g){c=this[g+_0xee2b[703]](c)}return c},getTicks:function(){var a=[];this[_0xee2b[25]](function(b){a[_0xee2b[11]](b[_0xee2b[22]])});return a},getStart:function(){var a=this[_0xee2b[572]]();if(a){return a[_0xee2b[22]][_0xee2b[179]]}return null},getEnd:function(){var a=this[_0xee2b[576]]();if(a){return a[_0xee2b[22]][_0xee2b[771]]}return null},floorDate:function(j,f,k,l){f=f!==!1;var a=Ext[_0xee2b[703]][_0xee2b[1161]](j),e=f?this[_0xee2b[697]]():null,c=l||this[_0xee2b[1753]],i;if(k){i=k}else {i=f?this[_0xee2b[1754]]:this[_0xee2b[1747]]}var b=Sch[_0xee2b[49]][_0xee2b[703]];var d=function(b,a){return Math[_0xee2b[424]](b/a)*a};switch(i){case b[_0xee2b[1143]]:if(f){a=b[_0xee2b[255]](e,b.MILLI,d(b[_0xee2b[1173]](e,a),c))};break;case b[_0xee2b[1144]]:if(f){a=b[_0xee2b[255]](e,b.MILLI,d(b[_0xee2b[1172]](e,a),c)*1000)}else {a[_0xee2b[1160]](0);a[_0xee2b[1158]](d(a[_0xee2b[1157]](),c))};break;case b[_0xee2b[711]]:if(f){a=b[_0xee2b[255]](e,b.SECOND,d(b[_0xee2b[702]](e,a),c)*60)}else {a[_0xee2b[1156]](d(a[_0xee2b[1130]](),c));a[_0xee2b[1158]](0);a[_0xee2b[1160]](0)};break;case b[_0xee2b[710]]:if(f){a=b[_0xee2b[255]](e,b.MINUTE,d(b[_0xee2b[1171]](this[_0xee2b[697]](),a),c)*60)}else {a[_0xee2b[1156]](0);a[_0xee2b[1158]](0);a[_0xee2b[1160]](0);a[_0xee2b[1155]](d(a[_0xee2b[1127]](),c))};break;case b[_0xee2b[708]]:if(f){a=b[_0xee2b[255]](e,b.DAY,d(b[_0xee2b[1170]](e,a),c))}else {Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);a[_0xee2b[1163]](d(a[_0xee2b[479]]()-1,c)+1)};break;case b[_0xee2b[1148]]:var h=a[_0xee2b[484]]()||7;var g=this[_0xee2b[1755]]||7;Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);a=b[_0xee2b[255]](a,b.DAY,h>=g?g-h:-(7-g+h));if(a[_0xee2b[484]]()!==g&&a[_0xee2b[1127]]()===23){a=b[_0xee2b[255]](a,b.HOUR,1)};break;case b[_0xee2b[1145]]:if(f){a=b[_0xee2b[255]](e,b.MONTH,d(b[_0xee2b[1169]](e,a),c))}else {Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);a[_0xee2b[1163]](1);a[_0xee2b[1166]](d(a[_0xee2b[480]](),c))};break;case b[_0xee2b[1149]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);a[_0xee2b[1163]](1);a=b[_0xee2b[255]](a,b.MONTH,-(a[_0xee2b[480]]()%3));break;case b[_0xee2b[1146]]:if(f){a=b[_0xee2b[255]](e,b.YEAR,d(b[_0xee2b[1168]](e,a),c))}else {var m=d(j[_0xee2b[1136]]()-1,c)+1;a=new Date(0,0,1);a[_0xee2b[1167]](m)};break;}return a},roundDate:function(k,b){var a=Ext[_0xee2b[703]][_0xee2b[1161]](k),c=this[_0xee2b[1753]];b=b||this[_0xee2b[697]]();var e=b[_0xee2b[1174]]()-a[_0xee2b[1174]]();switch(this[_0xee2b[1754]]){case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1143]]:var t=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1173]](b,a);var g=e*60*1000;var o=Math[_0xee2b[704]]((t+g)/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].MILLI,o-g);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1144]]:var j=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1172]](b,a);var i=e*60;var m=Math[_0xee2b[704]]((j+i)/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].MILLI,(m-i)*1000);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[711]]:var n=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[702]](b,a);var p=Math[_0xee2b[704]]((n+e)/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].SECOND,(p-e)*60);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[710]]:var v=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1171]](b,a);var h=e/60;var w=Math[_0xee2b[704]]((v+h)/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].MINUTE,(w-h)*60);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[708]]:var q=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1170]](b,a),r=Math[_0xee2b[704]](q/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].DAY,r);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1148]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);var d=a[_0xee2b[484]]()-this[_0xee2b[1755]],f;if(d<0){d=7+d};if(Math[_0xee2b[704]](d/7)===1){f=7-d}else {f=-d};a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].DAY,f);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1145]]:var l=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1169]](b,a)+a[_0xee2b[479]]()/Ext[_0xee2b[703]][_0xee2b[1523]](a),s=Math[_0xee2b[704]](l/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].MONTH,s);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1149]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);a[_0xee2b[1163]](1);a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].MONTH,3-a[_0xee2b[480]]()%3);break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1146]]:var x=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1168]](b,a),u=Math[_0xee2b[704]](x/c)*c;a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,Sch[_0xee2b[49]][_0xee2b[703]].YEAR,u);break;}return a},ceilDate:function(c,e,g,f){var a=Ext[_0xee2b[703]][_0xee2b[1161]](c);e=e!==!1;f=f||(e?this[_0xee2b[1753]]:1);var b=!1,d;if(g){d=g}else {d=e?this[_0xee2b[1754]]:this[_0xee2b[1747]]}switch(d){case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[710]]:if(a[_0xee2b[1130]]()>0||a[_0xee2b[1157]]()>0||a[_0xee2b[1159]]()>0){b=!0};break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[708]]:if(a[_0xee2b[1127]]()>0||a[_0xee2b[1130]]()>0||a[_0xee2b[1157]]()>0||a[_0xee2b[1159]]()>0){b=!0};break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1148]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);if(a[_0xee2b[484]]()!==this[_0xee2b[1755]]||c[_0xee2b[1162]]()-a[_0xee2b[1162]]()>0){b=!0};break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1145]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);if(a[_0xee2b[479]]()!==1||c[_0xee2b[1162]]()-a[_0xee2b[1162]]()>0){b=!0};break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1149]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);if(a[_0xee2b[480]]()%3!==0||a[_0xee2b[479]]()!==1||c[_0xee2b[1162]]()-a[_0xee2b[1162]]()>0){b=!0};break;case Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1146]]:Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1101]](a);if(a[_0xee2b[480]]()!==0||a[_0xee2b[479]]()!==1||c[_0xee2b[1162]]()-a[_0xee2b[1162]]()>0){b=!0};break;default:break;}if(b){return this[_0xee2b[1283]](a,d,f)}else {return a}},getNext:function(c,b,a){return Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1283]](c,b,a,this[_0xee2b[1755]])},getResolution:function(){return {unit:this[_0xee2b[1754]],increment:this[_0xee2b[1753]]}},setResolution:function(b,a){this[_0xee2b[1754]]=b;this[_0xee2b[1753]]=a||1},shift:function(a,b){this[_0xee2b[1756]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[697]](),b,a),Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[698]](),b,a))},shiftTo:function(a){var c=this[_0xee2b[698]]()-this[_0xee2b[697]](),b=new Date(a[_0xee2b[1162]]()+c);this[_0xee2b[1756]](a,b)},shiftNext:function(a){a=a||this[_0xee2b[1757]]();var b=this[_0xee2b[1758]]();this[_0xee2b[1756]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[697]](),b,a),Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[698]](),b,a))},shiftPrevious:function(a){a=-(a||this[_0xee2b[1757]]());var b=this[_0xee2b[1758]]();this[_0xee2b[1756]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[697]](),b,a),Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](this[_0xee2b[698]](),b,a))},getShiftUnit:function(){return this[_0xee2b[1749]]||this[_0xee2b[1747]]},getShiftIncrement:function(){return this[_0xee2b[1759]]||1},getUnit:function(){return this[_0xee2b[1734]]},getIncrement:function(){return this[_0xee2b[1735]]},getRowTicks:function(){if(this[_0xee2b[872]]()){var c=this[_0xee2b[697]]();var b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](c,this[_0xee2b[875]][_0xee2b[753]][_0xee2b[1760]],1);var a=this[_0xee2b[1761]](function(a){return a[_0xee2b[712]]()[_0xee2b[1162]]()>=b[_0xee2b[1162]]()});if(a===-1){return this[_0xee2b[1005]]()}return this[_0xee2b[1005]](0,a-1)}},dateInAxis:function(a,d){var i=!1;var e=this[_0xee2b[697]]();var h=this[_0xee2b[698]]();if(this[_0xee2b[1738]]()){i=d?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1762]](a,e,h):Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1175]](a,e,h)}else {var j=this[_0xee2b[1466]](),g,b;for(var c=0;c<j;c++){var f=this[_0xee2b[1752]](c);g=f[_0xee2b[22]][_0xee2b[179]];b=f[_0xee2b[22]][_0xee2b[771]];if(d&&a<=b||!d&&a<b){return a>=g}}}return i},timeSpanInAxis:function(a,b){var c=this[_0xee2b[697]]();var d=this[_0xee2b[698]]();var f=b-a;if(f===0){return this[_0xee2b[1763]](a,!0)}if(this[_0xee2b[1738]]()){return Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[714]](a,b,c,d)}else {var g=a<c&&b>d;if(g){return !0}var h=this[_0xee2b[1764]](a);var e=this[_0xee2b[1764]](b);return h!==e&&(a<d&&b>c)}},isRangeInAxis:function(c){var b=c[_0xee2b[712]](),a=c[_0xee2b[713]]();if(!b||!a){return !1}return this[_0xee2b[1765]](b,a)},forEachAuxInterval:function(h,g,f,b){b=b||this;var c=this[_0xee2b[698]](),a=this[_0xee2b[697]](),e=0,d;if(a>c){throw new Error(_0xee2b[1766])}while(a<c){d=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](this[_0xee2b[1283]](a,h,g||1),c);f[_0xee2b[293]](b,a,d,e);a=d;e++}},consumeViewPreset:function(a){Ext[_0xee2b[8]](this,{unit:a[_0xee2b[877]]()[_0xee2b[1734]],increment:a[_0xee2b[877]]()[_0xee2b[1735]]||1,resolutionUnit:a[_0xee2b[1767]][_0xee2b[1734]],resolutionIncrement:a[_0xee2b[1767]][_0xee2b[1735]],mainUnit:a[_0xee2b[1768]]()[_0xee2b[1734]],shiftUnit:a[_0xee2b[1749]],shiftIncrement:a[_0xee2b[1759]]||1,defaultSpan:a[_0xee2b[1748]]||1,presetName:a[_0xee2b[683]],headerConfig:a[_0xee2b[875]]})}});Ext[_0xee2b[6]](_0xee2b[1060],{extend:_0xee2b[985],requires:[_0xee2b[996]],assignmentStore:null,assignmentStoreDetacher:null,eventStoreDetacher:null,resourceStoreDetacher:null,constructor:function(b){var a=this,c=b[_0xee2b[696]](),d=c&&c[_0xee2b[1007]]();a[_0xee2b[9]]();function _0x8e22xe(f,e){var c=a[_0xee2b[1003]][_0xee2b[696]](),d=c&&c[_0xee2b[1007]]();Ext[_0xee2b[26]][_0xee2b[25]](e,function(c){var g=d&&d[_0xee2b[1012]](c[_0xee2b[1008]]());if(g){a[_0xee2b[255]](c[_0xee2b[997]](),g)}else {a[_0xee2b[231]](c[_0xee2b[997]]())}})}function _0x8e22x6(f,e){var c=a[_0xee2b[1003]][_0xee2b[696]](),d=c&&c[_0xee2b[1007]]();Ext[_0xee2b[26]][_0xee2b[25]](e,function(c){var g=d[_0xee2b[1012]](c[_0xee2b[1008]]());if(g){a[_0xee2b[63]](c[_0xee2b[997]](),g)}else {a[_0xee2b[231]](c[_0xee2b[997]]())}})}function _0x8e22x11(n,c,m){var j=c[_0xee2b[1009]],h=c[_0xee2b[52]]&&j in c[_0xee2b[52]],f=h&&c[_0xee2b[52]][j],l=c[_0xee2b[998]],g=c[_0xee2b[52]]&&l in c[_0xee2b[52]],e=g&&c[_0xee2b[52]][l],i=a[_0xee2b[1003]][_0xee2b[696]](),k=i&&i[_0xee2b[1007]](),d;if(h||g){f=h?f:c[_0xee2b[1008]]();e=g?e:c[_0xee2b[997]]();d=k[_0xee2b[1012]](f);if(d){a[_0xee2b[63]](e,d)}else {a[_0xee2b[231]](e)}d=k[_0xee2b[1012]](c[_0xee2b[1008]]());if(d){a[_0xee2b[255]](c[_0xee2b[997]](),d)}else {a[_0xee2b[231]](c[_0xee2b[997]]())}}}function _0x8e22xf(c){a[_0xee2b[231]]()}function _0x8e22x4(d,c){a[_0xee2b[231]]();_0x8e22x3(c);_0x8e22x5(c&&c[_0xee2b[1007]]())}function _0x8e22x10(f,e,c,d){a[_0xee2b[999]](c,d)}function _0x8e22x9(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[231]](e)})}function _0x8e22xa(){a[_0xee2b[231]]()}function _0x8e22xb(d,c){a[_0xee2b[231]]();_0x8e22x5(c)}function _0x8e22x7(d,c){Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){a[_0xee2b[1769]](e)})}function _0x8e22x2(){a[_0xee2b[231]]()}function _0x8e22x3(c){Ext[_0xee2b[218]](a[_0xee2b[1000]]);a[_0xee2b[1000]]=c&&c[_0xee2b[149]]({idchanged:_0x8e22x10,remove:_0x8e22x9,clear:_0x8e22xa,cacheresethint:_0x8e22xa,rootchange:_0x8e22xa,resourcestorechange:_0x8e22xb,priority:100,destroyable:!0})}function _0x8e22x5(c){Ext[_0xee2b[1770]](a[_0xee2b[1010]]);a[_0xee2b[1010]]=c&&c[_0xee2b[149]]({remove:_0x8e22x7,clear:_0x8e22x2,cacheresethint:_0x8e22x2,rootchange:_0x8e22x2,priority:100,destroyable:!0})}a[_0xee2b[1001]]=b[_0xee2b[149]]({add:_0x8e22xe,remove:_0x8e22x6,update:_0x8e22x11,clear:_0x8e22xf,cacheresethint:_0x8e22xf,priority:100,destroyable:!0});a[_0xee2b[1003]]=b},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1001],_0xee2b[1000],_0xee2b[1010]);a[_0xee2b[1003]]=null},get:function(b,a){var c=this;a=a||function(){return c[_0xee2b[1003]][_0xee2b[1084]](b,function _0x8e22x2(c){return c[_0xee2b[1053]]()},function _0x8e22x5(c){return !!c})};return c[_0xee2b[9]]([b,a])}});Ext[_0xee2b[6]](_0xee2b[1061],{extend:_0xee2b[985],requires:[_0xee2b[996]],assignmentStore:null,assignmentStoreDetacher:null,eventStoreDetacher:null,resourceStoreDetacher:null,constructor:function(c){var a=this,b=c[_0xee2b[696]](),d=b&&b[_0xee2b[1007]]();a[_0xee2b[9]]();function _0x8e22xe(e,d){var b=a[_0xee2b[1003]][_0xee2b[696]]();Ext[_0xee2b[26]][_0xee2b[25]](d,function(f){var g=b&&b[_0xee2b[1012]](f[_0xee2b[997]]());if(g){a[_0xee2b[255]](f[_0xee2b[1008]](),g)}else {a[_0xee2b[231]](f[_0xee2b[1008]]())}})}function _0x8e22x6(e,d){var b=a[_0xee2b[1003]][_0xee2b[696]]();Ext[_0xee2b[26]][_0xee2b[25]](d,function(f){var g=b&&b[_0xee2b[1012]](f[_0xee2b[997]]());if(g){a[_0xee2b[63]](f[_0xee2b[1008]](),g)}else {a[_0xee2b[231]](f[_0xee2b[1008]]())}})}function _0x8e22x11(m,b,l){var j=b[_0xee2b[1009]],i=b[_0xee2b[52]]&&j in b[_0xee2b[52]],f=i&&b[_0xee2b[52]][j],k=b[_0xee2b[998]],h=b[_0xee2b[52]]&&k in b[_0xee2b[52]],g=h&&b[_0xee2b[52]][k],e=a[_0xee2b[1003]][_0xee2b[696]](),d;if(i||h){f=i?f:b[_0xee2b[1008]]();g=h?g:b[_0xee2b[997]]();d=e&&e[_0xee2b[1012]](g);if(d){a[_0xee2b[63]](f,d)}else {a[_0xee2b[231]](f)}d=e&&e[_0xee2b[1012]](b[_0xee2b[997]]());if(d){a[_0xee2b[255]](b[_0xee2b[1008]](),d)}else {a[_0xee2b[231]](b[_0xee2b[1008]]())}}}function _0x8e22xf(b){a[_0xee2b[231]]()}function _0x8e22x4(d,b){a[_0xee2b[231]]();_0x8e22x3(b);_0x8e22x5(b&&b[_0xee2b[1007]]())}function _0x8e22x9(d,b){Ext[_0xee2b[26]][_0xee2b[25]](b,function(e){a[_0xee2b[1769]](e)})}function _0x8e22xa(){a[_0xee2b[231]]()}function _0x8e22xb(d,b){a[_0xee2b[231]]();_0x8e22x5(b)}function _0x8e22xd(f,e,b,d){a[_0xee2b[999]](b,d)}function _0x8e22x7(d,b){Ext[_0xee2b[26]][_0xee2b[25]](b,function(e){a[_0xee2b[231]](e)})}function _0x8e22x2(){a[_0xee2b[231]]()}function _0x8e22x3(b){Ext[_0xee2b[218]](a[_0xee2b[1000]]);a[_0xee2b[1000]]=b&&b[_0xee2b[149]]({remove:_0x8e22x9,cacheresethint:_0x8e22xa,clear:_0x8e22xa,rootchange:_0x8e22xa,resourcestorechange:_0x8e22xb,priority:100,destroyable:!0})}function _0x8e22x5(b){Ext[_0xee2b[218]](a[_0xee2b[1010]]);a[_0xee2b[1010]]=b&&b[_0xee2b[149]]({idchanged:_0x8e22xd,remove:_0x8e22x7,cacheresethint:_0x8e22x2,clear:_0x8e22x2,rootchange:_0x8e22x2,priority:100,destroyable:!0})}a[_0xee2b[1001]]=c[_0xee2b[149]]({add:_0x8e22xe,remove:_0x8e22x6,update:_0x8e22x11,cacheresethint:_0x8e22xf,clear:_0x8e22xf,eventstorechange:_0x8e22x4,priority:100,destroyable:!0});_0x8e22x3(b);_0x8e22x5(d);a[_0xee2b[1003]]=c},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1001],_0xee2b[1000],_0xee2b[1010]);a[_0xee2b[1003]]=null},get:function(b,a){var c=this;a=a||function(){return c[_0xee2b[1003]][_0xee2b[1085]](b,function _0x8e22x2(c){return c[_0xee2b[1052]]()},function _0x8e22x5(c){return !!c})};return c[_0xee2b[9]]([b,a])}});Ext[_0xee2b[6]](_0xee2b[1771],{requires:[_0xee2b[1507]],mixins:[_0xee2b[665]],singleton:!0,allDaysValue:_0xee2b[1772],workingDaysValue:_0xee2b[1773],nonWorkingDaysValue:_0xee2b[1774],getLegend:function(e,r){var a=this,s=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]],k=Ext[_0xee2b[1041]][_0xee2b[880]],q=e[_0xee2b[1052]](),f=r||q[_0xee2b[712]](),c=e[_0xee2b[1461]](),b=e[_0xee2b[1451]](),j=e[_0xee2b[1455]](),h=e[_0xee2b[1456]](),g=e[_0xee2b[1469]](),i=_0xee2b[27],d=_0xee2b[27],m;switch(e[_0xee2b[1445]]()){case _0xee2b[1429]:i=c==1?a.L(_0xee2b[578]):k(a.L(_0xee2b[582]),c);break;case _0xee2b[1436]:if(b&&b[_0xee2b[4]]){d=a[_0xee2b[1775]](b)}else {if(f){d=Ext[_0xee2b[703]][_0xee2b[1776]][f[_0xee2b[484]]()]}};i=k(c==1?a.L(_0xee2b[579]):a.L(_0xee2b[583]),c,d);break;case _0xee2b[1437]:if(b&&b[_0xee2b[4]]&&g&&g[_0xee2b[4]]){d=a[_0xee2b[1775]](b,g)}else {if(j&&j[_0xee2b[4]]){j[_0xee2b[1120]](function(b,a){return b-a});d=a[_0xee2b[1777]](j)}else {if(f){d=f[_0xee2b[479]]()}}};i=k(c==1?a.L(_0xee2b[580]):a.L(_0xee2b[584]),c,d);break;case _0xee2b[1438]:var o=b&&b[_0xee2b[4]]&&g&&g[_0xee2b[4]],p=h&&h[_0xee2b[4]],l,n;n=o?a[_0xee2b[1775]](b,g):f[_0xee2b[479]]();if(p){h[_0xee2b[1120]](function(b,a){return b-a});if(h[_0xee2b[4]]>2){m=function(a){return Ext[_0xee2b[703]][_0xee2b[1778]](a-1)}}else {m=function(a){return Ext[_0xee2b[703]][_0xee2b[1779]][a-1]}}l=a[_0xee2b[1777]](h,m)}else {l=Ext[_0xee2b[703]][_0xee2b[1779]][f[_0xee2b[480]]()]};i=k(c==1?a.L(_0xee2b[581]):a.L(_0xee2b[585]),c,n,l);break;}return i},getDaysLegend:function(b,e){var a=this,d=Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]],g=_0xee2b[27],c=_0xee2b[27],f;if(e&&e[_0xee2b[4]]){g=a[_0xee2b[1777]](e,function(c){return a.L(_0xee2b[1780]+c)})}if(b[_0xee2b[4]]){b[_0xee2b[1120]](function(a,c){return d[_0xee2b[1516]](a)[0]-d[_0xee2b[1516]](c)[0]});var h=b[_0xee2b[73]](_0xee2b[72]);switch(h){case a[_0xee2b[1781]]:c=a.L(_0xee2b[524]);break;case a[_0xee2b[1782]]:c=a.L(_0xee2b[570]);break;case a[_0xee2b[1783]]:c=a.L(_0xee2b[571]);break;default:if(b[_0xee2b[4]]>2){f=function(a){return Ext[_0xee2b[703]][_0xee2b[1784]](d[_0xee2b[1516]](a)[0])}}else {f=function(a){return Ext[_0xee2b[703]][_0xee2b[1776]][d[_0xee2b[1516]](a)[0]]}};c=a[_0xee2b[1777]](b,f);}}return Ext[_0xee2b[1041]][_0xee2b[880]](a.L(_0xee2b[1785]),g,c)},arrayToText:function(d,f,b,c){b=b||this.L(_0xee2b[287]);c=c||this.L(_0xee2b[577]);var e=_0xee2b[27],h=_0xee2b[27];for(var a=0,g=d[_0xee2b[4]];a<g;){e+=h+(f?f(d[a]):d[a]);a++;h=a==g-1?c:b}return e}});Ext[_0xee2b[6]](_0xee2b[1786],{nbrOfBandsByResource:null,bandIndexToPxConvertFn:null,bandIndexToPxConvertScope:null,constructor:function(a){Ext[_0xee2b[8]](this,a);this[_0xee2b[1787]]={}},clearCache:function(a){if(a){delete this[_0xee2b[1787]][a[_0xee2b[1049]]]}else {this[_0xee2b[1787]]={}}},getNumberOfBands:function(a,b){var c=this[_0xee2b[1787]];if(c[_0xee2b[53]](a[_0xee2b[1049]])){return c[a[_0xee2b[1049]]]}var d=Ext[_0xee2b[1]](b)?b():b;var e=Ext[_0xee2b[26]][_0xee2b[41]](d,function(c){return {start:c[_0xee2b[712]](),end:c[_0xee2b[713]](),event:c}});return this[_0xee2b[1788]](e,a)},applyLayout:function(b,c){var a=b[_0xee2b[191]]();var d=this;a[_0xee2b[1120]](function(a,e){return d[_0xee2b[1789]](a[_0xee2b[1440]],e[_0xee2b[1440]])});return this[_0xee2b[1787]][c[_0xee2b[1049]]]=this[_0xee2b[1790]](a)},sortEvents:function(a,c){var d=a[_0xee2b[712]]();var b=c[_0xee2b[712]]();var e=d-b===0;if(e){return a[_0xee2b[713]]()>c[_0xee2b[713]]()?-1:1}else {return d<b?-1:1}},layoutEventsInBands:function(b){var c=0;do{var a=b[0];while(a){a[_0xee2b[686]]=this[_0xee2b[1792]][_0xee2b[293]](this[_0xee2b[1791]]||this,c,a[_0xee2b[1440]]);Ext[_0xee2b[26]][_0xee2b[63]](b,a);a=this[_0xee2b[1793]](a,b)}c++}while(b[_0xee2b[4]]>0);return c},findClosestSuccessor:function(d,c){var e=Infinity,f,i=d[_0xee2b[771]],b,g=d[_0xee2b[771]]-d[_0xee2b[179]]===0;for(var a=0,h=c[_0xee2b[4]];a<h;a++){b=c[a][_0xee2b[179]]-i;if(b>=0&&b<e&&(b>0||c[a][_0xee2b[771]]-c[a][_0xee2b[179]]>0||!g)){f=c[a];e=b}}return f}});Ext[_0xee2b[6]](_0xee2b[1794],{extend:_0xee2b[1786],timeAxisViewModel:null,layoutEventsInBands:function(b){var g=this[_0xee2b[810]];var d=g[_0xee2b[1795]];var c=0;do{var a=b[0];while(a){a[_0xee2b[686]]=this[_0xee2b[1792]][_0xee2b[293]](this[_0xee2b[1791]]||this,c,a[_0xee2b[1440]]);var f=Math[_0xee2b[424]](d[_0xee2b[1764]](a[_0xee2b[179]]));var h=this[_0xee2b[810]][_0xee2b[1796]](d[_0xee2b[1752]](f)[_0xee2b[712]]());var e=this[_0xee2b[810]][_0xee2b[755]]();a[_0xee2b[1354]]=h;a[_0xee2b[773]]=e;Ext[_0xee2b[26]][_0xee2b[63]](b,a);a=this[_0xee2b[1793]](a,b)}c++}while(b[_0xee2b[4]]>0);return c},findClosestSuccessor:function(d,b){var c=this[_0xee2b[810]][_0xee2b[1795]];var g=Math[_0xee2b[424]](c[_0xee2b[1764]](d[_0xee2b[179]]));var f=c[_0xee2b[1752]](g);for(var a=0,e=b[_0xee2b[4]];a<e;a++){if(b[a][_0xee2b[179]]>=f[_0xee2b[713]]()){return b[a]}}}});Ext[_0xee2b[6]](_0xee2b[1797],{requires:[_0xee2b[1140]],view:null,constructor:function(a){Ext[_0xee2b[8]](this,a)},applyLayout:function(c,i){if(c[_0xee2b[4]]===0){return}var l=this;c[_0xee2b[1120]](function(a,b){return l[_0xee2b[1789]](a[_0xee2b[1440]],b[_0xee2b[1440]])});var e,f,b;for(var a=0,h=c[_0xee2b[4]];a<h;a++){f=c[a];e=this[_0xee2b[1798]](c,f);var d=this[_0xee2b[1799]](c,a);if(d[_0xee2b[4]]>1){f[_0xee2b[1354]]=e[_0xee2b[179]];f[_0xee2b[773]]=e[_0xee2b[771]]-e[_0xee2b[179]];b=1;while(b<d[_0xee2b[4]]-1&&d[b+1][_0xee2b[179]]-f[_0xee2b[179]]===0){b++}var k=this[_0xee2b[1798]](c,d[b]);if(k&&k[_0xee2b[179]]<0.8){d=d[_0xee2b[191]](0,b)}}var g=d[_0xee2b[4]],j=(e[_0xee2b[771]]-e[_0xee2b[179]])/g;for(b=0;b<g;b++){d[b][_0xee2b[773]]=j;d[b][_0xee2b[1354]]=e[_0xee2b[179]]+b*j}a+=g-1}for(a=0,h=c[_0xee2b[4]];a<h;a++){c[a][_0xee2b[773]]=c[a][_0xee2b[773]]*i;c[a][_0xee2b[1354]]=this[_0xee2b[829]][_0xee2b[1800]]+c[a][_0xee2b[1354]]*i}},findStartSlot:function(c,d){var a=this[_0xee2b[1801]](c,d),b;if(a[_0xee2b[4]]===0){return {start:0,end:1}}for(b=0;b<a[_0xee2b[4]];b++){if(b===0&&a[0][_0xee2b[1354]]>0){return {start:0,end:a[0][_0xee2b[1354]]}}else {if(a[b][_0xee2b[1354]]+a[b][_0xee2b[773]]<(b<a[_0xee2b[4]]-1?a[b+1][_0xee2b[1354]]:1)){return {start:a[b][_0xee2b[1354]]+a[b][_0xee2b[773]],end:b<a[_0xee2b[4]]-1?a[b+1][_0xee2b[1354]]:1}}}}return !1},getPriorOverlappingEvents:function(b,c){var h=Sch[_0xee2b[49]][_0xee2b[703]],g=c[_0xee2b[179]],f=c[_0xee2b[771]],d=[];for(var a=0,e=Ext[_0xee2b[26]][_0xee2b[147]](b,c);a<e;a++){if(h[_0xee2b[714]](g,f,b[a][_0xee2b[179]],b[a][_0xee2b[771]])){d[_0xee2b[11]](b[a])}}d[_0xee2b[1120]](this[_0xee2b[1802]]);return d},sortOverlappers:function(b,a){return b[_0xee2b[1354]]<a[_0xee2b[1354]]?-1:1},getCluster:function(a,c){if(c>=a[_0xee2b[4]]-1){return [a[c]]}var g=[a[c]],f=a[c][_0xee2b[179]],e=a[c][_0xee2b[771]],h=a[_0xee2b[4]],d=Sch[_0xee2b[49]][_0xee2b[703]],b=c+1;while(b<h&&d[_0xee2b[714]](f,e,a[b][_0xee2b[179]],a[b][_0xee2b[771]])){g[_0xee2b[11]](a[b]);f=d[_0xee2b[715]](f,a[b][_0xee2b[179]]);e=d[_0xee2b[203]](a[b][_0xee2b[771]],e);b++}return g},sortEvents:function(a,c){var d=a[_0xee2b[712]](),g=a[_0xee2b[713]]();var b=c[_0xee2b[712]](),f=c[_0xee2b[713]]();var e=d-b===0;if(e){return g>f?-1:1}else {return d<b?-1:1}}});Ext[_0xee2b[6]](_0xee2b[1803],{extend:_0xee2b[782],mixins:{observable:_0xee2b[108]},lockableScope:_0xee2b[686],schedulerView:null,timeAxis:null,expandToFitView:!1,disabled:!1,cls:null,clsField:_0xee2b[1109],template:null,store:null,renderElementsBuffered:!1,renderDelay:0,refreshSizeOnItemUpdate:!0,_renderTimer:null,showHeaderElements:!1,headerTemplate:null,innerHeaderTpl:null,headerContainerCls:_0xee2b[1804],headerContainerEl:null,renderingDoneEvent:null,constructor:function(a){this[_0xee2b[1805]]=this[_0xee2b[1805]]||_0xee2b[1806]+Ext[_0xee2b[388]]();Ext[_0xee2b[8]](this,a);this[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this);this[_0xee2b[9]](arguments)},init:function(a){if(Ext[_0xee2b[723]][_0xee2b[722]]&&!a[_0xee2b[1807]]()){a[_0xee2b[149]](_0xee2b[1808],function(){this[_0xee2b[1809]](a)},this);return}if(typeof this[_0xee2b[1810]]===_0xee2b[308]){this[_0xee2b[1810]]=new Ext.XTemplate(this[_0xee2b[1810]])}var b=this[_0xee2b[1810]];if(!this[_0xee2b[1811]]){this[_0xee2b[1811]]=new Ext.XTemplate(_0xee2b[1812],_0xee2b[1813]+(b?_0xee2b[1814]:_0xee2b[27])+_0xee2b[1815],_0xee2b[1816],{renderInner:function(c){return b[_0xee2b[8]](c)}})}this[_0xee2b[1817]]=a[_0xee2b[808]]();this[_0xee2b[1818]]=a;this[_0xee2b[1795]]=a[_0xee2b[695]]();this[_0xee2b[64]]=Ext[_0xee2b[132]][_0xee2b[131]](this[_0xee2b[64]]);if(!this[_0xee2b[64]]){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[1819])}if(this[_0xee2b[1820]]){this[_0xee2b[1818]][_0xee2b[149]]({horizontaltimeaxiscolumnrender:this[_0xee2b[1821]],scope:this})}if(!this[_0xee2b[1817]][_0xee2b[787]]()){this[_0xee2b[1817]][_0xee2b[149]]({viewready:this[_0xee2b[1822]],scope:this})}else {this[_0xee2b[1822]]()}},setDisabled:function(a){if(a){this[_0xee2b[1823]]()}this[_0xee2b[144]]=a},removeElements:function(){this[_0xee2b[1824]]();if(this[_0xee2b[1820]]){this[_0xee2b[1825]]()}},getBodyElements:function(){var a=this[_0xee2b[1826]]();if(a){return a[_0xee2b[760]](_0xee2b[495]+this[_0xee2b[1805]])}return null},getHeaderContainerEl:function(){var a=this[_0xee2b[1827]],d=Ext[_0xee2b[238]],b;if(!a||!a[_0xee2b[758]]){if(this[_0xee2b[1817]][_0xee2b[1828]]()){var c=this[_0xee2b[1818]][_0xee2b[1829]]();if(c[_0xee2b[827]]){b=c[_0xee2b[827]][_0xee2b[726]]}else {return null}}else {b=this[_0xee2b[1818]][_0xee2b[1830]][_0xee2b[290]]()[_0xee2b[265]]}if(b){a=b[_0xee2b[861]](_0xee2b[495]+this[_0xee2b[1831]]);if(!a){a=b[_0xee2b[83]]({cls:this[_0xee2b[1831]]})}this[_0xee2b[1827]]=a}}return a},getHeaderElements:function(){var a=this[_0xee2b[1832]]();if(a){return a[_0xee2b[760]](_0xee2b[495]+this[_0xee2b[1805]])}return null},removeBodyElements:function(){var a=this[_0xee2b[1833]]();if(a){a[_0xee2b[25]](function(a){a[_0xee2b[218]]()})}},removeHeaderElements:function(){var a=this[_0xee2b[1834]]();if(a){a[_0xee2b[25]](function(a){a[_0xee2b[218]]()})}},getElementId:function(a){return this[_0xee2b[1805]]+_0xee2b[1131]+a[_0xee2b[1049]]},getHeaderElementId:function(a){return this[_0xee2b[1805]]+_0xee2b[1835]+a[_0xee2b[1049]]},getTemplateData:function(a){return this[_0xee2b[1836]]?this[_0xee2b[1836]](a):a[_0xee2b[22]]},getElementCls:function(b,a){var c=b[_0xee2b[1227]]||this[_0xee2b[1227]];if(!a){a=this[_0xee2b[1837]](b)}return this[_0xee2b[489]]+_0xee2b[60]+this[_0xee2b[1805]]+_0xee2b[60]+(a[c]||_0xee2b[27])},getHeaderElementCls:function(b,a){var c=b[_0xee2b[1227]]||this[_0xee2b[1227]];if(!a){a=this[_0xee2b[1837]](b)}return _0xee2b[1838]+this[_0xee2b[1805]]+_0xee2b[60]+(a[c]||_0xee2b[27])},getContainerEl:function(){return this[_0xee2b[1817]][_0xee2b[1839]]()},onViewReady:function(b){var a=this[_0xee2b[1817]];this[_0xee2b[1840]]={load:this[_0xee2b[1841]],datachanged:this[_0xee2b[1841]],clear:this[_0xee2b[1841]],update:this[_0xee2b[1842]],scope:this};this[_0xee2b[64]][_0xee2b[149]](this[_0xee2b[1840]]);this[_0xee2b[1818]][_0xee2b[149]]({beforemodechange:this[_0xee2b[1843]],modechange:this[_0xee2b[1844]],scope:this});this[_0xee2b[1845]]={refresh:this[_0xee2b[1841]],scope:this};this[_0xee2b[1846]]={afterlayout:this[_0xee2b[1841]],scope:this};if(a[_0xee2b[1847]]()){a[_0xee2b[1848]][_0xee2b[149]](this[_0xee2b[1846]])}else {a[_0xee2b[149]](this[_0xee2b[1845]]);this[_0xee2b[1841]]()}},onTimelinePanelBeforeModeChange:function(){var a=this[_0xee2b[1817]];if(a[_0xee2b[1847]]()){a[_0xee2b[1848]][_0xee2b[152]](this[_0xee2b[1846]])}else {this[_0xee2b[1817]][_0xee2b[152]](this[_0xee2b[1845]])}},onTimelinePanelModeChange:function(){var a=this[_0xee2b[1817]];if(a[_0xee2b[1847]]()){a[_0xee2b[1848]][_0xee2b[149]](this[_0xee2b[1846]])}else {a[_0xee2b[149]](this[_0xee2b[1845]])}this[_0xee2b[1849]]()},forceNewRenderingTimeout:function(){this[_0xee2b[1850]]=!1;clearTimeout(this._renderTimer);this[_0xee2b[1841]]()},renderElements:function(){if(this[_0xee2b[1850]]||this[_0xee2b[144]]){return}this[_0xee2b[1850]]=!0;clearTimeout(this._renderTimer);this[_0xee2b[1851]]=Ext[_0xee2b[283]][_0xee2b[1854]](this[_0xee2b[1852]],this[_0xee2b[1853]],this)},setElementX:function(b,a){if(this[_0xee2b[1818]][_0xee2b[1855]]){b[_0xee2b[1856]](a)}else {b[_0xee2b[1857]](a)}},getHeaderElementPosition:function(b){var a=this[_0xee2b[1817]][_0xee2b[1858]]();return Math[_0xee2b[704]](a[_0xee2b[1796]](b))},renderBodyElementsInternal:function(d){var c=this[_0xee2b[1795]][_0xee2b[697]](),b=this[_0xee2b[1795]][_0xee2b[698]](),a=this[_0xee2b[1859]](c,b,d);if(a){this[_0xee2b[1860]][_0xee2b[384]](this[_0xee2b[1826]](),a)}},getHeaderElementData:function(a,b){throw _0xee2b[29]},renderHeaderElements:function(b){var a=this[_0xee2b[1832]]();if(a){var c=this[_0xee2b[1861]](b);this[_0xee2b[1811]][_0xee2b[384]](a,c)}},renderElementsInternal:function(){this[_0xee2b[1850]]=!1;var a=this[_0xee2b[1817]];if(this[_0xee2b[144]]||a[_0xee2b[1862]]||!this[_0xee2b[1826]]()||a[_0xee2b[64]][_0xee2b[1466]]()===0){return}if(a[_0xee2b[1847]]()){var b=a[_0xee2b[1864]]()[_0xee2b[1863]]();if(b[0]&&!b[0][_0xee2b[262]]){return}}this[_0xee2b[1823]]();this[_0xee2b[1865]]();if(this[_0xee2b[1820]]){this[_0xee2b[1827]]=null;this[_0xee2b[1821]]()}if(this[_0xee2b[1866]]){this[_0xee2b[180]](this[_0xee2b[1866]],this)}},getElementData:function(c,b,a,d){throw _0xee2b[29]},updateBodyElement:function(c){var a=Ext[_0xee2b[55]](this[_0xee2b[1867]](c));if(a){var d=this[_0xee2b[1795]][_0xee2b[697]](),e=this[_0xee2b[1795]][_0xee2b[698]](),b=this[_0xee2b[1859]](d,e,[c])[0];if(b){a[_0xee2b[758]][_0xee2b[1868]]=b[_0xee2b[1869]];a[_0xee2b[1870]](b[_0xee2b[686]]);this[_0xee2b[1871]](a,b[_0xee2b[1354]]);a[_0xee2b[1872]](b[_0xee2b[773]],b[_0xee2b[747]])}else {Ext[_0xee2b[218]](a)}}else {this[_0xee2b[1865]]([c])}},updateHeaderElement:function(c){var a=Ext[_0xee2b[55]](this[_0xee2b[1873]](c));if(a){var b=this[_0xee2b[1861]]([c])[0];if(b){a[_0xee2b[758]][_0xee2b[1868]]=b[_0xee2b[489]];if(this[_0xee2b[1817]][_0xee2b[1828]]()){this[_0xee2b[1871]](a,b[_0xee2b[1780]]);a[_0xee2b[839]](b[_0xee2b[1874]])}else {a[_0xee2b[1870]](b[_0xee2b[1780]]);a[_0xee2b[863]](b[_0xee2b[1874]])}}else {Ext[_0xee2b[218]](a)}}else {this[_0xee2b[1821]]([c])}},destroy:function(){clearTimeout(this._renderTimer);this[_0xee2b[64]][_0xee2b[152]](this[_0xee2b[1840]]);if(this[_0xee2b[64]][_0xee2b[1875]]){this[_0xee2b[64]][_0xee2b[218]]()}},refreshSingle:function(b,a){a=a instanceof Array?a:[a];Ext[_0xee2b[26]][_0xee2b[25]](a,function(c){this[_0xee2b[1876]](c);if(this[_0xee2b[1820]]){this[_0xee2b[1877]](c)}},this)}});Ext[_0xee2b[6]](_0xee2b[1878],{extend:_0xee2b[1803],alias:_0xee2b[1879],cls:_0xee2b[1880],showTip:!0,innerTpl:null,prepareTemplateData:null,side:null,init:function(a){if(typeof this[_0xee2b[1881]]===_0xee2b[308]){this[_0xee2b[1881]]=new Ext.XTemplate(this[_0xee2b[1881]])}this[_0xee2b[1882]]=a[_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354];var b=this[_0xee2b[1881]];if(!this[_0xee2b[1860]]){this[_0xee2b[1860]]=new Ext.XTemplate(_0xee2b[1812],_0xee2b[1883]+(this[_0xee2b[1884]]?_0xee2b[1885]:_0xee2b[27])+_0xee2b[1886]+this[_0xee2b[1882]]+_0xee2b[1887]+(b?_0xee2b[1814]:_0xee2b[27])+_0xee2b[1815],_0xee2b[1816],{getTipText:function(b){return a[_0xee2b[808]]()[_0xee2b[1888]](b.Date)+_0xee2b[60]+(b[_0xee2b[1889]]||_0xee2b[27])},renderInner:function(c){return b[_0xee2b[8]](c)}})}this[_0xee2b[9]](arguments)},getElementData:function(k,p,j){var o=this[_0xee2b[64]],c=this[_0xee2b[1817]],m=c[_0xee2b[1828]](),l=c[_0xee2b[1847]](),i=j||o[_0xee2b[1005]](),g=[],r,q,d,b,a;for(var f=0,n=i[_0xee2b[4]];f<n;f++){d=i[f];b=d[_0xee2b[55]](_0xee2b[703]);if(b&&c[_0xee2b[1795]][_0xee2b[1763]](b)){a=Ext[_0xee2b[8]]({},this[_0xee2b[1837]](d));a[_0xee2b[388]]=this[_0xee2b[1867]](d);a[_0xee2b[1869]]=this[_0xee2b[1890]](d,a);if(l){var e=c[_0xee2b[1892]](k,null,this[_0xee2b[1891]]);e=c[_0xee2b[1892]](b,b);a[_0xee2b[1354]]=e[_0xee2b[1893]];a[_0xee2b[686]]=e[_0xee2b[1894]];a[_0xee2b[773]]=e[_0xee2b[867]]-e[_0xee2b[1354]]}else {var h=c[_0xee2b[1895]](b);if(m){a[_0xee2b[1354]]=h}else {a[_0xee2b[686]]=h}}g[_0xee2b[11]](a)}}return g},getHeaderElementData:function(c){var h=this[_0xee2b[1795]][_0xee2b[697]](),j=this[_0xee2b[1795]][_0xee2b[698]](),k=this[_0xee2b[1817]][_0xee2b[1828]](),g=[],b,d,f,a;c=c||this[_0xee2b[64]][_0xee2b[1005]]();for(var e=0,i=c[_0xee2b[4]];e<i;e++){b=c[e];d=b[_0xee2b[55]](_0xee2b[703]);if(d&&Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1175]](d,h,j)){f=this[_0xee2b[1896]](d);a=this[_0xee2b[1837]](b);a=Ext[_0xee2b[8]]({side:k?this[_0xee2b[1882]]:_0xee2b[686],cls:this[_0xee2b[1897]](b,a),position:f},a);a[_0xee2b[388]]=this[_0xee2b[1873]](b);g[_0xee2b[11]](a)}}return g}});Ext[_0xee2b[6]](_0xee2b[1898],{extend:_0xee2b[1878],requires:[_0xee2b[1716]],showTip:!1,cls:_0xee2b[1899],timeAxisViewModel:null,renderingDoneEvent:_0xee2b[1900],useLowestHeader:null,init:function(a){this[_0xee2b[1795]]=a[_0xee2b[695]]();this[_0xee2b[810]]=a[_0xee2b[810]];this[_0xee2b[1818]]=a;this[_0xee2b[64]]=new Ext[_0xee2b[22]].JsonStore({fields:[_0xee2b[703]]});this[_0xee2b[9]](arguments);a[_0xee2b[149]]({destroy:this[_0xee2b[1901]],scope:this});this[_0xee2b[810]][_0xee2b[149]](_0xee2b[724],this[_0xee2b[1902]],this);this[_0xee2b[1902]]()},onHostDestroy:function(){this[_0xee2b[810]][_0xee2b[152]](_0xee2b[724],this[_0xee2b[1902]],this)},populate:function(){this[_0xee2b[64]][_0xee2b[1903]](this[_0xee2b[349]]())},getData:function(){var b=[];var a=this[_0xee2b[810]];var d=this[_0xee2b[1904]]?a[_0xee2b[1905]]():a[_0xee2b[1906]];var f=!!(a[_0xee2b[875]]&&a[_0xee2b[875]][d][_0xee2b[1907]]);if(f){var e=a[_0xee2b[749]]()[d];for(var c=1,g=e[_0xee2b[4]];c<g;c++){b[_0xee2b[11]]({Date:e[c][_0xee2b[179]]})}}else {a[_0xee2b[1909]](d,function(c,e,d){if(d>0){b[_0xee2b[11]]({Date:c,Cls:a[_0xee2b[873]](c)?_0xee2b[1908]:_0xee2b[27]})}})}return b}});Ext[_0xee2b[6]](_0xee2b[1910],{singleton:!0,vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:200,activeCmp:null,activeEl:null,scrollElRegion:null,scrollProcess:{},pt:null,direction:_0xee2b[1911],constructor:function(){this[_0xee2b[1912]]=Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[1912]],this)},triggerRefresh:function(){if(this[_0xee2b[1913]]){this[_0xee2b[1914]]();this[_0xee2b[1915]]();this[_0xee2b[799]]()}},doScroll:function(){var h=this[_0xee2b[1916]],e=h[_0xee2b[1917]],f=e[_0xee2b[1855]]&&!e[_0xee2b[694]](_0xee2b[1918]),c=h[_0xee2b[1919]][0],a=this[_0xee2b[1735]],g=this[_0xee2b[1921]][_0xee2b[1920]](),i=this[_0xee2b[1921]][_0xee2b[1922]]();if(c===_0xee2b[1923]){a=Math[_0xee2b[203]](a,f?g:this[_0xee2b[1924]][_0xee2b[1893]]-g)}else {if(c===_0xee2b[526]){a=Math[_0xee2b[203]](a,this[_0xee2b[1924]][_0xee2b[1894]]-i)}}a=Math[_0xee2b[715]](a,0);var b=0,d=0;if(c===_0xee2b[1923]){b=a}if(c===_0xee2b[1925]){b=-a}if(c===_0xee2b[1926]){d=-a}if(c===_0xee2b[526]){d=a}if(f){b=-b}if(b){e[_0xee2b[1929]](b,{duration:this[_0xee2b[1927]],callback:this[_0xee2b[1928]],scope:this})}else {if(d){e[_0xee2b[1930]](d,{duration:this[_0xee2b[1927]],callback:this[_0xee2b[1928]],scope:this})}}},clearScrollInterval:function(){var a=this[_0xee2b[1916]];if(a[_0xee2b[388]]){clearTimeout(a[_0xee2b[388]])}a[_0xee2b[388]]=0;a[_0xee2b[1917]]=null;a[_0xee2b[1919]]=_0xee2b[27]},isScrollAllowed:function(a){switch(this[_0xee2b[1934]]){case _0xee2b[1911]:return !0;case _0xee2b[1931]:return a===_0xee2b[867]||a===_0xee2b[1354];case _0xee2b[1932]:return a===_0xee2b[694]||a===_0xee2b[861];default:throw new Error(_0xee2b[1933]+this[_0xee2b[1934]]);}},startScrollInterval:function(b,a){if(!this[_0xee2b[1935]](a)){return}this[_0xee2b[1915]]();this[_0xee2b[1916]][_0xee2b[1917]]=b;this[_0xee2b[1916]][_0xee2b[1919]]=a;this[_0xee2b[1916]][_0xee2b[388]]=setTimeout(this[_0xee2b[1912]],this[_0xee2b[1545]])},onMouseMove:function(c){var f=c?{x:c[_0xee2b[809]](),y:c[_0xee2b[1936]](),right:c[_0xee2b[809]](),bottom:c[_0xee2b[1936]]()}:this[_0xee2b[1937]],k=f[_0xee2b[1893]],l=f[_0xee2b[1894]],e=this[_0xee2b[1916]],a=this[_0xee2b[1921]],d=a[_0xee2b[1920]](),h=a[_0xee2b[1922]](),n,j=a[_0xee2b[1855]]&&!a[_0xee2b[694]](_0xee2b[1918]),i=this[_0xee2b[1913]],b=this[_0xee2b[1938]],o=i[_0xee2b[758]],g=this,m=a[_0xee2b[694]](_0xee2b[805])[_0xee2b[1941]]()[_0xee2b[1940]]()[_0xee2b[1939]]()||i[_0xee2b[1939]]();this[_0xee2b[1937]]=f;if(b&&b[_0xee2b[1087]](f)&&m){if(b[_0xee2b[754]]-l<=g[_0xee2b[1942]]&&h<this[_0xee2b[1924]][_0xee2b[1894]]){if(e[_0xee2b[1917]]!=a){this[_0xee2b[1943]](a,_0xee2b[861])}return}else {if(b[_0xee2b[867]]-k<=g[_0xee2b[1944]]&&(j?d>0:d<this[_0xee2b[1924]][_0xee2b[1893]])){if(e[_0xee2b[1917]]!=a){this[_0xee2b[1943]](a,_0xee2b[867])}return}else {if(l-b[_0xee2b[686]]<=g[_0xee2b[1942]]&&h>0){if(e[_0xee2b[1917]]!=a){this[_0xee2b[1943]](a,_0xee2b[694])}return}else {if(k-b[_0xee2b[1354]]<=g[_0xee2b[1944]]&&(j?d<this[_0xee2b[1924]][_0xee2b[1893]]:d>0)){if(e[_0xee2b[1917]]!=a){this[_0xee2b[1943]](a,_0xee2b[1354])}return}}}}}this[_0xee2b[1915]]()},refreshElRegion:function(){var a=this[_0xee2b[1913]][_0xee2b[1945]]();this[_0xee2b[1938]]=this[_0xee2b[1921]][_0xee2b[1946]]()},activate:function(a,b){var c=Ext[_0xee2b[857]]();this[_0xee2b[1934]]=b||_0xee2b[1911];this[_0xee2b[1921]]=a;this[_0xee2b[1913]]=a[_0xee2b[787]]();this[_0xee2b[1924]]=a[_0xee2b[1947]]();this[_0xee2b[1914]]();this[_0xee2b[1913]][_0xee2b[149]](_0xee2b[798],this[_0xee2b[799]],this)},deactivate:function(){if(this[_0xee2b[1913]]){this[_0xee2b[1915]]();this[_0xee2b[1913]][_0xee2b[152]](_0xee2b[798],this[_0xee2b[799]],this);this[_0xee2b[1913]]=this[_0xee2b[1921]]=this[_0xee2b[1938]]=null;this[_0xee2b[1934]]=_0xee2b[1911]}}});Ext[_0xee2b[6]](_0xee2b[1948],{extend:_0xee2b[1949],requires:[_0xee2b[1950]],xStep:1,yStep:1,initEl:function(b){var a=this,d,c;a[_0xee2b[9]](arguments);if(Ext[_0xee2b[1952]][_0xee2b[1951]]){if(!Ext[_0xee2b[1953]]||!window[_0xee2b[1954]]){a[_0xee2b[325]](a[_0xee2b[1955]],a[_0xee2b[1956]]);a[_0xee2b[1956]][_0xee2b[784]][_0xee2b[1957]]=!0;a[_0xee2b[252]](a[_0xee2b[1955]],a[_0xee2b[1956]])}}},constructor:function(){this[_0xee2b[9]](arguments);this[_0xee2b[149]](_0xee2b[1958],this[_0xee2b[1959]])},bindListenersOnDragStart:function(){var a=this[_0xee2b[265]];a[_0xee2b[149]](this[_0xee2b[1960]]());this[_0xee2b[149]](_0xee2b[1961],this[_0xee2b[1962]],this,{single:!0})},unbindListenersOnDragEnd:function(){this[_0xee2b[265]]&&this[_0xee2b[265]][_0xee2b[152]](this[_0xee2b[1960]]())},getListeners:function(){return {scroll:this[_0xee2b[799]],pinchstart:this[_0xee2b[802]],scope:this}},destroy:function(){clearTimeout(this[_0xee2b[1963]]);this[_0xee2b[9]](arguments)},setXStep:function(a){this[_0xee2b[1964]]=a},startScroll:null,setYStep:function(a){this[_0xee2b[1965]]=a},getCurrentScroll:function(){return this[_0xee2b[265]][_0xee2b[1966]]()},getRegion:function(){var g=this[_0xee2b[1967]],a=this[_0xee2b[1968]]();if(Ext[_0xee2b[960]]&&this[_0xee2b[1855]]){a[_0xee2b[1354]]=this[_0xee2b[265]][_0xee2b[758]][_0xee2b[1969]]-this[_0xee2b[265]][_0xee2b[793]]()-a[_0xee2b[1354]]}var b=this[_0xee2b[1970]](),d=b[0],f=b[1],k=a[_0xee2b[1354]]-this[_0xee2b[1971]][_0xee2b[1354]],m=a[_0xee2b[686]]-this[_0xee2b[1971]][_0xee2b[686]],i=g[0]-k,h=g[1]-m,c=Math[_0xee2b[203]](i,d),e=Math[_0xee2b[203]](h,f),j=Math[_0xee2b[1524]](i-d),l=Math[_0xee2b[1524]](h-f);return new Ext[_0xee2b[49]].Region(e,c+j,e+l,c)},onMouseDown:function(a,c){var b=a[_0xee2b[1440]][_0xee2b[1972]]||[];if(b[_0xee2b[4]]>1||!(a[_0xee2b[249]]===_0xee2b[784]&&a[_0xee2b[1973]]===_0xee2b[1974])){return}a[_0xee2b[1975]]=Ext[_0xee2b[688]];this[_0xee2b[1967]]=a[_0xee2b[1970]]();this[_0xee2b[9]]([a,c]);this[_0xee2b[1976]]=this[_0xee2b[1967]];this[_0xee2b[1971]]=this[_0xee2b[1968]]();if(Ext[_0xee2b[960]]&&this[_0xee2b[1855]]){this[_0xee2b[1971]][_0xee2b[1354]]=this[_0xee2b[265]][_0xee2b[758]][_0xee2b[1969]]-this[_0xee2b[265]][_0xee2b[793]]()-this[_0xee2b[1971]][_0xee2b[1354]]}},onMouseMove:function(a,g){a[_0xee2b[1977]]();var c=a[_0xee2b[249]]===_0xee2b[1978]?this[_0xee2b[1976]]:a[_0xee2b[1970]](),e=this[_0xee2b[1967]];if(!this[_0xee2b[1979]]){if(Math[_0xee2b[715]](Math[_0xee2b[1524]](e[0]-c[0]),Math[_0xee2b[1524]](e[1]-c[1]))>this[_0xee2b[1980]]){this[_0xee2b[1981]](a)}else {return}}var b=c[0],d=c[1];if(this[_0xee2b[1964]]>1){b-=this[_0xee2b[1967]][0];b=Math[_0xee2b[704]](b/this[_0xee2b[1964]])*this[_0xee2b[1964]];b+=this[_0xee2b[1967]][0]}if(this[_0xee2b[1965]]>1){d-=this[_0xee2b[1967]][1];d=Math[_0xee2b[704]](d/this[_0xee2b[1965]])*this[_0xee2b[1965]];d+=this[_0xee2b[1967]][1]}var f=this[_0xee2b[1964]]>1||this[_0xee2b[1965]]>1;if(!f||b!==c[0]||d!==c[1]){this[_0xee2b[1976]]=[b,d];if(this[_0xee2b[180]](_0xee2b[798],this,a)===!1){this[_0xee2b[802]](a)}else {this[_0xee2b[1982]](a);this[_0xee2b[180]](_0xee2b[1983],this,a)}}}});Ext[_0xee2b[6]](_0xee2b[1984],{extend:_0xee2b[717],minuteHeight:8,minuteTop:2,hourHeight:8,hourTop:2,handLeft:10,mode:_0xee2b[527],setMode:function(a){this[_0xee2b[1719]]=a},getRotateStyle:function(a){return _0xee2b[1985][_0xee2b[675]](/D/g,a)},constructor:function(){var a=this;a[_0xee2b[9]]([_0xee2b[1986]+this[_0xee2b[1987]]+_0xee2b[1988]+this[_0xee2b[1989]]+_0xee2b[1990]+this[_0xee2b[1991]]+_0xee2b[1988]+this[_0xee2b[1992]]+_0xee2b[1993],{getMinuteStyle:a[_0xee2b[1994]],getHourStyle:a[_0xee2b[1994]]}])}});Ext[_0xee2b[6]](_0xee2b[1995],{extend:_0xee2b[1996],requires:[_0xee2b[717],_0xee2b[1984]],autoHide:!1,anchor:_0xee2b[1997],padding:_0xee2b[1998],showDelay:0,hideDelay:0,quickShowInterval:0,dismissDelay:0,trackMouse:!1,anchorOffset:5,shadow:!1,frame:!1,schedulerView:null,message:null,startDate:null,endDate:null,template:null,valid:!0,mode:null,offsetAdjust:[18,5],clockTpl:null,constructor:function(b){var a=this;a[_0xee2b[1999]]=new Sch[_0xee2b[2000]].ClockTemplate();a[_0xee2b[1138]]=a[_0xee2b[1139]]=new Date();if(!a[_0xee2b[1860]]){a[_0xee2b[1860]]=new Ext.XTemplate([_0xee2b[2001]+Ext[_0xee2b[238]]+_0xee2b[2002],{renderClock:function(e,c,d){return a[_0xee2b[1999]][_0xee2b[8]]({date:e,text:c,cls:d})}}])}a[_0xee2b[9]](arguments)},update:function(b,a,d,e,c){if(this[_0xee2b[1138]]-b!==0||this[_0xee2b[1139]]-a!==0||this[_0xee2b[2003]]!==d||this[_0xee2b[940]]!==e||this[_0xee2b[2004]]!=c){this[_0xee2b[1138]]=b;this[_0xee2b[1139]]=a;this[_0xee2b[2003]]=d;this[_0xee2b[940]]=e;this[_0xee2b[2004]]=c;var f=this[_0xee2b[1817]][_0xee2b[1888]](b),g=this[_0xee2b[1817]][_0xee2b[2005]](a,b);if(c){this[_0xee2b[1719]]=_0xee2b[2006];this[_0xee2b[1999]][_0xee2b[1720]](_0xee2b[2007])}else {this[_0xee2b[1719]]=_0xee2b[524];this[_0xee2b[1999]][_0xee2b[1720]](_0xee2b[527])}if(this[_0xee2b[1719]]===_0xee2b[2006]&&a[_0xee2b[1127]]()===0&&a[_0xee2b[1130]]()===0&&!(a[_0xee2b[481]]()===b[_0xee2b[481]]()&&a[_0xee2b[480]]()===b[_0xee2b[480]]()&&a[_0xee2b[479]]()===b[_0xee2b[479]]())){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].DAY,-1)}this[_0xee2b[9]]([this[_0xee2b[1860]][_0xee2b[8]]({valid:d,startDate:b,endDate:a,startText:f,endText:g,message:e,allDay:c})])}if(this[_0xee2b[262]]&&this[_0xee2b[854]]()){if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2008])){this[_0xee2b[2010]]()}else {this[_0xee2b[2011]]()}}},showForElement:function(b,a){if(Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1154]](this[_0xee2b[1817]][_0xee2b[2012]]()[_0xee2b[1734]],Sch[_0xee2b[49]][_0xee2b[703]].DAY)>=0){this[_0xee2b[1719]]=_0xee2b[2006];this[_0xee2b[264]](_0xee2b[2013]);this[_0xee2b[267]](_0xee2b[2014])}else {this[_0xee2b[1719]]=_0xee2b[2015];this[_0xee2b[267]](_0xee2b[2013]);this[_0xee2b[264]](_0xee2b[2014])}a=arguments[_0xee2b[4]]>1?a:this[_0xee2b[2016]][0];this[_0xee2b[2017]]=[a-this[_0xee2b[2016]][0],-this[_0xee2b[2016]][1]];this[_0xee2b[2018]](b);this[_0xee2b[2019]]();this[_0xee2b[2011]]()},realign:function(){this[_0xee2b[2021]](this[_0xee2b[969]],_0xee2b[2020],this[_0xee2b[2017]])},afterRender:function(){this[_0xee2b[9]](arguments);this[_0xee2b[265]][_0xee2b[149]](_0xee2b[2022],this[_0xee2b[2011]],this)}});Ext[_0xee2b[6]](_0xee2b[2023],{extend:_0xee2b[1996],alias:_0xee2b[2024],requires:[_0xee2b[1984]],trackMouse:!0,bodyCls:_0xee2b[2025],messageTpl:_0xee2b[2026],autoHide:!1,dismissDelay:1000,showDelay:0,schedulerView:null,clockTpl:null,lastTime:null,lastResource:null,initComponent:function(){var a=this;var b=a[_0xee2b[1817]];a[_0xee2b[1999]]=new Sch[_0xee2b[2000]].ClockTemplate();a[_0xee2b[2027]]=new Ext.XTemplate(a[_0xee2b[2027]]);a[_0xee2b[9]](arguments);a[_0xee2b[149]](_0xee2b[2028],a[_0xee2b[2029]],a);b[_0xee2b[252]](b[_0xee2b[265]],{mouseleave:function(){a[_0xee2b[256]]()},mousemove:a[_0xee2b[2030]],scope:a});b[_0xee2b[252]](b[_0xee2b[265]],{click:a[_0xee2b[2031]],scope:a,delay:1})},onBodyMouseDown:function(){this[_0xee2b[256]]()},handleMouseMove:function(b){var a=this,c=a[_0xee2b[1817]];if(a[_0xee2b[144]]){return}if(b[_0xee2b[2033]](_0xee2b[495]+c[_0xee2b[2032]],5)&&!b[_0xee2b[2033]](c[_0xee2b[2034]])&&b[_0xee2b[1973]]===_0xee2b[1974]){var d=c[_0xee2b[2035]](b,_0xee2b[424]);if(d){var e=c[_0xee2b[2036]](b[_0xee2b[2033]]());if(!a[_0xee2b[2037]]||d-a[_0xee2b[2037]]!==0||e!==a[_0xee2b[2038]]){a[_0xee2b[2038]]=e;if(a[_0xee2b[856]]){a[_0xee2b[2039]]();a[_0xee2b[2019]]()}a[_0xee2b[2040]](d,b)}}else {a[_0xee2b[256]]();a[_0xee2b[2037]]=a[_0xee2b[2038]]=null}}else {a[_0xee2b[256]]();a[_0xee2b[2037]]=a[_0xee2b[2038]]=null}},setClockMode:function(){var a=this,b=Sch[_0xee2b[49]][_0xee2b[703]],c=a[_0xee2b[1817]][_0xee2b[2012]]();if(b[_0xee2b[1154]](c[_0xee2b[1734]],b.DAY)>=0){a[_0xee2b[1999]][_0xee2b[1720]](_0xee2b[524])}else {a[_0xee2b[1999]][_0xee2b[1720]](_0xee2b[527])}},getText:function(){},updateHoverTip:function(a,c){if(a){var d=this[_0xee2b[1999]][_0xee2b[8]]({date:a,text:this[_0xee2b[1817]][_0xee2b[1888]](a)});var b=this[_0xee2b[2027]][_0xee2b[8]]({message:this[_0xee2b[2041]](a,c)});this[_0xee2b[724]](d+b);this[_0xee2b[2037]]=a}},hide:function(){this[_0xee2b[9]](arguments);this[_0xee2b[2037]]=this[_0xee2b[2038]]=null},tipOnBeforeShow:function(a){return !this[_0xee2b[144]]}});Ext[_0xee2b[6]](_0xee2b[2042],{requires:[_0xee2b[717],_0xee2b[2043],_0xee2b[1140],_0xee2b[1910],_0xee2b[1948],_0xee2b[1995],_0xee2b[2023]],disabled:!1,showHoverTip:!0,showDragTip:!0,dragTip:null,dragTolerance:2,hoverTip:null,validatorFn:Ext[_0xee2b[688]],validatorFnScope:null,trackerConfig:null,schedulerView:null,template:_0xee2b[2044],constructor:function(a){Ext[_0xee2b[8]](this,a||{});this[_0xee2b[2037]]=new Date();if(!(this[_0xee2b[1860]] instanceof Ext[_0xee2b[728]])){this[_0xee2b[1860]]=new Ext.Template(this[_0xee2b[1860]])}this[_0xee2b[1817]][_0xee2b[149]](_0xee2b[218],this[_0xee2b[2045]],this);if(Ext[_0xee2b[1952]][_0xee2b[1951]]){this[_0xee2b[1817]][_0xee2b[149]](_0xee2b[2046],this[_0xee2b[2047]],this)}else {this[_0xee2b[1817]][_0xee2b[265]][_0xee2b[149]](_0xee2b[798],this[_0xee2b[2047]],this,{single:!0})}this[_0xee2b[9]]([a])},setDisabled:function(a){this[_0xee2b[144]]=a;if(this[_0xee2b[2048]]&&this[_0xee2b[2048]][_0xee2b[253]]){this[_0xee2b[2048]][_0xee2b[253]](a)}if(this[_0xee2b[2049]]&&this[_0xee2b[2049]][_0xee2b[253]]){this[_0xee2b[2049]][_0xee2b[253]](a)}},getProxy:function(){if(!this[_0xee2b[379]]){this[_0xee2b[379]]=this[_0xee2b[1860]][_0xee2b[384]](this[_0xee2b[1817]][_0xee2b[787]](),{},!0);this[_0xee2b[379]][_0xee2b[256]]=function(){this[_0xee2b[2051]]({left:0,right:0,top:_0xee2b[2050]})}}return this[_0xee2b[379]]},onBeforeDragStart:function(g,b){var a=this[_0xee2b[1817]],d=b[_0xee2b[2033]](_0xee2b[495]+a[_0xee2b[2052]],5);if(d&&this[_0xee2b[2053]](b)&&(!b[_0xee2b[1440]][_0xee2b[1972]]||b[_0xee2b[1440]][_0xee2b[1972]][_0xee2b[4]]===1)){var c=a[_0xee2b[2036]](d),e=a[_0xee2b[1847]]()?null:c,f=a[_0xee2b[2035]](b);if(!this[_0xee2b[144]]&&d&&a[_0xee2b[180]](_0xee2b[2054],a,e,f,b)!==!1){this[_0xee2b[2055]]=e;this[_0xee2b[2056]]=f;this[_0xee2b[2057]]=a[_0xee2b[2058]](c,this[_0xee2b[2056]]);this[_0xee2b[2059]]=a[_0xee2b[2060]](c,this[_0xee2b[2056]]);return !0}}return !1},isCreateAllowed:function(a){return !a[_0xee2b[2033]](this[_0xee2b[1817]][_0xee2b[2034]])},disableHoverTip:function(){this[_0xee2b[2048]]&&this[_0xee2b[2048]][_0xee2b[2061]]&&this[_0xee2b[2048]][_0xee2b[2061]]()},onDragStart:function(){var a=this,b=a[_0xee2b[1817]],d=a[_0xee2b[2062]][_0xee2b[1945]](),c=a[_0xee2b[1700]]();this[_0xee2b[2063]]=!0;if(this[_0xee2b[2048]]){this[_0xee2b[2048]][_0xee2b[149]](_0xee2b[2064],this[_0xee2b[2065]],this);this[_0xee2b[2048]][_0xee2b[2061]]()}a[_0xee2b[179]]=a[_0xee2b[2056]];a[_0xee2b[771]]=a[_0xee2b[179]];a[_0xee2b[2066]]=b[_0xee2b[1966]]();if(b[_0xee2b[1828]]()){a[_0xee2b[2067]]={top:a[_0xee2b[2057]][_0xee2b[686]],bottom:a[_0xee2b[2057]][_0xee2b[754]]}}else {a[_0xee2b[2067]]={left:a[_0xee2b[2057]][_0xee2b[1354]],right:a[_0xee2b[2057]][_0xee2b[867]]}}Ext[_0xee2b[8]](d,a[_0xee2b[2067]]);if(b[_0xee2b[1855]]){c[_0xee2b[2051]]({right:_0xee2b[1039]})}c[_0xee2b[2068]](d);c[_0xee2b[2019]]();b[_0xee2b[180]](_0xee2b[2069],b,c);if(a[_0xee2b[2070]]){a[_0xee2b[2049]][_0xee2b[2064]]();a[_0xee2b[2049]][_0xee2b[724]](a[_0xee2b[179]],a[_0xee2b[771]],!0);a[_0xee2b[2049]][_0xee2b[2071]](c);a[_0xee2b[2049]][_0xee2b[2051]](_0xee2b[2072],_0xee2b[1690])}Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2073]](b,b[_0xee2b[1828]]()?_0xee2b[1931]:_0xee2b[1932])},onDrag:function(){var a=this,d=a[_0xee2b[1817]],c=a[_0xee2b[2062]][_0xee2b[1945]](),e=d[_0xee2b[2075]](c,_0xee2b[704]),f=_0xee2b[27];if(!e){return}a[_0xee2b[179]]=e[_0xee2b[179]]||a[_0xee2b[179]];a[_0xee2b[771]]=e[_0xee2b[771]]||a[_0xee2b[771]];var b=a[_0xee2b[2059]];if(b){a[_0xee2b[771]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2076]](a[_0xee2b[771]],b[_0xee2b[179]],b[_0xee2b[771]]);a[_0xee2b[179]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2076]](a[_0xee2b[179]],b[_0xee2b[179]],b[_0xee2b[771]])}a[_0xee2b[2003]]=this[_0xee2b[2078]][_0xee2b[293]](a[_0xee2b[2077]]||a,a[_0xee2b[2055]],a[_0xee2b[179]],a[_0xee2b[771]]);if(a[_0xee2b[2003]]&&typeof a[_0xee2b[2003]]!==_0xee2b[1108]){f=a[_0xee2b[2003]][_0xee2b[940]];a[_0xee2b[2003]]=a[_0xee2b[2003]][_0xee2b[2003]]}a[_0xee2b[2003]]=a[_0xee2b[2003]]!==!1;if(a[_0xee2b[2070]]){a[_0xee2b[2049]][_0xee2b[724]](a[_0xee2b[179]],a[_0xee2b[771]],a[_0xee2b[2003]],f)}Ext[_0xee2b[8]](c,a[_0xee2b[2067]]);var h=d[_0xee2b[1966]]();var g=this[_0xee2b[1700]]();g[_0xee2b[2068]](c);if(d[_0xee2b[1828]]()){g[_0xee2b[2079]](a[_0xee2b[2057]][_0xee2b[686]]+a[_0xee2b[2066]][_0xee2b[686]]-h[_0xee2b[686]])}},eventSwallower:function(a){a[_0xee2b[1975]]();a[_0xee2b[1977]]()},onDragEnd:function(h,c){var a=this,f=a[_0xee2b[1817]],d=!0,g=c[_0xee2b[2033]](),e=Ext[_0xee2b[55]](g);e[_0xee2b[149]](_0xee2b[248],this[_0xee2b[2080]]);a[_0xee2b[2081]]=setTimeout(function(){e[_0xee2b[152]](_0xee2b[248],a[_0xee2b[2080]])},100);a[_0xee2b[2063]]=!1;if(a[_0xee2b[2070]]){a[_0xee2b[2049]][_0xee2b[2061]]()}if(!a[_0xee2b[179]]||!a[_0xee2b[771]]||a[_0xee2b[771]]-a[_0xee2b[179]]<=0){a[_0xee2b[2003]]=!1}var b={start:a[_0xee2b[179]],end:a[_0xee2b[771]],resourceRecord:a[_0xee2b[2055]],e:c,valid:a[_0xee2b[2003]],finalize:function(d){a[_0xee2b[2082]](d,b)}};if(a[_0xee2b[2003]]){d=f[_0xee2b[180]](_0xee2b[2083],f,b,c,this[_0xee2b[1700]]())!==!1}if(d){a[_0xee2b[2082]](a[_0xee2b[2003]],b)}Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2084]]()},createEvent:function(d){var f=this[_0xee2b[1817]],e=f[_0xee2b[696]](),a=Ext[_0xee2b[831]](e[_0xee2b[137]]()),b,c;if(a[_0xee2b[2085]]){a[_0xee2b[2086]]=e;c=d[_0xee2b[2055]];b=c&&c[_0xee2b[1296]]&&c[_0xee2b[1296]](!0);if(b){a[_0xee2b[2087]](b)}}a[_0xee2b[1208]](d[_0xee2b[179]],d[_0xee2b[771]]);if(b){a[_0xee2b[2087]](null)}return a},finalize:function(c,b){var a=this[_0xee2b[1817]];if(c){a[_0xee2b[180]](_0xee2b[2088],a,this[_0xee2b[2089]](b),b[_0xee2b[2055]],b[_0xee2b[2090]],this[_0xee2b[1700]]())}this[_0xee2b[379]][_0xee2b[256]]();this[_0xee2b[1817]][_0xee2b[180]](_0xee2b[2091],a,this[_0xee2b[1700]]());if(this[_0xee2b[2048]]){this[_0xee2b[2048]][_0xee2b[152]](_0xee2b[2064],this[_0xee2b[2065]],this);this[_0xee2b[2048]][_0xee2b[2064]]()}},dragging:!1,initDragTracker:function(){var a=this,d=Ext[_0xee2b[1952]][_0xee2b[1951]],b=a[_0xee2b[1817]];var c=Ext[_0xee2b[8]]({el:b[_0xee2b[265]],rtl:b[_0xee2b[1855]],tolerance:a[_0xee2b[2092]],listeners:{mousedown:a[_0xee2b[2093]],beforedragstart:a[_0xee2b[2094]],dragstart:a[_0xee2b[2095]],drag:a[_0xee2b[1982]],dragend:a[_0xee2b[2096]],scope:a}},this[_0xee2b[2097]]);this[_0xee2b[2098]]();if(d&&!Ext[_0xee2b[2100]][_0xee2b[2099]]){this[_0xee2b[2070]]=!1;this[_0xee2b[2101]]=!1;this[_0xee2b[2049]]=null;this[_0xee2b[2048]]=null}else {this[_0xee2b[2102]]()}a[_0xee2b[2062]]=new Sch[_0xee2b[49]].DragTracker(c)},bindRightClickPreventer:function(){this[_0xee2b[1817]][_0xee2b[265]][_0xee2b[149]](_0xee2b[744],this[_0xee2b[2103]],this,{priority:999})},stopDragCreateOnRightClick:function(a){if(a[_0xee2b[2104]]!==0&&this[_0xee2b[2063]]){this[_0xee2b[2062]][_0xee2b[802]](a)}},setupTooltips:function(){var b=this,a=b[_0xee2b[1817]];if(this[_0xee2b[2070]]){var c=this[_0xee2b[2049]];if(c instanceof Ext[_0xee2b[2106]][_0xee2b[2105]]){c[_0xee2b[1817]]=a;c[_0xee2b[149]](_0xee2b[2028],function(){return b[_0xee2b[2063]]})}else {this[_0xee2b[2049]]=new Sch[_0xee2b[2000]].Tooltip(Ext[_0xee2b[8]]({cls:_0xee2b[2107],schedulerView:a,constrainTo:a[_0xee2b[694]](_0xee2b[840])[_0xee2b[265]],listeners:{beforeshow:function(){return b[_0xee2b[2063]]}}},c))}}if(b[_0xee2b[2101]]){var d=b[_0xee2b[2048]];if(d instanceof Ext[_0xee2b[2106]][_0xee2b[2105]]){d[_0xee2b[1817]]=a}else {b[_0xee2b[2048]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[330]]({renderTo:Ext[_0xee2b[797]](),target:a[_0xee2b[265]],schedulerView:a},d),_0xee2b[2108])}}},verifyLeftButtonPressed:function(b,a){return a[_0xee2b[2104]]===0},onSchedulerDestroy:function(){if(this[_0xee2b[2048]]&&this[_0xee2b[2048]][_0xee2b[218]]){this[_0xee2b[2048]][_0xee2b[218]]()}if(this[_0xee2b[2049]]&&this[_0xee2b[2049]][_0xee2b[218]]){this[_0xee2b[2049]][_0xee2b[218]]()}if(this[_0xee2b[2062]]){this[_0xee2b[2062]][_0xee2b[218]]()}if(this[_0xee2b[379]]){Ext[_0xee2b[218]](this[_0xee2b[379]]);this[_0xee2b[379]]=null}clearTimeout(this[_0xee2b[2081]])}});Ext[_0xee2b[6]](_0xee2b[2110],{extend:_0xee2b[2111],requires:[_0xee2b[2112],_0xee2b[1995]],uses:[_0xee2b[1598],_0xee2b[1046],_0xee2b[1140],_0xee2b[2113]],animRepair:!1,repairHighlight:!1,repairHighlightColor:_0xee2b[2114],containerScroll:!1,getConstrainRegion:null,showTooltip:!0,tip:null,deltaSetXY:null,schedulerView:null,_onValidDropTimer:null,lastXY:null,showExactDropPosition:!1,enableCopy:!1,enableCopyKey:_0xee2b[2115],validatorFn:function(e,b,c,a,d){return !0},validatorFnScope:null,copyKeyPressed:!1,keyListener:null,viewScrollListener:null,gridScrollListener:null,dragDropProxyCls:_0xee2b[2116],invalidCssClasses:[_0xee2b[2117],_0xee2b[2118]],constructor:function(e,d){var c=this[_0xee2b[379]]=this[_0xee2b[379]]||new Ext[_0xee2b[2121]].StatusProxy({shadow:!1,dropAllowed:this[_0xee2b[2119]],dropNotAllowed:this[_0xee2b[2120]],ensureAttachedToBody:Ext[_0xee2b[688]]});this[_0xee2b[9]](arguments);this[_0xee2b[2122]]=!0;this[_0xee2b[1978]]=!1;this[_0xee2b[2123]]=!1;var a=this[_0xee2b[1817]];Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[2124]],this[_0xee2b[2125]],this);if(a[_0xee2b[2126]]){this[_0xee2b[2127]]=!1}this[_0xee2b[265]][_0xee2b[83]](c[_0xee2b[265]]);this[_0xee2b[2098]]();this[_0xee2b[265]][_0xee2b[2128]]=Ext[_0xee2b[688]];c[_0xee2b[264]](_0xee2b[2129]);a[_0xee2b[149]]({eventdragstart:function(){Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2073]](a,a[_0xee2b[2130]]&&a[_0xee2b[2131]]())},aftereventdrop:function(){Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2084]]()},scope:this});if(this[_0xee2b[2127]]){var b=this[_0xee2b[2106]];if(b instanceof Ext[_0xee2b[2106]][_0xee2b[2105]]){b[_0xee2b[1817]]=a}else {this[_0xee2b[2106]]=new Sch[_0xee2b[2000]].Tooltip(Ext[_0xee2b[8]]({schedulerView:a,constrainTo:a[_0xee2b[694]](_0xee2b[840])[_0xee2b[265]],alignOnScroll:!1,cls:_0xee2b[2132]},b))}}},bindRightClickPreventer:function(){this[_0xee2b[1817]][_0xee2b[265]][_0xee2b[149]](_0xee2b[784],this[_0xee2b[2133]],this,{priority:999})},destroy:function(){this[_0xee2b[2106]]&&this[_0xee2b[2106]][_0xee2b[218]]();this[_0xee2b[2134]]();clearTimeout(this._onValidDropTimer);this[_0xee2b[9]](arguments)},preventRightClick:function(a){if(this[_0xee2b[2063]]&&a[_0xee2b[2104]]!==0){return !1}},autoOffset:function(){this[_0xee2b[2135]](0,0)},setupConstraints:function(a,e,c,b,h,d,i){this[_0xee2b[2136]]();var f=h&&!this[_0xee2b[2137]]&&d>1?d:0;var g=!h&&!this[_0xee2b[2137]]&&d>1?d:0;this[_0xee2b[2138]]();this[_0xee2b[2139]]=a[_0xee2b[1354]]+c;this[_0xee2b[2140]]=a[_0xee2b[686]]+b;var j=e[_0xee2b[867]]-e[_0xee2b[1354]];var k=e[_0xee2b[754]]-e[_0xee2b[686]];if(h){if(i){this[_0xee2b[2141]](a[_0xee2b[1354]]+c,a[_0xee2b[867]]-j+c,f)}else {this[_0xee2b[2141]](a[_0xee2b[1354]],a[_0xee2b[867]],f)}this[_0xee2b[2142]](a[_0xee2b[686]]+b,a[_0xee2b[754]]-k+b,g)}else {this[_0xee2b[2141]](a[_0xee2b[1354]]+c,a[_0xee2b[867]]-j+c,f);if(i){this[_0xee2b[2142]](a[_0xee2b[686]]+b,a[_0xee2b[754]]-k+b,g)}else {this[_0xee2b[2142]](a[_0xee2b[686]],a[_0xee2b[754]],g)}}},setXConstraint:function(b,c,a){this[_0xee2b[2143]]=b;this[_0xee2b[2144]]=c;this[_0xee2b[2145]]=b;this[_0xee2b[2146]]=c;if(a){this[_0xee2b[2147]](this[_0xee2b[2139]],a)}this[_0xee2b[2148]]=!0},setYConstraint:function(a,b,c){this[_0xee2b[2149]]=a;this[_0xee2b[2150]]=b;this[_0xee2b[2151]]=a;this[_0xee2b[2152]]=b;if(c){this[_0xee2b[2153]](this[_0xee2b[2140]],c)}this[_0xee2b[2154]]=!0},onDragEnter:Ext[_0xee2b[688]],onDragOut:Ext[_0xee2b[688]],setVisibilityForSourceEvents:function(a){Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[2156]][_0xee2b[2155]](),function(b){b&&Ext[_0xee2b[761]](b)[a?_0xee2b[2019]:_0xee2b[256]]()})},onDragOver:function(b){if(b&&b[_0xee2b[1440]][_0xee2b[1972]]&&b[_0xee2b[1440]][_0xee2b[1972]][_0xee2b[4]]>1){Ext[_0xee2b[2121]][_0xee2b[2158]][_0xee2b[2157]](b);return}var e=b?b[_0xee2b[1970]]():this[_0xee2b[1976]];if(!e){return}var a=this[_0xee2b[2156]];if(!a[_0xee2b[2159]]){this[_0xee2b[2160]](!1);a[_0xee2b[2159]]=!0;if(this[_0xee2b[2161]]){this[_0xee2b[2164]](b[this[_0xee2b[2162]][_0xee2b[819]]()+_0xee2b[2163]])}}var i=a[_0xee2b[1138]];var h=a[_0xee2b[2165]];var c=this[_0xee2b[1817]];this[_0xee2b[2166]](b);if(this[_0xee2b[2137]]){var l=c[_0xee2b[1828]]();var j=c[_0xee2b[2167]](e)-a[_0xee2b[2168]];var k=new Date(a[_0xee2b[2169]]-0+j);var d=c[_0xee2b[810]][_0xee2b[772]](k,a[_0xee2b[1138]]);if(a[_0xee2b[1138]]>c[_0xee2b[1795]][_0xee2b[697]]()){var g=this[_0xee2b[379]][_0xee2b[265]];if(d){if(c[_0xee2b[1828]]()){g[_0xee2b[2171]](e[0]+(c[_0xee2b[2170]]()?-d:d))}else {g[_0xee2b[2079]](e[1]+d)}}}}if(a[_0xee2b[1138]]-i!==0||h!==a[_0xee2b[2165]]){c[_0xee2b[180]](_0xee2b[2172],c,a[_0xee2b[2173]],a[_0xee2b[1138]],a[_0xee2b[2165]],a)}if(this[_0xee2b[2127]]){var f=a[_0xee2b[2174]]();if(f[_0xee2b[1611]]&&f[_0xee2b[1611]]()&&!a[_0xee2b[2175]]){this[_0xee2b[2106]][_0xee2b[724]](a[_0xee2b[2176]],Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a[_0xee2b[2176]],Sch[_0xee2b[49]][_0xee2b[703]].HOUR,1),a[_0xee2b[2003]],a[_0xee2b[940]],a[_0xee2b[2175]])}else {if(a[_0xee2b[2175]]){this[_0xee2b[2106]][_0xee2b[724]](Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[1615]](a[_0xee2b[1138]]),Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[2177]](a[_0xee2b[1138]],a[_0xee2b[1139]]),a[_0xee2b[2003]],a[_0xee2b[940]],a[_0xee2b[2175]])}else {this[_0xee2b[2106]][_0xee2b[724]](a[_0xee2b[1138]],a[_0xee2b[1139]],a[_0xee2b[2003]],a[_0xee2b[940]],a[_0xee2b[2175]])}}}if(b){this[_0xee2b[1976]]=[b[_0xee2b[790]][_0xee2b[788]]+document[_0xee2b[2179]][_0xee2b[2178]],b[_0xee2b[1936]]()]}},getDragData:function(e){var a=this[_0xee2b[1817]],c=e[_0xee2b[2033]](a[_0xee2b[2034]]);this[_0xee2b[2180]]=!1;if(!c||e[_0xee2b[1440]][_0xee2b[1972]]&&e[_0xee2b[1440]][_0xee2b[1972]][_0xee2b[4]]>1){return}var b=a[_0xee2b[2181]](c),h=a[_0xee2b[2036]](c),o=a[_0xee2b[2182]](c),s=b&&b[_0xee2b[2183]]()&&!a[_0xee2b[2184]]();if(!s){return null}var l=e[_0xee2b[1970]](),k=Ext[_0xee2b[761]](c)[_0xee2b[1970]](),m=[l[0]-k[0],l[1]-k[1]],r=Ext[_0xee2b[761]](c)[_0xee2b[1945]]();this[_0xee2b[1976]]=null;var t=a[_0xee2b[1828]]();a[_0xee2b[2130]]&&!h&&Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[2185]+b[_0xee2b[32]]());var n=a[_0xee2b[2060]](a[_0xee2b[2130]]?h:null,b);var g;if(a[_0xee2b[1847]]()){g=this[_0xee2b[265]][_0xee2b[1945]]();if(b[_0xee2b[1611]]()){g=g[_0xee2b[2186]](-10000,10000,10000,-10000)}}else {g=this[_0xee2b[2187]]?this[_0xee2b[2187]]():a[_0xee2b[2058]](a[_0xee2b[2130]]?h:null,b)}this[_0xee2b[2189]](g,r,m[0],m[1],t,b[_0xee2b[1611]]&&b[_0xee2b[1611]]()?1:a[_0xee2b[2188]](),Boolean(n));var i=b[_0xee2b[55]](b[_0xee2b[1201]]),j=b[_0xee2b[55]](b[_0xee2b[1203]]),q=a[_0xee2b[1795]],p=this[_0xee2b[2190]](o||b)||[],d=a[_0xee2b[2191]](b,a[_0xee2b[1847]]()?null:h,null,!0);Ext[_0xee2b[26]][_0xee2b[25]](p,function(b){if(b&&b[_0xee2b[2192]]){d=d[_0xee2b[318]](a[_0xee2b[2191]](b[_0xee2b[1052]](),b[_0xee2b[1053]](),null,!0))}else {d=d[_0xee2b[318]](a[_0xee2b[2191]](b,null,null,!0))}});d=Ext[_0xee2b[26]][_0xee2b[1376]](d);var f={offsets:m,repairXY:k,triggerEvent:e,prevScroll:a[_0xee2b[1966]](),dateConstraints:n,eventBarEls:d,getEventBarElements:function(){return f[_0xee2b[2193]]=Ext[_0xee2b[26]][_0xee2b[41]](f[_0xee2b[2193]],function(a){return a&&document[_0xee2b[2194]](a[_0xee2b[388]])})},draggedRecords:[o||b][_0xee2b[318]](p),getEventRecord:function(){var a=this[_0xee2b[2173]][0];if(a instanceof Sch[_0xee2b[327]][_0xee2b[1414]]){a=a[_0xee2b[1052]]()}return a},resourceRecord:h,sourceDate:a[_0xee2b[2167]](l),origStart:i,origEnd:j,startDate:i,endDate:j,timeDiff:0,startsOutsideView:i<q[_0xee2b[697]](),endsOutsideView:j>q[_0xee2b[698]](),duration:j-i};this[_0xee2b[2195]]=this[_0xee2b[2161]]&&e[this[_0xee2b[2162]][_0xee2b[819]]()+_0xee2b[2163]];f[_0xee2b[2196]]=this[_0xee2b[2197]](c,f);return f},onStartDrag:function(){var a=this[_0xee2b[1817]],b=this[_0xee2b[2156]];Ext[_0xee2b[26]][_0xee2b[25]](b[_0xee2b[2155]](),function(a){Ext[_0xee2b[761]](a)[_0xee2b[267]](_0xee2b[2198])});a[_0xee2b[180]](_0xee2b[2199],a,b[_0xee2b[2173]]);this[_0xee2b[2200]]=a[_0xee2b[1941]]()[_0xee2b[149]]({scroll:this[_0xee2b[2201]],destroyable:!0,scope:this});this[_0xee2b[2202]]=a[_0xee2b[694]](_0xee2b[2203])[_0xee2b[1941]]()[_0xee2b[149]]({scroll:this[_0xee2b[2201]],destroyable:!0,scope:this})},alignElWithMouse:function(a,c,e){this[_0xee2b[9]](arguments);if(Ext[_0xee2b[960]]&&this[_0xee2b[1817]][_0xee2b[1855]]&&this[_0xee2b[1817]][_0xee2b[694]](_0xee2b[1918])){this[_0xee2b[2204]]=null;this[_0xee2b[9]](arguments)}var b=this[_0xee2b[2205]](c,e),d=a[_0xee2b[758]]?a:Ext[_0xee2b[761]](a,_0xee2b[2206]);this[_0xee2b[2207]](d,b[_0xee2b[1893]]+this[_0xee2b[2204]][0],b[_0xee2b[1894]]+this[_0xee2b[2204]][1])},onViewScroll:function(a){this[_0xee2b[2160]](!1);this[_0xee2b[2208]]()},isCopyKeyPressed:function(){return this[_0xee2b[2161]]&&this[_0xee2b[2195]]},onShiftKeyStateChange:function(a){var b=this[_0xee2b[2156]];if(a){b[_0xee2b[2210]][_0xee2b[264]](_0xee2b[2209])}else {b[_0xee2b[2210]][_0xee2b[267]](_0xee2b[2209])}this[_0xee2b[2160]](a);this[_0xee2b[2195]]=a},onKey:function(a){if(this[_0xee2b[2161]]&&a[_0xee2b[2211]]()===a[this[_0xee2b[2162]]]){this[_0xee2b[2164]](a[_0xee2b[249]]===_0xee2b[2212])}if(a[_0xee2b[2211]]()===a[_0xee2b[2213]]){this[_0xee2b[2214]](a)}},abortDrag:function(a){this[_0xee2b[2156]][_0xee2b[2215]]=[a[_0xee2b[2033]](),a,this[_0xee2b[388]]];this[_0xee2b[2082]](!1);Ext[_0xee2b[2121]][_0xee2b[2158]][_0xee2b[2216]](a);Ext[_0xee2b[2121]][_0xee2b[2158]][_0xee2b[2217]](a)},startDrag:function(){var b=this[_0xee2b[1817]],a=this[_0xee2b[2156]];if(b[_0xee2b[180]](_0xee2b[2218],b,a[_0xee2b[2173]][0],a[_0xee2b[2219]])===!1){this[_0xee2b[2214]](a[_0xee2b[2219]]);return}var c=this[_0xee2b[9]](arguments);this[_0xee2b[2180]]=!0;this[_0xee2b[2220]]=Ext[_0xee2b[2222]]()[_0xee2b[149]]({keydown:this[_0xee2b[2221]],keyup:this[_0xee2b[2221]],useCapture:!0,destroyable:!0,scope:this});a[_0xee2b[2223]]=this[_0xee2b[379]][_0xee2b[265]][_0xee2b[861]](_0xee2b[495]+this[_0xee2b[2224]]);a[_0xee2b[2210]]=this[_0xee2b[379]][_0xee2b[265]][_0xee2b[760]](_0xee2b[2225]);a[_0xee2b[2223]][_0xee2b[267]](_0xee2b[2198]);if(this[_0xee2b[2127]]){this[_0xee2b[2106]][_0xee2b[2051]](_0xee2b[2072]);this[_0xee2b[2106]][_0xee2b[724]](a[_0xee2b[2169]],a[_0xee2b[2226]],!0);this[_0xee2b[2106]][_0xee2b[2071]](a[_0xee2b[2223]],a[_0xee2b[2227]][0])}if(this[_0xee2b[2195]]){a[_0xee2b[2210]][_0xee2b[264]](_0xee2b[2209]);a[_0xee2b[2159]]=!0}return c},endDrag:function(){this[_0xee2b[2134]]();this[_0xee2b[9]](arguments)},cleanupListeners:function(){if(this[_0xee2b[2200]]){this[_0xee2b[2200]][_0xee2b[218]]();this[_0xee2b[2200]]=null}if(this[_0xee2b[2202]]){this[_0xee2b[2202]][_0xee2b[218]]();this[_0xee2b[2202]]=null}if(this[_0xee2b[2220]]){this[_0xee2b[2220]][_0xee2b[218]]();this[_0xee2b[2220]]=null}},onMouseUp:function(){if(!this[_0xee2b[2063]]){this[_0xee2b[2228]]()}},afterDragFinalized:function(){this[_0xee2b[379]][_0xee2b[265]][_0xee2b[758]][_0xee2b[763]][_0xee2b[686]]=this[_0xee2b[379]][_0xee2b[265]][_0xee2b[758]][_0xee2b[763]][_0xee2b[1354]]=0},updateRecords:function(a){var b=this,e=b[_0xee2b[1817]],c=e[_0xee2b[696]](),o=e[_0xee2b[1007]](),l=c[_0xee2b[1051]](),m=a[_0xee2b[2165]],n=a[_0xee2b[2173]][0],i=a[_0xee2b[2173]][_0xee2b[191]](1),p=a[_0xee2b[2055]],d=b[_0xee2b[2229]](),g=a[_0xee2b[1138]],j=a[_0xee2b[2230]],q=a[_0xee2b[2176]],h=a[_0xee2b[2231]],f=e[_0xee2b[1847]](),k;if(l&&c instanceof Sch[_0xee2b[22]][_0xee2b[2232]]){b[_0xee2b[2233]](g,j,n,i,p,m,c,o,l,d,f,h,q)}else {if(l){k=b[_0xee2b[2234]](g,j,n[_0xee2b[1052]](),Ext[_0xee2b[26]][_0xee2b[41]](i,function(b){return b[_0xee2b[1052]]()}),p,m,c,o,d,f,h,q)}else {k=b[_0xee2b[2234]](g,j,n,i,p,m,c,o,d,f,h,q)}}if(d){a[_0xee2b[2235]]=k}e[_0xee2b[180]](_0xee2b[2236],e,a[_0xee2b[2235]]||a[_0xee2b[2173]],d)},updateRecordsSingleAssignmentMode:function(k,o,a,n,g,c,f,d,i,m,q,l){var h=this,e=[],p=a[_0xee2b[1611]]&&a[_0xee2b[1611]](),b=Sch[_0xee2b[49]][_0xee2b[703]],j;if(i){a=a[_0xee2b[2237]](null);e[_0xee2b[11]](a)}a[_0xee2b[46]]();if(g&&g[_0xee2b[1606]]&&c&&c[_0xee2b[1606]]&&c!==g){if(i){a[_0xee2b[1605]](c)}else {a[_0xee2b[2238]](g,c)}}a[_0xee2b[2239]]&&a[_0xee2b[2239]](h[_0xee2b[2156]][_0xee2b[2175]]);if(a[_0xee2b[1611]]&&a[_0xee2b[1611]]()){j=b[_0xee2b[1521]](b[_0xee2b[1101]](k,!0),h[_0xee2b[2156]][_0xee2b[2169]]);a[_0xee2b[1208]](j,b[_0xee2b[255]](j,b.MILLI,h[_0xee2b[2156]][_0xee2b[2240]]),f[_0xee2b[2241]])}else {if(p){a[_0xee2b[1208]](l,b[_0xee2b[255]](l,b.HOUR,1),f[_0xee2b[2241]])}else {a[_0xee2b[1204]](k,!0,f[_0xee2b[2241]])}}a[_0xee2b[51]]();Ext[_0xee2b[26]][_0xee2b[25]](n,function(b){var j=m?null:b[_0xee2b[1427]]();if(i){b=b[_0xee2b[2237]](null);e[_0xee2b[11]](b)}b[_0xee2b[46]]();b[_0xee2b[1204]](h[_0xee2b[2242]](b[_0xee2b[712]](),o),!0,f[_0xee2b[2241]]);if(!m){var p=d[_0xee2b[147]](g)-d[_0xee2b[147]](c);p!==0&&j[_0xee2b[4]]&&Ext[_0xee2b[26]][_0xee2b[25]](j,function(h){var e=d[_0xee2b[147]](h)-p,j;if(e<0){e=0}else {if(e>=d[_0xee2b[1466]]()){e=d[_0xee2b[1466]]()-1}}j=d[_0xee2b[1752]](e);b[_0xee2b[2238]](h,j)})}b[_0xee2b[51]]()});if(e[_0xee2b[4]]){f[_0xee2b[384]](e)}return e},updateRecordsMultipleAssignmentMode:function(l,e,h,i,d,a,c,o,m,f,j,k,n){var g=this;var b={};Ext[_0xee2b[26]][_0xee2b[25]]([][_0xee2b[318]](h,i),function(q){var p=q[_0xee2b[1052]]();if(b[p[_0xee2b[32]]()]){return}b[p[_0xee2b[32]]()]=!0;p[_0xee2b[1204]](g[_0xee2b[2242]](p[_0xee2b[712]](),e),!0,c[_0xee2b[2241]]);if(!j&&d!==a){if(f){p[_0xee2b[1605]](a)}else {if(!p[_0xee2b[2243]](a)){p[_0xee2b[2238]](q[_0xee2b[1053]](),a)}else {p[_0xee2b[2244]](q[_0xee2b[1053]]())}}}})},isValidDrop:function(c,b,a){if(c!==b){if(a[_0xee2b[2192]]){return !a[_0xee2b[1052]]()[_0xee2b[2243]](b)}else {return !a[_0xee2b[2243]](b)}}return !0},resolveResource:function(b){var e=this[_0xee2b[379]][_0xee2b[265]][_0xee2b[758]];var d=Ext[_0xee2b[797]]()[_0xee2b[1966]]();var c=this[_0xee2b[1817]];e[_0xee2b[763]][_0xee2b[762]]=_0xee2b[764];var a=document[_0xee2b[2245]](b[0]-d[_0xee2b[1354]],b[1]-d[_0xee2b[686]]);e[_0xee2b[763]][_0xee2b[762]]=_0xee2b[2246];if(!a){return null}if(Ext[_0xee2b[761]](a)[_0xee2b[694]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[2247],4,!0)){return null}if(a[_0xee2b[1868]][_0xee2b[2249]](Ext[_0xee2b[238]]+_0xee2b[2248])){return this[_0xee2b[2036]]([b[0],b[1]+3])}if(!a[_0xee2b[1868]][_0xee2b[2249]](c[_0xee2b[2052]])){var f=Ext[_0xee2b[761]](a)[_0xee2b[694]](_0xee2b[495]+c[_0xee2b[2052]]);if(f){a=f[_0xee2b[758]]}else {return null}}return c[_0xee2b[2036]](a)},adjustStartDate:function(a,d,c){var b=c||this[_0xee2b[1817]];return b[_0xee2b[1795]][_0xee2b[2251]](new Date(a-0+d),b[_0xee2b[2250]]?a:!1)},resolveSchedulerView:function(b){var a=b[_0xee2b[2033]](_0xee2b[2252]);return a&&Ext[_0xee2b[800]](a[_0xee2b[388]])||this[_0xee2b[1817]]},updateDragContext:function(b){var a=this[_0xee2b[2156]],d=b?b[_0xee2b[1970]]():this[_0xee2b[1976]],h,j;if(b){if(b[_0xee2b[790]][_0xee2b[1972]]&&b[_0xee2b[790]][_0xee2b[1972]][_0xee2b[4]]>0){h=b[_0xee2b[790]][_0xee2b[1972]][0][_0xee2b[788]]}else {h=b[_0xee2b[790]][_0xee2b[788]]!=null?b[_0xee2b[790]][_0xee2b[788]]:b[_0xee2b[788]]}j=[h+document[_0xee2b[2179]][_0xee2b[2178]],b[_0xee2b[1936]]()]}else {j=this[_0xee2b[1976]]}if(!a[_0xee2b[2223]]){return}var c=b&&this[_0xee2b[1817]][_0xee2b[1847]]()&&this[_0xee2b[2253]](b)||this[_0xee2b[1817]],g=a[_0xee2b[2223]][_0xee2b[1945]](),k=c[_0xee2b[2167]](d);a[_0xee2b[2254]]=k;a[_0xee2b[2176]]=this[_0xee2b[2242]](c[_0xee2b[2167]]([d[0]-a[_0xee2b[2227]][0],d[1]]),0,c);a[_0xee2b[2231]]=this[_0xee2b[2242]](c[_0xee2b[2167]]([d[0],d[1]-a[_0xee2b[2227]][1]]),0,c);a[_0xee2b[2175]]=Boolean(c[_0xee2b[2004]]);if(c[_0xee2b[1795]][_0xee2b[1738]]()){if(c[_0xee2b[1828]]()&&this[_0xee2b[2145]]<d[0]&&d[0]<this[_0xee2b[2146]]||!c[_0xee2b[1828]]()&&this[_0xee2b[2151]]<d[1]&&d[1]<this[_0xee2b[2152]]){a[_0xee2b[2230]]=k-a[_0xee2b[2168]];a[_0xee2b[1138]]=this[_0xee2b[2242]](a[_0xee2b[2169]],a[_0xee2b[2230]]);a[_0xee2b[1139]]=new Date(a[_0xee2b[1138]]-0+a[_0xee2b[2240]])}}else {var f;if(c[_0xee2b[1847]]()){var i={bottom:g[_0xee2b[754]],top:g[_0xee2b[686]]};i[_0xee2b[1354]]=i[_0xee2b[867]]=g[_0xee2b[1354]]+a[_0xee2b[2227]][0];f=this[_0xee2b[2255]](c,i)}else {f=this[_0xee2b[2255]](c,g)}a[_0xee2b[1138]]=f[_0xee2b[1138]];a[_0xee2b[1139]]=f[_0xee2b[1139]];a[_0xee2b[2230]]=a[_0xee2b[1138]]-a[_0xee2b[2169]]}a[_0xee2b[2165]]=c[_0xee2b[2130]]?a[_0xee2b[2055]]:this[_0xee2b[2036]](j);if(a[_0xee2b[2165]]){var e=!b||this[_0xee2b[2078]][_0xee2b[293]](this[_0xee2b[2077]]||this,a[_0xee2b[2173]],a[_0xee2b[2165]],a[_0xee2b[1138]],a[_0xee2b[2240]],b);if(!e||typeof e===_0xee2b[1108]){a[_0xee2b[2003]]=e!==!1;a[_0xee2b[940]]=_0xee2b[27]}else {a[_0xee2b[2003]]=e[_0xee2b[2003]]!==!1;a[_0xee2b[940]]=e[_0xee2b[940]]}}else {a[_0xee2b[2003]]=!1}},getRelatedRecords:function(b){var d=this[_0xee2b[1817]],c=d[_0xee2b[2256]](),a=c[_0xee2b[2257]]();return Ext[_0xee2b[26]][_0xee2b[173]](a,function(a){return b!==a})},getDragElement:function(h,d){var f=d[_0xee2b[2155]]();var a;var c;var i=d[_0xee2b[2227]][0];var e=d[_0xee2b[2227]][1];var b=h[_0xee2b[758]]||h;var g=this[_0xee2b[1817]][_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354];if(f[_0xee2b[4]]>1){var j=Ext[_0xee2b[2262]][_0xee2b[2261]][_0xee2b[2260]]({tag:_0xee2b[2258],cls:_0xee2b[2259],style:{overflow:_0xee2b[1690]}});Ext[_0xee2b[26]][_0xee2b[25]](f,function(c){a=c[_0xee2b[2263]](!0);a[_0xee2b[388]]=Ext[_0xee2b[388]]();if(c===b){a[_0xee2b[1868]]+=_0xee2b[60]+this[_0xee2b[2224]]}j[_0xee2b[83]](a);var f=Ext[_0xee2b[761]](c)[_0xee2b[2264]](b);a[_0xee2b[763]][g]=f[0]-i+_0xee2b[804];a[_0xee2b[763]][_0xee2b[686]]=f[1]-e+_0xee2b[804]},this);c=j}else {a=b[_0xee2b[2263]](!0);a[_0xee2b[388]]=Ext[_0xee2b[388]]();a[_0xee2b[763]][g]=-i+_0xee2b[804];a[_0xee2b[763]][_0xee2b[686]]=-e+_0xee2b[804];a[_0xee2b[1868]]+=_0xee2b[60]+this[_0xee2b[2224]];c=a}if(!b[_0xee2b[763]][_0xee2b[747]]){Ext[_0xee2b[761]](c)[_0xee2b[863]](Ext[_0xee2b[761]](b)[_0xee2b[859]]())}return c},onDragDrop:function(c,e){var b=this;b[_0xee2b[2166]](c);var k=b[_0xee2b[1817]],i=b[_0xee2b[2265]]||Ext[_0xee2b[2121]][_0xee2b[2267]][_0xee2b[2266]](e),a=b[_0xee2b[2156]],h=a[_0xee2b[1138]]&&a[_0xee2b[1139]],l=!0;if(b[_0xee2b[2106]]){b[_0xee2b[2106]][_0xee2b[256]]()}var j=a[_0xee2b[1138]]-a[_0xee2b[2169]]!==0||a[_0xee2b[2165]]!==a[_0xee2b[2055]];var g=(j||b[_0xee2b[2229]]())&&a[_0xee2b[2003]]&&h&&b[_0xee2b[2268]](a[_0xee2b[2055]],a[_0xee2b[2165]],a[_0xee2b[2173]][0]);Ext[_0xee2b[8]](a,{ddCallbackArgs:[i,c,e],start:a[_0xee2b[1138]],end:a[_0xee2b[1139]],finalize:function(){b[_0xee2b[2082]][_0xee2b[8]](b,arguments)}});b[_0xee2b[379]][_0xee2b[265]][_0xee2b[264]](_0xee2b[2269]);var d=function(){b[_0xee2b[2082]](!0)};var f=function(){b[_0xee2b[2082]](!1)};if(g){if(k[_0xee2b[180]](_0xee2b[2270],b[_0xee2b[1817]],a,c,d,f)!==!1){d()}}else {f()}},finalize:function(f){var a=this,b=a[_0xee2b[1817]],e=b[_0xee2b[696]]();a[_0xee2b[379]][_0xee2b[265]][_0xee2b[267]](_0xee2b[2269]);if(f){var d,c=function(){d=!0};e[_0xee2b[149]](_0xee2b[724],c,null,{single:!0});a[_0xee2b[2271]](a[_0xee2b[2156]]);e[_0xee2b[152]](_0xee2b[724],c,null,{single:!0});if(!d){a[_0xee2b[2272]][_0xee2b[8]](a,a[_0xee2b[2156]][_0xee2b[2215]])}else {a[_0xee2b[2273]][_0xee2b[8]](a,a[_0xee2b[2156]][_0xee2b[2215]]);b[_0xee2b[180]](_0xee2b[2274],b,a[_0xee2b[2156]][_0xee2b[2235]]||a[_0xee2b[2156]][_0xee2b[2173]])}a[_0xee2b[2228]]()}else {a[_0xee2b[2272]][_0xee2b[8]](a,a[_0xee2b[2156]][_0xee2b[2215]])}},onInvalidDrop:function(b,a,d){if(!a){a=b;b=a[_0xee2b[2033]]()||document[_0xee2b[2179]]}if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[256]]()}this[_0xee2b[2160]](!0);var c=this[_0xee2b[1817]],e=this[_0xee2b[9]]([b,a,d]);if(this[_0xee2b[2180]]){c[_0xee2b[180]](_0xee2b[2274],c,this[_0xee2b[2156]][_0xee2b[2235]]||this[_0xee2b[2156]][_0xee2b[2173]])}this[_0xee2b[2228]]();return e},resolveStartEndDates:function(c,h){var b=this[_0xee2b[2156]],a,f=b[_0xee2b[2169]],e=b[_0xee2b[2226]],d=Sch[_0xee2b[49]][_0xee2b[703]];if(!b[_0xee2b[2275]]){a=c[_0xee2b[2075]](h,_0xee2b[704]);if(a[_0xee2b[179]]){if(!c[_0xee2b[1795]][_0xee2b[1763]](a[_0xee2b[179]],!1)){var g=c[_0xee2b[1795]][_0xee2b[1764]](a[_0xee2b[179]]);if(g){a[_0xee2b[179]]=c[_0xee2b[1795]][_0xee2b[2276]](g)}}f=a[_0xee2b[179]]||b[_0xee2b[1138]];e=d[_0xee2b[255]](f,d.MILLI,b[_0xee2b[2240]])}}else {if(!b[_0xee2b[2277]]){a=c[_0xee2b[2075]](h,_0xee2b[704]);if(a){e=a[_0xee2b[771]]||b[_0xee2b[1139]];f=d[_0xee2b[255]](e,d.MILLI,-b[_0xee2b[2240]])}}}return {startDate:f,endDate:e}}});Ext[_0xee2b[6]](_0xee2b[2278],{requires:[_0xee2b[717],_0xee2b[2110]],validatorFn:function(e,b,c,a,d){return !0},validatorFnScope:null,dragConfig:null,constructor:function(a,b){Ext[_0xee2b[8]](this,b);this[_0xee2b[1817]]=a;a[_0xee2b[2279]]=new Sch[_0xee2b[822]].SchedulerDragZone(b[_0xee2b[2280]],Ext[_0xee2b[8]]({ddGroup:a[_0xee2b[388]],schedulerView:a,validatorFn:this[_0xee2b[2078]],validatorFnScope:this[_0xee2b[2077]]},this[_0xee2b[2281]]));this[_0xee2b[1817]][_0xee2b[149]](_0xee2b[218],this[_0xee2b[2282]],this);this[_0xee2b[9]]([b])},cleanUp:function(){var a=this[_0xee2b[1817]];if(a[_0xee2b[2279]]){a[_0xee2b[2279]][_0xee2b[218]]()}}});Ext[_0xee2b[6]](_0xee2b[2283],{extend:_0xee2b[957],maxVersion:_0xee2b[2284],target:_0xee2b[2285],overrides:{injectGroupingMenu:function(){var a=this,b=a[_0xee2b[829]][_0xee2b[1848]];b[_0xee2b[2286]]=Ext[_0xee2b[283]][_0xee2b[2287]](b[_0xee2b[2286]],a[_0xee2b[2286]]);b[_0xee2b[2288]]=a[_0xee2b[2288]]()},showMenuBy:function(h,i,d){var a=this,c=a[_0xee2b[2289]](),f=c[_0xee2b[861]](_0xee2b[2290]),g=d[_0xee2b[2291]]===!1||!d[_0xee2b[2292]]||a[_0xee2b[829]][_0xee2b[1848]][_0xee2b[2293]]()[_0xee2b[4]]<2?_0xee2b[2061]:_0xee2b[2064],b=c[_0xee2b[861]](_0xee2b[2294]),e=a[_0xee2b[840]][_0xee2b[341]]()[_0xee2b[2295]]();f[g]();if(b){b[_0xee2b[2296]](e,!0);b[e?_0xee2b[2064]:_0xee2b[2061]]()}}}});Ext[_0xee2b[6]](_0xee2b[2297],{extend:_0xee2b[2285],requires:[_0xee2b[2283]],alias:_0xee2b[2298],headerRenderer:Ext[_0xee2b[688]],eventStoreDetacher:null,assignmentStoreDetacher:null,resourceStoreDetacher:null,schedulerGroupHeaderTpl:_0xee2b[2299],headerCellTpl:_0xee2b[2300],renderCells:function(d){var a=this[_0xee2b[829]][_0xee2b[1858]]();var c=a[_0xee2b[870]][a[_0xee2b[1906]]];var b=Ext[_0xee2b[26]][_0xee2b[41]](c,function(b){var c={};var e=this[_0xee2b[2301]](b[_0xee2b[179]],b[_0xee2b[771]],d[_0xee2b[375]],c);c[_0xee2b[2302]]=e===null||e===undefined?_0xee2b[2303]:e;c[_0xee2b[773]]=a[_0xee2b[772]](b[_0xee2b[179]],b[_0xee2b[771]]);return c},this);return this[_0xee2b[2304]][_0xee2b[8]](b)},disable:function(){this[_0xee2b[331]]();this[_0xee2b[9]](arguments)},enable:function(){this[_0xee2b[316]]();this[_0xee2b[9]](arguments)},init:function(){var a=this[_0xee2b[829]];var b=this;this[_0xee2b[9]](arguments);if(typeof this[_0xee2b[2304]]===_0xee2b[308]){this[_0xee2b[2304]]=new Ext.XTemplate(this[_0xee2b[2304]])}if(a[_0xee2b[1007]]){this[_0xee2b[316]]();this[_0xee2b[2305]]=new Ext.XTemplate(this[_0xee2b[2306]],{renderCells:Ext[_0xee2b[283]][_0xee2b[282]](b[_0xee2b[2307]],b)});a[_0xee2b[149]]({resourcestorechange:this[_0xee2b[316]],eventstorechange:this[_0xee2b[316]],assignmentstorechange:this[_0xee2b[316]],scope:this})}Ext[_0xee2b[8]](a,{getRowNode:function(a){return this[_0xee2b[2309]](this[_0xee2b[2308]](a),!0)}});a[_0xee2b[2310]]=this},bindStoreListeners:function(){var a=this[_0xee2b[829]];if(!a[_0xee2b[2311]]){var b=a[_0xee2b[696]]();var c=this[_0xee2b[2312]]();this[_0xee2b[331]]();if(b){this[_0xee2b[1000]]=a[_0xee2b[252]](b,c[_0xee2b[1071]])}if(b&&b[_0xee2b[1051]]()){this[_0xee2b[1001]]=a[_0xee2b[252]](b[_0xee2b[1051]](),c[_0xee2b[1003]])}if(a[_0xee2b[1007]]()){this[_0xee2b[1010]]=a[_0xee2b[252]](a[_0xee2b[1007]](),c[_0xee2b[1302]])}}},unbindStoreListeners:function(){if(!this[_0xee2b[829]][_0xee2b[2311]]){Ext[_0xee2b[1004]](this,_0xee2b[1000],_0xee2b[1010],_0xee2b[1001])}},getStoreListeners:function(){var b=this[_0xee2b[829]],a={resourceStore:{add:this[_0xee2b[2313]],destroyable:!0,scope:this}};if(b[_0xee2b[696]]){a[_0xee2b[1071]]={add:this[_0xee2b[2314]],remove:this[_0xee2b[2314]],update:this[_0xee2b[2315]],destroyable:!0,scope:this};if(b[_0xee2b[696]]()[_0xee2b[1051]]()){a[_0xee2b[1003]]={add:this[_0xee2b[2316]],update:this[_0xee2b[2317]],remove:this[_0xee2b[2316]],destroyable:!0,scope:this}}}return a},refreshGrouping:function(c){if(!this[_0xee2b[829]][_0xee2b[341]]()[_0xee2b[2295]]()){return}var b=this;var a={};Ext[_0xee2b[26]][_0xee2b[25]](c,function(e){if(e){var g=b[_0xee2b[2318]](e);if(g){var d=g[_0xee2b[572]]();var f=d[_0xee2b[32]]();if(!a[f]){a[f]=d;b[_0xee2b[2319]](d,!0)}}}})},onAssignmentAddOrRemove:function(c,a){if(!this[_0xee2b[829]][_0xee2b[341]]()[_0xee2b[2295]]()){return}var b=this[_0xee2b[829]][_0xee2b[1007]]();this[_0xee2b[2320]](Ext[_0xee2b[26]][_0xee2b[41]](a,function(d){return d[_0xee2b[1053]](b)}))},onAssignmentUpdate:function(d,a){if(!this[_0xee2b[829]][_0xee2b[341]]()[_0xee2b[2295]]()){return}var c=this[_0xee2b[829]][_0xee2b[1007]]();var b=[a[_0xee2b[1053]](c)];if(a[_0xee2b[52]]&&a[_0xee2b[52]][a[_0xee2b[1009]]]){b[_0xee2b[11]](c[_0xee2b[395]](a[_0xee2b[52]][a[_0xee2b[1009]]]))}this[_0xee2b[2320]](b)},onEventUpdate:function(c,a){if(!this[_0xee2b[829]][_0xee2b[341]]()[_0xee2b[2295]]()){return}var e=this;var h=c[_0xee2b[1051]]();if(h){e[_0xee2b[2320]](a[_0xee2b[1427]]())}else {var f=c[_0xee2b[1007]]()[_0xee2b[2321]]();var g=a[_0xee2b[52]]&&a[_0xee2b[1009]] in a[_0xee2b[52]];var b=a[_0xee2b[1053]]();if(g){var d=c[_0xee2b[1007]]()[_0xee2b[395]](a[_0xee2b[52]][a[_0xee2b[1009]]]);if(d&&(!b||d[_0xee2b[55]](f)!==b[_0xee2b[55]](f))){e[_0xee2b[2319]](d)}}if(b){e[_0xee2b[2319]](b)}}},onEventAddOrRemove:function(d,f){if(!this[_0xee2b[829]][_0xee2b[341]]()[_0xee2b[2295]]()||d[_0xee2b[2322]]){return}var b=this;var c=b[_0xee2b[829]];var e=c[_0xee2b[696]]();var a=Ext[_0xee2b[26]][_0xee2b[41]](f,function(a){return e[_0xee2b[1093]](a)});a=[][_0xee2b[318]][_0xee2b[8]]([],a);this[_0xee2b[2320]](Ext[_0xee2b[26]][_0xee2b[1376]](a))},onResourceAdd:function(b,a){if(!this[_0xee2b[829]][_0xee2b[341]]()[_0xee2b[2295]]()){return}this[_0xee2b[2320]](a)},refreshGroupHeader:function(b,d){var a=this,c=a[_0xee2b[829]];if(a[_0xee2b[144]]||!a[_0xee2b[829]][_0xee2b[1007]]()[_0xee2b[2295]]()){return}c[_0xee2b[2323]](d?b:a[_0xee2b[2318]](b)[_0xee2b[572]]())}});Ext[_0xee2b[6]](_0xee2b[2324],{extend:_0xee2b[2325],alias:_0xee2b[2326],mixins:[_0xee2b[665]],dialogCls:_0xee2b[2327],show:function(a){var b=this;if(!a||!a[_0xee2b[2328]]||!a[_0xee2b[2329]]){throw new Error(_0xee2b[2330])}a[_0xee2b[489]]=b[_0xee2b[2331]]+(a[_0xee2b[489]]?_0xee2b[60]+a[_0xee2b[489]]:_0xee2b[27]);var c=a[_0xee2b[2329]][_0xee2b[1547]]();a=Ext[_0xee2b[8]]({title:b.L(a[_0xee2b[2328]]+_0xee2b[2332]),msg:b.L(a[_0xee2b[2328]]+(c?_0xee2b[2333]:_0xee2b[2334])),icon:Ext[_0xee2b[2336]][_0xee2b[2335]],scope:b,fn:b[_0xee2b[2337]],buttonText:a[_0xee2b[2338]]||b[_0xee2b[2339]](a)},a);return b[_0xee2b[9]]([a])},getButtonText:function(c){var a=this,d=c[_0xee2b[2329]][_0xee2b[1547]]();var b={yes:a.L(c[_0xee2b[2328]]+(d?_0xee2b[2340]:_0xee2b[2341])),no:a.L(c[_0xee2b[2328]]+_0xee2b[2342]),cancel:a.L(_0xee2b[557])};if(d){b[_0xee2b[2343]]=a.L(_0xee2b[556]);delete b[_0xee2b[2344]]}return b},getButtonHandler:function(c,d,b){var a;switch(c){case _0xee2b[2343]:a=b[_0xee2b[2345]]||this[_0xee2b[2345]];break;case _0xee2b[2344]:a=b[_0xee2b[2346]]||this[_0xee2b[2346]];break;case _0xee2b[1499]:a=b[_0xee2b[2347]]||this[_0xee2b[2347]];break;}return a},dispatchHandler:function(e,g,a){a=a||{};var b=this,c=b[_0xee2b[2348]](e,g,a),f=a[_0xee2b[2349]]||b,d=a[_0xee2b[2350]]||Ext[_0xee2b[688]];c[_0xee2b[293]](f,a[_0xee2b[2329]],a[_0xee2b[2351]],a[_0xee2b[2328]],d,a[_0xee2b[2352]]||b)},multipleHandler:function(a,f,g,e,c){var b=a[_0xee2b[1580]](),d=new Date(a[_0xee2b[712]]()-1);e[_0xee2b[293]](c);a[_0xee2b[1581]](null);b&&b[_0xee2b[1546]]()[_0xee2b[1202]](d)},singleHandler:function(a,f,g,e,b){var c=a[_0xee2b[1580]](),d=a[_0xee2b[712]]();e[_0xee2b[293]](b);a[_0xee2b[46]]();a[_0xee2b[1581]](null);a[_0xee2b[2353]](null);a[_0xee2b[51]]();c[_0xee2b[2354]](d)},cancelHandler:Ext[_0xee2b[688]]});Ext[_0xee2b[6]](_0xee2b[2355],{extend:_0xee2b[2324],singleton:!0});Ext[_0xee2b[6]](_0xee2b[2356],{alias:_0xee2b[2357],requires:[_0xee2b[2355]],mixins:[_0xee2b[108]],panelCls:_0xee2b[2358],eventStoreDetacher:null,timeAxisDetacher:null,panelDetacher:null,viewDetacher:null,panel:null,eventStore:null,timeAxis:null,trackingSuspended:0,constructor:function(a){a=a||{};this[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this);if(a[_0xee2b[1818]]){this[_0xee2b[1809]](a[_0xee2b[1818]])}},init:function(a){this[_0xee2b[2359]](a)},setPanel:function(a){var b=this;b[_0xee2b[1818]]=a;b[_0xee2b[2360]](a);b[_0xee2b[1407]](a&&a[_0xee2b[696]]())},startTracking:function(){var a=this,b=a[_0xee2b[1818]];if(b){a[_0xee2b[2361]](a[_0xee2b[290]](b));a[_0xee2b[2362]](b[_0xee2b[695]]&&b[_0xee2b[695]]());a[_0xee2b[2363]]();b[_0xee2b[264]](a[_0xee2b[2364]])}else {a[_0xee2b[2365]]()}},stopTracking:function(){var a=this,b=a[_0xee2b[1818]];a[_0xee2b[2361]]();a[_0xee2b[2362]]();b&&b[_0xee2b[267]](a[_0xee2b[2364]])},getPanel:function(){return this[_0xee2b[1818]]},getView:function(a){a=a||this[_0xee2b[1818]];return a&&a[_0xee2b[808]]()},setView:function(a){if(a){if(a[_0xee2b[2366]]){this[_0xee2b[2367]](a)}else {this[_0xee2b[252]](a,{viewready:this[_0xee2b[1822]],single:!0,scope:this})}}else {this[_0xee2b[2367]]()}},bindPanel:function(a){this[_0xee2b[2368]]&&this[_0xee2b[2368]][_0xee2b[218]]();if(a){this[_0xee2b[252]](a,{eventstorechange:this[_0xee2b[2369]],destroy:this[_0xee2b[2370]],scope:this})}},onPanelDestroy:function(){this[_0xee2b[2359]]()},onViewReady:function(a){this[_0xee2b[2367]](a)},bindView:function(b){var a=this;a[_0xee2b[2371]]&&a[_0xee2b[2371]][_0xee2b[218]]();if(b){a[_0xee2b[2371]]=a[_0xee2b[252]](b,{beforeeventdropfinalize:a[_0xee2b[2372]],beforeeventresizefinalize:a[_0xee2b[2373]],destroyable:!0,scope:a,priority:-100})}},setEventStore:function(a){var b=this,c=a&&a[_0xee2b[2374]];a=c?a:null;b[_0xee2b[1071]]=a;b[_0xee2b[2375]](a);b[c?_0xee2b[2376]:_0xee2b[2365]]()},getEventStore:function(){return this[_0xee2b[1071]]},bindEventStore:function(a){this[_0xee2b[1000]]&&this[_0xee2b[1000]][_0xee2b[218]]();if(a){this[_0xee2b[1000]]=this[_0xee2b[252]](a,{load:this[_0xee2b[2377]],add:this[_0xee2b[2378]],update:this[_0xee2b[2315]],remove:this[_0xee2b[1077]],'generate-occurrences-start':this[_0xee2b[2379]],'generate-occurrences-end':this[_0xee2b[2380]],'delayed-regenerate-occurrences-start':this[_0xee2b[2381]],'delayed-regenerate-occurrences-end':this[_0xee2b[1539]],scope:this,destroyable:!0})}},setTimeAxis:function(a){this[_0xee2b[1795]]=a;this[_0xee2b[2382]](a)},getTimeAxis:function(){return this[_0xee2b[1795]]},getStartDate:function(){return this[_0xee2b[695]]()&&this[_0xee2b[695]]()[_0xee2b[697]]()},getEndDate:function(){return this[_0xee2b[695]]()&&this[_0xee2b[695]]()[_0xee2b[698]]()},bindTimeAxis:function(a){this[_0xee2b[2383]]&&this[_0xee2b[2383]][_0xee2b[218]]();if(a){this[_0xee2b[2383]]=this[_0xee2b[252]](a,{reconfigure:this[_0xee2b[2384]],scope:this,destroyable:!0})}},onDelayedRegenerateOccurrencesStart:function(){var a=this[_0xee2b[290]]();if(a&&a[_0xee2b[2131]]()==_0xee2b[1931]){this[_0xee2b[2385]]=a[_0xee2b[1931]][_0xee2b[2386]];a[_0xee2b[1931]][_0xee2b[2386]]=!1}},onDelayedRegenerateOccurrencesEnd:function(){var a=this[_0xee2b[290]]();if(a&&a[_0xee2b[2131]]()==_0xee2b[1931]){a[_0xee2b[1931]][_0xee2b[2386]]=this[_0xee2b[2385]]}},onGenerateOccurrencesStart:function(b,d,a,c){this[_0xee2b[2387]]()},onGenerateOccurrencesEnd:function(c,e,a,b,d){this[_0xee2b[2388]]()},refreshOccurrences:function(){var a=this[_0xee2b[696]](),b=this[_0xee2b[712]](),c=this[_0xee2b[713]]();if(a&&b&&c){a[_0xee2b[2389]](a[_0xee2b[1565]](),b,c)}},onPanelEventStoreChange:function(b,a){this[_0xee2b[1407]](a)},onTimeAxisReconfigure:function(){if(!this[_0xee2b[2390]]()){this[_0xee2b[2363]]()}},onEventsLoaded:function(c,a,b){if(b&&!this[_0xee2b[2390]]()){a=Ext[_0xee2b[26]][_0xee2b[173]](a,function(d){return d[_0xee2b[1547]]()});if(a[_0xee2b[4]]){c[_0xee2b[2389]](a,this[_0xee2b[712]](),this[_0xee2b[713]]())}}},onEventAdd:function(b,a){if(!this[_0xee2b[2390]]()){a=Ext[_0xee2b[26]][_0xee2b[173]](a,function(c){return c[_0xee2b[1547]]()});if(a[_0xee2b[4]]){b[_0xee2b[2389]](a,this[_0xee2b[712]](),this[_0xee2b[713]]())}}},onEventUpdate:function(f,a,h,g){if(h==_0xee2b[171]&&!this[_0xee2b[2390]]()&&this[_0xee2b[2391]](a,g)){var c=this[_0xee2b[712]](),d=this[_0xee2b[713]](),e=a[_0xee2b[712]](),b=a[_0xee2b[1546]]();if(!b){f[_0xee2b[1589]](a)}else {if(c&&d&&e&&(!b[_0xee2b[713]]()||b[_0xee2b[713]]()>=c&&e<=d)){f[_0xee2b[2392]](a,c,d)}}}},onEventRemove:function(b,a){if(!this[_0xee2b[2390]]()){a=Ext[_0xee2b[26]][_0xee2b[173]](a,function(c){return c[_0xee2b[1547]]()});if(a[_0xee2b[4]]){b[_0xee2b[1589]](a)}}},isRecurrenceRelatedFieldChange:function(a,b){return a[_0xee2b[1547]]()||Ext[_0xee2b[26]][_0xee2b[1087]](b,a[_0xee2b[1586]])},isTrackingSuspended:function(){return this[_0xee2b[2393]]},suspendTracking:function(){this[_0xee2b[2393]]++},resumeTracking:function(){this[_0xee2b[2393]]--},onBeforeEventDropFinalize:function(f,d,e,b,c){var a=d[_0xee2b[2173]][0];if(a[_0xee2b[1568]]&&(a[_0xee2b[1547]]()||a[_0xee2b[1571]]())){Sch[_0xee2b[2395]][_0xee2b[2394]][_0xee2b[2019]]({actionType:_0xee2b[724],eventRecord:a,changerFn:b,cancelHandler:c});return !1}},onBeforeEventResizeFinalize:function(e,b,f,d,c){var a=b[_0xee2b[2329]];if(a[_0xee2b[1568]]&&(a[_0xee2b[1547]]()||a[_0xee2b[1571]]())){Sch[_0xee2b[2395]][_0xee2b[2394]][_0xee2b[2019]]({actionType:_0xee2b[724],eventRecord:a,changerFn:d,cancelHandler:c});return !1}}});Ext[_0xee2b[6]](_0xee2b[2396],{extend:_0xee2b[108],requires:[_0xee2b[2397],_0xee2b[1995],_0xee2b[1910]],showTooltip:!0,showExactResizePosition:!1,validatorFn:Ext[_0xee2b[688]],validatorFnScope:null,schedulerView:null,origEl:null,handlePos:null,eventRec:null,mouseDownEvent:null,tip:null,tipInstance:null,startScroll:null,constructor:function(b){Ext[_0xee2b[8]](this,b);var a=this[_0xee2b[1817]];a[_0xee2b[149]]({destroy:this[_0xee2b[2282]],scope:this});a[_0xee2b[265]][_0xee2b[149]]({mousedown:this[_0xee2b[785]],mouseup:this[_0xee2b[802]],scope:this,delegate:_0xee2b[2398]});this[_0xee2b[2098]]();this[_0xee2b[9]](arguments)},bindRightClickPreventer:function(){this[_0xee2b[1817]][_0xee2b[265]][_0xee2b[149]](_0xee2b[744],this[_0xee2b[2133]],this,{priority:999})},preventRightClick:function(a){if(a[_0xee2b[2104]]!==0&&this[_0xee2b[2399]]){a[_0xee2b[2217]]();return !1}},onMouseDown:function(a,b){var e=this[_0xee2b[1817]];var d=this[_0xee2b[2400]]=e[_0xee2b[2181]](b);var c=d[_0xee2b[2401]]();if(a[_0xee2b[2104]]!==0||(c===!1||typeof c===_0xee2b[308]&&!b[_0xee2b[1868]][_0xee2b[2249]](c))){return}this[_0xee2b[2400]]=d;this[_0xee2b[2402]]=this[_0xee2b[2403]](b);this[_0xee2b[2404]]=Ext[_0xee2b[55]](a[_0xee2b[2033]](_0xee2b[2225]));this[_0xee2b[2405]]=a;e[_0xee2b[265]][_0xee2b[149]]({mousemove:this[_0xee2b[799]],scope:this,single:!0})},onMouseUp:function(c,b){var a=this[_0xee2b[1817]];a[_0xee2b[265]][_0xee2b[152]]({mousemove:this[_0xee2b[799]],scope:this,single:!0});this[_0xee2b[2405]]=null},getTipInstance:function(){if(this[_0xee2b[2406]]){return this[_0xee2b[2406]]}var b=this[_0xee2b[1817]];var a=this[_0xee2b[2106]];if(a instanceof Ext[_0xee2b[2106]][_0xee2b[2105]]){a[_0xee2b[1817]]=b}else {a=new Sch[_0xee2b[2000]].Tooltip(Ext[_0xee2b[8]]({rtl:this[_0xee2b[1855]],schedulerView:b,constrainTo:b[_0xee2b[694]](_0xee2b[840])[_0xee2b[265]],cls:_0xee2b[2407]},a))}return this[_0xee2b[2406]]=a},onMouseMove:function(c,g){var b=this[_0xee2b[1817]],a=this[_0xee2b[2400]],d=this[_0xee2b[2402]];if(!a||b[_0xee2b[180]](_0xee2b[2408],b,a,c)===!1){return}delete this[_0xee2b[2400]];c[_0xee2b[2217]]();this[_0xee2b[2404]][_0xee2b[264]](_0xee2b[2409]);this[_0xee2b[2399]]=this[_0xee2b[2410]](this[_0xee2b[2404]],a,d);var f=this[_0xee2b[2399]][_0xee2b[2411]];f[_0xee2b[785]](this[_0xee2b[2405]],this[_0xee2b[2399]][d][_0xee2b[758]]);f[_0xee2b[799]](c,this[_0xee2b[2399]][d][_0xee2b[758]]);if(this[_0xee2b[2127]]){var e=this[_0xee2b[2412]]();e[_0xee2b[724]](a[_0xee2b[712]](),a[_0xee2b[713]](),!0);e[_0xee2b[2071]](this[_0xee2b[2404]],c[_0xee2b[809]]()-this[_0xee2b[2404]][_0xee2b[809]]())}b[_0xee2b[180]](_0xee2b[2413],b,a);b[_0xee2b[1941]]()[_0xee2b[149]](_0xee2b[1978],this[_0xee2b[2201]],this)},getHandlePosition:function(b){var a=b[_0xee2b[1868]][_0xee2b[2249]](_0xee2b[179]);if(this[_0xee2b[1817]][_0xee2b[1828]]()){if(this[_0xee2b[1817]][_0xee2b[1855]]){return a?_0xee2b[2414]:_0xee2b[2415]}return a?_0xee2b[2415]:_0xee2b[2414]}else {return a?_0xee2b[2416]:_0xee2b[2417]}},createResizer:function(a,i,d){var b=this[_0xee2b[1817]],o=this,f=b[_0xee2b[2036]](a),c=b[_0xee2b[2188]](),n=b[_0xee2b[2058]](f,i),l=b[_0xee2b[2060]](f,i),k=a[_0xee2b[859]](),h=b[_0xee2b[1855]]&&d[0]===_0xee2b[2090]||!b[_0xee2b[1855]]&&d[0]===_0xee2b[523]||d[0]===_0xee2b[2418],m=!b[_0xee2b[1828]](),g={otherEdgeX:h?a[_0xee2b[2419]]():a[_0xee2b[806]](),otherEdgeY:h?a[_0xee2b[2420]]():a[_0xee2b[2421]](),target:a,isStart:h,dateConstraints:l,resourceRecord:f,eventRecord:i,handles:d[0],minHeight:k,constrainTo:n,listeners:{resizedrag:this[_0xee2b[2422]],resize:this[_0xee2b[2423]],scope:this}};if(m){if(c>0){var j=a[_0xee2b[793]]();Ext[_0xee2b[8]](g,{minHeight:c,minWidth:j,maxWidth:j,heightIncrement:c})}}else {if(c>0){Ext[_0xee2b[8]](g,{minWidth:c,maxHeight:k,widthIncrement:c})}}var e=new Ext[_0xee2b[2399]].Resizer(g);if(e[_0xee2b[2411]]){e[_0xee2b[2411]][_0xee2b[1980]]=-1}a[_0xee2b[2051]](_0xee2b[2424],parseInt(a[_0xee2b[2425]](_0xee2b[2424]),10)+1);Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2073]](b,b[_0xee2b[1828]]()?_0xee2b[1931]:_0xee2b[1932]);this[_0xee2b[1971]]=b[_0xee2b[1966]]();return e},getStartEndDates:function(){var b=this[_0xee2b[2399]],c=b[_0xee2b[265]],a=this[_0xee2b[1817]],h=b[_0xee2b[2426]],e,d,g,f;if(h){if(a[_0xee2b[1828]]()){g=a[_0xee2b[1855]]&&a[_0xee2b[2170]]()?c[_0xee2b[2419]]():c[_0xee2b[806]]()+1;f=[g,0]}else {f=[(c[_0xee2b[2419]]()+c[_0xee2b[806]]())/2,c[_0xee2b[2421]]()]}d=b[_0xee2b[2329]][_0xee2b[713]]();if(a[_0xee2b[2250]]){e=a[_0xee2b[2167]](f);e=a[_0xee2b[1795]][_0xee2b[2251]](e,b[_0xee2b[2329]][_0xee2b[712]]())}else {e=a[_0xee2b[2167]](f,_0xee2b[704])}}else {if(a[_0xee2b[1828]]()){g=a[_0xee2b[1855]]&&a[_0xee2b[2170]]()?c[_0xee2b[806]]():c[_0xee2b[2419]]();f=[g,0]}else {f=[(c[_0xee2b[2419]]()+c[_0xee2b[806]]())/2,c[_0xee2b[2420]]()]}e=b[_0xee2b[2329]][_0xee2b[712]]();if(a[_0xee2b[2250]]){d=a[_0xee2b[2167]](f);d=a[_0xee2b[1795]][_0xee2b[2251]](d,b[_0xee2b[2329]][_0xee2b[713]]())}else {d=a[_0xee2b[2167]](f,_0xee2b[704])}}e=e||b[_0xee2b[179]];d=d||b[_0xee2b[771]];if(b[_0xee2b[2059]]){e=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2076]](e,b[_0xee2b[2059]][_0xee2b[179]],b[_0xee2b[2059]][_0xee2b[771]]);d=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2076]](d,b[_0xee2b[2059]][_0xee2b[179]],b[_0xee2b[2059]][_0xee2b[771]])}return {start:e,end:d}},partialResize:function(a,o,r,k){var b=this[_0xee2b[1817]],p=k?k[_0xee2b[1970]]():this[_0xee2b[2399]][_0xee2b[2411]][_0xee2b[1976]],n=this[_0xee2b[2427]](p),c=n[_0xee2b[179]],f=n[_0xee2b[771]],h=a[_0xee2b[2329]],l=b[_0xee2b[1828]]();if(this[_0xee2b[2127]]){var g=this[_0xee2b[2078]][_0xee2b[293]](this[_0xee2b[2077]]||this,a[_0xee2b[2055]],h,c,f);var m=_0xee2b[27];if(g&&typeof g!==_0xee2b[1108]){m=g[_0xee2b[940]];g=g[_0xee2b[2003]]}this[_0xee2b[2412]]()[_0xee2b[724]](c,f,g!==!1,m)}if(this[_0xee2b[2428]]){var d=a[_0xee2b[969]][_0xee2b[265]],e,i,j;if(a[_0xee2b[2426]]){if(b[_0xee2b[1847]]()){var q=b[_0xee2b[2430]][_0xee2b[2429]](h)[0];e=b[_0xee2b[810]][_0xee2b[772]](c,q[_0xee2b[771]])}else {e=b[_0xee2b[810]][_0xee2b[772]](c,h[_0xee2b[713]]())}if(l){i=b[_0xee2b[807]](a[_0xee2b[2431]]-Math[_0xee2b[203]](o,a[_0xee2b[2432]]))||c;j=b[_0xee2b[810]][_0xee2b[772]](i,c);if(d[_0xee2b[793]]()!==e){d[_0xee2b[839]](e);d[_0xee2b[2171]](d[_0xee2b[809]]()+j)}}else {i=b[_0xee2b[807]](a[_0xee2b[2433]]-Math[_0xee2b[203]](r,a[_0xee2b[2434]]))||c;j=b[_0xee2b[810]][_0xee2b[772]](i,c);if(d[_0xee2b[859]]()!==e){d[_0xee2b[863]](e);d[_0xee2b[2079]](d[_0xee2b[1936]]()+j)}}}else {e=b[_0xee2b[810]][_0xee2b[772]](h[_0xee2b[712]](),f);if(l){d[_0xee2b[839]](e)}else {d[_0xee2b[863]](e)}}}else {if(!c||!f||a[_0xee2b[179]]-c===0&&a[_0xee2b[771]]-f===0){return}}a[_0xee2b[771]]=f;a[_0xee2b[179]]=c;b[_0xee2b[180]](_0xee2b[2435],b,h,c,f,a[_0xee2b[265]])},onViewScroll:function(d,b,c,a){if(a!==0){this[_0xee2b[2399]][_0xee2b[2411]][_0xee2b[1982]]({});this[_0xee2b[2422]](this[_0xee2b[2399]],0,0)}},afterResize:function(c,q,p,k){var a=this,o=c[_0xee2b[2055]],g=c[_0xee2b[2329]],j=g[_0xee2b[712]](),i=g[_0xee2b[713]](),e=c[_0xee2b[179]]||j,d=c[_0xee2b[771]]||i,h=a[_0xee2b[1817]],l=e-j||d-i,b=a[_0xee2b[2078]][_0xee2b[293]](a[_0xee2b[2077]]||a,o,g,e,d,k);Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2084]]();h[_0xee2b[1941]]()[_0xee2b[152]](_0xee2b[1978],this[_0xee2b[2201]],this);if(this[_0xee2b[2127]]){this[_0xee2b[2412]]()[_0xee2b[256]]()}if(Ext[_0xee2b[135]](b)){b=b[_0xee2b[2003]]}b=b!==!1&&e&&d&&d-e>0;var f={resourceRecord:c[_0xee2b[2055]],eventRecord:g,start:e,end:d,valid:b,modified:l,finalize:function(b){a[_0xee2b[2082]](b,f)}};var m=function(){a[_0xee2b[2082]](!0,f)};var n=function(){a[_0xee2b[2082]](!1,f)};if(b&&l){if(h[_0xee2b[180]](_0xee2b[2436],h,f,k,m,n)!==!1){m()}}else {n()}},finalize:function(e,b){var a=this[_0xee2b[1817]];var c=!1;var d=function(){c=!0};a[_0xee2b[696]]()[_0xee2b[149]](_0xee2b[724],d);this[_0xee2b[2399]][_0xee2b[969]][_0xee2b[218]]();if(e){if(this[_0xee2b[2399]][_0xee2b[2426]]){b[_0xee2b[2329]][_0xee2b[1204]](b[_0xee2b[179]],!1,a[_0xee2b[696]]()[_0xee2b[2241]])}else {b[_0xee2b[2329]][_0xee2b[1202]](b[_0xee2b[771]],!1,a[_0xee2b[696]]()[_0xee2b[2241]])}if(!c){a[_0xee2b[2437]](b[_0xee2b[2055]])}}else {a[_0xee2b[2437]](b[_0xee2b[2055]])}this[_0xee2b[2399]][_0xee2b[218]]();delete this[_0xee2b[2399]];a[_0xee2b[696]]()[_0xee2b[152]](_0xee2b[724],d);a[_0xee2b[180]](_0xee2b[2438],a,b[_0xee2b[2329]]);a[_0xee2b[180]](_0xee2b[2439],a,b[_0xee2b[2329]])},cleanUp:function(){if(this[_0xee2b[2406]]){this[_0xee2b[2406]][_0xee2b[218]]()}this[_0xee2b[2405]]=null}});Ext[_0xee2b[6]](_0xee2b[2440],{extend:_0xee2b[2441],alias:_0xee2b[2442],hidden:!0,enableKeyEvents:!0,divider:_0xee2b[1131],dateFormat:_0xee2b[2443],getErrors:function(c){var d=this,a=d[_0xee2b[9]](arguments);if(c==null||c===_0xee2b[27]){return a}var b=this[_0xee2b[1206]](c);if(!b[0]){a[_0xee2b[11]](_0xee2b[2444])}if(!b[1]){a[_0xee2b[11]](_0xee2b[2445])}if(b[1]-b[0]<0){a[_0xee2b[11]](_0xee2b[2446])}return a},getDates:function(f){var a=this;var e=f[_0xee2b[496]](a[_0xee2b[2447]]);var b,c;if(Ext[_0xee2b[307]](a[_0xee2b[879]])){for(var d=0;d<a[_0xee2b[879]][_0xee2b[4]];d++){b=b||Ext[_0xee2b[703]][_0xee2b[1253]](e[0],a[_0xee2b[879]][d]);c=c||Ext[_0xee2b[703]][_0xee2b[1253]](e[1],a[_0xee2b[879]][d])}}else {b=Ext[_0xee2b[703]][_0xee2b[1253]](e[0],a[_0xee2b[879]]);c=Ext[_0xee2b[703]][_0xee2b[1253]](e[1],a[_0xee2b[879]])}if(!b||!c){return []}if(a[_0xee2b[933]]){b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2449]](a[_0xee2b[933]][_0xee2b[712]](),b,a[_0xee2b[2448]]);c=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2449]](a[_0xee2b[933]][_0xee2b[713]](),c,a[_0xee2b[2448]])}else {b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2449]](a[_0xee2b[1138]],b,a[_0xee2b[2448]]);c=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2449]](a[_0xee2b[1138]],c,a[_0xee2b[2448]])}return [b,c]}});Ext[_0xee2b[6]](_0xee2b[2450],{extend:_0xee2b[2451],alias:_0xee2b[2452],mixins:[_0xee2b[2453]],segmentedButtonFieldCls:_0xee2b[2454],layout:_0xee2b[2455],allowMultiple:!0,defaults:{enableToggle:!0,border:0},allowBlank:!0,initComponent:function(){var a=this;a[_0xee2b[2456]]();a[_0xee2b[2457]]();a[_0xee2b[264]](a[_0xee2b[2458]]);a[_0xee2b[9]]();a[_0xee2b[149]](_0xee2b[2459],a[_0xee2b[2460]],a)},initDefaultName:function(){this[_0xee2b[683]]=this[_0xee2b[683]]||this[_0xee2b[32]]()},onFieldChange:function(c,b,a){if(!this[_0xee2b[2461]]&&Ext[_0xee2b[1353]](b)){this[_0xee2b[2462]](a)}}});Ext[_0xee2b[6]](_0xee2b[2463],{extend:_0xee2b[2464],alias:_0xee2b[2465],beginLayout:function(a){var b=this,e=b[_0xee2b[2466]],d=e[_0xee2b[2467]],c=e[_0xee2b[2468]],g=c&&c[_0xee2b[840]][_0xee2b[854]]()&&!c[_0xee2b[840]][_0xee2b[2469]],f=a[_0xee2b[2470]];a[_0xee2b[2471]]=g&&(d[_0xee2b[2472]]||d[_0xee2b[2473]]);if(!b[_0xee2b[2474]]){b[_0xee2b[2474]]=b[_0xee2b[388]]+_0xee2b[2475];b[_0xee2b[2476]]=b[_0xee2b[388]]+_0xee2b[2477]}if(b[_0xee2b[2466]][_0xee2b[2478]]){b[_0xee2b[2466]][_0xee2b[2478]][_0xee2b[2479]](a)}b[_0xee2b[673]][_0xee2b[673]][_0xee2b[2480]][_0xee2b[8]](this,[a]);if(g&&c[_0xee2b[2482]][_0xee2b[2481]]()){if(!a[_0xee2b[2483]]){(a[_0xee2b[2483]]=f[_0xee2b[800]](c))[_0xee2b[2483]]=a}if(a[_0xee2b[2471]]){a[_0xee2b[2484]]=b[_0xee2b[2466]][_0xee2b[2485]]()}}(a[_0xee2b[2487]]=f[_0xee2b[800]](b[_0xee2b[1848]]))[_0xee2b[2486]]=a}});Ext[_0xee2b[6]](_0xee2b[2488],{extend:_0xee2b[1803],alias:_0xee2b[2489],requires:[_0xee2b[1198]],innerTpl:null,cls:_0xee2b[2490],side:null,init:function(b){if(typeof this[_0xee2b[1881]]===_0xee2b[308]){this[_0xee2b[1881]]=new Ext.XTemplate(this[_0xee2b[1881]])}this[_0xee2b[1882]]=b[_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354];var a=this[_0xee2b[1881]];if(!this[_0xee2b[1860]]){this[_0xee2b[1860]]=new Ext.XTemplate(_0xee2b[2491]+this[_0xee2b[1882]]+_0xee2b[2492]+(a?_0xee2b[1814]:_0xee2b[27])+_0xee2b[2493],{renderInner:function(c){return a[_0xee2b[8]](c)}})}if(typeof this[_0xee2b[1810]]===_0xee2b[308]){this[_0xee2b[1810]]=new Ext.XTemplate(this[_0xee2b[1810]])}this[_0xee2b[9]](arguments)},getElementData:function(m,l,h,i){var e=this[_0xee2b[1817]],o=[];var p=e[_0xee2b[1892]](m,l,this[_0xee2b[1891]]);var d,g,f,a,r,k;h=h||this[_0xee2b[64]][_0xee2b[1005]]();for(var n=0,q=h[_0xee2b[4]];n<q;n++){d=h[n];g=d[_0xee2b[712]]();f=d[_0xee2b[713]]();k=this[_0xee2b[1837]](d);if(g&&f&&Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[714]](g,f,m,l)){a=Ext[_0xee2b[8]]({},k);a[_0xee2b[388]]=this[_0xee2b[1867]](d);a[_0xee2b[1869]]=this[_0xee2b[1890]](d,k);if(e[_0xee2b[1847]]()){var c=e[_0xee2b[1892]](g,f);a[_0xee2b[1354]]=c[_0xee2b[1354]];a[_0xee2b[686]]=c[_0xee2b[686]];a[_0xee2b[747]]=c[_0xee2b[754]]-c[_0xee2b[686]];a[_0xee2b[773]]=c[_0xee2b[867]]-c[_0xee2b[1354]]}else {var b=e[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](g,m));var j=e[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](f,l));if(e[_0xee2b[1828]]()){a[_0xee2b[1354]]=b;a[_0xee2b[686]]=p[_0xee2b[686]];a[_0xee2b[773]]=i?0:j-b;a[_0xee2b[763]]=i?_0xee2b[2494]+(j-b)+_0xee2b[804]:_0xee2b[27]}else {a[_0xee2b[1354]]=p[_0xee2b[1354]];a[_0xee2b[686]]=b;a[_0xee2b[747]]=i?0:j-b;a[_0xee2b[763]]=i?_0xee2b[2495]+(j-b)+_0xee2b[804]:_0xee2b[27]}}o[_0xee2b[11]](a)}}return o},getHeaderElementId:function(b,a){return this[_0xee2b[9]]([b])+(a?_0xee2b[1489]:_0xee2b[1494])},getHeaderElementCls:function(b,a,c){var d=b[_0xee2b[1227]]||this[_0xee2b[1227]];if(!a){a=this[_0xee2b[1837]](b)}return _0xee2b[2496]+(c?_0xee2b[2497]:_0xee2b[2498])+this[_0xee2b[1805]]+_0xee2b[60]+(a[d]||_0xee2b[27])},getZoneHeaderElementData:function(h,i,a,b){var c=b?a[_0xee2b[712]]():a[_0xee2b[713]](),e=null,f,g,d;if(c&&Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1175]](c,h,i)){f=this[_0xee2b[1896]](c);g=this[_0xee2b[1817]][_0xee2b[1828]]();d=this[_0xee2b[1837]](a);e=Ext[_0xee2b[8]]({id:this[_0xee2b[1873]](a,b),cls:this[_0xee2b[1897]](a,d,b),isStart:b,side:g?this[_0xee2b[1882]]:_0xee2b[686],position:f},d)}return e},getHeaderElementData:function(a){var g=this[_0xee2b[1795]][_0xee2b[697]](),h=this[_0xee2b[1795]][_0xee2b[698]](),c=[],f,d,e;a=a||this[_0xee2b[64]][_0xee2b[1005]]();for(var b=0,i=a[_0xee2b[4]];b<i;b++){f=a[b];d=this[_0xee2b[2499]](g,h,f,!0);if(d){c[_0xee2b[11]](d)}e=this[_0xee2b[2499]](g,h,f,!1);if(e){c[_0xee2b[11]](e)}}return c},updateZoneHeaderElement:function(a,b){a[_0xee2b[758]][_0xee2b[1868]]=b[_0xee2b[489]];if(this[_0xee2b[1817]][_0xee2b[1828]]()){this[_0xee2b[1871]](a,b[_0xee2b[1780]])}else {a[_0xee2b[1870]](b[_0xee2b[1780]])}},updateHeaderElement:function(c){var e=this[_0xee2b[1795]][_0xee2b[697]](),g=this[_0xee2b[1795]][_0xee2b[698]](),a=Ext[_0xee2b[55]](this[_0xee2b[1873]](c,!0)),b=Ext[_0xee2b[55]](this[_0xee2b[1873]](c,!1)),f=this[_0xee2b[2499]](e,g,c,!0),d=this[_0xee2b[2499]](e,g,c,!1);if(!(a&&d)||!(b&&d)){Ext[_0xee2b[218]](a,b);this[_0xee2b[1821]]([c])}else {if(a){if(!f){Ext[_0xee2b[218]](a)}else {this[_0xee2b[2500]](a,f)}}if(b){if(!d){Ext[_0xee2b[218]](b)}else {this[_0xee2b[2500]](b,d)}}}}});Ext[_0xee2b[6]](_0xee2b[2501],{extend:_0xee2b[2488],requires:[_0xee2b[717],_0xee2b[1140]],innerTpl:null,store:null,init:function(a){this[_0xee2b[64]]=Ext[_0xee2b[132]][_0xee2b[131]](this[_0xee2b[64]]);this[_0xee2b[1805]]=this[_0xee2b[1805]]||_0xee2b[1806]+Ext[_0xee2b[388]]();this[_0xee2b[2502]]=a;a[_0xee2b[2503]](this[_0xee2b[878]],this);if(typeof this[_0xee2b[1881]]===_0xee2b[308]){this[_0xee2b[1881]]=new Ext.XTemplate(this[_0xee2b[1881]])}var b=this[_0xee2b[1881]];if(!this[_0xee2b[1860]]){this[_0xee2b[1860]]=new Ext.XTemplate(_0xee2b[2504]+this[_0xee2b[1805]]+_0xee2b[2505]+this[_0xee2b[489]]+_0xee2b[60]+this[_0xee2b[1805]]+_0xee2b[2506]+(a[_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354])+_0xee2b[2507]+(b?_0xee2b[1814]:_0xee2b[2508]+this[_0xee2b[64]][_0xee2b[137]]()[_0xee2b[139]][_0xee2b[1228]]+_0xee2b[2509])+_0xee2b[2493],{renderInner:function(c){return b[_0xee2b[8]](c)}})}this[_0xee2b[1840]]={refresh:this[_0xee2b[2510]],clear:this[_0xee2b[2510]],add:this[_0xee2b[2511]],remove:this[_0xee2b[2512]],update:this[_0xee2b[2513]],scope:this};this[_0xee2b[64]][_0xee2b[149]](this[_0xee2b[1840]])},destroy:function(){this[_0xee2b[64]][_0xee2b[152]](this[_0xee2b[1840]]);this[_0xee2b[9]](arguments)},getViewRecordByZone:function(a){throw _0xee2b[29]},getZoneContainerEl:function(c){var d=this[_0xee2b[2502]][_0xee2b[808]](),a=this[_0xee2b[2514]](c),b=a&&d[_0xee2b[2515]](a);return b&&b[_0xee2b[2517]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[2516])},onZoneRemove:function(b,a){Ext[_0xee2b[26]][_0xee2b[130]](a,function(d){var c=document[_0xee2b[2194]](this[_0xee2b[1867]](d));c&&c[_0xee2b[791]][_0xee2b[78]](c)},this)},onZoneAdd:function(b,a){Ext[_0xee2b[26]][_0xee2b[130]](a,function(d){var c=this[_0xee2b[2518]](d);c&&this[_0xee2b[2519]](d,c)},this)},fullRefresh:function(){var b=this,a=this[_0xee2b[2502]][_0xee2b[808]]();if(a[_0xee2b[265]]){a[_0xee2b[265]][_0xee2b[760]](_0xee2b[495]+this[_0xee2b[1805]])[_0xee2b[63]]();Ext[_0xee2b[26]][_0xee2b[130]](a[_0xee2b[2520]](),function(c){b[_0xee2b[2521]](a[_0xee2b[37]](c),!0)})}},renderer:function(e,d,b,c){var a=_0xee2b[27];if(b&&(this[_0xee2b[2502]][_0xee2b[1828]]()||c===0)){a=this[_0xee2b[2521]](b)}return a},getRecordZones:function(a){throw _0xee2b[29]},getTemplateData:function(b){var c=this[_0xee2b[2502]],a=c[_0xee2b[808]]()[c[_0xee2b[2131]]()][_0xee2b[2522]](b),d,e;if(c[_0xee2b[1828]]()){d=c[_0xee2b[1855]]?a[_0xee2b[867]]:a[_0xee2b[1354]];e=a[_0xee2b[773]]}else {d=a[_0xee2b[686]];e=a[_0xee2b[747]]}return Ext[_0xee2b[8]]({id:b[_0xee2b[1049]],start:d,width:e,Cls:b[_0xee2b[1284]]()},b[_0xee2b[22]])},renderRecordZones:function(m,b){var g=this[_0xee2b[2502]],k=g[_0xee2b[1795]][_0xee2b[697]](),j=g[_0xee2b[1795]][_0xee2b[698]](),d=[],h=this[_0xee2b[2523]](m),i=_0xee2b[27],f,e,a;for(var c=0,l=h[_0xee2b[4]];c<l;c++){a=h[c];f=a[_0xee2b[712]]();e=a[_0xee2b[713]]();if(f&&e&&Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[714]](f,e,k,j)){d[_0xee2b[11]](this[_0xee2b[1837]](a))}}if(b){if(a){if(Ext[_0xee2b[2524]](b)){b=this[_0xee2b[2518]](a)}this[_0xee2b[1860]][_0xee2b[384]](b,d)}}else {i=this[_0xee2b[1860]][_0xee2b[8]](d)}return i},appendZoneElement:function(a){var d=this[_0xee2b[2502]],g=d[_0xee2b[1795]][_0xee2b[697]](),f=d[_0xee2b[1795]][_0xee2b[698]](),c=this[_0xee2b[2518]](a),e=a[_0xee2b[712]](),b=a[_0xee2b[713]]();if(c&&e&&b&&Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[714]](e,b,g,f)){this[_0xee2b[1860]][_0xee2b[384]](c,this[_0xee2b[1837]](a))}},onZoneUpdate:function(k,c){var a=document[_0xee2b[2194]](this[_0xee2b[1867]](c));if(a){var b=this[_0xee2b[2502]],f=b[_0xee2b[1795]][_0xee2b[697]](),i=b[_0xee2b[1795]][_0xee2b[698]]();var h=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](f,c[_0xee2b[712]]()),g=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](i,c[_0xee2b[713]]()),j=c[_0xee2b[1284]]();var d=b[_0xee2b[808]]()[_0xee2b[1895]](h);var e=b[_0xee2b[808]]()[_0xee2b[1895]](g)-d;a[_0xee2b[1868]]=this[_0xee2b[489]]+_0xee2b[60]+this[_0xee2b[1805]]+_0xee2b[60]+(j||_0xee2b[27]);a[_0xee2b[763]][_0xee2b[1354]]=d+_0xee2b[804];a[_0xee2b[763]][_0xee2b[686]]=d+_0xee2b[804];a[_0xee2b[763]][_0xee2b[747]]=e+_0xee2b[804];a[_0xee2b[763]][_0xee2b[773]]=e+_0xee2b[804]}}});Ext[_0xee2b[6]](_0xee2b[2525],{extend:_0xee2b[2501],alias:_0xee2b[2526],cls:_0xee2b[2527],init:function(a){this[_0xee2b[9]](arguments);this[_0xee2b[64]][_0xee2b[1408]](a[_0xee2b[1007]]());a[_0xee2b[149]](_0xee2b[1409],this[_0xee2b[2528]],this)},onResourceStoreChange:function(b,a){this[_0xee2b[64]][_0xee2b[1408]](a)},getRecordZones:function(a){return a[_0xee2b[1421]](this[_0xee2b[64]])},getViewRecordByZone:function(a){return a[_0xee2b[1053]]()},getZoneContainerEl:function(d){var a;if(this[_0xee2b[2502]][_0xee2b[1828]]()){a=this[_0xee2b[9]](arguments)}else {var b=this[_0xee2b[2502]][_0xee2b[808]](),c=d[_0xee2b[1053]]();if(b[_0xee2b[265]]&&c){var e=b[_0xee2b[1302]][_0xee2b[147]](c);a=b[_0xee2b[2515]](0)[_0xee2b[2517]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[2529]+(e+1)+_0xee2b[2530]+Ext[_0xee2b[238]]+_0xee2b[2516])}}return a},fullRefresh:function(){var b=this,a=this[_0xee2b[2502]][_0xee2b[808]]();if(b[_0xee2b[2502]][_0xee2b[1828]]()){this[_0xee2b[9]](arguments)}else {if(a[_0xee2b[265]]){a[_0xee2b[265]][_0xee2b[760]](_0xee2b[495]+this[_0xee2b[1805]])[_0xee2b[63]]();a[_0xee2b[1302]][_0xee2b[25]](function(a){b[_0xee2b[2521]](a,!0)})}}}});Ext[_0xee2b[6]](_0xee2b[2531],{requires:[_0xee2b[1598],_0xee2b[1623],_0xee2b[1616],_0xee2b[1625],_0xee2b[1140],_0xee2b[2525]],eventBarIconClsField:_0xee2b[27],enableEventDragDrop:!0,resourceColumnClass:_0xee2b[485],resourceColumnWidth:null,allowOverlap:!0,startParamName:_0xee2b[1138],endParamName:_0xee2b[1139],passStartEndParameters:!1,eventRenderer:null,eventRendererScope:null,eventStore:null,resourceStore:null,onEventCreated:function(a,b){},resourceZones:null,resourceZonesConfig:null,initStores:function(){var a=this[_0xee2b[1302]]||this[_0xee2b[64]];if(this[_0xee2b[312]]){if(!Sch[_0xee2b[464]][_0xee2b[2532]]){throw new Error(_0xee2b[2533])}if(!(this[_0xee2b[312]] instanceof Sch[_0xee2b[464]][_0xee2b[2532]])){this[_0xee2b[312]]=Ext[_0xee2b[831]](this[_0xee2b[312]][_0xee2b[2534]]||_0xee2b[1301],Ext[_0xee2b[1161]](this[_0xee2b[312]]))}}if(!a){if(this[_0xee2b[312]]){a=this[_0xee2b[1302]]=this[_0xee2b[312]][_0xee2b[1007]]()}if(!a){if(this[_0xee2b[2535]]){a=new Sch[_0xee2b[22]].ResourceTreeStore({proxy:_0xee2b[313]})}else {a=new Sch[_0xee2b[22]].ResourceStore()}}}if(!this[_0xee2b[1303]]){if(this[_0xee2b[312]]){this[_0xee2b[1303]]=this[_0xee2b[312]][_0xee2b[1306]]()}}if(!this[_0xee2b[1071]]){if(this[_0xee2b[312]]){this[_0xee2b[1071]]=this[_0xee2b[312]][_0xee2b[696]]()}this[_0xee2b[1071]]=this[_0xee2b[1071]]||new Sch[_0xee2b[22]].EventStore()}this[_0xee2b[64]]=Ext[_0xee2b[132]][_0xee2b[131]](a);this[_0xee2b[1302]]=this[_0xee2b[64]];this[_0xee2b[1407]](this[_0xee2b[1071]]);if(!this[_0xee2b[1071]]||!this[_0xee2b[1071]][_0xee2b[1603]]){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[2536])}this[_0xee2b[1302]][_0xee2b[1071]]=this[_0xee2b[696]]()},_initializeSchedulerPanel:function(){this[_0xee2b[2537]]();if(this[_0xee2b[2538]]&&typeof this[_0xee2b[2538]]===_0xee2b[308]){this[_0xee2b[2538]]=new Ext.XTemplate(this[_0xee2b[2538]])}this[_0xee2b[149]](_0xee2b[218],function(){this[_0xee2b[1408]](null);this[_0xee2b[1407]](null)})},getResourceStore:function(){return this[_0xee2b[1302]]},setResourceStore:function(a){var b=this[_0xee2b[1007]]();this[_0xee2b[1302]]=a=a&&Ext[_0xee2b[132]][_0xee2b[131]](a);var d=this[_0xee2b[696]]();if(d&&a){d[_0xee2b[1408]](a)}var c=this[_0xee2b[808]]();c&&c[_0xee2b[1408]](a);if(a){this[_0xee2b[180]](_0xee2b[1409],this,a,b);if(this[_0xee2b[2539]]()){this[_0xee2b[2540]]();this[_0xee2b[325]](b,this[_0xee2b[2541]]);this[_0xee2b[252]](a,this[_0xee2b[2541]])}if(this[_0xee2b[1847]]()){this[_0xee2b[325]](b,this[_0xee2b[2542]]);this[_0xee2b[252]](a,this[_0xee2b[2542]])}if(b===this[_0xee2b[64]]){this[_0xee2b[1723]](a)}else {this[_0xee2b[2543]](!1)}if(this[_0xee2b[2544]]){this[_0xee2b[2544]][_0xee2b[2543]](!1)}}},getEventStore:function(){return this[_0xee2b[1071]]},setEventStore:function(a){var f=this[_0xee2b[696]]();a=a&&Ext[_0xee2b[132]][_0xee2b[131]](a);if(this[_0xee2b[696]]()){this[_0xee2b[325]](this[_0xee2b[696]](),_0xee2b[439],this[_0xee2b[2545]],this)}var d=this[_0xee2b[1007]]();var b=this[_0xee2b[1051]]();var c=this[_0xee2b[1306]]();this[_0xee2b[1071]]=a;if(d&&a){d[_0xee2b[1407]](a)}if(b&&a&&!a[_0xee2b[1051]]()){a[_0xee2b[1410]](b)}if(c&&a&&!a[_0xee2b[1306]]()){a[_0xee2b[1412]](c)}var e=this[_0xee2b[808]]();e&&e[_0xee2b[1407]](a);if(this[_0xee2b[2544]]){this[_0xee2b[2544]][_0xee2b[1407]](a)}if(a){this[_0xee2b[180]](_0xee2b[1074],this,a,f);if(this[_0xee2b[2546]]){this[_0xee2b[252]](a,_0xee2b[439],this[_0xee2b[2545]],this)}this[_0xee2b[2543]](!1)}},applyStartEndParameters:function(b,c){var a=b[_0xee2b[1700]]();a[_0xee2b[2548]](this[_0xee2b[2547]],this[_0xee2b[697]]());a[_0xee2b[2548]](this[_0xee2b[2549]],this[_0xee2b[698]]())},getAssignmentStore:function(){var b=this,a=b[_0xee2b[696]]();return a&&a[_0xee2b[304]]&&a[_0xee2b[1051]]()||b[_0xee2b[1003]]},setAssignmentStore:function(a){var b=this[_0xee2b[1051]]();this[_0xee2b[696]]()[_0xee2b[1410]](a);if(a){this[_0xee2b[180]](_0xee2b[1411],this,a,b);this[_0xee2b[2543]](!1)}},getDependencyStore:function(){var b=this,a=b[_0xee2b[696]]();return a&&a[_0xee2b[304]]&&a[_0xee2b[1306]]()||b[_0xee2b[1303]]},setDependencyStore:function(a){var b=this[_0xee2b[1306]]();this[_0xee2b[696]]()[_0xee2b[1412]](a);if(a){this[_0xee2b[180]](_0xee2b[1413],this,a,b);this[_0xee2b[2543]](!1)}},createResourceColumns:function(a){return Ext[_0xee2b[26]][_0xee2b[41]](this[_0xee2b[1302]][_0xee2b[1005]](),function(b){return {xclass:this[_0xee2b[2550]],renderer:this[_0xee2b[2551]],scope:this,width:a||100,text:b[_0xee2b[497]](),model:b}},this)},registerEventEditor:function(a){this[_0xee2b[808]]()[_0xee2b[2552]](a)}});Ext[_0xee2b[6]](_0xee2b[2553],{extend:_0xee2b[717],eventPrefix:null,resizeHandles:null,resizeTpl:_0xee2b[2554],terminalSides:null,terminalTpl:_0xee2b[2555],constructor:function(b){var a=this;Ext[_0xee2b[8]](a,b);a[_0xee2b[9]]([this[_0xee2b[2556]]()])},getOuterMarkup:function(){var a=this;var b=Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[2557]]||[],function(b){return a[_0xee2b[2558]][_0xee2b[675]](/SIDE/,b)})[_0xee2b[73]](_0xee2b[27]);return [_0xee2b[1812],_0xee2b[2559],a[_0xee2b[2560]],_0xee2b[2561],Ext[_0xee2b[238]],_0xee2b[2562],a[_0xee2b[2563]]===_0xee2b[179]||a[_0xee2b[2563]]===_0xee2b[1911]?a[_0xee2b[2564]][_0xee2b[675]](/DIR/,_0xee2b[179]):_0xee2b[27],_0xee2b[2565],_0xee2b[2566],this[_0xee2b[2567]](),_0xee2b[1815],a[_0xee2b[2563]]===_0xee2b[771]||a[_0xee2b[2563]]===_0xee2b[1911]?a[_0xee2b[2564]][_0xee2b[675]](/DIR/,_0xee2b[771]):_0xee2b[27],b,_0xee2b[1815],_0xee2b[1816]][_0xee2b[73]](_0xee2b[27])},getInnerMarkup:function(){return _0xee2b[2568]}});Ext[_0xee2b[6]](_0xee2b[2569],{requires:[_0xee2b[1950],_0xee2b[2570],_0xee2b[34],_0xee2b[1140]],view:null,constructor:function(a){Ext[_0xee2b[8]](this,a)},getElementsFromEventRecord:function(e,d,f,c){var b=this[_0xee2b[829]],a;c=c||!1;if(d){a=_0xee2b[2571]+b[_0xee2b[2560]]+e[_0xee2b[1049]]+_0xee2b[1131]+d[_0xee2b[1049]]+_0xee2b[2572]}else {a=_0xee2b[2571]+b[_0xee2b[2560]]+e[_0xee2b[1049]]+_0xee2b[2572]}return b[_0xee2b[787]]()[_0xee2b[2573]](a,c)},translateToScheduleCoordinate:function(b){var a=this[_0xee2b[829]];return b-a[_0xee2b[2574]]()+a[_0xee2b[1922]]()},translateToPageCoordinate:function(c){var a=this[_0xee2b[829]];var b=a[_0xee2b[1922]]();return c+a[_0xee2b[2574]]()-b},getDateFromXY:function(c,d,b){var a=c[1];if(!b){a=this[_0xee2b[2575]](a)}return this[_0xee2b[829]][_0xee2b[810]][_0xee2b[2576]](a,d)},getEventRenderData:function(e,k){var b=Math,f=e[_0xee2b[712]](),d=e[_0xee2b[713]](),c=this[_0xee2b[829]],g=c[_0xee2b[1795]][_0xee2b[697]](),i=c[_0xee2b[1795]][_0xee2b[698]](),h=b[_0xee2b[424]](c[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](f,g))),j=b[_0xee2b[424]](c[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](d,i))),a={event:e};a[_0xee2b[686]]=b[_0xee2b[715]](0,b[_0xee2b[203]](h,j)-c[_0xee2b[2577]]);a[_0xee2b[747]]=b[_0xee2b[715]](1,b[_0xee2b[1524]](h-j));a[_0xee2b[179]]=f;a[_0xee2b[771]]=d;a[_0xee2b[2275]]=f<g;a[_0xee2b[2277]]=d>i;return a},getScheduleRegion:function(b,i){var a=this[_0xee2b[829]],c=b?Ext[_0xee2b[761]](a[_0xee2b[2578]](a[_0xee2b[2520]]()[0],a[_0xee2b[1007]]()[_0xee2b[147]](b)))[_0xee2b[1945]]():a[_0xee2b[2579]](),d=a[_0xee2b[1795]][_0xee2b[697]](),h=a[_0xee2b[1795]][_0xee2b[698]](),e=a[_0xee2b[2060]](b,i)||{start:d,end:h},f=this[_0xee2b[2580]](a[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](d,e[_0xee2b[179]]))),g=this[_0xee2b[2580]](a[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](h,e[_0xee2b[771]]))),j=c[_0xee2b[1354]]+a[_0xee2b[1800]],k=(b?c[_0xee2b[1354]]+this[_0xee2b[2581]](b):c[_0xee2b[867]])-a[_0xee2b[1800]];return new Ext[_0xee2b[49]].Region(Math[_0xee2b[203]](f,g),k,Math[_0xee2b[715]](f,g),j)},getResourceColumnWidth:function(a){return this[_0xee2b[829]][_0xee2b[810]][_0xee2b[2582]]},getResourceColumnLayoutAvailableWidth:function(b){var a=this;return a[_0xee2b[2581]](b)-2*a[_0xee2b[829]][_0xee2b[1800]]-a[_0xee2b[829]][_0xee2b[2583]]},getResourceRegion:function(b,f,g){var a=this[_0xee2b[829]],e=a[_0xee2b[1007]]()[_0xee2b[147]](b)*this[_0xee2b[2581]](b),h=a[_0xee2b[1795]][_0xee2b[697]](),i=a[_0xee2b[1795]][_0xee2b[698]](),j=f?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](h,f):h,l=g?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](i,g):i,d=Math[_0xee2b[715]](0,a[_0xee2b[1895]](j)-a[_0xee2b[2584]]),c=a[_0xee2b[1895]](l)-a[_0xee2b[2584]],k=e+a[_0xee2b[2583]],m=e+this[_0xee2b[2581]](b)-a[_0xee2b[2583]];return new Ext[_0xee2b[49]].Region(Math[_0xee2b[203]](d,c),m,Math[_0xee2b[715]](d,c),k)},columnRenderer:function(o,b,g,m,h){var a=this[_0xee2b[829]];var i=_0xee2b[27];if(m===0){var p=Sch[_0xee2b[49]][_0xee2b[703]],n=a[_0xee2b[1795]],d,e,c,l;d=[];e=a[_0xee2b[696]]()[_0xee2b[699]](g);for(c=0,l=e[_0xee2b[4]];c<l;c++){var f=e[c],j=f[_0xee2b[712]](),k=f[_0xee2b[713]]();if(j&&k&&n[_0xee2b[1765]](j,k)){d[_0xee2b[11]](a[_0xee2b[2585]](f,g,h))}}a[_0xee2b[2587]][_0xee2b[1932]][_0xee2b[1788]](d,this[_0xee2b[2586]](g));i=_0xee2b[2588]+a[_0xee2b[2589]][_0xee2b[8]](d)}if(h%2===1){b[_0xee2b[477]]=(b[_0xee2b[477]]||_0xee2b[27])+_0xee2b[60]+a[_0xee2b[2590]];b[_0xee2b[2591]]=(b[_0xee2b[2591]]||_0xee2b[27])+_0xee2b[60]+a[_0xee2b[2590]]}return i},resolveResource:function(a){var f=this,b=f[_0xee2b[829]],e,d=-1,c;e=Ext[_0xee2b[761]](a)[_0xee2b[2592]](b[_0xee2b[2034]])&&a||Ext[_0xee2b[761]](a)[_0xee2b[694]](b[_0xee2b[2034]],null,!0);if(e){c=b[_0xee2b[2593]](e[_0xee2b[388]])}else {a=Ext[_0xee2b[761]](a)[_0xee2b[2592]](b[_0xee2b[2594]])?a:Ext[_0xee2b[761]](a)[_0xee2b[694]](b[_0xee2b[2594]],null,!0);if(a){d=Ext[_0xee2b[26]][_0xee2b[147]](Array[_0xee2b[139]][_0xee2b[191]][_0xee2b[293]](a[_0xee2b[96]][_0xee2b[375]]),a)}c=d>=0&&b[_0xee2b[1007]]()[_0xee2b[1752]](d)||null}return c},onEventUpdate:function(l,a){var c=this;var b=a[_0xee2b[52]]||{};var g=c[_0xee2b[829]];var h=g[_0xee2b[1795]];var e=a[_0xee2b[712]]();var f=a[_0xee2b[713]]();var j=b[_0xee2b[1199]]||e;var i=b[_0xee2b[1200]]||f;var k=j&&i&&h[_0xee2b[1765]](j,i);var d;if(a[_0xee2b[1009]] in b&&k){d=l[_0xee2b[1007]]()[_0xee2b[395]](b[a[_0xee2b[1009]]]);d&&c[_0xee2b[2595]](d)}if(e&&f&&h[_0xee2b[1765]](e,f)||k){c[_0xee2b[2596]](a);Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[1427]](),function(b){c[_0xee2b[2595]](b);g[_0xee2b[2256]]()[_0xee2b[2597]](a)&&g[_0xee2b[2598]](a,!0)})}},onEventAdd:function(g,e){var b=this,f=b[_0xee2b[829]],a,c,d;if(e[_0xee2b[4]]===1){a=e[0];c=a[_0xee2b[712]]();d=a[_0xee2b[713]]();if(c&&d&&f[_0xee2b[1795]][_0xee2b[1765]](c,d)){b[_0xee2b[2596]](a);Ext[_0xee2b[26]][_0xee2b[25]](g[_0xee2b[1093]](a),function(a){b[_0xee2b[2595]](a)})}}else {f[_0xee2b[2599]]()}},onEventRemove:function(j,h){var i=this,g=i[_0xee2b[829]],d,e,c,a,f,b;for(b=!1,a=0,f=h[_0xee2b[4]];!b&&a<f;a++){d=h[a];e=d[_0xee2b[712]]();c=d[_0xee2b[713]]();b=e&&c&&g[_0xee2b[1795]][_0xee2b[1765]](e,c);b&&Ext[_0xee2b[2600]](function(){g[_0xee2b[2599]]()})}},getScheduledEventsForResource:function(b){var a=this[_0xee2b[829]];return a[_0xee2b[696]]()[_0xee2b[2602]](b,function(c){return a[_0xee2b[1795]][_0xee2b[2601]](c)&&c[_0xee2b[1205]]()})},relayoutRenderedEvents:function(c){var b=[],a=this[_0xee2b[829]],d=this[_0xee2b[2603]](c);Ext[_0xee2b[26]][_0xee2b[25]](d,function(d){var e=a[_0xee2b[2191]](d,c);e[_0xee2b[4]]&&b[_0xee2b[11]]({start:d[_0xee2b[712]](),end:d[_0xee2b[713]](),event:d,node:e[0]})});a[_0xee2b[2587]][_0xee2b[1932]][_0xee2b[1788]](b,this[_0xee2b[2586]](c));Ext[_0xee2b[26]][_0xee2b[25]](b,function(b){b[_0xee2b[2604]][_0xee2b[2051]]({left:b[_0xee2b[1354]]+_0xee2b[804],width:b[_0xee2b[773]]+_0xee2b[804]});a[_0xee2b[180]](_0xee2b[2605],a,b[_0xee2b[1440]],b[_0xee2b[2604]])})},renderSingle:function(b){var a=this[_0xee2b[829]],c=b[_0xee2b[712]](),d=b[_0xee2b[713]]();Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[2191]](b),function(a){a[_0xee2b[218]]()});if(c&&d&&a[_0xee2b[1795]][_0xee2b[1765]](c,d)){Ext[_0xee2b[26]][_0xee2b[25]](b[_0xee2b[1427]](),function(e){var f=a[_0xee2b[1007]]()[_0xee2b[147]](e),d=Ext[_0xee2b[761]](a[_0xee2b[2578]](0,f)),c;if(d){c=a[_0xee2b[2585]](b,e,f);c&&a[_0xee2b[2589]][_0xee2b[384]](d[_0xee2b[572]](),[c])}})}},getTimeSpanRegion:function(g,e){var a=this[_0xee2b[829]],b=a[_0xee2b[1895]](g),d=e?a[_0xee2b[1895]](e):b,c=a[_0xee2b[2579]](),f=c?c[_0xee2b[867]]-c[_0xee2b[1354]]:a[_0xee2b[787]]()[_0xee2b[758]][_0xee2b[2606]];return new Ext[_0xee2b[49]].Region(Math[_0xee2b[203]](b,d),f,Math[_0xee2b[715]](b,d),0)},getStartEndDatesFromRegion:function(b,d){var a=this[_0xee2b[829]][_0xee2b[807]](b[_0xee2b[686]],d),c=this[_0xee2b[829]][_0xee2b[807]](b[_0xee2b[754]],d);if(a&&c){return {start:a,end:c}}else {return null}},setColumnWidth:function(b,c){var a=this[_0xee2b[829]];a[_0xee2b[2582]]=b;a[_0xee2b[1858]]()[_0xee2b[2607]](b,c)},getVisibleDateRange:function(){var a=this[_0xee2b[829]];if(!a[_0xee2b[262]]){return null}var c=a[_0xee2b[1966]](),e=a[_0xee2b[2608]](),d=a[_0xee2b[2579]](),b=a[_0xee2b[1795]][_0xee2b[698]]();if(d[_0xee2b[754]]-d[_0xee2b[686]]<e){var f=a[_0xee2b[1795]][_0xee2b[697]]();return {startDate:f,endDate:b}}return {startDate:a[_0xee2b[807]](c[_0xee2b[686]],null,!0),endDate:a[_0xee2b[807]](c[_0xee2b[686]]+e,null,!0)||b}},getItemBox:function(a){var b=this;return Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[1427]](),function(c){return b[_0xee2b[2609]](a,c)})},getResourceEventBox:function(d,e){var s=Sch[_0xee2b[49]][_0xee2b[703]],c=this,f=null,a=c[_0xee2b[829]],r=a[_0xee2b[1795]][_0xee2b[697]](),q=a[_0xee2b[1795]][_0xee2b[698]](),n=d[_0xee2b[712]](),m=d[_0xee2b[713]](),o,l,b,i,k,j,g,h;if(n&&m&&s[_0xee2b[714]](n,m,r,q)){if(a[_0xee2b[2610]]){o=a[_0xee2b[2587]][_0xee2b[1932]];var p=a[_0xee2b[696]]()[_0xee2b[2602]](e,a[_0xee2b[1795]][_0xee2b[2601]],a[_0xee2b[1795]]);l=Ext[_0xee2b[26]][_0xee2b[41]](p,c[_0xee2b[2522]],c);o[_0xee2b[1788]](l,c[_0xee2b[2586]](e));b=Ext[_0xee2b[26]][_0xee2b[1761]](l,function(a){return a[_0xee2b[1440]]==d});if(b){i=a[_0xee2b[1007]]()[_0xee2b[147]](e)*c[_0xee2b[2581]](e);f={rendered:!0,start:b[_0xee2b[1354]]+i,end:b[_0xee2b[1354]]+b[_0xee2b[773]]+i,top:b[_0xee2b[686]],bottom:b[_0xee2b[686]]+b[_0xee2b[747]]}}}else {k=a[_0xee2b[2191]](d,d!==e&&e);if(k[_0xee2b[4]]){j=k[0];g=j[_0xee2b[2264]](a[_0xee2b[787]]());h=j[_0xee2b[2611]]();f={rendered:!0,start:g[0],end:g[0]+h[_0xee2b[773]],top:g[1],bottom:g[1]+h[_0xee2b[747]]}}}if(f){f=c[_0xee2b[2612]](d,f)}}return f},adjustItemBox:function(b,a){return a},getConnectorStartSide:function(a){return _0xee2b[686]},getConnectorEndSide:function(a){return _0xee2b[754]}});Ext[_0xee2b[6]](_0xee2b[2613],{requires:[_0xee2b[2553],_0xee2b[1786],_0xee2b[2569],_0xee2b[1797]],_cmpCls:_0xee2b[2614],scheduledEventName:_0xee2b[1440],eventTemplateClass:_0xee2b[2553],eventTpl:null,barMargin:0,constrainDragToResource:!1,allowOverlap:null,readOnly:null,altColCls:_0xee2b[2615],highlightedEventCls:_0xee2b[2616],highlightDirtyEvents:!1,dynamicRowHeight:!0,managedEventSizing:!0,eventAnimations:!0,horizontalLayoutCls:_0xee2b[1786],horizontalEventSorterFn:null,verticalLayoutCls:_0xee2b[1797],verticalEventSorterFn:null,eventCls:_0xee2b[2617],verticalViewClass:_0xee2b[2569],eventStore:null,resourceStore:null,eventLayout:null,terminalSides:null,_initializeSchedulerView:function(){var a=Ext[_0xee2b[502]][_0xee2b[55]](this[_0xee2b[2618]]);var b=Ext[_0xee2b[502]][_0xee2b[55]](this[_0xee2b[2619]]);this[_0xee2b[2034]]=_0xee2b[495]+this[_0xee2b[2620]];this[_0xee2b[2587]]={};this[_0xee2b[2589]]=this[_0xee2b[2589]]||Ext[_0xee2b[831]](this[_0xee2b[2621]],{eventPrefix:this[_0xee2b[2560]],terminalSides:this[_0xee2b[2557]],resizeHandles:this[_0xee2b[2622]]});if(a){this[_0xee2b[2587]][_0xee2b[1931]]=new a(Ext[_0xee2b[8]]({timeAxisViewModel:this[_0xee2b[810]]},{bandIndexToPxConvertFn:this[_0xee2b[1931]][_0xee2b[2623]],bandIndexToPxConvertScope:this[_0xee2b[1931]]},this[_0xee2b[2624]]?{sortEvents:this[_0xee2b[2624]]}:{}))}if(b){this[_0xee2b[2587]][_0xee2b[1932]]=new b(Ext[_0xee2b[8]]({view:this},this[_0xee2b[2625]]?{sortEvents:this[_0xee2b[2625]]}:{}))}this[_0xee2b[64]]=this[_0xee2b[64]]||this[_0xee2b[1302]];this[_0xee2b[1302]]=this[_0xee2b[1302]]||this[_0xee2b[64]]},generateTplData:function(a,e,d){var b=this[this[_0xee2b[1719]]][_0xee2b[2522]](a,e,d),h=a[_0xee2b[712]](),g=a[_0xee2b[713]](),c=a[_0xee2b[1284]]()||_0xee2b[27];c+=_0xee2b[2626]+a[_0xee2b[1609]]();if(a[_0xee2b[92]]){c+=_0xee2b[2627]}if(b[_0xee2b[2277]]){c+=_0xee2b[2628]}if(b[_0xee2b[2275]]){c+=_0xee2b[2629]}if(a[_0xee2b[2183]]()===!1){c+=_0xee2b[2630]}if(g-h===0){c+=_0xee2b[2631]}if(a[_0xee2b[92]]){c+=_0xee2b[2627]}if(this[_0xee2b[2256]]()[_0xee2b[2597]](a)){c+=_0xee2b[60]+this[_0xee2b[2632]]+_0xee2b[60]}if(a[_0xee2b[1568]]){if(a[_0xee2b[1547]]()){c+=_0xee2b[2633]}if(a[_0xee2b[1571]]()){c+=_0xee2b[2634]}}if(a[_0xee2b[2635]]||(this[_0xee2b[2636]]?a[_0xee2b[92]]:!1)){c+=_0xee2b[60]+this[_0xee2b[2637]]+_0xee2b[60]}if(this[_0xee2b[1847]]()){b[_0xee2b[388]]=a[_0xee2b[1049]]+_0xee2b[2638]+d+_0xee2b[2639]}else {b[_0xee2b[388]]=a[_0xee2b[1049]]+_0xee2b[1131]+e[_0xee2b[1049]]+_0xee2b[2639]}b[_0xee2b[2640]]=c;b[_0xee2b[179]]=h;b[_0xee2b[771]]=g;b[_0xee2b[2641]]=a[_0xee2b[22]][this[_0xee2b[2642]]]||a[_0xee2b[2643]]&&a[_0xee2b[2643]]()||_0xee2b[27];b[_0xee2b[1440]]=a;if(this[_0xee2b[2644]]){var f=this[_0xee2b[2644]][_0xee2b[293]](this[_0xee2b[2645]]||this,a,e,b,d);if(this[_0xee2b[2538]]){b[_0xee2b[2179]]=this[_0xee2b[2538]][_0xee2b[8]](f)}else {b[_0xee2b[2179]]=f}}else {if(this[_0xee2b[2538]]){b[_0xee2b[2179]]=this[_0xee2b[2538]][_0xee2b[8]](a[_0xee2b[22]])}else {if(this[_0xee2b[2646]]){b[_0xee2b[2179]]=Ext[_0xee2b[2647]](a[_0xee2b[22]][this[_0xee2b[2646]]])||_0xee2b[27]}}}return b},resolveResource:function(b){var a=this;return a[a[_0xee2b[1719]]][_0xee2b[2036]](b)},getResourceRegion:function(c,a,b){return this[this[_0xee2b[1719]]][_0xee2b[2648]](c,a,b)},resolveEventRecord:function(a){a=a[_0xee2b[758]]?a[_0xee2b[758]]:a;if(!Ext[_0xee2b[761]](a)[_0xee2b[2592]](this[_0xee2b[2034]])){a=Ext[_0xee2b[761]](a)[_0xee2b[694]](this[_0xee2b[2034]])}return a&&this[_0xee2b[2649]](a)},resolveEventRecordFromResourceRow:function(a){var b=this,d=b[_0xee2b[2256]](),c,e;a=a[_0xee2b[758]]?a[_0xee2b[758]]:a;c=b[_0xee2b[37]](a);return d[_0xee2b[2650]](c)},resolveAssignmentRecord:function(f){var a=this,e=a[_0xee2b[696]]()[_0xee2b[1051]](),d=null,c,b;if(e){c=a[_0xee2b[2649]](f);b=a[_0xee2b[2651]](f);if(c&&b){d=e[_0xee2b[1092]](c,b)}}return d},getEventRecordFromDomId:function(a){a=this[_0xee2b[2652]](a);return this[_0xee2b[696]]()[_0xee2b[1013]](a)},getEventRecordFromDomElement:function(a){return this[_0xee2b[2653]](a[_0xee2b[388]])},getResourceRecordFromDomId:function(a){a=this[_0xee2b[2654]](a);return this[_0xee2b[1007]]()[_0xee2b[1015]](a)},getResourceRecordFromDomElement:function(a){return this[_0xee2b[2593]](a[_0xee2b[388]])},isDateRangeAvailable:function(c,a,d,b){return this[_0xee2b[696]]()[_0xee2b[2655]](c,a,d,b)},getEventsInView:function(){var b=this[_0xee2b[1795]][_0xee2b[697]](),a=this[_0xee2b[1795]][_0xee2b[698]]();return this[_0xee2b[696]]()[_0xee2b[2656]](b,a)},getEventNodes:function(){return this[_0xee2b[787]]()[_0xee2b[760]](this[_0xee2b[2034]])},triggerHighlightEvents:function(d,b){var c=this;var a=[];Ext[_0xee2b[26]][_0xee2b[25]]([][_0xee2b[318]](d),function(e){a[_0xee2b[11]][_0xee2b[8]](a,c[_0xee2b[2191]](e,null,null,!0))});var e=b!==!1?_0xee2b[264]:_0xee2b[267];Ext[_0xee2b[26]][_0xee2b[25]](d,function(a){a[_0xee2b[2635]]=b});Ext[_0xee2b[26]][_0xee2b[25]]([][_0xee2b[318]](a),function(a){Ext[_0xee2b[761]](a)[e](c[_0xee2b[2637]])})},highlightEvents:function(a){this[_0xee2b[2657]](a,!0)},unhighlightEvents:function(a){this[_0xee2b[2657]](a,!1)},highlightEventsBy:function(b,c){var a=this[_0xee2b[2658]]();this[_0xee2b[2660]](a[_0xee2b[2659]](b,c)[_0xee2b[1005]]())},clearHighlightedEvents:function(){Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[696]]()[_0xee2b[1005]](),function(a){a[_0xee2b[2635]]=!1});this[_0xee2b[787]]()[_0xee2b[760]](_0xee2b[495]+this[_0xee2b[2637]])[_0xee2b[267]](this[_0xee2b[2637]])},onEventCreated:function(a,b){},getEventStore:function(){return this[_0xee2b[1071]]},registerEventEditor:function(b){var a=this;a[_0xee2b[2661]]=b;a[_0xee2b[252]](b[_0xee2b[2662]]||b,{beforeeventadd:function(){var c=Ext[_0xee2b[26]][_0xee2b[2663]](arguments);Ext[_0xee2b[26]][_0xee2b[319]](c,0,1,a);return a[_0xee2b[219]][_0xee2b[293]](a,_0xee2b[2664],c)}})},getEventEditor:function(){return this[_0xee2b[2661]]},onEventUpdate:function(c,b,a){this[this[_0xee2b[1719]]][_0xee2b[2315]](c,b,a)},onEventAdd:function(b,a){if(!Ext[_0xee2b[307]](a)){a=[a]}this[this[_0xee2b[1719]]][_0xee2b[2378]](b,a)},onAssignmentAdd:function(c,a){var b=this;Ext[_0xee2b[26]][_0xee2b[25]](a,function(e){var d=e[_0xee2b[1053]]();d&&b[_0xee2b[2437]](d)})},onAssignmentUpdate:function(g,b){var a=this,d=b[_0xee2b[52]]&&b[_0xee2b[52]][b[_0xee2b[1009]]],c=b[_0xee2b[1008]](),f,e;if(d){f=a[_0xee2b[1007]]()[_0xee2b[1012]](d);a[_0xee2b[2437]](f)}if(c){e=a[_0xee2b[1007]]()[_0xee2b[1012]](c);a[_0xee2b[2437]](e)}},onAssignmentRemove:function(c,b){var a=this;Ext[_0xee2b[26]][_0xee2b[25]](b,function(f){var d=f[_0xee2b[1008]]();var e=d&&a[_0xee2b[1007]]()[_0xee2b[1012]](d);e&&a[_0xee2b[2437]](e)})},onEventRemove:function(a,b){this[this[_0xee2b[1719]]][_0xee2b[1077]](a,b)},setEventStore:function(b,f){var a=this;var h=a[_0xee2b[696]]();var c={scope:a,refresh:a[_0xee2b[2665]],addrecords:a[_0xee2b[2378]],updaterecord:a[_0xee2b[2315]],removerecords:a[_0xee2b[1077]],update:a[_0xee2b[2315]],nodeinsert:a[_0xee2b[2378]],nodeappend:a[_0xee2b[2378]]};if(!(b&&b[_0xee2b[234]])){c[_0xee2b[63]]=a[_0xee2b[1077]];c[_0xee2b[255]]=a[_0xee2b[2378]]}var e={scope:a,refresh:a[_0xee2b[2665]],load:a[_0xee2b[2665]],update:a[_0xee2b[2317]],add:a[_0xee2b[2666]],remove:a[_0xee2b[2667]]};if(!Ext[_0xee2b[723]][_0xee2b[722]]){c[_0xee2b[231]]=a[_0xee2b[2665]]}if(!f&&a[_0xee2b[1071]]){if(b){a[_0xee2b[1071]][_0xee2b[1408]](null)}if(b!==a[_0xee2b[1071]]&&a[_0xee2b[1071]][_0xee2b[1875]]){a[_0xee2b[1071]][_0xee2b[218]]()}else {if(a[_0xee2b[325]]){a[_0xee2b[325]](a[_0xee2b[1071]],c);var d=a[_0xee2b[1071]][_0xee2b[1051]]();if(d){a[_0xee2b[325]](d,e)}}else {a[_0xee2b[1071]][_0xee2b[152]](c)}}if(!b){a[_0xee2b[1071]]=null}}if(b){b=Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[131]](b);if(a[_0xee2b[252]]){a[_0xee2b[252]](b,c)}else {b[_0xee2b[149]](c)}a[_0xee2b[1071]]=b;b[_0xee2b[1408]](a[_0xee2b[1007]]());var g=b[_0xee2b[1051]]();if(g){a[_0xee2b[252]](g,e)}}if(b&&!f){this[_0xee2b[1858]]()[_0xee2b[1407]](b);this[_0xee2b[2256]]()[_0xee2b[145]](b);this[_0xee2b[180]](_0xee2b[1074],this,b,h);a[_0xee2b[2668]]()}},onEventDataRefresh:function(){this[_0xee2b[2669]]()},onEventBarSelect:function(a){var d=this,c,b;if(a&&a[_0xee2b[2192]]){c=a[_0xee2b[1052]]();b=a[_0xee2b[1053]]()}else {c=a;b=null}Ext[_0xee2b[26]][_0xee2b[25]](d[_0xee2b[2191]](c,b,null,!0),function(b){Ext[_0xee2b[761]](b)[_0xee2b[264]](d[_0xee2b[2632]])})},onEventBarDeselect:function(a){var d=this,b,c;if(a&&a[_0xee2b[2192]]){b=a[_0xee2b[1052]]();c=a[_0xee2b[1053]]()}else {b=a;c=null}b&&Ext[_0xee2b[26]][_0xee2b[25]](d[_0xee2b[2191]](b,c,null,!0),function(b){Ext[_0xee2b[761]](b)[_0xee2b[267]](d[_0xee2b[2632]])})},refresh:function(){throw _0xee2b[29]},repaintEventsForResource:function(a){throw _0xee2b[29]},repaintAllEvents:function(){this[_0xee2b[2669]]()},scrollEventIntoView:function(b,f,c,g,d){var e=this,a=b[_0xee2b[1427]]();if(a[_0xee2b[4]]>1){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[2670])}a[_0xee2b[4]]&&e[_0xee2b[2671]](a[0],b,null,f,c,g,d)},getResourceStore:function(){return this[_0xee2b[1302]]},setResourceStore:function(a){var b=this[_0xee2b[1302]];this[_0xee2b[1302]]=a;if(a){this[_0xee2b[180]](_0xee2b[1409],this,a,b)}},rowHasDynamicRowHeight:function(a){return this[_0xee2b[2672]]}});Ext[_0xee2b[6]](_0xee2b[2673],{requires:[_0xee2b[1140]],name:null,rowHeight:24,timeColumnWidth:50,timeRowHeight:null,timeAxisColumnWidth:null,displayDateFormat:_0xee2b[651],shiftUnit:_0xee2b[710],shiftIncrement:1,defaultSpan:12,timeResolution:null,headerConfig:null,columnLinesFor:_0xee2b[753],headers:null,mainHeader:0,ptype:_0xee2b[27],constructor:function(a){Ext[_0xee2b[8]](this,a);this[_0xee2b[2674]]()},normalizeUnits:function(){var a=this[_0xee2b[875]];var b=Sch[_0xee2b[49]][_0xee2b[703]];for(var c in a){if(a[_0xee2b[53]](c)){if(b[a[c][_0xee2b[1734]]]){a[c][_0xee2b[1734]]=b[a[c][_0xee2b[1734]][_0xee2b[2675]]()]}if(b[a[c][_0xee2b[1760]]]){a[c][_0xee2b[1760]]=b[a[c][_0xee2b[1760]][_0xee2b[2675]]()]}}}var d=this[_0xee2b[1767]];if(d&&b[d[_0xee2b[1734]]]){d[_0xee2b[1734]]=b[d[_0xee2b[1734]][_0xee2b[2675]]()]}var e=this[_0xee2b[1749]];if(e&&b[e]){this[_0xee2b[1749]]=b[e[_0xee2b[2675]]()]}},getHeaders:function(){if(this[_0xee2b[2676]]){return this[_0xee2b[2676]]}var a=this[_0xee2b[875]];this[_0xee2b[2677]]=a[_0xee2b[686]]?1:0;return this[_0xee2b[2676]]=[][_0xee2b[318]](a[_0xee2b[686]]||[],a[_0xee2b[753]]||[],a[_0xee2b[754]]||[])},getMainHeader:function(){return this[_0xee2b[862]]()[this[_0xee2b[2677]]]},getBottomHeader:function(){var a=this[_0xee2b[862]]();return a[a[_0xee2b[4]]-1]},clone:function(){var a={};var b=this;Ext[_0xee2b[26]][_0xee2b[25]]([_0xee2b[2678],_0xee2b[2679],_0xee2b[2680],_0xee2b[2681],_0xee2b[2682],_0xee2b[1749],_0xee2b[1759],_0xee2b[1748],_0xee2b[1767],_0xee2b[875]],function(c){a[c]=b[c]});return new this[_0xee2b[45]](Ext[_0xee2b[1161]](a))},isValid:function(){var e=Sch[_0xee2b[49]][_0xee2b[703]],a=!0,c=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1147]],d={};for(var b in this[_0xee2b[875]]){if(this[_0xee2b[875]][_0xee2b[53]](b)){d[b]=!0;a=a&&Ext[_0xee2b[26]][_0xee2b[147]](c,this[_0xee2b[875]][b][_0xee2b[1734]])>=0}}if(!(this[_0xee2b[1906]] in d)){this[_0xee2b[1906]]=_0xee2b[753]}if(this[_0xee2b[1767]]){a=a&&Ext[_0xee2b[26]][_0xee2b[147]](c,this[_0xee2b[1767]][_0xee2b[1734]])>=0}if(this[_0xee2b[1749]]){a=a&&Ext[_0xee2b[26]][_0xee2b[147]](c,this[_0xee2b[1749]])>=0}return a}});Ext[_0xee2b[6]](_0xee2b[2683],{extend:_0xee2b[2684],requires:[_0xee2b[1140],_0xee2b[2673]],mixins:[_0xee2b[665]],singleton:!0,defaultPresets:{secondAndMinute:{timeColumnWidth:30,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2685],shiftIncrement:10,shiftUnit:_0xee2b[711],defaultSpan:24,timeResolution:{unit:_0xee2b[1144],increment:5},headerConfig:{middle:{unit:_0xee2b[1144],increment:10,align:_0xee2b[472],dateFormat:_0xee2b[534]},top:{unit:_0xee2b[711],align:_0xee2b[472],dateFormat:_0xee2b[654]}}},minuteAndHour:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[651],shiftIncrement:1,shiftUnit:_0xee2b[710],defaultSpan:24,timeResolution:{unit:_0xee2b[711],increment:30},headerConfig:{middle:{unit:_0xee2b[711],increment:_0xee2b[2686],align:_0xee2b[472],dateFormat:_0xee2b[2687]},top:{unit:_0xee2b[710],align:_0xee2b[472],dateFormat:_0xee2b[2688]}}},hourAndDay:{timeColumnWidth:60,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[651],shiftIncrement:1,shiftUnit:_0xee2b[708],defaultSpan:24,timeResolution:{unit:_0xee2b[711],increment:30},headerConfig:{middle:{unit:_0xee2b[710],align:_0xee2b[472],dateFormat:_0xee2b[651]},top:{unit:_0xee2b[708],align:_0xee2b[472],dateFormat:_0xee2b[652]}}},dayAndWeek:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2689],shiftUnit:_0xee2b[708],shiftIncrement:1,defaultSpan:5,timeResolution:{unit:_0xee2b[710],increment:1},headerConfig:{middle:{unit:_0xee2b[708],align:_0xee2b[472],dateFormat:_0xee2b[656]},top:{unit:_0xee2b[1148],align:_0xee2b[472],renderer:function(a,c,b){return Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[709]](_0xee2b[1148])+_0xee2b[495]+Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2690])}}}},weekAndDay:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftUnit:_0xee2b[1148],shiftIncrement:1,defaultSpan:1,timeResolution:{unit:_0xee2b[708],increment:1},headerConfig:{bottom:{unit:_0xee2b[708],align:_0xee2b[472],increment:1,dateFormat:_0xee2b[2692]},middle:{unit:_0xee2b[1148],dateFormat:_0xee2b[656]}}},weekAndMonth:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftUnit:_0xee2b[1148],shiftIncrement:5,defaultSpan:6,timeResolution:{unit:_0xee2b[708],increment:1},headerConfig:{middle:{unit:_0xee2b[1148],align:_0xee2b[472],renderer:function(a,c,b){return Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[658])}},top:{unit:_0xee2b[1145],align:_0xee2b[472],dateFormat:_0xee2b[663]}}},monthAndYear:{timeColumnWidth:110,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftIncrement:3,shiftUnit:_0xee2b[1145],defaultSpan:12,timeResolution:{unit:_0xee2b[708],increment:1},headerConfig:{middle:{unit:_0xee2b[1145],align:_0xee2b[472],dateFormat:_0xee2b[663]},top:{unit:_0xee2b[1146],align:_0xee2b[472],dateFormat:_0xee2b[664]}}},year:{timeColumnWidth:100,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftUnit:_0xee2b[1146],shiftIncrement:1,defaultSpan:1,timeResolution:{unit:_0xee2b[1145],increment:1},headerConfig:{middle:{unit:_0xee2b[1149],align:_0xee2b[472],renderer:function(a,c,b){return Ext[_0xee2b[1041]][_0xee2b[880]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[709]](_0xee2b[1149])[_0xee2b[2675]]()+_0xee2b[2693],Math[_0xee2b[424]](a[_0xee2b[480]]()/3)+1)}},top:{unit:_0xee2b[1146],align:_0xee2b[472],dateFormat:_0xee2b[664]}}},manyYears:{timeColumnWidth:50,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftUnit:_0xee2b[1146],shiftIncrement:1,defaultSpan:1,timeResolution:{unit:_0xee2b[1146],increment:1},headerConfig:{middle:{unit:_0xee2b[1146],align:_0xee2b[472],dateFormat:_0xee2b[664],increment:5},bottom:{unit:_0xee2b[1146],align:_0xee2b[472],dateFormat:_0xee2b[1894],increment:1}}},weekAndDayLetter:{timeColumnWidth:20,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftUnit:_0xee2b[1148],shiftIncrement:1,defaultSpan:10,timeResolution:{unit:_0xee2b[708],increment:1},headerConfig:{bottom:{unit:_0xee2b[708],align:_0xee2b[472],renderer:function(a){return Ext[_0xee2b[703]][_0xee2b[1776]][a[_0xee2b[484]]()][_0xee2b[2694]](0,1)},verticalColumnWidth:25},middle:{unit:_0xee2b[1148],dateFormat:_0xee2b[661],verticalColumnWidth:115}}},weekDateAndMonth:{timeColumnWidth:30,rowHeight:24,resourceColumnWidth:100,displayDateFormat:_0xee2b[2691],shiftUnit:_0xee2b[1148],shiftIncrement:1,defaultSpan:10,timeResolution:{unit:_0xee2b[708],increment:1},headerConfig:{middle:{unit:_0xee2b[1148],align:_0xee2b[472],dateFormat:_0xee2b[526]},top:{unit:_0xee2b[1145],dateFormat:_0xee2b[662]}}},minute:{timeRowHeight:40,displayDateFormat:_0xee2b[651],shiftIncrement:1,shiftUnit:_0xee2b[1148],defaultSpan:60,timeResolution:{unit:_0xee2b[711],increment:15},columnLinesFor:_0xee2b[754],headerConfig:{bottom:{unit:_0xee2b[711],increment:15,align:_0xee2b[472],renderer:function(a){return Ext[_0xee2b[1041]][_0xee2b[880]](_0xee2b[2695],a[_0xee2b[1130]]()?_0xee2b[27]:Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2443]),Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2687]),a[_0xee2b[1130]]()?_0xee2b[2696]:_0xee2b[27])}},middle:{unit:_0xee2b[708],align:_0xee2b[472],dateFormat:_0xee2b[2697],splitUnit:_0xee2b[708]}}},day:{timeRowHeight:40,displayDateFormat:_0xee2b[651],shiftIncrement:1,shiftUnit:_0xee2b[708],defaultSpan:1,timeResolution:{unit:_0xee2b[711],increment:30},columnLinesFor:_0xee2b[754],headerConfig:{bottom:{unit:_0xee2b[710],align:_0xee2b[472],renderer:function(a){return Ext[_0xee2b[1041]][_0xee2b[880]](_0xee2b[2698],Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2443]),Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2687]))}},middle:{unit:_0xee2b[708],align:_0xee2b[472],dateFormat:_0xee2b[652],splitUnit:_0xee2b[708]}}},week:{timeRowHeight:40,displayDateFormat:_0xee2b[651],shiftIncrement:1,shiftUnit:_0xee2b[1148],defaultSpan:24,timeResolution:{unit:_0xee2b[711],increment:30},columnLinesFor:_0xee2b[754],headerConfig:{bottom:{unit:_0xee2b[710],align:_0xee2b[472],dateFormat:_0xee2b[1123],renderer:function(a){return Ext[_0xee2b[1041]][_0xee2b[880]](_0xee2b[2698],Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2443]),Ext[_0xee2b[703]][_0xee2b[880]](a,_0xee2b[2687]))}},middle:{unit:_0xee2b[1148],align:_0xee2b[472],dateFormat:_0xee2b[2697],splitUnit:_0xee2b[708]}}}},constructor:function(){this[_0xee2b[9]](arguments);this[_0xee2b[2699]]()},onLocalized:function(){var a=this;this[_0xee2b[2703]](function(d,c){if(a[_0xee2b[504]][d]){var b=a.L(d);b[_0xee2b[2682]]&&(c[_0xee2b[2682]]=b[_0xee2b[2682]]);b[_0xee2b[2700]]&&(c[_0xee2b[875]][_0xee2b[753]][_0xee2b[879]]=b[_0xee2b[2700]]);b[_0xee2b[2701]]&&(c[_0xee2b[875]][_0xee2b[686]][_0xee2b[879]]=b[_0xee2b[2701]]);b[_0xee2b[2702]]&&(c[_0xee2b[875]][_0xee2b[754]][_0xee2b[879]]=b[_0xee2b[2702]])}})},registerPreset:function(a,b){b[_0xee2b[683]]=a;var c=new Sch[_0xee2b[1728]].ViewPreset(b);if(c[_0xee2b[348]]()){if(this[_0xee2b[2704]](a)){this[_0xee2b[2705]](a)}this[_0xee2b[255]](a,c)}else {throw _0xee2b[2706]}},getPreset:function(a){return this[_0xee2b[55]](a)},deletePreset:function(a){this[_0xee2b[2705]](a)},registerDefaults:function(){var c=this,a=this[_0xee2b[2707]];for(var b in a){c[_0xee2b[2708]](b,a[b])}}});Ext[_0xee2b[6]](_0xee2b[2709],{extend:_0xee2b[108],requires:[_0xee2b[1141],_0xee2b[1140],_0xee2b[2683]],timeAxis:null,availableWidth:0,tickWidth:100,snapToIncrement:!1,forceFit:!1,headerConfig:null,headers:null,mainHeader:0,calendar:null,timeAxisColumnWidth:null,resourceColumnWidth:null,weekViewColumnWidth:null,calendarColumnDates:null,headersDatesCache:null,timeColumnWidth:null,rowHeightHorizontal:null,rowHeightVertical:null,mode:_0xee2b[1931],suppressFit:!1,refCount:0,columnConfig:{},viewPreset:null,columnLinesFor:_0xee2b[753],eventStore:null,originalTickWidth:null,constructor:function(c){var a=this;Ext[_0xee2b[8]](this,c);a[_0xee2b[2710]]={};if(this[_0xee2b[1725]]){if(this[_0xee2b[1725]] instanceof Sch[_0xee2b[1728]][_0xee2b[2711]]){this[_0xee2b[1729]](this[_0xee2b[1725]])}else {var b=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](this[_0xee2b[1725]]);b&&this[_0xee2b[1729]](b)}}a[_0xee2b[1795]][_0xee2b[149]](_0xee2b[1723],a[_0xee2b[2384]],a);this[_0xee2b[9]](arguments)},isHorizontal:function(){return this[_0xee2b[1719]]===_0xee2b[1931]},isVertical:function(){return this[_0xee2b[1719]]===_0xee2b[1932]},isWeek:function(){return this[_0xee2b[1719]]===_0xee2b[2430]},destroy:function(){this[_0xee2b[1795]][_0xee2b[152]](_0xee2b[1723],this[_0xee2b[2384]],this)},onTimeAxisReconfigure:function(b,a){if(!a){this[_0xee2b[724]]()}},reconfigure:function(b){this[_0xee2b[2676]]=null;Ext[_0xee2b[8]](this,b);var a;if(this[_0xee2b[1828]]()){a=this[_0xee2b[2679]]}else {a=this[_0xee2b[2712]]}this[_0xee2b[811]](a);this[_0xee2b[180]](_0xee2b[1723],this)},getColumnConfig:function(){return this[_0xee2b[870]]},update:function(e,f){var d=this[_0xee2b[1795]],b=this[_0xee2b[875]];this[_0xee2b[2713]]=Math[_0xee2b[715]](e||this[_0xee2b[2713]],0);if(!Ext[_0xee2b[789]](this[_0xee2b[2713]])){throw new Error(_0xee2b[2714])}if(this[_0xee2b[2715]]&&this[_0xee2b[2713]]<=0){return}this[_0xee2b[870]]={};for(var a in b){if(b[a][_0xee2b[1907]]){this[_0xee2b[870]][a]=b[a][_0xee2b[1907]][_0xee2b[293]](this,d[_0xee2b[697]](),d[_0xee2b[698]]())}else {this[_0xee2b[870]][a]=this[_0xee2b[2716]](a,b[a])}}var c=this[_0xee2b[2718]](this[_0xee2b[2717]]);if(!Ext[_0xee2b[789]](c)||c<=0){throw new Error(_0xee2b[2719])}this[_0xee2b[2720]](c);if(!f){this[_0xee2b[180]](_0xee2b[724],this)}},updateCalendarColumnDates:function(c){this[_0xee2b[2721]]=[];for(var a=0;a<c[_0xee2b[4]];a++){var b=c[a];this[_0xee2b[2721]][_0xee2b[11]]([b[_0xee2b[179]],b[_0xee2b[771]]])}},getCalendarColumnDates:function(){return this[_0xee2b[2721]]},createHeaderRow:function(d,a){var e=[],c=this,g=a[_0xee2b[2722]],f=Ext[_0xee2b[703]][_0xee2b[1101]](new Date()),b=this[_0xee2b[2006]];if(b){var h=b[_0xee2b[327]][_0xee2b[162]](b[_0xee2b[327]][_0xee2b[139]][_0xee2b[1227]]),i=h[_0xee2b[2724]]()[_0xee2b[2723]]()}c[_0xee2b[2710]][d]={};c[_0xee2b[1909]](d,function(h,k,m){var j={align:g,start:h,end:k,headerCls:_0xee2b[27]};c[_0xee2b[2710]][d][h[_0xee2b[1162]]()]=1;if(a[_0xee2b[878]]){j[_0xee2b[2725]]=a[_0xee2b[878]][_0xee2b[293]](a[_0xee2b[689]]||c,h,k,j,m,c[_0xee2b[1071]])}else {j[_0xee2b[2725]]=Ext[_0xee2b[703]][_0xee2b[880]](h,a[_0xee2b[879]])}if(a[_0xee2b[1734]]===Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[708]]&&(!a[_0xee2b[1735]]||a[_0xee2b[1735]]===1)){j[_0xee2b[848]]+=_0xee2b[2726]+h[_0xee2b[484]]();if(b){if(!b[_0xee2b[2727]](h)){j[_0xee2b[848]]+=_0xee2b[2728]}var n=b[_0xee2b[1275]](h),l=n[_0xee2b[1284]]()[_0xee2b[2723]]();if(l!=i){j[_0xee2b[848]]+=_0xee2b[60]+l}}if(Ext[_0xee2b[703]][_0xee2b[1101]](h,!0)-f===0){j[_0xee2b[848]]+=_0xee2b[2729]}}e[_0xee2b[11]](j)});return e},getDistanceBetweenDates:function(b,a){return Math[_0xee2b[704]](this[_0xee2b[1796]](a,!0)-this[_0xee2b[1796]](b))},getPositionFromDate:function(c,h){var a=-1;if(this[_0xee2b[872]]()){var d=this[_0xee2b[2712]];var e=this[_0xee2b[862]]();var f=this[_0xee2b[1795]][_0xee2b[697]]();var g=Sch[_0xee2b[49]][_0xee2b[703]];var i=g[_0xee2b[1521]](Ext[_0xee2b[703]][_0xee2b[1161]](f),c);a=g[_0xee2b[2730]](f,i,e[1][_0xee2b[1734]],!0)/(e[1][_0xee2b[1735]]||1)*d;if(a===0&&h){a=this[_0xee2b[2731]]*d}}else {var b=this[_0xee2b[1795]][_0xee2b[1764]](c);if(b>=0){a=this[_0xee2b[755]]()*(b-this[_0xee2b[1795]][_0xee2b[1741]])}}return Math[_0xee2b[704]](a)},getDateFromPosition:function(d,e){if(this[_0xee2b[872]]()){var b=this[_0xee2b[2732]]();if(!b){return null}var j=Math[_0xee2b[203]](Math[_0xee2b[424]](Math[_0xee2b[715]](d[0],0)/this[_0xee2b[2733]]),b[_0xee2b[4]]-1),k=b[j][0],g=this[_0xee2b[1795]][_0xee2b[572]](),i=(g[_0xee2b[55]](_0xee2b[771])-g[_0xee2b[55]](_0xee2b[179]))/this[_0xee2b[2712]],f=Sch[_0xee2b[49]][_0xee2b[703]],c=f[_0xee2b[255]](k,f.MILLI,Math[_0xee2b[704]](d[1]*i));if(e){c=this[_0xee2b[1795]][e+_0xee2b[703]](c)}return c}else {var a=d/this[_0xee2b[755]]()+this[_0xee2b[1795]][_0xee2b[1741]],h=this[_0xee2b[1795]][_0xee2b[1466]]();if(a<0||a>h){return null}return this[_0xee2b[1795]][_0xee2b[2276]](a,e)}},getSingleUnitInPixels:function(a){return Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2735]](this[_0xee2b[1795]][_0xee2b[2734]](),a)*this[_0xee2b[755]]()/this[_0xee2b[1795]][_0xee2b[1735]]},getSnapPixelAmount:function(){if(this[_0xee2b[2736]]){var a=this[_0xee2b[1795]][_0xee2b[2737]]();return (a[_0xee2b[1735]]||1)*this[_0xee2b[2738]](a[_0xee2b[1734]])}else {return 1}},getTickWidth:function(){return this[_0xee2b[2739]]},setTickWidth:function(a,b){this[_0xee2b[2717]]=a;this[_0xee2b[2720]](a);this[_0xee2b[724]](null,b)},updateTickWidth:function(a){this[_0xee2b[2739]]=a;this[this[_0xee2b[1828]]()?_0xee2b[2679]:_0xee2b[2712]]=a},getTotalWidth:function(){return Math[_0xee2b[704]](this[_0xee2b[755]]()*this[_0xee2b[1795]][_0xee2b[2740]]())},calculateTickWidth:function(e){var d=this[_0xee2b[2715]];var c=this[_0xee2b[1795]];var b=0,g=c[_0xee2b[2734]](),a=Number[_0xee2b[1418]],f=Sch[_0xee2b[49]][_0xee2b[703]];if(this[_0xee2b[2736]]){var h=c[_0xee2b[2737]]();a=f[_0xee2b[2735]](g,h[_0xee2b[1734]])*h[_0xee2b[1735]]}else {var l=f[_0xee2b[2741]](g);a=Math[_0xee2b[203]](a,f[_0xee2b[2735]](g,l))}if(!this[_0xee2b[2742]]){var j=this[_0xee2b[872]]()?c[_0xee2b[1121]]-c[_0xee2b[1119]]:c[_0xee2b[2740]](),i=Math[d?_0xee2b[424]:_0xee2b[704]](this[_0xee2b[838]]()/j);b=d||e<i?i:e;if(a>0&&(!d||a<1)){var k=Ext[_0xee2b[723]][_0xee2b[722]]&&d?_0xee2b[1194]:d?_0xee2b[424]:_0xee2b[704];b=Math[_0xee2b[704]](Math[_0xee2b[715]](1,Math[k](a*b))/a)}}else {b=e}return b},getAvailableWidth:function(){return this[_0xee2b[2713]]},setAvailableWidth:function(b){var c=this[_0xee2b[2713]];this[_0xee2b[2713]]=Math[_0xee2b[715]](0,b);var a=this[_0xee2b[2718]](this[_0xee2b[2717]]);var d=a>0&&(c!==b&&this[_0xee2b[2715]]||a!==this[_0xee2b[755]]());if(d){this[_0xee2b[724]]()}},fitToAvailableWidth:function(a){var b=Math[_0xee2b[424]](this[_0xee2b[2713]]/this[_0xee2b[1795]][_0xee2b[2740]]());this[_0xee2b[811]](b,a)},setForceFit:function(a){if(a!==this[_0xee2b[2715]]){this[_0xee2b[2715]]=a;this[_0xee2b[724]]()}},setSnapToIncrement:function(a){if(a!==this[_0xee2b[2736]]){this[_0xee2b[2736]]=a;this[_0xee2b[724]]()}},getViewRowHeight:function(){var a=this[_0xee2b[1828]]()?this[_0xee2b[2743]]:this[_0xee2b[2712]];if(!a){throw new Error(_0xee2b[2744])}return a},setViewRowHeight:function(a,b){var c=_0xee2b[2678]+Ext[_0xee2b[1041]][_0xee2b[1040]](this[_0xee2b[1719]]);if(this[c]!=a){this[c]=a;if(this[_0xee2b[1828]]()){if(!b){this[_0xee2b[180]](_0xee2b[724],this)}}else {this[_0xee2b[811]](a,b)}}},setViewColumnWidth:function(a,b){if(this[_0xee2b[1828]]()){this[_0xee2b[811]](a,b)}else {if(this[_0xee2b[2539]]()){this[_0xee2b[2582]]=a}else {if(this[_0xee2b[872]]()){this[_0xee2b[2733]]=a}}}if(!b){this[_0xee2b[180]](_0xee2b[2745],this,a)}},getHeaders:function(){if(this[_0xee2b[2676]]){return this[_0xee2b[2676]]}var a=this[_0xee2b[875]];this[_0xee2b[2677]]=a[_0xee2b[686]]?1:0;return this[_0xee2b[2676]]=[][_0xee2b[318]](a[_0xee2b[686]]||[],a[_0xee2b[753]]||[],a[_0xee2b[754]]||[])},getMainHeader:function(){return this[_0xee2b[862]]()[this[_0xee2b[2677]]]},getBottomHeader:function(){var a=this[_0xee2b[862]]();return a[a[_0xee2b[4]]-1]},getLowestHeader:function(){return _0xee2b[754] in this[_0xee2b[875]]?_0xee2b[754]:_0xee2b[753]},getMajorHeaderName:function(){var a=this[_0xee2b[875]];if(a[_0xee2b[754]]){return _0xee2b[753]}if(a[_0xee2b[686]]){return _0xee2b[686]}return null},isMajorTick:function(b){var a=this[_0xee2b[874]]();return a&&this[_0xee2b[2710]][a]&&this[_0xee2b[2710]][a][b[_0xee2b[1162]]()]||!1},forEachInterval:function(c,e,a){a=a||this;var b=this[_0xee2b[875]];if(!b){return}if(c===_0xee2b[686]||c===_0xee2b[753]&&b[_0xee2b[754]]){var d=b[c];this[_0xee2b[1795]][_0xee2b[2746]](d[_0xee2b[1734]],d[_0xee2b[1735]],e,a)}else {this[_0xee2b[1795]][_0xee2b[25]](function(b,d){return e[_0xee2b[293]](a,b[_0xee2b[22]][_0xee2b[179]],b[_0xee2b[22]][_0xee2b[771]],d)})}},forEachMainInterval:function(a,b){this[_0xee2b[1909]](_0xee2b[753],a,b)},consumeViewPreset:function(a){this[_0xee2b[2676]]=null;Ext[_0xee2b[8]](this,{headerConfig:a[_0xee2b[875]],columnLinesFor:a[_0xee2b[1906]]||_0xee2b[753],rowHeightHorizontal:a[_0xee2b[2678]],tickWidth:this[_0xee2b[1828]]()?a[_0xee2b[2679]]:a[_0xee2b[2680]]||a[_0xee2b[2679]]||60,timeColumnWidth:a[_0xee2b[2679]],rowHeightVertical:a[_0xee2b[2680]]||a[_0xee2b[2679]]||60,timeAxisColumnWidth:a[_0xee2b[2681]],resourceColumnWidth:a[_0xee2b[2582]]||100});this[_0xee2b[2717]]=this[_0xee2b[755]]()},setEventStore:function(a){this[_0xee2b[1071]]=a},setCalendar:function(a){if(a!==this[_0xee2b[2006]]){this[_0xee2b[2006]]=a;if(a){this[_0xee2b[724]]()}}}});Ext[_0xee2b[6]](_0xee2b[2747],{zoomOnMouseWheel:!0,preventScrollZoom:!1,zoomLevels:[{width:40,increment:1,resolution:1,preset:_0xee2b[2748],resolutionUnit:_0xee2b[1146]},{width:80,increment:1,resolution:1,preset:_0xee2b[2748],resolutionUnit:_0xee2b[1146]},{width:30,increment:1,resolution:1,preset:_0xee2b[513],resolutionUnit:_0xee2b[1145]},{width:50,increment:1,resolution:1,preset:_0xee2b[513],resolutionUnit:_0xee2b[1145]},{width:100,increment:1,resolution:1,preset:_0xee2b[513],resolutionUnit:_0xee2b[1145]},{width:200,increment:1,resolution:1,preset:_0xee2b[513],resolutionUnit:_0xee2b[1145]},{width:100,increment:1,resolution:7,preset:_0xee2b[2749],resolutionUnit:_0xee2b[708]},{width:30,increment:1,resolution:1,preset:_0xee2b[2750],resolutionUnit:_0xee2b[708]},{width:35,increment:1,resolution:1,preset:_0xee2b[2751],resolutionUnit:_0xee2b[708]},{width:50,increment:1,resolution:1,preset:_0xee2b[2751],resolutionUnit:_0xee2b[708]},{width:20,increment:1,resolution:1,preset:_0xee2b[2752]},{width:50,increment:1,resolution:1,preset:_0xee2b[2753],resolutionUnit:_0xee2b[710]},{width:100,increment:1,resolution:1,preset:_0xee2b[2753],resolutionUnit:_0xee2b[710]},{width:50,increment:6,resolution:30,preset:_0xee2b[2754],resolutionUnit:_0xee2b[711]},{width:100,increment:6,resolution:30,preset:_0xee2b[2754],resolutionUnit:_0xee2b[711]},{width:60,increment:2,resolution:30,preset:_0xee2b[2754],resolutionUnit:_0xee2b[711]},{width:60,increment:1,resolution:30,preset:_0xee2b[2754],resolutionUnit:_0xee2b[711]},{width:30,increment:15,resolution:5,preset:_0xee2b[2755]},{width:60,increment:15,resolution:5,preset:_0xee2b[2755]},{width:130,increment:15,resolution:5,preset:_0xee2b[2755]},{width:60,increment:5,resolution:5,preset:_0xee2b[2755]},{width:100,increment:5,resolution:5,preset:_0xee2b[2755]},{width:50,increment:2,resolution:1,preset:_0xee2b[2755]},{width:30,increment:10,resolution:5,preset:_0xee2b[2756]},{width:60,increment:10,resolution:5,preset:_0xee2b[2756]},{width:130,increment:5,resolution:5,preset:_0xee2b[2756]}],minZoomLevel:null,maxZoomLevel:null,visibleZoomFactor:5,zoomKeepsOriginalTimespan:!1,initializeZooming:function(){this[_0xee2b[2757]]=this[_0xee2b[2757]][_0xee2b[191]]();this[_0xee2b[2759]](this[_0xee2b[2758]]||0);this[_0xee2b[2761]](this[_0xee2b[2760]]!==null?this[_0xee2b[2760]]:this[_0xee2b[2757]][_0xee2b[4]]-1);this[_0xee2b[149]](_0xee2b[1808],this[_0xee2b[2762]],this)},getZoomLevelUnit:function(a){return Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](a[_0xee2b[1728]])[_0xee2b[877]]()[_0xee2b[1734]]},getMilliSecondsPerPixelForZoomLevel:function(a,b){var c=Sch[_0xee2b[49]][_0xee2b[703]];return Math[_0xee2b[704]]((c[_0xee2b[255]](new Date(1,0,1),this[_0xee2b[2763]](a),a[_0xee2b[1735]])-new Date(1,0,1))/(b?a[_0xee2b[773]]:a[_0xee2b[2764]]||a[_0xee2b[773]]))},presetToZoomLevel:function(b){var a=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](b);return {preset:b,increment:a[_0xee2b[877]]()[_0xee2b[1735]]||1,resolution:a[_0xee2b[1767]][_0xee2b[1735]],resolutionUnit:a[_0xee2b[1767]][_0xee2b[1734]],width:a[_0xee2b[2679]]}},calculateCurrentZoomLevel:function(){var a=this[_0xee2b[2765]](this[_0xee2b[1725]]),e=Number[_0xee2b[1418]],f=this[_0xee2b[810]],d=f[_0xee2b[2679]];a[_0xee2b[773]]=d;a[_0xee2b[1735]]=f[_0xee2b[877]]()[_0xee2b[1735]]||1;for(var c=0,h=this[_0xee2b[2757]][_0xee2b[4]];c<h;c++){var b=this[_0xee2b[2757]][c];if(b[_0xee2b[1728]]!==a[_0xee2b[1728]]){continue}var g=Math[_0xee2b[1524]](b[_0xee2b[773]]-d);if(g<e){e=g;a[_0xee2b[2764]]=b[_0xee2b[2764]];a[_0xee2b[773]]=b[_0xee2b[773]]}}return a},getCurrentZoomLevelIndex:function(){var e=this[_0xee2b[2766]]();var c=this[_0xee2b[2767]](e);var b=this[_0xee2b[2757]];for(var a=0;a<b[_0xee2b[4]];a++){var d=this[_0xee2b[2767]](b[a]);if(d==c){return a}if(a===0&&c>d){return -0.5}if(a==b[_0xee2b[4]]-1&&c<d){return b[_0xee2b[4]]-1+0.5}var f=this[_0xee2b[2767]](b[a+1]);if(d>c&&c>f){return a+0.5}}throw new Error(_0xee2b[2768])},setMaxZoomLevel:function(a){if(a<0||a>=this[_0xee2b[2757]][_0xee2b[4]]){throw new Error(_0xee2b[2769])}this[_0xee2b[2760]]=a},setMinZoomLevel:function(a){if(a<0||a>=this[_0xee2b[2757]][_0xee2b[4]]){throw new Error(_0xee2b[2769])}this[_0xee2b[2758]]=a},zoomToLevel:function(d,b,f){d=Ext[_0xee2b[2770]][_0xee2b[2076]](d,this[_0xee2b[2758]],this[_0xee2b[2760]]);f=f||{};var m=this[_0xee2b[2766]]();var n=this[_0xee2b[2767]](m);var a=this[_0xee2b[2757]][d];var l=this[_0xee2b[2767]](a);if(this[_0xee2b[2131]]()!==_0xee2b[1931]||n==l&&!b){return null}var e=this;e[_0xee2b[180]](_0xee2b[2771],e,d);var i=this[_0xee2b[808]]();if(!this[_0xee2b[262]]){this[_0xee2b[149]](_0xee2b[833],Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[2772]],this,[d,b,f]),null,{single:!0});return}var o=i[_0xee2b[2773]]();var j=this[_0xee2b[2539]]();var h=f[_0xee2b[2774]]||(b?new Date((b[_0xee2b[179]][_0xee2b[1162]]()+b[_0xee2b[771]][_0xee2b[1162]]())/2):this[_0xee2b[2775]]());var k=j?i[_0xee2b[2608]]():o[_0xee2b[793]]();var c=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](a[_0xee2b[1728]])[_0xee2b[1161]]();c[_0xee2b[683]]=a[_0xee2b[1728]];var g=c[_0xee2b[877]]();b=this[_0xee2b[2776]](h,k,a,b);c[j?_0xee2b[2680]:_0xee2b[2679]]=f[_0xee2b[2777]]||a[_0xee2b[773]];g[_0xee2b[1735]]=a[_0xee2b[1735]];this[_0xee2b[2778]]=!0;c[_0xee2b[1735]]=a[_0xee2b[1735]];c[_0xee2b[1767]][_0xee2b[1734]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1176]](a[_0xee2b[1754]]||c[_0xee2b[1767]][_0xee2b[1734]]||g[_0xee2b[1734]]);c[_0xee2b[1767]][_0xee2b[1735]]=a[_0xee2b[2779]];this[_0xee2b[2780]](c,b[_0xee2b[179]]||this[_0xee2b[697]](),b[_0xee2b[771]]||this[_0xee2b[698]](),!1,{centerDate:h});a[_0xee2b[2764]]=this[_0xee2b[810]][_0xee2b[755]]();e[_0xee2b[2778]]=!1;e[_0xee2b[180]](_0xee2b[2781],e,d);return d},setZoomLevel:function(){this[_0xee2b[2772]][_0xee2b[8]](this,arguments)},zoomToSpan:function(h,a){var u=this[_0xee2b[808]]();a=a||{};if(a[_0xee2b[2782]]||a[_0xee2b[2783]]){a[_0xee2b[2784]]=0;a[_0xee2b[2785]]=0}Ext[_0xee2b[330]](a,{leftMargin:0,rightMargin:0});if(!this[_0xee2b[262]]){this[_0xee2b[149]](_0xee2b[833],Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[2786]],this,[h,a]),null,{single:!0});return}if(h[_0xee2b[179]]&&h[_0xee2b[771]]){var c=h[_0xee2b[179]],b=h[_0xee2b[771]],p=a[_0xee2b[2784]]>=0&&a[_0xee2b[2785]]>=0;if(p){c=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](c,this[_0xee2b[1795]][_0xee2b[1747]],-a[_0xee2b[2784]]);b=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b,this[_0xee2b[1795]][_0xee2b[1747]],a[_0xee2b[2785]])}if(c<=b){var i=u[_0xee2b[1858]]()[_0xee2b[838]]();var k=Math[_0xee2b[424]](this[_0xee2b[2787]]());if(k==-1){k=0}var l=this[_0xee2b[2757]];var q=b-c||1,j=this[_0xee2b[2767]](l[k],!0),g=q/j+a[_0xee2b[2782]]+a[_0xee2b[2783]]>i?-1:1,d=k+g;var f,e=null;while(d>=0&&d<=l[_0xee2b[4]]-1){f=l[d];j=this[_0xee2b[2767]](f,!0);var o=q/j+a[_0xee2b[2782]]+a[_0xee2b[2783]];if(g==-1){if(o<=i){e=d;break}}else {if(o<=i){if(k!==d-g){e=d}}else {break}}d+=g}e=e!==null?e:d-g;f=l[e];var s=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](f[_0xee2b[1728]])[_0xee2b[877]]()[_0xee2b[1734]];if(a[_0xee2b[2782]]||a[_0xee2b[2783]]){c=new Date(c[_0xee2b[1162]]()-j*a[_0xee2b[2782]]);b=new Date(b[_0xee2b[1162]]()+j*a[_0xee2b[2783]])}var n=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2730]](c,b,s,!0)/f[_0xee2b[1735]];if(n===0){return}var t=Math[_0xee2b[424]](i/n);var r=new Date((c[_0xee2b[1162]]()+b[_0xee2b[1162]]())/2);var m;if(p){m={start:c,end:b}}else {m=this[_0xee2b[2776]](r,i,f)}return this[_0xee2b[2772]](e,m,{customWidth:t,centerDate:r})}}return null},zoomIn:function(a){a=a||1;var b=this[_0xee2b[2787]]();if(b>=this[_0xee2b[2757]][_0xee2b[4]]-1){return null}return this[_0xee2b[2772]](Math[_0xee2b[424]](b)+a)},zoomOut:function(a){a=a||1;var b=this[_0xee2b[2787]]();if(b<=0){return null}return this[_0xee2b[2772]](Math[_0xee2b[1194]](b)-a)},zoomInFull:function(){return this[_0xee2b[2772]](this[_0xee2b[2760]])},zoomOutFull:function(){return this[_0xee2b[2772]](this[_0xee2b[2758]])},calculateOptimalDateRange:function(d,j,a,g){if(g){return g}var b=this[_0xee2b[1795]];if(this[_0xee2b[2788]]){return {start:b[_0xee2b[697]](),end:b[_0xee2b[698]]()}}var f=Sch[_0xee2b[49]][_0xee2b[703]];var c=this[_0xee2b[2763]](a);var e=Math[_0xee2b[1194]](j/a[_0xee2b[773]]*a[_0xee2b[1735]]*this[_0xee2b[2789]]/2);var i=f[_0xee2b[255]](d,c,-e);var h=f[_0xee2b[255]](d,c,e);return {start:b[_0xee2b[1751]](i,!1,c,a[_0xee2b[1735]]),end:b[_0xee2b[1750]](h,!1,c,a[_0xee2b[1735]])}},onTimelineReady:function(){if(this[_0xee2b[2790]]){this[_0xee2b[808]]()[_0xee2b[787]]()[_0xee2b[149]](_0xee2b[2791],this[_0xee2b[2792]],this,{capture:!0});this[_0xee2b[149]](_0xee2b[218],function(){clearTimeout(this[_0xee2b[2793]])})}},onWheel:function(b){var a=this;if(b[_0xee2b[2794]]){b[_0xee2b[1977]]();if(!a[_0xee2b[2795]]){if(b[_0xee2b[790]][_0xee2b[2796]]>0){a[_0xee2b[2797]]()}else {if(b[_0xee2b[790]][_0xee2b[2796]]<0){a[_0xee2b[2798]]()}}a[_0xee2b[2795]]=!0;a[_0xee2b[2793]]=setTimeout(function(){a[_0xee2b[2795]]=!1},30)}}}});Ext[_0xee2b[6]](_0xee2b[2799],{requires:[_0xee2b[1715],_0xee2b[2709],_0xee2b[1898],_0xee2b[2683]],mixins:[_0xee2b[2747]],snapToIncrement:!1,readOnly:!1,forceFit:!1,eventResizeHandles:_0xee2b[1911],timeAxis:null,autoAdjustTimeAxis:!0,timeAxisViewModel:null,crudManager:null,viewPreset:_0xee2b[2753],trackHeaderOver:!0,startDate:null,endDate:null,startTime:0,endTime:24,columnLines:!0,getDateConstraints:Ext[_0xee2b[688]],snapRelativeToEventStartDate:!1,trackMouseOver:!1,readRowHeightFromPreset:!0,eventBorderWidth:1,cachedCenterDate:null,cellBorderWidth:1,cellTopBorderWidth:0,cellBottomBorderWidth:0,renderers:null,getMode:function(){return this[_0xee2b[1719]]},isHorizontal:function(){return this[_0xee2b[2131]]()===_0xee2b[1931]},isVertical:function(){return this[_0xee2b[2131]]()===_0xee2b[1932]},isWeekView:function(){return this[_0xee2b[2131]]()===_0xee2b[2430]},_initializeTimelinePanel:function(){if(this[_0xee2b[1719]]){if(this[_0xee2b[1719]]===_0xee2b[2006]){this[_0xee2b[1719]]=_0xee2b[2430]}}else {this[_0xee2b[1719]]=_0xee2b[1931]}this[_0xee2b[2800]](this[_0xee2b[1725]]);if(this[_0xee2b[1847]]()){if(!this[_0xee2b[1725]][_0xee2b[875]][_0xee2b[753]][_0xee2b[1760]]){this[_0xee2b[2801]]=[this[_0xee2b[1725]]];this[_0xee2b[1725]]=this[_0xee2b[2802]]||_0xee2b[521]}}this[_0xee2b[2803]]();this[_0xee2b[149]](_0xee2b[2804],this[_0xee2b[2805]],this);this[_0xee2b[149]](_0xee2b[1808],this[_0xee2b[2806]],this);this[_0xee2b[2807]]=[];if(this[_0xee2b[2808]]){this[_0xee2b[2808]]=!this[_0xee2b[2678]]}if(!(this[_0xee2b[1795]] instanceof Sch[_0xee2b[22]][_0xee2b[2809]])){this[_0xee2b[1795]]=Ext[_0xee2b[831]](Ext[_0xee2b[330]](this[_0xee2b[1795]]||{},{xclass:_0xee2b[1715],autoAdjust:this[_0xee2b[2810]],mode:this[_0xee2b[1847]]()?_0xee2b[521]:_0xee2b[1717]}))}if(!(this[_0xee2b[810]] instanceof Sch[_0xee2b[829]][_0xee2b[327]][_0xee2b[2809]])){this[_0xee2b[810]]=Ext[_0xee2b[831]](Ext[_0xee2b[330]](this[_0xee2b[810]]||{},{xclass:_0xee2b[2709],mode:this[_0xee2b[1719]],snapToIncrement:this[_0xee2b[2736]],forceFit:this[_0xee2b[2715]],timeAxis:this[_0xee2b[1795]],eventStore:this[_0xee2b[696]](),viewPreset:this[_0xee2b[1725]]}))}if(this[_0xee2b[2678]]){this[_0xee2b[2811]](this[_0xee2b[2678]],!0);this[_0xee2b[2678]]=null}this[_0xee2b[810]][_0xee2b[149]](_0xee2b[724],this[_0xee2b[2812]],this);this[_0xee2b[810]][_0xee2b[2813]]++;this[_0xee2b[149]](_0xee2b[218],this[_0xee2b[2814]],this);var a;if(this[_0xee2b[1828]]()){a=[_0xee2b[2815]]}else {if(this[_0xee2b[2539]]()){a=[_0xee2b[2816],_0xee2b[2817]]}else {if(this[_0xee2b[1847]]()){a=[_0xee2b[2816],_0xee2b[2818]]}}}this[_0xee2b[264]]([][_0xee2b[318]][_0xee2b[8]]([_0xee2b[2819]],a))},applyViewPreset:function(a){var b;if(Ext[_0xee2b[363]](a)){b=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](a);if(!b){throw _0xee2b[2820]}}else {if(Ext[_0xee2b[135]](a)){var d=a[_0xee2b[683]]&&Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](a[_0xee2b[683]]);if(d){b=new Sch[_0xee2b[1728]].ViewPreset(Ext[_0xee2b[330]](a,d))}else {var c=a[_0xee2b[683]]||_0xee2b[1728]+Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1466]]();Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[2708]](c,a);b=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](c)}}}this[_0xee2b[1725]]=b},onTimeAxisViewModelUpdate:function(){var a=this[_0xee2b[808]]();if(a&&a[_0xee2b[2366]]){a[_0xee2b[2669]]()}this[_0xee2b[180]](_0xee2b[2804],this)},onPanelDestroyed:function(){var a=this[_0xee2b[810]];a[_0xee2b[152]](_0xee2b[724],this[_0xee2b[2812]],this);a[_0xee2b[2813]]--;if(a[_0xee2b[2813]]<=0){a[_0xee2b[218]]()}},getSchedulingView:function(){throw _0xee2b[29]},setReadOnly:function(b){var a=this;a[_0xee2b[808]]()[_0xee2b[2821]](b);if(a[_0xee2b[2544]]){a[_0xee2b[2544]][_0xee2b[2821]](b)}},isReadOnly:function(){return this[_0xee2b[808]]()[_0xee2b[2184]]()},setupClearCenterDateCache:function(){this[_0xee2b[252]](this[_0xee2b[808]]()[_0xee2b[1941]](),_0xee2b[1978],this[_0xee2b[2805]],this)},getViewportCenterDateCached:function(){if(this[_0xee2b[2822]]){return this[_0xee2b[2822]]}return this[_0xee2b[2822]]=this[_0xee2b[2823]]()},clearCenterDateCache:function(f,c,d){var b=this[_0xee2b[1828]](),a=this[_0xee2b[2824]];var e=a&&(b?c===a[_0xee2b[1354]]:d==a[_0xee2b[686]]);if(!e){this[_0xee2b[2822]]=null;this[_0xee2b[2824]]=null}},switchViewPreset:function(){this[_0xee2b[2780]][_0xee2b[8]](this,arguments)},setViewPreset:function(a,f,g,l,i){i=i||{};var c=i[_0xee2b[2774]],e=this[_0xee2b[1795]],b=this[_0xee2b[808]]();if(typeof a===_0xee2b[308]){a=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](a)}if(!a){throw new Error(_0xee2b[2825])}if(this[_0xee2b[180]](_0xee2b[2826],this,a,f,g)!==!1){this[_0xee2b[1725]]=a[_0xee2b[683]];var k=this[_0xee2b[1828]](),n=this[_0xee2b[2539]]();b[_0xee2b[2827]](a[_0xee2b[2682]]);if(!(l&&e[_0xee2b[1730]])){var d={weekStartDay:this[_0xee2b[1755]]!==undefined?this[_0xee2b[1755]]:this[_0xee2b[2828]]?this.L(_0xee2b[1755]):1,startTime:this[_0xee2b[1119]],endTime:this[_0xee2b[1121]]};if(l||!this[_0xee2b[262]]){if(e[_0xee2b[1466]]()===0||f){d[_0xee2b[179]]=f||new Date();d[_0xee2b[771]]=g}}else {if(f){d[_0xee2b[179]]=f;d[_0xee2b[771]]=g;if(!c&&g){if(this[_0xee2b[2829]]&&b[_0xee2b[2830]]&&b[_0xee2b[2831]]){c=b[_0xee2b[2830]]}else {c=new Date((f[_0xee2b[1162]]()+g[_0xee2b[1162]]())/2)}}}else {d[_0xee2b[179]]=e[_0xee2b[697]]();d[_0xee2b[771]]=g||e[_0xee2b[698]]();if(!c){if(this[_0xee2b[2829]]&&b[_0xee2b[2830]]&&b[_0xee2b[2831]]){c=b[_0xee2b[2830]]}else {c=this[_0xee2b[2775]]()}}}}e[_0xee2b[1729]](a);e[_0xee2b[1723]](d,!0);this[_0xee2b[810]][_0xee2b[1723]]({viewPreset:this[_0xee2b[1725]],headerConfig:a[_0xee2b[875]],columnLinesFor:a[_0xee2b[1906]]||_0xee2b[753],rowHeightHorizontal:this[_0xee2b[2808]]?a[_0xee2b[2678]]:this[_0xee2b[810]][_0xee2b[2832]](),tickWidth:k?a[_0xee2b[2679]]:a[_0xee2b[2680]]||a[_0xee2b[2679]]||60,timeColumnWidth:a[_0xee2b[2679]],rowHeightVertical:a[_0xee2b[2680]]||a[_0xee2b[2679]]||60,timeAxisColumnWidth:a[_0xee2b[2681]],resourceColumnWidth:this[_0xee2b[2582]]||a[_0xee2b[2582]]||100})}if(n){b[_0xee2b[2833]](this[_0xee2b[2582]]||a[_0xee2b[2582]]||100,!0)}var o=b[_0xee2b[2773]]();if(!i[_0xee2b[2834]]&&o&&this[_0xee2b[290]]()[_0xee2b[265]]){if(c){this[_0xee2b[2822]]=c;var h=null,j=null;if(n){j=Math[_0xee2b[715]](Math[_0xee2b[424]](b[_0xee2b[1895]](c,!0)-b[_0xee2b[2608]]()/2),0);this[_0xee2b[2824]]={top:j};b[_0xee2b[2835]](j)}else {h=Math[_0xee2b[715]](Math[_0xee2b[424]](b[_0xee2b[1895]](c,!0)-o[_0xee2b[793]]()/2),0);this[_0xee2b[2824]]={left:h};if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){var m=b[_0xee2b[694]](_0xee2b[805])[_0xee2b[2837]];m&&m[_0xee2b[289]](h)}b[_0xee2b[1848]][_0xee2b[289]](h);b[_0xee2b[289]](h)}}else {if(k){b[_0xee2b[2838]](0)}else {b[_0xee2b[2835]](0)}}}}},getViewPreset:function(){return this[_0xee2b[1725]]},getStart:function(){return this[_0xee2b[712]]()},getStartDate:function(){return this[_0xee2b[1795]][_0xee2b[697]]()},getEnd:function(){return this[_0xee2b[713]]()},getEndDate:function(){return this[_0xee2b[1795]][_0xee2b[698]]()},setTimeColumnWidth:function(b,a){this[_0xee2b[810]][_0xee2b[811]](b,a)},getTimeColumnWidth:function(){return this[_0xee2b[810]][_0xee2b[755]]()},getRowHeight:function(){return this[_0xee2b[810]][_0xee2b[2832]]()},shiftNext:function(a){this[_0xee2b[2839]]&&this[_0xee2b[2839]]();this[_0xee2b[1795]][_0xee2b[2840]](a);this[_0xee2b[2839]]&&this[_0xee2b[2841]](!0)},shiftPrevious:function(a){this[_0xee2b[2839]]&&this[_0xee2b[2839]]();this[_0xee2b[1795]][_0xee2b[2842]](a);this[_0xee2b[2839]]&&this[_0xee2b[2841]](!0)},goToNow:function(){this[_0xee2b[1756]](new Date())},setTimeSpan:function(b,a){if(this[_0xee2b[1795]]){this[_0xee2b[1795]][_0xee2b[1756]](b,a)}},setStart:function(a){this[_0xee2b[1204]](a)},setEnd:function(a){this[_0xee2b[1202]](a)},setStartDate:function(a){this[_0xee2b[1756]](a)},setEndDate:function(a){this[_0xee2b[1756]](null,a)},getTimeAxis:function(){return this[_0xee2b[1795]]},scrollToDate:function(a,e,d){var c=this[_0xee2b[808]]();var b=c[_0xee2b[1895]](a,!0);this[_0xee2b[2843]](b,a,e,!1,d)},scrollToDateCentered:function(c,e){var a=this[_0xee2b[808]]();var b=0;if(a[_0xee2b[1828]]()){b=a[_0xee2b[2611]]()[_0xee2b[773]]/2}else {b=a[_0xee2b[2611]]()[_0xee2b[747]]/2}var d=Math[_0xee2b[704]](a[_0xee2b[1895]](c,!0)-b);this[_0xee2b[2843]](d,c,e,!0)},scrollToCoordinate:function(e,a,c,f,b){var d=this[_0xee2b[808]]();var j=this;b=b||0;if(e<0&&!d[_0xee2b[1847]]()){if(this[_0xee2b[2829]]){d[_0xee2b[2844]](a,f)}else {var i=(this[_0xee2b[1795]][_0xee2b[698]]()-this[_0xee2b[1795]][_0xee2b[697]]())/2;var h=new Date(a[_0xee2b[1162]]()-i);var g=new Date(a[_0xee2b[1162]]()+i);if(h-this[_0xee2b[697]]()!==0&&g-this[_0xee2b[698]]()!==0){this[_0xee2b[1756]](h,g);if(f){j[_0xee2b[2845]](a,c)}else {j[_0xee2b[812]](a,c,b)}}}return}if(this[_0xee2b[1828]]()){d[_0xee2b[2838]](e-b,c)}else {d[_0xee2b[2835]](e-b,c)}},getViewportCenterDate:function(){return this[_0xee2b[808]]()[_0xee2b[2823]]()},addCls:function(){throw _0xee2b[29]},removeCls:function(){throw _0xee2b[29]},registerRenderer:function(b,a){this[_0xee2b[2807]][_0xee2b[11]]({fn:b,scope:a})},deregisterRenderer:function(a,b){Ext[_0xee2b[25]](this[_0xee2b[2807]],function(c,d){if(a===c){Ext[_0xee2b[26]][_0xee2b[1684]](this[_0xee2b[2807]],d);return !1}})},getCrudManager:function(){return this[_0xee2b[312]]},setCrudManager:function(a){this[_0xee2b[312]]=a}});Ext[_0xee2b[6]](_0xee2b[2846],{requires:[_0xee2b[1950],_0xee2b[2570],_0xee2b[34],_0xee2b[1140]],fadeOutRemoval:!0,view:null,constructor:function(a){Ext[_0xee2b[8]](this,a)},getElementsFromEventRecord:function(e,d,f,c){var b=this[_0xee2b[829]],a;c=c||!1;if(d){a=_0xee2b[2571]+b[_0xee2b[2560]]+e[_0xee2b[1049]]+_0xee2b[1131]+d[_0xee2b[1049]]+_0xee2b[2572]}else {a=_0xee2b[2571]+b[_0xee2b[2560]]+e[_0xee2b[1049]]+_0xee2b[2572]}return b[_0xee2b[787]]()[_0xee2b[2573]](a,c)},translateToScheduleCoordinate:function(c){var a=this[_0xee2b[829]];var b;if(a[_0xee2b[2170]]()){b=a[_0xee2b[787]]()[_0xee2b[2419]]()-c}else {b=c-a[_0xee2b[787]]()[_0xee2b[809]]()}return b+a[_0xee2b[1966]]()[_0xee2b[1354]]},translateToPageCoordinate:function(b){var a=this[_0xee2b[829]];return b+a[_0xee2b[787]]()[_0xee2b[809]]()-a[_0xee2b[1966]]()[_0xee2b[1354]]},getDateFromXY:function(c,d,b){var a=c[0];if(!b){a=this[_0xee2b[2575]](a)}return this[_0xee2b[829]][_0xee2b[810]][_0xee2b[2576]](a,d)},getEventRenderData:function(f){var d=f[_0xee2b[712]](),e=f[_0xee2b[713]]()||d,a=this[_0xee2b[829]],i=a[_0xee2b[1795]][_0xee2b[697]](),j=a[_0xee2b[1795]][_0xee2b[698]](),c=Math,g=a[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](d,i)),h=a[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](e,j)),b={event:f};if(this[_0xee2b[829]][_0xee2b[1855]]){b[_0xee2b[867]]=c[_0xee2b[203]](g,h)}else {b[_0xee2b[1354]]=c[_0xee2b[203]](g,h)}b[_0xee2b[773]]=c[_0xee2b[715]](1,c[_0xee2b[1524]](h-g))-a[_0xee2b[2577]];if(a[_0xee2b[2610]]){b[_0xee2b[686]]=c[_0xee2b[715]](0,a[_0xee2b[1800]]-a[_0xee2b[2577]]+a[_0xee2b[2584]]);b[_0xee2b[747]]=a[_0xee2b[810]][_0xee2b[2743]]-2*a[_0xee2b[1800]]-a[_0xee2b[2577]]}b[_0xee2b[179]]=d;b[_0xee2b[771]]=e;b[_0xee2b[2275]]=d<i;b[_0xee2b[2277]]=e>j;return b},getScheduleRegion:function(c,d){var a=this[_0xee2b[829]],b;if(c){var g=d&&a[_0xee2b[2191]](d,c)[0];b=Ext[_0xee2b[761]](a[_0xee2b[2847]](c))[_0xee2b[1945]]();if(g){var e=g[_0xee2b[1945]]();b[_0xee2b[686]]=e[_0xee2b[686]];b[_0xee2b[754]]=e[_0xee2b[754]]}else {b[_0xee2b[686]]=b[_0xee2b[686]]+a[_0xee2b[1800]];b[_0xee2b[754]]=b[_0xee2b[754]]-a[_0xee2b[1800]]-a[_0xee2b[2577]]}}else {b=a[_0xee2b[2579]]();b[_0xee2b[686]]=b[_0xee2b[686]]+a[_0xee2b[1800]];b[_0xee2b[754]]=b[_0xee2b[754]]-a[_0xee2b[1800]]-a[_0xee2b[2577]]}var f=a[_0xee2b[1795]][_0xee2b[697]](),k=a[_0xee2b[1795]][_0xee2b[698]](),i=a[_0xee2b[2060]](c,d)||{start:f,end:k},h=this[_0xee2b[2580]](a[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](f,i[_0xee2b[179]]))),j=this[_0xee2b[2580]](a[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](k,i[_0xee2b[771]]))),m=b[_0xee2b[686]],l=b[_0xee2b[754]];return new Ext[_0xee2b[49]].Region(m,Math[_0xee2b[715]](h,j),l,Math[_0xee2b[203]](h,j))},getResourceRegion:function(n,d,i){var a=this[_0xee2b[829]],f=a[_0xee2b[2847]](n),c=Ext[_0xee2b[761]](f)[_0xee2b[2264]](a[_0xee2b[787]]()),k=a[_0xee2b[1795]][_0xee2b[697]](),j=a[_0xee2b[1795]][_0xee2b[698]](),m=d?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](k,d):k,o=i?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](j,i):j,h=a[_0xee2b[1895]](m),l=a[_0xee2b[1895]](o),b=c[1]+a[_0xee2b[2584]],e=c[1]+Ext[_0xee2b[761]](f)[_0xee2b[859]]()-a[_0xee2b[2848]];if(!Ext[_0xee2b[723]][_0xee2b[722]]){var g=a[_0xee2b[1966]]();b+=g[_0xee2b[686]];e+=g[_0xee2b[686]]}return new Ext[_0xee2b[49]].Region(b,Math[_0xee2b[715]](h,l),e,Math[_0xee2b[203]](h,l))},getScheduledEventsForResource:function(b){var a=this[_0xee2b[829]];return a[_0xee2b[696]]()[_0xee2b[2602]](b,function(c){return a[_0xee2b[1795]][_0xee2b[2601]](c)&&c[_0xee2b[1205]]()})},columnRenderer:function(i,h,b,f,j){var a=this[_0xee2b[829]],c=this[_0xee2b[2603]](b);if(c[_0xee2b[4]]===0){return}var e=Ext[_0xee2b[26]][_0xee2b[41]](c,function(c){return a[_0xee2b[2585]](c,b,f)});if(a[_0xee2b[2849]](b)){var g=a[_0xee2b[2587]][_0xee2b[1931]];var d=g[_0xee2b[1788]](e,b,this[_0xee2b[2623]],this);h[_0xee2b[2678]]=d*a[_0xee2b[810]][_0xee2b[2743]]-(d-1)*a[_0xee2b[1800]]}return a[_0xee2b[2589]][_0xee2b[8]](e)},layoutEventVertically:function(b,d){var a=this[_0xee2b[829]];var c=b===0?a[_0xee2b[1800]]:b*a[_0xee2b[810]][_0xee2b[2743]]-(b-1)*a[_0xee2b[1800]];c+=a[_0xee2b[2584]];return c},resolveResource:function(a){var e=this,b=e[_0xee2b[829]],d,c;d=Ext[_0xee2b[761]](a)[_0xee2b[2592]](b[_0xee2b[2034]])&&a||Ext[_0xee2b[761]](a)[_0xee2b[694]](b[_0xee2b[2034]],null,!0);if(d){c=b[_0xee2b[2593]](d[_0xee2b[388]])}else {a=b[_0xee2b[2850]](a);c=a&&b[_0xee2b[2851]](a)||null}return c},getTimeSpanRegion:function(g,f,h){var b=this[_0xee2b[829]],d=b[_0xee2b[1895]](g),e=f?b[_0xee2b[1895]](f):d,c,a;a=b[_0xee2b[2579]]();if(h){c=Math[_0xee2b[715]](a?a[_0xee2b[754]]-a[_0xee2b[686]]:0,b[_0xee2b[787]]()[_0xee2b[758]][_0xee2b[2852]])}else {c=a?a[_0xee2b[754]]-a[_0xee2b[686]]:0}return new Ext[_0xee2b[49]].Region(0,Math[_0xee2b[715]](d,e),c,Math[_0xee2b[203]](d,e))},getStartEndDatesFromRegion:function(c,b){var a=this[_0xee2b[829]],e=a[_0xee2b[807]](c[_0xee2b[1354]],b),d=a[_0xee2b[807]](c[_0xee2b[867]],b);return {start:e,end:d}},onEventAdd:function(m,g){var h=this[_0xee2b[829]],l={},d,f,i,e,c,a,k,b,j;for(a=0,k=g[_0xee2b[4]];a<k;a++){d=g[a];f=d[_0xee2b[712]]();i=d[_0xee2b[713]]();if(f&&i&&h[_0xee2b[1795]][_0xee2b[1765]](f,i)){e=g[a][_0xee2b[1427]](h[_0xee2b[696]]());for(b=0,j=e[_0xee2b[4]];b<j;b++){c=e[b];l[c[_0xee2b[32]]()]=c}}}Ext[_0xee2b[154]][_0xee2b[25]](l,function(b,a){h[_0xee2b[2437]](a)})},repaintEventsForResources:function(b){var c=this,a=c[_0xee2b[829]];Ext[_0xee2b[26]][_0xee2b[130]](b,function(c){if(a&&!a[_0xee2b[1862]]){a[_0xee2b[64]][_0xee2b[147]](c)>=0&&a[_0xee2b[2437]](c)}})},onEventRemove:function(g,e){if(g[_0xee2b[2322]]){return}var b=this,d=b[_0xee2b[829]],f=d[_0xee2b[696]](),c,a;c=Ext[_0xee2b[26]][_0xee2b[1376]](Ext[_0xee2b[26]][_0xee2b[48]](e,function(a,b){return a[_0xee2b[318]](f[_0xee2b[1093]](b))},[]));a=Ext[_0xee2b[26]][_0xee2b[48]](e,function(a,b){return a[_0xee2b[318]](d[_0xee2b[2191]](b,null,null,!0))},[]);a=new Ext.CompositeElementLite(a);if(b[_0xee2b[2386]]){a[_0xee2b[2854]]({callback:function(){b[_0xee2b[2853]](c)}})}else {a[_0xee2b[256]]();b[_0xee2b[2853]](c)}},onEventUpdate:function(k,a){var b=a[_0xee2b[52]]||{};var e=this[_0xee2b[829]];var i=e[_0xee2b[1795]];var c=a[_0xee2b[712]]();var f=a[_0xee2b[713]]();var h=b[_0xee2b[1199]]||c;var g=b[_0xee2b[1200]]||f;var j=h&&g&&i[_0xee2b[1765]](h,g);var d;if(a[_0xee2b[1009]] in b&&j){d=k[_0xee2b[1007]]()[_0xee2b[395]](b[a[_0xee2b[1009]]]);d&&e[_0xee2b[2437]](d,!0)}if(c&&f&&i[_0xee2b[1765]](c,f)||j){Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[1427]](),function(b){e[_0xee2b[2437]](b,!0)})}},setColumnWidth:function(b,c){var a=this[_0xee2b[829]];a[_0xee2b[1858]]()[_0xee2b[2607]](b,c)},getVisibleDateRange:function(){var a=this[_0xee2b[829]];if(!a[_0xee2b[787]]()){return null}var e=a[_0xee2b[2579]](),g=a[_0xee2b[1795]][_0xee2b[697]](),c=a[_0xee2b[1795]][_0xee2b[698]](),d=a[_0xee2b[793]]();if(e[_0xee2b[867]]-e[_0xee2b[1354]]<d){return {startDate:g,endDate:c}}var f=a[_0xee2b[1966]]();var b={startDate:a[_0xee2b[807]](f[_0xee2b[1354]],null,!0),endDate:a[_0xee2b[807]](f[_0xee2b[1354]]+d,null,!0)||c};if(!b[_0xee2b[1139]]){b[_0xee2b[1139]]=c}return b},getItemBox:function(a){var b=this;return Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[1427]](),function(c){return b[_0xee2b[2609]](a,c)})},isRowVisible:function(b){var a=Ext[_0xee2b[1]](b[_0xee2b[854]])&&!b[_0xee2b[854]]();if(!a&&this[_0xee2b[829]][_0xee2b[2310]]&&!this[_0xee2b[829]][_0xee2b[2310]][_0xee2b[144]]){var c=this[_0xee2b[829]][_0xee2b[1302]][_0xee2b[2855]]();if(c){var d=c[_0xee2b[410]](b[_0xee2b[55]](this[_0xee2b[829]][_0xee2b[1302]][_0xee2b[2856]]));a=d&&!this[_0xee2b[829]][_0xee2b[2468]][_0xee2b[2310]][_0xee2b[1666]](d)}}return !a},isElementRenderedAndDisplayed:function(a){if(a&&a[_0xee2b[1606]]){a=this[_0xee2b[829]][_0xee2b[2847]](a)}return !!(a&&Ext[_0xee2b[761]](a)[_0xee2b[859]]())},getResultEventBox:function(a,b){return {rendered:!0,start:a[_0xee2b[53]](_0xee2b[1354])?a[_0xee2b[1354]]:a[_0xee2b[867]],end:(a[_0xee2b[53]](_0xee2b[1354])?a[_0xee2b[1354]]:a[_0xee2b[867]])+a[_0xee2b[773]],top:b+a[_0xee2b[686]],bottom:b+a[_0xee2b[686]]+a[_0xee2b[747]]}},getResourceEventBox:function(f,c){var s=Sch[_0xee2b[49]][_0xee2b[703]],d=this,b=null,a=d[_0xee2b[829]],z=a[_0xee2b[1795]][_0xee2b[697]](),t=a[_0xee2b[1795]][_0xee2b[698]](),n=f[_0xee2b[712]](),k=f[_0xee2b[713]](),v,m,o,h,y,x,e,B,l,q,g,p,u,w,i,r,j;if(n&&k&&s[_0xee2b[714]](n,k,z,t)&&d[_0xee2b[2857]](c)){h=a[_0xee2b[2847]](c);if(h&&d[_0xee2b[2858]](h)){if(a[_0xee2b[2610]]){v=a[_0xee2b[2587]][_0xee2b[1931]];var A=a[_0xee2b[696]]()[_0xee2b[2602]](c,a[_0xee2b[1795]][_0xee2b[2601]],a[_0xee2b[1795]]);m=Ext[_0xee2b[26]][_0xee2b[41]](A,d[_0xee2b[2522]],d);v[_0xee2b[1788]](m,c);o=Ext[_0xee2b[26]][_0xee2b[1761]](m,function(a){return a[_0xee2b[1440]]==f});if(o){x=Ext[_0xee2b[761]](h)[_0xee2b[2264]](a[_0xee2b[2859]]())[1];b=this[_0xee2b[2860]](o,x)}}else {l=a[_0xee2b[2191]](f,f!==c&&c);if(l[_0xee2b[4]]){q=l[0];g=q[_0xee2b[2264]](a[_0xee2b[787]]());p=q[_0xee2b[2611]]();b={rendered:!0,start:g[0],end:g[0]+p[_0xee2b[773]],top:g[1],bottom:g[1]+p[_0xee2b[747]]}}}}else {b={rendered:!1,start:a[_0xee2b[1895]](s[_0xee2b[715]](n,z)),end:a[_0xee2b[1895]](s[_0xee2b[203]](k,t))};u=a[_0xee2b[2862]][_0xee2b[2861]];w=a[_0xee2b[37]](u);i=a[_0xee2b[2862]][_0xee2b[2863]];r=a[_0xee2b[37]](i);e=a[_0xee2b[2864]]();if(c[_0xee2b[2865]](w)){b[_0xee2b[686]]=-e;b[_0xee2b[754]]=b[_0xee2b[686]]+e;b[_0xee2b[2866]]=_0xee2b[434]}else {if(c==r||c[_0xee2b[2865]](r)){y=a[_0xee2b[147]](c);b[_0xee2b[686]]=y*e;b[_0xee2b[754]]=b[_0xee2b[686]]+e}else {j=a[_0xee2b[2515]](i);if(d[_0xee2b[2858]](j)){b[_0xee2b[686]]=Ext[_0xee2b[761]](j)[_0xee2b[2264]](a[_0xee2b[2859]]())[1]+Ext[_0xee2b[761]](j)[_0xee2b[859]]()}else {b[_0xee2b[686]]=(i+1)*e}b[_0xee2b[754]]=b[_0xee2b[686]]+e;b[_0xee2b[2866]]=_0xee2b[2867]}}}if(b){b=d[_0xee2b[2612]](f,b)}}return b},adjustItemBox:function(b,a){return a},getConnectorStartSide:function(a){return _0xee2b[1354]},getConnectorEndSide:function(a){return _0xee2b[867]}});Ext[_0xee2b[6]](_0xee2b[2868],{requires:[_0xee2b[1715],_0xee2b[2553],_0xee2b[2846]],uses:[_0xee2b[2869]],selectedEventCls:_0xee2b[2870],showAllDayHeader:!1,readOnly:!1,horizontalViewClass:_0xee2b[2846],timeCellCls:_0xee2b[473],timeCellSelector:_0xee2b[2871],eventBorderWidth:1,timeAxis:null,timeAxisViewModel:null,eventPrefix:null,rowHeight:null,mode:_0xee2b[1931],horizontal:null,vertical:null,weekview:null,horizontalViewCls:[_0xee2b[2872]],verticalViewCls:[_0xee2b[2873]],weekviewViewCls:[_0xee2b[2874],_0xee2b[2873]],panel:null,displayDateFormat:null,el:null,_initializeTimelineView:function(){if(this[_0xee2b[2875]]){this[_0xee2b[1931]]=Ext[_0xee2b[831]](this[_0xee2b[2875]],{view:this})}if(this[_0xee2b[2876]]){this[_0xee2b[1932]]=Ext[_0xee2b[831]](this[_0xee2b[2876]],{view:this})}if(this[_0xee2b[2877]]){this[_0xee2b[2430]]=Ext[_0xee2b[831]](this[_0xee2b[2877]],{view:this,showAllDayHeader:this[_0xee2b[2878]]})}this[_0xee2b[2560]]=(this[_0xee2b[2560]]||this[_0xee2b[32]]())+_0xee2b[1131]},getTimeAxisViewModel:function(){return this[_0xee2b[810]]},getFormattedDate:function(a){return Ext[_0xee2b[703]][_0xee2b[880]](a,this[_0xee2b[2879]]())},getFormattedEndDate:function(a,b){var c=this[_0xee2b[2879]]();if(a[_0xee2b[1127]]()===0&&a[_0xee2b[1130]]()===0&&(!b||!(a[_0xee2b[481]]()===b[_0xee2b[481]]()&&a[_0xee2b[480]]()===b[_0xee2b[480]]()&&a[_0xee2b[479]]()===b[_0xee2b[479]]()))&&!Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2882]][_0xee2b[2881]](c[_0xee2b[675]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[2880]],_0xee2b[27]))){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].DAY,-1)}return Ext[_0xee2b[703]][_0xee2b[880]](a,c)},getDisplayDateFormat:function(){return this[_0xee2b[2682]]},setDisplayDateFormat:function(a){this[_0xee2b[2682]]=a},fitColumns:function(a){if(this[_0xee2b[1828]]()){this[_0xee2b[1858]]()[_0xee2b[2883]](a)}else {var b=Math[_0xee2b[424]]((this[_0xee2b[1818]][_0xee2b[793]]()-Ext[_0xee2b[857]]()[_0xee2b[773]]-1)/this[_0xee2b[1848]][_0xee2b[2884]]());this[_0xee2b[2833]](b,a)}},getElementsFromEventRecord:function(a,c,b,d){return this[this[_0xee2b[1719]]][_0xee2b[2191]](a,c,b,d)},getStartEndDatesFromRegion:function(b,a){return this[this[_0xee2b[1719]]][_0xee2b[2075]](b,a)},getTimeResolution:function(){return this[_0xee2b[1795]][_0xee2b[2737]]()},setTimeResolution:function(b,a){this[_0xee2b[1795]][_0xee2b[2885]](b,a);if(this[_0xee2b[1858]]()[_0xee2b[2736]]){this[_0xee2b[2669]]()}},getEventIdFromDomNodeId:function(a){return a[_0xee2b[2694]](this[_0xee2b[2560]][_0xee2b[4]])[_0xee2b[496]](_0xee2b[1131])[0]},getResourceIdFromDomNodeId:function(a){return a[_0xee2b[2694]](this[_0xee2b[2560]][_0xee2b[4]])[_0xee2b[496]](_0xee2b[1131])[1]},getDateFromDomEvent:function(b,a){return this[_0xee2b[2167]](b[_0xee2b[1970]](),a)},getSnapPixelAmount:function(){return this[_0xee2b[1858]]()[_0xee2b[2188]]()},setSnapEnabled:function(a){this[_0xee2b[1858]]()[_0xee2b[2886]](a)},setReadOnly:function(a){this[_0xee2b[2887]]=a;this[a?_0xee2b[264]:_0xee2b[267]](this[_0xee2b[2888]]+_0xee2b[2889])},isReadOnly:function(){return this[_0xee2b[2887]]},setMode:function(b){var a=this;a[_0xee2b[1719]]=b;a[_0xee2b[810]][_0xee2b[1719]]=b;a[_0xee2b[267]](a[_0xee2b[2892]][_0xee2b[318]](a[_0xee2b[2891]])[_0xee2b[318]](a[_0xee2b[2890]]));a[_0xee2b[264]](a[b+_0xee2b[2893]])},getMode:function(){return this[_0xee2b[1719]]},isHorizontal:function(){return this[_0xee2b[2131]]()===_0xee2b[1931]},isVertical:function(){return this[_0xee2b[2131]]()===_0xee2b[1932]},isWeekView:function(){return this[_0xee2b[2131]]()===_0xee2b[2430]},getDateFromXY:function(b,c,a){return this[this[_0xee2b[1719]]][_0xee2b[2167]](b,c,a)},getDateFromCoordinate:function(a,c,b){if(!b){a=this[this[_0xee2b[1719]]][_0xee2b[2575]](a)}return this[_0xee2b[810]][_0xee2b[2576]](a,c)},getDateFromX:function(a,b){return this[_0xee2b[807]](a,b)},getDateFromY:function(b,a){return this[_0xee2b[807]](b,a)},getCoordinateFromDate:function(b,c){var a=this[_0xee2b[810]][_0xee2b[1796]](b);if(c===!1){a=this[this[_0xee2b[1719]]][_0xee2b[2580]](a)}return a},getTimeSpanDistance:function(a,b){return this[_0xee2b[810]][_0xee2b[772]](a,b)},getTimeSpanRegion:function(a,b){return this[this[_0xee2b[1719]]][_0xee2b[1892]](a,b)},getScheduleRegion:function(b,a){return this[this[_0xee2b[1719]]][_0xee2b[2058]](b,a)},getTableRegion:function(){throw _0xee2b[29]},getRowNode:function(a){throw _0xee2b[29]},getRecordForRowNode:function(a){throw _0xee2b[29]},getVisibleDateRange:function(){return this[this[_0xee2b[1719]]][_0xee2b[2894]]()},setColumnWidth:function(b,a){this[this[_0xee2b[1719]]][_0xee2b[2833]](b,a)},findRowByChild:function(a){throw _0xee2b[29]},setBarMargin:function(b,a){this[_0xee2b[1800]]=b;if(!a){this[_0xee2b[2669]]()}},getRowHeight:function(){return this[_0xee2b[810]][_0xee2b[2832]]()},setRowHeight:function(a,b){this[_0xee2b[810]][_0xee2b[2895]](a,b)},refreshKeepingScroll:function(){throw _0xee2b[29]},scrollVerticallyTo:function(b,a){throw _0xee2b[29]},scrollHorizontallyTo:function(a,b){throw _0xee2b[29]},getVerticalScroll:function(){throw _0xee2b[29]},getHorizontalScroll:function(){throw _0xee2b[29]},getEl:Ext[_0xee2b[688]],getScroll:function(){throw _0xee2b[29]},getOuterEl:function(){return this[_0xee2b[787]]()},getRowContainerEl:function(){return this[_0xee2b[787]]()},getScheduleCell:function(b,a){return this[_0xee2b[2896]]({row:b,column:a})},getScrollEventSource:function(){return this[_0xee2b[787]]()},getViewportHeight:function(){return this[_0xee2b[787]]()[_0xee2b[859]]()},getViewportWidth:function(){return this[_0xee2b[787]]()[_0xee2b[793]]()},getViewportCenterDate:function(){var b=this[_0xee2b[1966]](),a;if(this[_0xee2b[2539]]()){a=[0,b[_0xee2b[686]]+this[_0xee2b[2897]]()/2]}else {a=[b[_0xee2b[1354]]+this[_0xee2b[2898]]()/2,0]}return this[_0xee2b[2167]](a,null,!0)},getDateConstraints:Ext[_0xee2b[688]],getItemBox:function(a){return this[this[_0xee2b[1719]]][_0xee2b[2899]](a)},getConnectorStartSide:function(a){return this[this[_0xee2b[1719]]][_0xee2b[2900]](a)},getConnectorEndSide:function(a){return this[this[_0xee2b[1719]]][_0xee2b[2901]](a)},getViewStartDate:function(){return this[_0xee2b[1795]][_0xee2b[697]]()},getViewEndDate:function(){return this[_0xee2b[1795]][_0xee2b[698]]()}});Ext[_0xee2b[8]](Sch,{VERSION:_0xee2b[215],LICENSE:_0xee2b[2902]});Ext[_0xee2b[6]](_0xee2b[2903],{prevBlockRefresh:null,initTreeFiltering:function(){var a=function(){var a=this[_0xee2b[64]];this[_0xee2b[252]](a,_0xee2b[1676],this[_0xee2b[2904]],this);this[_0xee2b[252]](a,_0xee2b[1679],this[_0xee2b[2905]],this);if(!a[_0xee2b[2906]]){this[_0xee2b[252]](a,_0xee2b[1656],this[_0xee2b[2907]],this);this[_0xee2b[252]](a,_0xee2b[1680],this[_0xee2b[2908]],this)}};if(this[_0xee2b[262]]){a[_0xee2b[293]](this)}else {this[_0xee2b[149]](_0xee2b[690],a,this,{single:!0})}},onFilterChangeStart:function(){this[_0xee2b[2909]]=this[_0xee2b[2910]];this[_0xee2b[2910]]=!0;Ext[_0xee2b[2839]]()},onFilterChangeEnd:function(){Ext[_0xee2b[2841]](!0);this[_0xee2b[2910]]=this[_0xee2b[2909]]},onFilterCleared:function(){delete this[_0xee2b[2911]];var a=this[_0xee2b[787]]();if(a){a[_0xee2b[267]](_0xee2b[2912])}},onFilterSet:function(){this[_0xee2b[2911]]=function(){};var a=this[_0xee2b[787]]();if(a){a[_0xee2b[264]](_0xee2b[2912])}}});Ext[_0xee2b[6]](_0xee2b[2913],{extend:_0xee2b[17],mixinConfig:{after:{onRender:_0xee2b[2914]}},secondaryCanvasCls:_0xee2b[2915],secondaryCanvasLayerCls:_0xee2b[2916],itemsCanvasEl:null,itemsCanvasCls:_0xee2b[2917],itemsCanvasLayerCls:_0xee2b[2918],getSecondaryCanvasEl:function(){var a=null;if(this[_0xee2b[2919]]()){a=this[_0xee2b[2922]](-1,{tag:_0xee2b[2258],role:_0xee2b[2920],cls:this[_0xee2b[2921]]})}return a},isItemCanvasAvailable:function(b){var a=this;return !!(a[_0xee2b[262]]&&!a[_0xee2b[458]]&&(a[_0xee2b[2859]]()||a[_0xee2b[2923]]&&(a[_0xee2b[2923]][_0xee2b[2924]]||!Ext[_0xee2b[2925]](a[_0xee2b[2923]][_0xee2b[758]]))))},isItemCanvasPresent:function(b){var a=this;return !!(a[_0xee2b[262]]&&!a[_0xee2b[458]]&&a[_0xee2b[2923]]&&(b===undefined||a[_0xee2b[2923]][b]&&(a[_0xee2b[2923]][_0xee2b[2924]]||!Ext[_0xee2b[2925]](a[_0xee2b[2923]][b][_0xee2b[758]]))))},getItemCanvasEl:function(c,e){var d=this,a=d[_0xee2b[2923]],b=a;Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1373]](d[_0xee2b[2919]](),_0xee2b[2926]);if(!a||!a[_0xee2b[758]]||!a[_0xee2b[2924]]&&Ext[_0xee2b[2925]](a[_0xee2b[758]])){b=a=d[_0xee2b[2923]]=Ext[_0xee2b[761]](d[_0xee2b[2859]]())[_0xee2b[2928]]({cls:d[_0xee2b[2927]]})}if(arguments[_0xee2b[4]]>0){c=c||0;b=a[c]||Ext[_0xee2b[758]][_0xee2b[2932]][_0xee2b[2931]](_0xee2b[2929]+c+_0xee2b[2930],a[_0xee2b[758]]);if(!b||!b[_0xee2b[758]]||!a[_0xee2b[2924]]&&Ext[_0xee2b[2925]](b[_0xee2b[758]])){b=a[_0xee2b[825]]((Ext[_0xee2b[1]](e)?e():e)||{tag:_0xee2b[2258]});b[_0xee2b[50]]({'data-sch-secondary-canvas-layer':c});b[_0xee2b[2051]](_0xee2b[2933],c);b[_0xee2b[264]](d[_0xee2b[2934]]);a[c]=b}}return b},afterOnRender:function(){if(this[_0xee2b[2478]]){this[_0xee2b[149]](_0xee2b[1808],this[_0xee2b[2935]],this)}},onBufferedRendererViewReady:function(){var a=this,b=Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2936])?this[_0xee2b[840]][_0xee2b[694]](_0xee2b[2937])[_0xee2b[1830]][_0xee2b[2478]]:a[_0xee2b[2478]],c=b[_0xee2b[2938]];b[_0xee2b[2938]]=function(){var b=a[_0xee2b[2922]](),d=a[_0xee2b[2859]](),e;b[_0xee2b[2924]]=!0;b[_0xee2b[758]][_0xee2b[96]]&&b[_0xee2b[758]][_0xee2b[96]][_0xee2b[78]](b[_0xee2b[758]]);e=c[_0xee2b[8]](this,arguments);d[_0xee2b[88]](b[_0xee2b[758]],d[_0xee2b[928]]);delete b[_0xee2b[2924]];return e}}});Ext[_0xee2b[6]](_0xee2b[2939],{extend:_0xee2b[17],setupPartnerTimelinePanel:function(e){var a=this[_0xee2b[2940]];var c=a[_0xee2b[1830]];var b=this[_0xee2b[1830]];c[_0xee2b[252]](b,_0xee2b[835],this[_0xee2b[2941]],c);b[_0xee2b[252]](c,_0xee2b[835],this[_0xee2b[2941]],b);var d=a[_0xee2b[854]]()?a[_0xee2b[1830]][_0xee2b[793]]():a[_0xee2b[1830]][_0xee2b[773]];if(c[_0xee2b[2942]]()){this[_0xee2b[252]](c,_0xee2b[1808],function(a){b[_0xee2b[839]](a[_0xee2b[793]]())})}else {b[_0xee2b[839]](d)}this[_0xee2b[149]](_0xee2b[833],function(){if(c[_0xee2b[2942]]()){b[_0xee2b[104]]()}else {b[_0xee2b[103]]();b[_0xee2b[839]](d)}},this,{single:!0});c[_0xee2b[149]]({collapse:this[_0xee2b[2943]],expand:this[_0xee2b[2943]],scope:this});b[_0xee2b[149]]({collapse:this[_0xee2b[2943]],expand:this[_0xee2b[2943]],scope:a});this[_0xee2b[2944]]();a[_0xee2b[252]](this,_0xee2b[2771],this[_0xee2b[2945]],this);a[_0xee2b[252]](this,_0xee2b[2804],this[_0xee2b[2946]],this);this[_0xee2b[252]](a,_0xee2b[2771],this[_0xee2b[2945]],this);this[_0xee2b[252]](a,_0xee2b[2804],this[_0xee2b[2946]],this)},onLockedGridResize:function(b,a){this[_0xee2b[839]](a)},onPartnerCollapseExpand:function(a){if(a[_0xee2b[2942]]()){this[_0xee2b[1830]][_0xee2b[104]]()}else {this[_0xee2b[1830]][_0xee2b[103]]()}},setupScrollSync:function(){var e=this[_0xee2b[2940]][_0xee2b[808]](),b=this[_0xee2b[2940]][_0xee2b[2131]]()===_0xee2b[1931]?e[_0xee2b[1941]]():this[_0xee2b[2940]][_0xee2b[1941]](),d=this[_0xee2b[808]](),a=this[_0xee2b[2131]]()===_0xee2b[1931]?d[_0xee2b[1941]]():this[_0xee2b[1941]](),c;function _0x8e22x4(e){var d=e===a?a:b,f=e===a?b:a;if(!c){d[_0xee2b[2948]][_0xee2b[325]](f,_0xee2b[2947],_0x8e22x4);f[_0xee2b[2948]][_0xee2b[325]](d,_0xee2b[2947],_0x8e22x4);d[_0xee2b[2948]][_0xee2b[252]](d,_0xee2b[1978],_0x8e22x3);d[_0xee2b[2948]][_0xee2b[252]](d,_0xee2b[2949],_0x8e22x1)}}function _0x8e22x3(h,f,i){var j=h===a?a:b,e=h===a?b:a;var g=e[_0xee2b[2948]][_0xee2b[1848]][_0xee2b[1941]]();c=Ext[_0xee2b[2600]](function(){var b,a;a=e[_0xee2b[2950]]();if(a&&d[_0xee2b[2131]]()===_0xee2b[1931]){b=Math[_0xee2b[1524]](a[_0xee2b[1893]]-f);if(b){g&&!g[_0xee2b[458]]&&g[_0xee2b[289]](f,null);!e[_0xee2b[458]]&&e[_0xee2b[289]](f);c=!1}else {c=!1}}else {if(a){b=Math[_0xee2b[1524]](a[_0xee2b[1894]]!=i);if(b){!e[_0xee2b[458]]&&e[_0xee2b[289]](null,i)}c=!1}}})}function _0x8e22x1(d){var c=d===a?a:b,e=d===a?b:a;c[_0xee2b[2948]][_0xee2b[325]](c,_0xee2b[1978],_0x8e22x3);c[_0xee2b[2948]][_0xee2b[325]](c,_0xee2b[2949],_0x8e22x1);c[_0xee2b[2948]][_0xee2b[252]](e,_0xee2b[2947],_0x8e22x4);e[_0xee2b[2948]][_0xee2b[252]](c,_0xee2b[2947],_0x8e22x4)}function _0x8e22x6(){b[_0xee2b[2948]][_0xee2b[252]](a,_0xee2b[2947],_0x8e22x4);a[_0xee2b[2948]][_0xee2b[252]](b,_0xee2b[2947],_0x8e22x4)}function _0x8e22x5(){b[_0xee2b[2948]][_0xee2b[325]](a,_0xee2b[2947],_0x8e22x4);a[_0xee2b[2948]][_0xee2b[325]](b,_0xee2b[2947],_0x8e22x4)}this[_0xee2b[2940]][_0xee2b[252]](this,{show:function(){_0x8e22x3(b,b[_0xee2b[2950]]()[_0xee2b[1893]],b[_0xee2b[2950]]()[_0xee2b[1894]])}});this[_0xee2b[252]](this[_0xee2b[2940]],{show:function(){_0x8e22x3(a,a[_0xee2b[2950]]()[_0xee2b[1893]],a[_0xee2b[2950]]()[_0xee2b[1894]])}});_0x8e22x6()},onViewChange:function(a){if(a===this){this[_0xee2b[2940]][_0xee2b[1725]]=this[_0xee2b[1725]]=this[_0xee2b[810]][_0xee2b[1725]]}},onBeforeZoomChange:function(){var c=this[_0xee2b[2940]];var a=c[_0xee2b[808]]()[_0xee2b[1941]](),b=a[_0xee2b[2951]];a[_0xee2b[2951]]=Ext[_0xee2b[688]];a[_0xee2b[149]](_0xee2b[2949],function(){a[_0xee2b[2951]]=b},null,{single:!0})}});Ext[_0xee2b[6]](_0xee2b[2952],{extend:_0xee2b[957],target:[_0xee2b[2953]],minVersion:_0xee2b[2954],applyFn:function(){Ext[_0xee2b[507]](Ext[_0xee2b[758]].Element,{synchronize:function(){var j=this[_0xee2b[9]](arguments),g=this,i=g[_0xee2b[758]],h={},a=i[_0xee2b[1868]],c,f,b,e,d=g[_0xee2b[349]](!1);if(window[_0xee2b[2955]]&&a instanceof window[_0xee2b[2955]]){a=a[_0xee2b[2956]];if(a&&a[_0xee2b[4]]>0){c=a[_0xee2b[496]](/[\s]+/);for(b=0,e=c[_0xee2b[4]];b<e;b++){f=c[b];h[f]=!0}}d[_0xee2b[2957]]=c;d[_0xee2b[2958]]=h;d[_0xee2b[2959]]=!0}return j}})}});Ext[_0xee2b[6]](_0xee2b[2960],{extend:_0xee2b[957],target:_0xee2b[2961],minVersion:_0xee2b[2962],applyFn:function(){Ext[_0xee2b[502]][_0xee2b[55]](this[_0xee2b[969]])[_0xee2b[507]]({focusPosition:function(a){var e=this;if(a&&a[_0xee2b[933]]&&a[_0xee2b[2963]]&&a[_0xee2b[829]]&&a[_0xee2b[829]][_0xee2b[2964]]){var b=a[_0xee2b[829]][_0xee2b[1941]]();if(b&&b[_0xee2b[2965]]){var d=b[_0xee2b[2966]];b[_0xee2b[2966]]=Ext[_0xee2b[688]];var c=this[_0xee2b[9]](arguments);b[_0xee2b[2966]]=d;return c}}return this[_0xee2b[9]](arguments)}})}});Ext[_0xee2b[6]](_0xee2b[2967],{extend:_0xee2b[957],target:_0xee2b[2968],minVersion:_0xee2b[1631],overrides:{handleEvent:function(a){var b=this,c=b[_0xee2b[2969]][_0xee2b[2881]](a[_0xee2b[249]]),e=b[_0xee2b[2970]]();a[_0xee2b[829]]=b;if(c){a[_0xee2b[2971]]=a[_0xee2b[2033]](b[_0xee2b[2972]]);a[_0xee2b[933]]=e[_0xee2b[37]](a[_0xee2b[2971]])}if(!a[_0xee2b[2971]]){var d=b[_0xee2b[2973]]&&b[_0xee2b[2973]][_0xee2b[2974]]&&b[_0xee2b[2973]][_0xee2b[2974]]();if(!(d&&d[_0xee2b[787]]()[_0xee2b[1087]](a[_0xee2b[2033]]()))){a[_0xee2b[2971]]=a[_0xee2b[2033]](b[_0xee2b[2972]])}}if(a[_0xee2b[2971]]&&!a[_0xee2b[933]]){a[_0xee2b[933]]=b[_0xee2b[37]](a[_0xee2b[2971]])}if(b[_0xee2b[2975]](a)!==!1){b[_0xee2b[2976]](a)}if(c&&!Ext[_0xee2b[761]](a[_0xee2b[969]])[_0xee2b[2977]]()){if(a[_0xee2b[2211]]()===a[_0xee2b[2978]]||a[_0xee2b[2979]](!0)){a[_0xee2b[1977]]()}}a[_0xee2b[829]]=null}}});Ext[_0xee2b[6]](_0xee2b[2980],{extend:_0xee2b[957],target:_0xee2b[2981],minVersion:_0xee2b[2982],maxVersion:_0xee2b[2983],overrides:{privates:{updateDomScrollPosition:function(g){var a=this,b=a[_0xee2b[1780]],i=b[_0xee2b[1893]],h=b[_0xee2b[1894]],d,c,f,e;a[_0xee2b[2984]](b);d=b[_0xee2b[1893]];c=b[_0xee2b[1894]];a[_0xee2b[2985]]=!1;if(!g){f=d-i;e=c-h;if(!a[_0xee2b[2986]]){a[_0xee2b[2986]]=Ext[_0xee2b[2986]]=!0;a[_0xee2b[2987]](d,c,f,e)}a[_0xee2b[2988]](d,c,f,e);a[_0xee2b[2989]](d,c,f,e)}return b}},getPosition:function(){var a=this;if(a[_0xee2b[2985]]){a[_0xee2b[2990]](!0)}return a[_0xee2b[1780]]}}});Ext[_0xee2b[6]](_0xee2b[2991],{extend:_0xee2b[957],target:_0xee2b[2992],minVersion:_0xee2b[2982],overrides:{callLayout:function(a,b){this[_0xee2b[2993]]=a;if(!a[_0xee2b[458]]){a[b](this[_0xee2b[800]](a[_0xee2b[2466]]))}}}});Ext[_0xee2b[6]](_0xee2b[2994],{extend:_0xee2b[957],target:_0xee2b[1996],minVersion:_0xee2b[975],applyFn:function(){var a={setTarget:function(c){var a=this;if(a[_0xee2b[969]]){var b=Ext[_0xee2b[55]](a[_0xee2b[969]]);if(b){a[_0xee2b[325]](b,{mouseover:a[_0xee2b[2995]],tap:a[_0xee2b[2995]],mouseout:a[_0xee2b[2996]],mousemove:a[_0xee2b[799]],scope:a})}}a[_0xee2b[969]]=Ext[_0xee2b[55]](c);if(a[_0xee2b[969]]){a[_0xee2b[252]](a[_0xee2b[969]],{mouseover:a[_0xee2b[2995]],tap:a[_0xee2b[2995]],mouseout:a[_0xee2b[2996]],mousemove:a[_0xee2b[799]],scope:a})}if(a[_0xee2b[2997]]){a[_0xee2b[2998]]=a[_0xee2b[969]]}}};if(Ext[_0xee2b[2009]]()[_0xee2b[968]](_0xee2b[2962])){a[_0xee2b[2999]]=function(c,b){var a=this;a[_0xee2b[9]](arguments);if(a[_0xee2b[2997]]){if(!a[_0xee2b[3000]][_0xee2b[854]]()){a[_0xee2b[3000]][_0xee2b[2019]]()}a[_0xee2b[3001]]()}else {a[_0xee2b[3000]][_0xee2b[256]]()}}}Ext[_0xee2b[502]][_0xee2b[55]](this[_0xee2b[969]])[_0xee2b[507]](a)}});Ext[_0xee2b[6]](_0xee2b[3002],{extend:_0xee2b[957],target:_0xee2b[3003],minVersion:_0xee2b[2836],obsoleteTestName:_0xee2b[3004],overrides:{setItemsDraggable:function(c){var a=this,b;b=a[_0xee2b[9]]([c]);if(!c&&a[_0xee2b[3005]]&&a[_0xee2b[3005]][_0xee2b[3006]][_0xee2b[4]]===0){a[_0xee2b[3005]][_0xee2b[3007]][_0xee2b[96]][_0xee2b[78]](a[_0xee2b[3005]][_0xee2b[3007]]);a[_0xee2b[3005]]=Ext[_0xee2b[829]][_0xee2b[3008]][_0xee2b[139]][_0xee2b[3005]]=null}return b}}});Ext[_0xee2b[6]](_0xee2b[3009],{extend:_0xee2b[957],requires:[_0xee2b[3010]],target:_0xee2b[3010],minVersion:_0xee2b[3011],overrides:{privates:{onMouseMove:function(d,h,f){var a=this,b=f[_0xee2b[829]],e=d[_0xee2b[2033]](b[_0xee2b[3012]]),g=f[_0xee2b[829]][_0xee2b[3013]](e),j=a[_0xee2b[3014]];var c;if(b[_0xee2b[808]]){c=b[_0xee2b[808]]()}else {if(b[_0xee2b[2467]][_0xee2b[808]]){c=b[_0xee2b[2467]][_0xee2b[808]]()}}if(c&&c[_0xee2b[2888]]&&Ext[_0xee2b[761]](h)[_0xee2b[694]](_0xee2b[495]+c[_0xee2b[2888]])){return}if(a[_0xee2b[3015]]){if(e===a[_0xee2b[3015]]){if(!a[_0xee2b[3016]]){a[_0xee2b[3016]]=b[_0xee2b[37]](e[_0xee2b[96]])}return}else {a[_0xee2b[3015]]=null;if(a[_0xee2b[3016]]){a[_0xee2b[760]](a[_0xee2b[3016]]);j[_0xee2b[3017]](a[_0xee2b[64]][_0xee2b[147]](a[_0xee2b[3016]]))}}}a[_0xee2b[3018]]=!0;if(a[_0xee2b[3019]]){a[_0xee2b[3019]][_0xee2b[2061]]()}if(g){a[_0xee2b[3020]](b,e,g,d)}else {var i=b[_0xee2b[2179]]?b[_0xee2b[2179]][_0xee2b[265]]:b[_0xee2b[2467]][_0xee2b[2179]][_0xee2b[265]];if(!d[_0xee2b[3021]](i)){a[_0xee2b[3022]](d,b)}}}}}});Ext[_0xee2b[6]](_0xee2b[3023],{extend:_0xee2b[957],requires:[_0xee2b[3024]],target:_0xee2b[3024],minVersion:_0xee2b[2954],maxVersion:_0xee2b[3025],overrides:{disableBufferedRenderingSupport:!0,deactivate:function(){var a=this;if(a[_0xee2b[3026]]){var f=a[_0xee2b[2470]],d=a[_0xee2b[3027]][_0xee2b[266]],e=d[_0xee2b[4]],c,b;for(b=0;b<e;b++){c=d[b];if(f[_0xee2b[829]][_0xee2b[3028]]){if(c[_0xee2b[3029]]){a[_0xee2b[3030]]()}c[_0xee2b[3031]]()}}}else {a[_0xee2b[9]](arguments)}}}});Ext[_0xee2b[6]](_0xee2b[3032],{extend:_0xee2b[957],minVersion:_0xee2b[2008],maxVersion:_0xee2b[2982],target:_0xee2b[3033],overrides:{privates:{onDomScroll:function(){var a=this,c=a[_0xee2b[1780]],h=c[_0xee2b[1893]],g=c[_0xee2b[1894]],b,d,f,e;c=a[_0xee2b[2990]]();if(a[_0xee2b[3034]]){clearTimeout(a[_0xee2b[3035]][_0xee2b[1487]]);return}b=c[_0xee2b[1893]];d=c[_0xee2b[1894]];f=b-h;e=d-g;if(!a[_0xee2b[2986]]){a[_0xee2b[2986]]=Ext[_0xee2b[2986]]=!0;a[_0xee2b[2987]](b,d,f,e)}a[_0xee2b[2988]](b,d,f,e);a[_0xee2b[2989]](b,d,f,e)},invokePartners:function(f,j,i,g,h){var a=this,e=a[_0xee2b[3036]],c,d,b;if(!a[_0xee2b[3037]]){a[_0xee2b[3038]]=!0;for(d in e){b=e[d][_0xee2b[3039]];c=e[d][_0xee2b[3040]];if(!c[_0xee2b[3038]]){c[f](a,b[_0xee2b[1893]]?j:null,b[_0xee2b[1894]]?i:null,g,h)}}a[_0xee2b[3038]]=!1}}}}});Ext[_0xee2b[6]](_0xee2b[3041],{extend:_0xee2b[1996],alias:_0xee2b[3042],uses:[_0xee2b[3043],_0xee2b[3044],_0xee2b[1950],_0xee2b[3045]],config:{view:null},componentCls:_0xee2b[3046],anchor:_0xee2b[3047],constraintInsets:_0xee2b[3048],allowOver:!0,initComponent:function(){var a=this;a[_0xee2b[9]](arguments);a[_0xee2b[149]](_0xee2b[2028],a[_0xee2b[3049]],a)},getAlignRegion:function(){var a=this,f=a[_0xee2b[3000]],g=a[_0xee2b[3050]](),i,h,c,e=a[_0xee2b[3051]],d,b;if(!a[_0xee2b[3052]]){f[_0xee2b[264]](Ext[_0xee2b[238]]+_0xee2b[3053]);f[_0xee2b[2019]]();a[_0xee2b[3052]]=new Ext[_0xee2b[49]].Offset(f[_0xee2b[793]](),f[_0xee2b[859]]());f[_0xee2b[267]](Ext[_0xee2b[238]]+_0xee2b[3053]);f[_0xee2b[256]]()}if((a[_0xee2b[2997]]||a[_0xee2b[2722]])&&a[_0xee2b[3054]]&&!a[_0xee2b[3055]]){c=a[_0xee2b[3056]][_0xee2b[1945]]();if(!Ext[_0xee2b[2925]](a[_0xee2b[3056]][_0xee2b[758]])&&a[_0xee2b[290]]()[_0xee2b[2131]]()===_0xee2b[1931]&&a[_0xee2b[3057]]){c=c[_0xee2b[3059]](new Ext[_0xee2b[49]].Region(c[_0xee2b[686]],a[_0xee2b[3057]][_0xee2b[3058]]()[_0xee2b[1893]]+a[_0xee2b[1945]]()[_0xee2b[773]]/2,c[_0xee2b[754]],a[_0xee2b[3057]][_0xee2b[3058]]()[_0xee2b[1893]]+-a[_0xee2b[1945]]()[_0xee2b[773]]/2))||c}}else {c=a[_0xee2b[3057]]?a[_0xee2b[3057]][_0xee2b[3058]]()[_0xee2b[2186]](-Math[_0xee2b[1524]](e[1]),Math[_0xee2b[1524]](e[0]),Math[_0xee2b[1524]](e[1]),-Math[_0xee2b[1524]](e[0])):new Ext[_0xee2b[49]].Point();if(!a[_0xee2b[2997]]){i=!0;if(e[0]>0){if(e[1]>0){g=_0xee2b[3060]}else {g=_0xee2b[3061]}}else {if(e[1]>0){g=_0xee2b[3062]}else {g=_0xee2b[3063]}}}}h={align:a[_0xee2b[3064]](g),axisLock:a[_0xee2b[3065]],target:c,overlap:i,offset:a[_0xee2b[3066]]};if(a[_0xee2b[2997]]){h[_0xee2b[3052]]=a[_0xee2b[3052]]}if(a[_0xee2b[3067]]){d=a[_0xee2b[3068]]||Ext[_0xee2b[797]]();if(!d[_0xee2b[3069]]){d=Ext[_0xee2b[49]][_0xee2b[3070]][_0xee2b[1945]](d)}if(a[_0xee2b[3071]]){b=a[_0xee2b[3071]];if(!Ext[_0xee2b[135]](b)){b=Ext[_0xee2b[49]][_0xee2b[3073]][_0xee2b[3072]](b)}d=d[_0xee2b[1054]]()[_0xee2b[2186]](b[_0xee2b[686]],b[_0xee2b[867]],b[_0xee2b[754]],b[_0xee2b[1354]])}h[_0xee2b[3074]]=d}return a[_0xee2b[1945]]()[_0xee2b[2021]](h)},onTipBeforeShow:function(b){if(!b[_0xee2b[3075]]||!b[_0xee2b[3075]][_0xee2b[388]]){return !1}var a=b[_0xee2b[290]]();var g=Ext[_0xee2b[2862]](_0xee2b[3076]);var f=Ext[_0xee2b[26]][_0xee2b[1761]](g,function(c){return a!==c&&!a[_0xee2b[3077]](c)&&Ext[_0xee2b[3079]][_0xee2b[3078]]()===c});if(f){return !1}var c=a[_0xee2b[2181]](b[_0xee2b[3075]]);if(!c||a[_0xee2b[180]](_0xee2b[3080],a,c)===!1){return !1}var e=a[_0xee2b[3081]](c,b[_0xee2b[3075]]),d;if(!e){return !1}d=a[_0xee2b[3082]][_0xee2b[8]](e);if(!d){return !1}b[_0xee2b[724]](d)},onTargetOut:function(a){if(this[_0xee2b[262]]&&this[_0xee2b[3083]]&&this[_0xee2b[265]][_0xee2b[1087]](a[_0xee2b[3084]])){return}return this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[3085],{extend:_0xee2b[2868],requires:[_0xee2b[1996],_0xee2b[2952],_0xee2b[2960],_0xee2b[2967],_0xee2b[2980],_0xee2b[2991],_0xee2b[2994],_0xee2b[3002],_0xee2b[3009],_0xee2b[3023],_0xee2b[3032],_0xee2b[3041]],tip:null,overScheduledEventClass:_0xee2b[2198],ScheduleBarEvents:[_0xee2b[784],_0xee2b[801],_0xee2b[248],_0xee2b[743],_0xee2b[3086],_0xee2b[744]],ResourceRowEvents:[_0xee2b[2212],_0xee2b[3087]],preventOverCls:!1,hoveredEventNode:null,_initializeTimelineView:function(){this[_0xee2b[9]](arguments);this[_0xee2b[149]](_0xee2b[218],this._onDestroy,this);this[_0xee2b[149]](_0xee2b[3088],this._onAfterRender,this);this[_0xee2b[1720]](this[_0xee2b[1719]]);this[_0xee2b[845]](_0xee2b[2745]);this[_0xee2b[264]](_0xee2b[3089]);if(this[_0xee2b[2887]]){this[_0xee2b[264]](this[_0xee2b[2888]]+_0xee2b[2889])}this[_0xee2b[264]](this._cmpCls);if(this[_0xee2b[3090]]){this[_0xee2b[264]](_0xee2b[3091])}},handleScheduleBarEvent:function(a,b){this[_0xee2b[180]](this[_0xee2b[3092]]+a[_0xee2b[249]],this,this[_0xee2b[2181]](b),a)},handleResourceRowEvent:function(a,b){this[_0xee2b[180]](this[_0xee2b[3092]]+a[_0xee2b[249]],this,this[_0xee2b[3093]](b),a)},_onDestroy:function(){if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[218]]()}},_onAfterRender:function(){if(this[_0xee2b[3094]]){this[_0xee2b[3095]](!0)}if(this[_0xee2b[3082]]){if(typeof this[_0xee2b[3082]]===_0xee2b[308]){this[_0xee2b[3082]]=new Ext.XTemplate(this[_0xee2b[3082]])}this[_0xee2b[265]][_0xee2b[149]](Ext[_0xee2b[1952]][_0xee2b[1951]]?_0xee2b[3096]:_0xee2b[798],this[_0xee2b[3097]],this,{single:!0})}this[_0xee2b[3098]]();var b={delegate:this[_0xee2b[2034]],scope:this};var a={delegate:this[_0xee2b[3099]],scope:this};Ext[_0xee2b[26]][_0xee2b[25]](this.ScheduleBarEvents,function(a){b[a]=this[_0xee2b[3100]]},this);Ext[_0xee2b[26]][_0xee2b[25]](this.ResourceRowEvents,function(b){a[b]=this[_0xee2b[3101]]},this);this[_0xee2b[265]][_0xee2b[149]](b);this[_0xee2b[265]][_0xee2b[149]](a)},setMouseOverEnabled:function(a){this[a?_0xee2b[252]:_0xee2b[325]](this[_0xee2b[265]],{mouseover:this[_0xee2b[3102]],mouseout:this[_0xee2b[3103]],delegate:this[_0xee2b[2034]],scope:this});if(!a){this[_0xee2b[787]]()[_0xee2b[760]](_0xee2b[495]+this[_0xee2b[3094]])[_0xee2b[267]](this[_0xee2b[3094]])}},onEventMouseOver:function(c,a){if(a!==this[_0xee2b[3104]]&&!this[_0xee2b[3105]]){this[_0xee2b[3104]]=a;Ext[_0xee2b[761]](a)[_0xee2b[264]](this[_0xee2b[3094]]);var b=this[_0xee2b[2181]](a);if(b){this[_0xee2b[180]](_0xee2b[3106],this,b,c)}}},onEventMouseOut:function(a,b){if(this[_0xee2b[3104]]){if(!a[_0xee2b[3021]](this[_0xee2b[3104]],!0,!0)){Ext[_0xee2b[761]](this[_0xee2b[3104]])[_0xee2b[267]](this[_0xee2b[3094]]);this[_0xee2b[180]](_0xee2b[3107],this,this[_0xee2b[2181]](this[_0xee2b[3104]]),a);this[_0xee2b[3104]]=null}}},highlightItem:function(b){if(b){var a=this;a[_0xee2b[739]]();a[_0xee2b[3108]]=b;Ext[_0xee2b[761]](b)[_0xee2b[264]](a[_0xee2b[3109]])}},setupTooltip:function(){var a=this,b=a[_0xee2b[787]]();a[_0xee2b[2106]]=new Sch[_0xee2b[2000]].EventTip(Ext[_0xee2b[8]]({view:a,delegate:a[_0xee2b[2034]],target:b,showOnTap:!0,dismissDelay:0,constrainTo:a[_0xee2b[840]][_0xee2b[787]](),rtl:a[_0xee2b[1855]]},a[_0xee2b[3110]]))},getHorizontalTimeAxisColumn:function(){if(!this[_0xee2b[3111]]){this[_0xee2b[3111]]=this[_0xee2b[1848]][_0xee2b[861]](_0xee2b[3112]);if(this[_0xee2b[3111]]){this[_0xee2b[3111]][_0xee2b[149]](_0xee2b[218],function(){this[_0xee2b[3111]]=null},this)}}return this[_0xee2b[3111]]},getDataForTooltipTpl:function(a,b){return Ext[_0xee2b[8]]({_record:a},a[_0xee2b[22]])},refreshKeepingScroll:function(){Ext[_0xee2b[2839]]();this[_0xee2b[3113]]();this[_0xee2b[2668]]();Ext[_0xee2b[2841]](!0);this[_0xee2b[3114]]()},setupTimeCellEvents:function(){this[_0xee2b[252]](this[_0xee2b[265]],{click:this[_0xee2b[3115]],dblclick:this[_0xee2b[3115]],contextmenu:this[_0xee2b[3115]],longpress:this[_0xee2b[3115]],pinch:this[_0xee2b[3115]],pinchstart:this[_0xee2b[3115]],pinchend:this[_0xee2b[3115]],scope:this})},getTableRegion:function(){var a=this[_0xee2b[265]][_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3116]);return (a||this[_0xee2b[265]])[_0xee2b[1945]]()},getRowNode:function(a){return this[_0xee2b[3117]](a)},findRowByChild:function(a){return this[_0xee2b[3118]](a)},getRecordForRowNode:function(a){return this[_0xee2b[37]](a)},refreshKeepingResourceScroll:function(){var a=this[_0xee2b[1966]]();this[_0xee2b[2668]]();if(this[_0xee2b[1828]]()){this[_0xee2b[2835]](a[_0xee2b[686]])}else {this[_0xee2b[2838]](a[_0xee2b[1354]])}},scrollHorizontallyTo:function(a,b){if(this[_0xee2b[262]]){this[_0xee2b[289]](a,null,b)}},scrollVerticallyTo:function(b,a){if(this[_0xee2b[262]]){this[_0xee2b[289]](null,b,a)}},getVerticalScroll:function(){return this[_0xee2b[3119]]()},getHorizontalScroll:function(){return this[_0xee2b[1920]]()},getScroll:function(){var a=this;return {top:a[_0xee2b[1922]](),left:a[_0xee2b[3120]]()}},handleScheduleEvent:function(){},disableViewScroller:function(a){var b=this[_0xee2b[1941]]();if(b){if(b[_0xee2b[253]]){b[_0xee2b[253]](a)}else {var c=this[_0xee2b[694]](_0xee2b[2203])[_0xee2b[1941]]();b[_0xee2b[3121]]({x:!a,y:!a});c[_0xee2b[3121]]({x:!a,y:!a})}}},shouldAdjustForRtl:function(){return this[_0xee2b[1855]]&&!Ext[_0xee2b[3122]][_0xee2b[1855]]},getHorizontalPositionSide:function(){return this[_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354]},getViewContainerElementTop:function(){var a=this[_0xee2b[694]](_0xee2b[805])[_0xee2b[290]]()[_0xee2b[265]];return a[_0xee2b[1936]]()},getViewContainerHeight:function(){return this[_0xee2b[694]](_0xee2b[805])[_0xee2b[290]]()[_0xee2b[265]][_0xee2b[859]]()},getScrollableMaxPosition:function(){return {x:this[_0xee2b[1941]]()[_0xee2b[3123]]()[_0xee2b[1893]],y:this[_0xee2b[3124]]()}},getVerticalScroller:function(){return this[_0xee2b[694]](_0xee2b[805])[_0xee2b[1941]]()},getVerticalScrollableMaxHeight:function(){return this[_0xee2b[3125]]()[_0xee2b[3123]]()[_0xee2b[1894]]},getScrollableContainerRegion:function(){var a=this[_0xee2b[787]]()[_0xee2b[1945]]();a[_0xee2b[686]]=this[_0xee2b[694]](_0xee2b[3126])[_0xee2b[1941]]()[_0xee2b[1940]]()[_0xee2b[1936]]();return new Ext[_0xee2b[49]].Region(a[_0xee2b[686]],a[_0xee2b[867]],a[_0xee2b[686]]+this[_0xee2b[2608]](),a[_0xee2b[1354]])},scrollHorizontallyBy:function(a,b){this[_0xee2b[3127]](a,null,b)},scrollVerticallyBy:function(a,c){var b=this[_0xee2b[694]](_0xee2b[3126])[_0xee2b[1941]]();b[_0xee2b[3127]](0,a,c)},scrollElementIntoView:function(a,l,m,h,p,c,g){var b=this,q=a[_0xee2b[758]],j=b[_0xee2b[1966]](),f=j[_0xee2b[1354]],k=j[_0xee2b[686]],i=b[_0xee2b[3128]](a,f,k,p),n=i[_0xee2b[1893]],o=i[_0xee2b[1894]],d,e;d=l!==!1?n:f;e=o;if(d!==f||e!==k){b[_0xee2b[149]]({scrollend:{fn:function(){h&&a[_0xee2b[758]]&&a[_0xee2b[2128]]();c&&c[_0xee2b[293]](g)},scope:b,single:!0}});b[_0xee2b[289]](d,e,m)}else {h&&a[_0xee2b[758]]&&a[_0xee2b[2128]]();c&&c[_0xee2b[293]](g)}return b},getScrollIntoViewXY:function(d,a,b,c){c=Ext[_0xee2b[1353]](c)?20:c;var l=this[_0xee2b[834]][_0xee2b[787]](),p=this[_0xee2b[3125]]()[_0xee2b[1940]](),v=d[_0xee2b[2264]](l),t=d[_0xee2b[2264]](p),r=v[0],s=t[1],o=d[_0xee2b[758]][_0xee2b[3129]],m=d[_0xee2b[758]][_0xee2b[3130]],f=r+a,g=s+b,k=f+o,n=g+m,e=l[_0xee2b[793]](),h=p[_0xee2b[859]](),j=a,i=b,q=j+e,u=i+h;if(m>h||g<i){b=g-c}else {if(n>u){b=n-h+c}}if(o>e||f<j){a=f-c}else {if(k>q){a=k-e+c}}a=a<0?0:a;b=b<0?0:b;return {x:a,y:b}}});Ext[_0xee2b[6]](_0xee2b[3131],{extend:_0xee2b[3132],mixins:[_0xee2b[3085]],infiniteScroll:!1,bufferCoef:5,bufferThreshold:0.2,cachedScrollDate:null,boxIsReady:!1,ignoreNextHorizontalScroll:!1,constructor:function(a){this[_0xee2b[9]](arguments);if(this[_0xee2b[2829]]){this[_0xee2b[149]](_0xee2b[2046],this[_0xee2b[3133]],this)}if(this[_0xee2b[810]]){this[_0xee2b[846]](this[_0xee2b[810]],[_0xee2b[2745]])}},setupInfiniteScroll:function(){var c=this[_0xee2b[1818]][_0xee2b[834]];this[_0xee2b[2830]]=c[_0xee2b[1138]]||this[_0xee2b[1795]][_0xee2b[697]]();if(Ext[_0xee2b[2009]]()[_0xee2b[968]](_0xee2b[3134])&&Ext[_0xee2b[1952]][_0xee2b[1951]]&&Ext[_0xee2b[3136]][_0xee2b[2592]][_0xee2b[3135]]){var a=this[_0xee2b[1818]][_0xee2b[1848]][_0xee2b[1941]]();var b=this[_0xee2b[1941]]();a[_0xee2b[3137]]&&Ext[_0xee2b[3139]][_0xee2b[152]](_0xee2b[3138],a[_0xee2b[3137]],a);b[_0xee2b[3137]]&&Ext[_0xee2b[3139]][_0xee2b[152]](_0xee2b[3138],b[_0xee2b[3137]],b)}var d=this;c[_0xee2b[2776]]=function(c,f,a,b){if(b){return b}var e=Sch[_0xee2b[1728]][_0xee2b[1727]][_0xee2b[1726]](a[_0xee2b[1728]]);return d[_0xee2b[3140]](c,e[_0xee2b[877]]()[_0xee2b[1734]],a[_0xee2b[1735]],a[_0xee2b[773]],!0)};this[_0xee2b[3141]]()},bindInfiniteScrollListeners:function(){this[_0xee2b[1941]]()[_0xee2b[149]](_0xee2b[1978],this[_0xee2b[3142]],this);this[_0xee2b[2829]]=!0},unbindInfiniteScrollListeners:function(){this[_0xee2b[1941]]()[_0xee2b[152]](_0xee2b[1978],this[_0xee2b[3142]],this);this[_0xee2b[2829]]=!1},onHorizontalScroll:function(g,a,h){if(this[_0xee2b[3143]]||this[_0xee2b[2830]]){this[_0xee2b[3143]]=!1;return}var e=Ext[_0xee2b[857]](),f=this[_0xee2b[793]](),d=f*this[_0xee2b[3144]]*this[_0xee2b[3145]],c=this[_0xee2b[1941]]()[_0xee2b[3123]]()[_0xee2b[1893]];c-=e[_0xee2b[773]];if(c-a<d||a<d){this[_0xee2b[2844]](this[_0xee2b[807]](a,null,!0));if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){var b=this[_0xee2b[1941]]()[_0xee2b[3146]]||this[_0xee2b[1941]]()[_0xee2b[3147]];b&&b[_0xee2b[3148]]()}else {this[_0xee2b[265]][_0xee2b[3148]]()}}},refresh:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[2829]]&&!this[_0xee2b[3149]]&&this[_0xee2b[3150]]){this[_0xee2b[3151]]()}},onResize:function(a,c,b,d){this[_0xee2b[3150]]=!0;this[_0xee2b[9]](arguments);if(this[_0xee2b[2829]]&&a>0&&a!==b){this[_0xee2b[2844]](this[_0xee2b[2830]]||this[_0xee2b[2894]]()[_0xee2b[1138]],this[_0xee2b[2831]])}},restoreScrollToCachedDate:function(){if(this[_0xee2b[2830]]&&this[_0xee2b[3150]]){this[_0xee2b[3143]]=!0;this[_0xee2b[812]](this[_0xee2b[2830]]);this[_0xee2b[2830]]=null}},scrollToDate:function(a){this[_0xee2b[2830]]=a;if(this[_0xee2b[2831]]){this[_0xee2b[1818]][_0xee2b[834]][_0xee2b[2845]](a)}else {this[_0xee2b[1818]][_0xee2b[834]][_0xee2b[812]](a)}var b=this[_0xee2b[1920]]();this[_0xee2b[1818]][_0xee2b[3152]]=b;this[_0xee2b[1848]][_0xee2b[3153]](b);if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){this[_0xee2b[694]](_0xee2b[805])[_0xee2b[3154]][_0xee2b[1893]]=b}},blockRestoringInfiniteScrollDate:function(){this[_0xee2b[3149]]=this[_0xee2b[3150]]},resumeRestoringInfiniteScrollDate:function(){this[_0xee2b[3149]]=!1;if(this[_0xee2b[2829]]&&this[_0xee2b[2830]]){this[_0xee2b[3151]]()}},calculateInfiniteScrollingDateRange:function(f,a,b,d,k){var c=this[_0xee2b[1795]],g=this[_0xee2b[793]](),h;d=d||this[_0xee2b[810]][_0xee2b[755]]();b=b||c[_0xee2b[1735]]||1;a=a||c[_0xee2b[1734]];var e=Sch[_0xee2b[49]][_0xee2b[703]];var i=Math[_0xee2b[1194]](g*this[_0xee2b[3145]]/d);if(k){var j=Math[_0xee2b[1194]](g*(1+this[_0xee2b[3145]])/(2*d))*b;h={start:c[_0xee2b[1751]](e[_0xee2b[255]](f,a,-j),!1,a,b),end:c[_0xee2b[1750]](e[_0xee2b[255]](f,a,j),!1,a,b)}}else {h={start:c[_0xee2b[1751]](e[_0xee2b[255]](f,a,-i*b),!1,a,b),end:c[_0xee2b[1750]](e[_0xee2b[255]](f,a,Math[_0xee2b[1194]]((g/d+i)*b)),!1,a,b)}}return h},shiftToDate:function(b,a){var c=this[_0xee2b[3140]](b,null,null,null,a);this[_0xee2b[2830]]=b;this[_0xee2b[2831]]=a;this[_0xee2b[1795]][_0xee2b[1756]](c[_0xee2b[179]],c[_0xee2b[771]])},clearViewEl:function(){var c=this,b=c[_0xee2b[1839]](),a=b&&b[_0xee2b[758]][_0xee2b[2517]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3155]);a&&b[_0xee2b[758]][_0xee2b[78]](a);this[_0xee2b[9]](arguments);if(a){c[_0xee2b[1839]]()[_0xee2b[758]][_0xee2b[83]](a)}},destroy:function(){if(this[_0xee2b[2829]]&&this[_0xee2b[262]]){this[_0xee2b[3156]]()}this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[3157],{extend:_0xee2b[957],target:_0xee2b[3158],overrides:{getInnerTpl:function(a){return this[_0xee2b[2647]]?_0xee2b[2508]+a+_0xee2b[3159]:this[_0xee2b[9]](arguments)}}});Ext[_0xee2b[6]](_0xee2b[3160],{extend:_0xee2b[957],requires:[_0xee2b[3161]],target:_0xee2b[3162],minVersion:_0xee2b[975],applyFn:function(){Ext[_0xee2b[507]](Ext[_0xee2b[2121]].DragDropManager,{handleMouseMove:function(b){var a=this,c=a[_0xee2b[3163]],d=b[_0xee2b[1970]](),h=d[0],g=d[1],f,e;a[_0xee2b[3164]]=h-a[_0xee2b[3165]];a[_0xee2b[3166]]=g-a[_0xee2b[3167]];a[_0xee2b[3169]][_0xee2b[3168]](d);if(!c){return !0}if(!a[_0xee2b[3170]]){f=Math[_0xee2b[1524]](a[_0xee2b[3164]]);e=Math[_0xee2b[1524]](a[_0xee2b[3166]]);if(f>a[_0xee2b[3171]]||e>a[_0xee2b[3171]]){b[_0xee2b[3172]]();a[_0xee2b[3173]](a[_0xee2b[3165]],a[_0xee2b[3167]])}}if(a[_0xee2b[3170]]&&c[_0xee2b[2063]]){c[_0xee2b[3174]](b);c[_0xee2b[1982]](b);if(!c[_0xee2b[3175]]){a[_0xee2b[3176]](b,!1)}}a[_0xee2b[2217]](b);return !0},fireEvents:function(e,v){var d=this,r=Ext[_0xee2b[1952]][_0xee2b[1951]],c=d[_0xee2b[3163]],l=d[_0xee2b[3169]],w=l[_0xee2b[1893]],x=l[_0xee2b[1894]],k=[],q=[],h=[],i=[],g=[],j=[],t=r?document[_0xee2b[936]][_0xee2b[2606]]/window[_0xee2b[3177]]:1,o,b,p,s,a,f,m,n;if(!c||c[_0xee2b[3178]]()){return}n=!(c[_0xee2b[3179]]<0||c[_0xee2b[2796]]<0);if(r||!d[_0xee2b[3180]]&&(!Ext[_0xee2b[1952]][_0xee2b[3181]]||Ext[_0xee2b[3182]])&&n){o=c[_0xee2b[3183]]();if(n){o[_0xee2b[763]][_0xee2b[2072]]=_0xee2b[856]}var u=Ext[_0xee2b[797]]()[_0xee2b[1966]]();e[_0xee2b[969]]=document[_0xee2b[2245]](e[_0xee2b[788]]-u[_0xee2b[1354]]/t,e[_0xee2b[3184]]-u[_0xee2b[686]]/t);if(n){o[_0xee2b[763]][_0xee2b[2072]]=_0xee2b[1690]}}for(a in d[_0xee2b[3185]]){b=d[_0xee2b[3185]][a];delete d[_0xee2b[3185]][a];if(!d[_0xee2b[3186]](b)||b[_0xee2b[458]]){continue}if(d[_0xee2b[3180]]){if(!this[_0xee2b[3187]](l,b,d[_0xee2b[1719]])){h[_0xee2b[11]](b)}}else {if(!e[_0xee2b[3021]](b[_0xee2b[787]]())){h[_0xee2b[11]](b)}}q[a]=!0}for(m in c[_0xee2b[3188]]){if(_0xee2b[308]!==typeof m){continue}for(a in d[_0xee2b[3189]][m]){b=d[_0xee2b[3189]][m][a];if(d[_0xee2b[3186]](b)&&(p=b[_0xee2b[787]]())&&b[_0xee2b[2122]]&&!b[_0xee2b[3178]]()&&Ext[_0xee2b[761]](p)[_0xee2b[854]](!0)&&(b!==c||c[_0xee2b[2123]]===!1)){if(d[_0xee2b[3180]]){if((b[_0xee2b[2933]]=d[_0xee2b[3190]](p))!==-1){s=!0}k[_0xee2b[11]](b)}else {if(e[_0xee2b[3021]](b[_0xee2b[787]]())){k[_0xee2b[11]](b);break}}}}}if(s){Ext[_0xee2b[26]][_0xee2b[1120]](k,d[_0xee2b[3191]])}for(a=0,f=k[_0xee2b[4]];a<f;a++){b=k[a];if(d[_0xee2b[3187]](l,b,d[_0xee2b[1719]])){if(v){g[_0xee2b[11]](b)}else {if(!q[b[_0xee2b[388]]]){j[_0xee2b[11]](b)}else {i[_0xee2b[11]](b)}d[_0xee2b[3185]][b[_0xee2b[388]]]=b}if(!d[_0xee2b[3180]]){break}}}if(d[_0xee2b[1719]]){if(h[_0xee2b[4]]){c[_0xee2b[3192]](e,h);c[_0xee2b[3193]](e,h)}if(j[_0xee2b[4]]){c[_0xee2b[3194]](e,j)}if(i[_0xee2b[4]]){c[_0xee2b[3195]](e,i);c[_0xee2b[2208]](e,i)}if(g[_0xee2b[4]]){c[_0xee2b[3196]](e,g);c[_0xee2b[3197]](e,g)}}else {for(a=0,f=h[_0xee2b[4]];a<f;++a){c[_0xee2b[3192]](e,h[a][_0xee2b[388]]);c[_0xee2b[3193]](e,h[a][_0xee2b[388]])}for(a=0,f=j[_0xee2b[4]];a<f;++a){c[_0xee2b[3194]](e,j[a][_0xee2b[388]],j[a])}for(a=0,f=i[_0xee2b[4]];a<f;++a){c[_0xee2b[3195]](e,i[a][_0xee2b[388]]);c[_0xee2b[2208]](e,i[a][_0xee2b[388]])}for(a=0,f=g[_0xee2b[4]];a<f;++a){c[_0xee2b[3196]](e,g[a][_0xee2b[388]]);c[_0xee2b[3197]](e,g[a][_0xee2b[388]])}}if(v&&!g[_0xee2b[4]]){c[_0xee2b[2272]](e)}}});Ext[_0xee2b[507]](Ext[_0xee2b[2121]].DragSource,{onDragEnter:function(c,a,b){this[_0xee2b[3198]]=b;return this[_0xee2b[9]]([c,a])},beforeDragEnter:function(a,c,b){if(this[_0xee2b[3198]]){a=this[_0xee2b[2265]]=this[_0xee2b[3198]];delete this[_0xee2b[3198]]}return this[_0xee2b[9]]([a,c,b])}});var b=Ext[_0xee2b[2121]][_0xee2b[2074]];var a=Ext[_0xee2b[2121]][_0xee2b[2158]];a[_0xee2b[3176]]=Ext[_0xee2b[283]][_0xee2b[3200]](a[_0xee2b[3176]],b[_0xee2b[3199]],b);a[_0xee2b[2216]]=Ext[_0xee2b[283]][_0xee2b[3200]](a[_0xee2b[2216]],b[_0xee2b[3201]],b)}});Ext[_0xee2b[6]](_0xee2b[3202],{extend:_0xee2b[957],target:_0xee2b[2961],minVersion:_0xee2b[975],overrides:{setPosition:function(f,e,a,d,g){var b=this;if(Ext[_0xee2b[960]]&&a&&(a[_0xee2b[2211]]()===a[_0xee2b[3203]]||a[_0xee2b[2211]]()===a[_0xee2b[3204]])){var c=b[_0xee2b[3205]];if(a[_0xee2b[829]][_0xee2b[2311]]&&c&&a[_0xee2b[829]][_0xee2b[3206]]()[_0xee2b[147]](c[_0xee2b[2963]])===-1){a[_0xee2b[829]]=a[_0xee2b[829]][_0xee2b[2468]]}}return b[_0xee2b[9]](arguments)},onCellClick:function(a,f,c,e,g,d,b){this[_0xee2b[9]](arguments);if(b[_0xee2b[1780]][_0xee2b[2963]][_0xee2b[3207]]===!1){if(a[_0xee2b[3208]]){if(Ext[_0xee2b[3209]]){a[_0xee2b[834]][_0xee2b[265]][_0xee2b[3210]]()}else {if(!this[_0xee2b[3205]]){a[_0xee2b[265]][_0xee2b[3210]]()}}}}}}});Ext[_0xee2b[6]](_0xee2b[3211],{requires:[_0xee2b[1950]],view:null,showAllDayHeader:!1,constructor:function(a){Ext[_0xee2b[8]](this,a)},getElementsFromEventRecord:function(b,h,a,c){var d=this,f=d[_0xee2b[829]],g,e;c=c||!1;if(a!==null&&a!==undefined){g=_0xee2b[2571]+f[_0xee2b[2560]]+b[_0xee2b[1049]]+_0xee2b[2638]+a+_0xee2b[2572]}else {g=_0xee2b[2571]+f[_0xee2b[2560]]+b[_0xee2b[1049]]+_0xee2b[3212]}e=f[_0xee2b[787]]()[_0xee2b[2573]](g,c);if(d[_0xee2b[2878]]&&b[_0xee2b[1611]]()){[][_0xee2b[11]][_0xee2b[8]](e,d[_0xee2b[829]][_0xee2b[2467]][_0xee2b[2544]][_0xee2b[808]]()[_0xee2b[2191]](b,h,a,c))}return e},getColumnsBy:function(e,d){var b=this[_0xee2b[829]][_0xee2b[1818]][_0xee2b[1848]][_0xee2b[3213]]();var c=[];for(var a=0;a<b[_0xee2b[4]];a++){if(e[_0xee2b[293]](this,b[a])){if(d!==!0){c[_0xee2b[11]](b[a])}else {c[_0xee2b[11]]({column:b[a],index:a})}}}return c},getColumnsForDateRange:function(a,b){return this[_0xee2b[3214]](function(c){return !(a[_0xee2b[713]]()<=c[_0xee2b[179]]||a[_0xee2b[712]]()>=c[_0xee2b[771]])},b)},getColumnEvents:function(b){var c=this,a=[];this[_0xee2b[829]][_0xee2b[696]]()[_0xee2b[25]](function(d){if(!(c[_0xee2b[2878]]&&d[_0xee2b[1611]]())&&!(d[_0xee2b[713]]()<=b[_0xee2b[179]]||d[_0xee2b[712]]()>=b[_0xee2b[771]])){a[_0xee2b[11]](d)}});return a},getColumnsByResource:function(b,a){return this[_0xee2b[3214]](function(c){return c[_0xee2b[179]]==b[_0xee2b[179]]},a)[0]},translateToScheduleCoordinate:function(b){var a=this[_0xee2b[829]];if(Ext[_0xee2b[307]](b)){return [b[0]-a[_0xee2b[787]]()[_0xee2b[809]]()+a[_0xee2b[3120]](),b[1]-a[_0xee2b[2574]]()+a[_0xee2b[1922]]()]}else {return b-a[_0xee2b[2574]]()+a[_0xee2b[1922]]()}},translateToPageCoordinate:function(b){var a=this[_0xee2b[829]];var c=a[_0xee2b[787]]();if(Ext[_0xee2b[307]](b)){return [b[0]+c[_0xee2b[809]]()-a[_0xee2b[3120]](),b[1]+a[_0xee2b[2574]]()-a[_0xee2b[1922]]()]}else {return b+a[_0xee2b[2574]]()-a[_0xee2b[1922]]()}},getDateFromXY:function(c,d,b){var a=c;if(!b){a=this[_0xee2b[2575]](a)}return this[_0xee2b[829]][_0xee2b[810]][_0xee2b[2576]](a,d)},getEventRenderData:function(j,m,l){var f=j[_0xee2b[712]](),e=j[_0xee2b[713]](),b=this[_0xee2b[829]],k=b[_0xee2b[1818]][_0xee2b[1848]][_0xee2b[3213]](),h=k[l][_0xee2b[179]],g=k[l][_0xee2b[771]],c=Math;var i=Math[_0xee2b[424]](b[_0xee2b[1895]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](f,h)));var d=Math[_0xee2b[424]](b[_0xee2b[810]][_0xee2b[1796]](Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](e,g),!0));var a;if(d===0){d=b[_0xee2b[341]]()[_0xee2b[1466]]()*b[_0xee2b[2864]]()}a={top:c[_0xee2b[715]](0,c[_0xee2b[203]](i,d)-b[_0xee2b[2577]]),height:c[_0xee2b[715]](1,c[_0xee2b[1524]](i-d))};a[_0xee2b[179]]=f;a[_0xee2b[771]]=e;a[_0xee2b[2275]]=f<h;a[_0xee2b[2277]]=e>g;return a},getScheduleRegion:function(b,h){var a=this[_0xee2b[829]],e=b?this[_0xee2b[3215]](b)[_0xee2b[1945]]():a[_0xee2b[2579]](),d=this[_0xee2b[2580]](0),c=this[_0xee2b[2580]](a[_0xee2b[341]]()[_0xee2b[1466]]()*a[_0xee2b[2864]]()),g=e[_0xee2b[1354]]+a[_0xee2b[1800]],f=e[_0xee2b[867]]-a[_0xee2b[1800]];return new Ext[_0xee2b[49]].Region(Math[_0xee2b[203]](d,c),f,Math[_0xee2b[715]](d,c),g)},getWeekViewColumnWidth:function(){return this[_0xee2b[829]][_0xee2b[810]][_0xee2b[2733]]},getResourceRegion:function(l,e,f){var a=this[_0xee2b[829]],d=a[_0xee2b[1007]]()[_0xee2b[147]](l)*this[_0xee2b[3216]](),g=a[_0xee2b[1795]][_0xee2b[697]](),h=a[_0xee2b[1795]][_0xee2b[698]](),i=e?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](g,e):g,k=f?Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[203]](h,f):h,c=Math[_0xee2b[715]](0,a[_0xee2b[1895]](i)-a[_0xee2b[2584]]),b=a[_0xee2b[1895]](k)-a[_0xee2b[2584]],j=d+a[_0xee2b[2583]],m=d+this[_0xee2b[3216]]()-a[_0xee2b[2583]];return new Ext[_0xee2b[49]].Region(Math[_0xee2b[203]](c,b),m,Math[_0xee2b[715]](c,b),j)},columnRenderer:function(l,a,m,k,j){var b=this[_0xee2b[829]];var i=_0xee2b[27];if(k===0){var d,e,c,h;d=[];e=this[_0xee2b[3217]](a[_0xee2b[2963]]);for(c=0,h=e[_0xee2b[4]];c<h;c++){var g=e[c],f=b[_0xee2b[2585]](g,g[_0xee2b[1427]]()[0],j);f&&d[_0xee2b[11]](f)}if(a[_0xee2b[2963]][_0xee2b[262]]&&this[_0xee2b[3216]]()!==a[_0xee2b[2963]][_0xee2b[793]]()){this[_0xee2b[2833]](a[_0xee2b[2963]][_0xee2b[793]](),!0)}b[_0xee2b[2587]][_0xee2b[1932]][_0xee2b[1788]](d,this[_0xee2b[3216]]()-2*b[_0xee2b[1800]]-b[_0xee2b[2583]]);i=_0xee2b[2588]+b[_0xee2b[2589]][_0xee2b[8]](d)}if(j%2===1){a[_0xee2b[477]]=(a[_0xee2b[477]]||_0xee2b[27])+_0xee2b[60]+b[_0xee2b[2590]];a[_0xee2b[2591]]=(a[_0xee2b[2591]]||_0xee2b[27])+_0xee2b[60]+b[_0xee2b[2590]]}return i},resolveResource:function(a){var b=this[_0xee2b[829]];a=Ext[_0xee2b[761]](a)[_0xee2b[2592]](b[_0xee2b[2594]])?a:Ext[_0xee2b[761]](a)[_0xee2b[694]](b[_0xee2b[2594]]);if(a){var d=a[_0xee2b[758]]?a[_0xee2b[758]]:a;var c=0;c=Ext[_0xee2b[26]][_0xee2b[147]](Array[_0xee2b[139]][_0xee2b[191]][_0xee2b[293]](d[_0xee2b[96]][_0xee2b[375]]),d);if(c>=0){var e=b[_0xee2b[1818]][_0xee2b[1848]][_0xee2b[3213]]()[c];return {start:e[_0xee2b[179]],end:e[_0xee2b[771]]}}}},onEventUpdate:function(d,b){if(!this[_0xee2b[829]][_0xee2b[262]]||!this[_0xee2b[829]][_0xee2b[1848]][_0xee2b[266]][_0xee2b[55]](0)[_0xee2b[262]]){return}this[_0xee2b[2596]](b);var a=this[_0xee2b[829]];var c=a[_0xee2b[2256]]();c[_0xee2b[3218]](b,function(c){a[_0xee2b[2598]](c)})},onEventAdd:function(c,a){if(!this[_0xee2b[829]][_0xee2b[262]]||!this[_0xee2b[829]][_0xee2b[1848]][_0xee2b[266]][_0xee2b[55]](0)[_0xee2b[262]]){return}var b=this[_0xee2b[829]];if(a[_0xee2b[4]]===1){this[_0xee2b[2596]](a[0])}else {b[_0xee2b[2599]]()}},onEventRemove:function(c,a){if(!this[_0xee2b[829]][_0xee2b[262]]||!this[_0xee2b[829]][_0xee2b[1848]][_0xee2b[266]][_0xee2b[55]](0)[_0xee2b[262]]){return}var b=this[_0xee2b[829]];if(a[_0xee2b[4]]===1){Ext[_0xee2b[26]][_0xee2b[25]](b[_0xee2b[2191]](a[0],undefined,undefined,!0),function(b){Ext[_0xee2b[761]](b)[_0xee2b[218]]()});this[_0xee2b[2595]](a[0])}else {b[_0xee2b[2599]]()}},relayoutRenderedEvents:function(c){var a=this,b=a[_0xee2b[3219]](c,!0);Ext[_0xee2b[26]][_0xee2b[25]](b,function(b){a[_0xee2b[3220]](b[_0xee2b[2963]],b[_0xee2b[68]])})},renderSingle:function(a){var b=this[_0xee2b[829]];Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[2191]](a,undefined,undefined,!0),function(c){if(b[_0xee2b[265]][_0xee2b[3221]](c)){Ext[_0xee2b[761]](c)[_0xee2b[218]]()}});var c=a[_0xee2b[52]]||{};var d=Sch[_0xee2b[49]][_0xee2b[703]];var e=new Sch[_0xee2b[327]].Range({StartDate:d[_0xee2b[203]](c[_0xee2b[1199]]||a[_0xee2b[712]](),a[_0xee2b[712]]()),EndDate:d[_0xee2b[715]](c[_0xee2b[1200]]||a[_0xee2b[713]](),a[_0xee2b[713]]())});var f=this[_0xee2b[3219]](e);Ext[_0xee2b[26]][_0xee2b[25]](f,function(c){var d=c[_0xee2b[3222]]();var f=this[_0xee2b[3217]](c);var e=Ext[_0xee2b[26]][_0xee2b[41]](f,function(e){if(e===a){return b[_0xee2b[2585]](a,a[_0xee2b[1427]]()[0],d)}else {return {start:e[_0xee2b[712]]()<c[_0xee2b[179]]?c[_0xee2b[179]]:e[_0xee2b[712]](),end:e[_0xee2b[713]]()>c[_0xee2b[771]]?c[_0xee2b[771]]:e[_0xee2b[713]](),event:e}}});b[_0xee2b[2587]][_0xee2b[1932]][_0xee2b[1788]](e,c[_0xee2b[793]]()-2*b[_0xee2b[1800]]-b[_0xee2b[2583]]);Ext[_0xee2b[26]][_0xee2b[25]](e,function(e){if(e[_0xee2b[1440]]===a){var f=b[_0xee2b[2578]](0,d);if(f){if(!Ext[_0xee2b[723]][_0xee2b[722]]){f=Ext[_0xee2b[761]](f)[_0xee2b[572]]()}b[_0xee2b[2589]][_0xee2b[384]](f,[e])}}else {var g=b[_0xee2b[2191]](e[_0xee2b[1440]],null,d)[0];if(g){g[_0xee2b[2051]]({left:e[_0xee2b[1354]]+_0xee2b[804],width:Math[_0xee2b[715]](e[_0xee2b[773]],0)+_0xee2b[804]})}}})},this)},repaintEventsForColumn:function(c,o){var k=this;var i=k[_0xee2b[3217]](c);var e=k[_0xee2b[829]];var f=[],b,j,a,d,g,h;for(b=0,j=i[_0xee2b[4]];b<j;b++){a=i[b];d=e[_0xee2b[2191]](a,undefined,undefined,!0)[0];if(!d){return}var l=d[_0xee2b[388]][_0xee2b[496]](_0xee2b[1131]);l[_0xee2b[204]]();g=a[_0xee2b[712]]();h=a[_0xee2b[713]]();f[_0xee2b[11]]({start:g<c[_0xee2b[179]]?c[_0xee2b[179]]:g,end:h>c[_0xee2b[771]]?c[_0xee2b[771]]:h,event:a,id:l[_0xee2b[73]](_0xee2b[1131])})}e[_0xee2b[2587]][_0xee2b[1932]][_0xee2b[1788]](f,c[_0xee2b[793]]()-2*e[_0xee2b[1800]]-e[_0xee2b[2583]]);var n=e[_0xee2b[2515]](0);for(b=0;b<f[_0xee2b[4]];b++){a=f[b];var m=_0xee2b[3223]+(o+1)+_0xee2b[3224]+a[_0xee2b[388]]+_0xee2b[2572];d=Ext[_0xee2b[758]][_0xee2b[2932]][_0xee2b[2931]](m,n);d&&Ext[_0xee2b[761]](d)[_0xee2b[2051]]({left:a[_0xee2b[1354]]+_0xee2b[804],width:Math[_0xee2b[715]](a[_0xee2b[773]],0)+_0xee2b[804]})}},getTimeSpanRegion:function(d,b){var f=this[_0xee2b[829]],e=f[_0xee2b[1895]](d),g=b?f[_0xee2b[810]][_0xee2b[1796]](b,!0):e;var c=this[_0xee2b[3214]](function(a){return a[_0xee2b[179]]<=d&&a[_0xee2b[771]]>d})[0];var a=this[_0xee2b[3214]](function(a){return a[_0xee2b[179]]<b&&a[_0xee2b[771]]>=b})[0];if(!c||!a||!c[_0xee2b[262]]||!a[_0xee2b[262]]){return new Ext[_0xee2b[49]].Region(-1,0,-1,0)}var h=this[_0xee2b[2575]]([c[_0xee2b[809]](),0]);var i=this[_0xee2b[2575]]([a?a[_0xee2b[1945]]()[_0xee2b[867]]:c[_0xee2b[793]]()+h[0],0]);return new Ext[_0xee2b[49]].Region(Math[_0xee2b[203]](e,g),i[0],Math[_0xee2b[715]](e,g),h[0])},getStartEndDatesFromRegion:function(a,d){var b=this[_0xee2b[829]][_0xee2b[807]]([a[_0xee2b[1354]],a[_0xee2b[686]]],d),c=this[_0xee2b[829]][_0xee2b[807]]([a[_0xee2b[1354]],a[_0xee2b[754]]],d);if(b&&c){return {start:b,end:c}}else {return null}},setColumnWidth:function(b,c){var a=this[_0xee2b[829]];a[_0xee2b[2733]]=b;a[_0xee2b[1858]]()[_0xee2b[2607]](b,c)},getVisibleDateRange:function(){var a=this[_0xee2b[829]];if(!a[_0xee2b[262]]){return null}var c=a[_0xee2b[1966]](),e=a[_0xee2b[2608]](),d=a[_0xee2b[2579]](),b=a[_0xee2b[1795]][_0xee2b[698]]();if(d[_0xee2b[754]]-d[_0xee2b[686]]<e){var f=a[_0xee2b[1795]][_0xee2b[697]]();return {startDate:f,endDate:b}}return {startDate:a[_0xee2b[807]](c[_0xee2b[686]],null,!0),endDate:a[_0xee2b[807]](c[_0xee2b[686]]+e,null,!0)||b}},getItemBox:function(a){return null},getConnectorStartSide:function(a){return _0xee2b[686]},getConnectorEndSide:function(a){return _0xee2b[754]}});Ext[_0xee2b[6]](_0xee2b[3225],{extend:_0xee2b[2613],mixins:[_0xee2b[665]],requires:[_0xee2b[3157],_0xee2b[3160],_0xee2b[3202],_0xee2b[2960],_0xee2b[2042],_0xee2b[2278],_0xee2b[2396],_0xee2b[485],_0xee2b[469],_0xee2b[3211],_0xee2b[3226],_0xee2b[717]],eventResizeHandles:_0xee2b[771],dndValidatorFn:Ext[_0xee2b[688]],resizeValidatorFn:Ext[_0xee2b[688]],createValidatorFn:Ext[_0xee2b[688]],weekViewClass:_0xee2b[3211],lockedGridDependsOnSchedule:null,_initializeSchedulerView:function(){var a=this;a[_0xee2b[9]](arguments);if(!a[_0xee2b[2560]]){throw _0xee2b[3227]}a[_0xee2b[149]]({destroy:a[_0xee2b[3228]],afterrender:a[_0xee2b[3229]],itemupdate:a[_0xee2b[3230]],scope:a});a[_0xee2b[1795]][_0xee2b[149]](_0xee2b[1733],a[_0xee2b[3231]],a);a[_0xee2b[149]]({resourcestorechange:a[_0xee2b[3231]],assignmentstorechange:a[_0xee2b[3231]],eventstorechange:a[_0xee2b[3231]],scope:a})},inheritables:function(){return {loadingText:this.L(_0xee2b[3232]),overItemCls:_0xee2b[27],trackOver:!1,selectedItemCls:_0xee2b[27],setReadOnly:function(b){var a=this;if(a[_0xee2b[3233]]){a[_0xee2b[3233]][_0xee2b[253]](b)}a[_0xee2b[9]](arguments)},repaintEventsForResource:function(b,e){var a=this,c=a[_0xee2b[1828]](),d=c?a[_0xee2b[147]](b):0;if(c){a[_0xee2b[2587]][_0xee2b[1931]][_0xee2b[1226]](b)}if(d>=0){Ext[_0xee2b[2839]]();if(c){a[_0xee2b[2323]](b);if(a[_0xee2b[3234]]){a[_0xee2b[2468]][_0xee2b[2323]](b)}}else {a[_0xee2b[2323]](d)}Ext[_0xee2b[2841]]();if(e){var g=a[_0xee2b[2256]]();var f=a[_0xee2b[696]]()[_0xee2b[699]](b);Ext[_0xee2b[26]][_0xee2b[25]](f,function(c){g[_0xee2b[3218]](c,function(d){a[_0xee2b[2598]](d,!0)})})}}},repaintAllEvents:function(){if(this[_0xee2b[1828]]()){this[_0xee2b[2668]]()}else {this[_0xee2b[2323]](0)}},handleScheduleEvent:function(a){var h=a[_0xee2b[2033]](_0xee2b[495]+this[_0xee2b[2620]],3),e=!h&&a[_0xee2b[2033]](_0xee2b[495]+this[_0xee2b[2052]],3);if(e){var j=this[_0xee2b[2035]](a,_0xee2b[424]);var f=this[_0xee2b[2850]](e);var g=this[_0xee2b[147]](f);var c=null;if(!this[_0xee2b[2004]]){if(this[_0xee2b[1828]]()){c=this[_0xee2b[2851]](f)}else {var b=a[_0xee2b[2033]](this[_0xee2b[2594]],5);if(b){var i=typeof b[_0xee2b[3235]]==_0xee2b[1135]?b[_0xee2b[3235]]:b[_0xee2b[777]](_0xee2b[3236]);var d=this[_0xee2b[1848]][_0xee2b[3213]]()[i];c=d&&d[_0xee2b[327]]}}}if(a[_0xee2b[249]][_0xee2b[147]](_0xee2b[3237])>=0){this[_0xee2b[180]](_0xee2b[1497]+a[_0xee2b[249]],this,a)}else {this[_0xee2b[180]](_0xee2b[1497]+a[_0xee2b[249]],this,j,g,c,a)}}},onEventDataRefresh:function(){this[_0xee2b[3231]]();this[_0xee2b[9]](arguments)},onUnbindStore:function(a){a[_0xee2b[152]]({refresh:this[_0xee2b[3231]],clear:this[_0xee2b[3231]],load:this[_0xee2b[3231]],scope:this});this[_0xee2b[9]](arguments)},bindStore:function(a){a&&a[_0xee2b[149]]({refresh:this[_0xee2b[3231]],clear:this[_0xee2b[3231]],load:this[_0xee2b[3231]],scope:this});this[_0xee2b[9]](arguments)},refreshKeepingScroll:function(){if(this[_0xee2b[262]]){this[_0xee2b[2468]][_0xee2b[2668]]();this[_0xee2b[9]](arguments)}}}},getEventSelectionModel:function(){var a=this,b;if(a[_0xee2b[3238]]&&a[_0xee2b[3238]][_0xee2b[3239]]){return a[_0xee2b[3238]]}if(typeof a[_0xee2b[3238]]===_0xee2b[308]){a[_0xee2b[3238]]={type:a[_0xee2b[3238]]}}if(a[_0xee2b[3240]]){b=_0xee2b[3241]}else {if(a[_0xee2b[3242]]){b=_0xee2b[3243]}else {b=_0xee2b[3244]}}a[_0xee2b[3238]]=Ext[_0xee2b[3251]][_0xee2b[3250]](Ext[_0xee2b[8]]({type:a[_0xee2b[3245]]||(a[_0xee2b[696]]()[_0xee2b[1051]]()?_0xee2b[3246]:_0xee2b[3247]),mode:b,allowDeselect:a[_0xee2b[3248]]||a[_0xee2b[3242]],locked:a[_0xee2b[3249]]},a[_0xee2b[3238]]));return a[_0xee2b[3238]]},_afterRender:function(){this[_0xee2b[1407]](this[_0xee2b[1071]],!0);this[_0xee2b[2256]]()[_0xee2b[3252]](this);this[_0xee2b[3253]]();this[_0xee2b[3254]]();var a=this[_0xee2b[1848]][_0xee2b[2399]];if(a){a[_0xee2b[3255]]=Ext[_0xee2b[283]][_0xee2b[3200]](a[_0xee2b[3255]],this[_0xee2b[3256]],this)}this[_0xee2b[149]](_0xee2b[3257],function(){this[_0xee2b[3104]]=null})},_destroy:function(){this[_0xee2b[1407]](null)},clearRowHeightCache:function(){if(this[_0xee2b[1828]]()){this[_0xee2b[2587]][_0xee2b[1931]][_0xee2b[1226]]()}},configureFunctionality:function(){var a=this,b=a[_0xee2b[2077]]||a;if(a[_0xee2b[2622]]!==_0xee2b[764]&&Sch[_0xee2b[822]][_0xee2b[3258]]){a[_0xee2b[3259]]=new Sch[_0xee2b[822]].ResizeZone(Ext[_0xee2b[330]]({schedulerView:a,validatorFn:function(c,d,e,f){if(!(c instanceof Sch[_0xee2b[327]][_0xee2b[606]])){c=null}return (a[_0xee2b[3260]]||a[_0xee2b[2655]](e,f,d,c))&&a[_0xee2b[3261]][_0xee2b[8]](b,arguments)},validatorFnScope:a},a[_0xee2b[3262]]||{}))}if(a[_0xee2b[3263]]!==!1&&Sch[_0xee2b[822]][_0xee2b[3264]]){var c=this[_0xee2b[2467]][_0xee2b[3266]](_0xee2b[3265]);a[_0xee2b[3267]]=new Sch[_0xee2b[822]].DragDrop(a,{validatorFn:function(e,c,d,f){if(!(c instanceof Sch[_0xee2b[327]][_0xee2b[606]])){c=null}return (a[_0xee2b[3260]]||a[_0xee2b[2655]](d,Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](d,Sch[_0xee2b[49]][_0xee2b[703]].MILLI,f),e[0],c))&&a[_0xee2b[3268]][_0xee2b[8]](b,arguments)},validatorFnScope:a,targetEl:c?a[_0xee2b[787]]():a[_0xee2b[2467]][_0xee2b[265]],dragConfig:a[_0xee2b[2281]]||{}})}if(a[_0xee2b[3269]]!==!1){a[_0xee2b[3233]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xclass:_0xee2b[2042]},{schedulerView:a,disabled:a[_0xee2b[2887]],validatorFn:function(c,e,d){if(!(c instanceof Sch[_0xee2b[327]][_0xee2b[606]])){c=null}return (a[_0xee2b[3260]]||a[_0xee2b[2655]](e,d,null,c))&&a[_0xee2b[3270]][_0xee2b[8]](b,arguments)},validatorFnScope:a},a[_0xee2b[3271]]))}if(a[_0xee2b[3272]]!==!1){a[_0xee2b[149]]({scheduledblclick:a[_0xee2b[3273]],schedulelongpress:a[_0xee2b[3273]],scope:a})}},doCreateEventOnDblClick:function(c,g,k,e){if(this[_0xee2b[2887]]){return}var j=this,f=c[_0xee2b[2004]]&&c[_0xee2b[2467]][_0xee2b[3274]][_0xee2b[808]](),i=f?f[_0xee2b[3275]]():j[_0xee2b[3275]](),h=c[_0xee2b[696]](),b=h[_0xee2b[137]](),a={};a[b[_0xee2b[139]][_0xee2b[1201]]]=g;a[b[_0xee2b[139]][_0xee2b[1203]]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](g,c[_0xee2b[1795]][_0xee2b[1734]],1);a[b[_0xee2b[139]][_0xee2b[3276]]]=Boolean(c[_0xee2b[2004]]);a[b[_0xee2b[139]][_0xee2b[1009]]]=e&&e[_0xee2b[32]]()||null;var d=Ext[_0xee2b[831]](b,a);j[_0xee2b[3277]](d,e);if(i){i[_0xee2b[3278]](d)}else {h[_0xee2b[255]](d)}},onDragDropStart:function(){if(this[_0xee2b[3233]]){this[_0xee2b[3233]][_0xee2b[253]](!0)}if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[256]]();this[_0xee2b[2106]][_0xee2b[2061]]()}if(this[_0xee2b[3094]]){this[_0xee2b[3095]](!1)}this[_0xee2b[3279]](!0);this[_0xee2b[3104]]=null},onDragDropEnd:function(){if(this[_0xee2b[3233]]){this[_0xee2b[3233]][_0xee2b[253]](!1)}if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[2064]]()}if(this[_0xee2b[3094]]){this[_0xee2b[3095]](!0)}this[_0xee2b[3279]](!1)},onBeforeDragCreate:function(d,c,b,a){return !this[_0xee2b[2887]]&&!a[_0xee2b[2794]]},onDragCreateStart:function(){if(this[_0xee2b[3094]]){this[_0xee2b[3095]](!1)}if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[256]]();this[_0xee2b[2106]][_0xee2b[2061]]()}this[_0xee2b[3279]](!0)},onDragCreateEnd:function(d,a,b){if(!this[_0xee2b[3275]]()){var c=b?[b]:[];if(this[_0xee2b[180]](_0xee2b[2664],this,a,c)!==!1){this[_0xee2b[696]]()[_0xee2b[384]](a);if(!this[_0xee2b[1847]]()){a[_0xee2b[1605]](b)}this[_0xee2b[3277]](a,c)}}if(this[_0xee2b[3094]]){this[_0xee2b[3095]](!0)}},onEventCreated:function(a,b){},onAfterDragCreate:function(){if(this[_0xee2b[3094]]){this[_0xee2b[3095]](!0)}if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[2064]]()}this[_0xee2b[3279]](!1)},onBeforeResize:function(){return !this[_0xee2b[2887]]},onResizeStart:function(){if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[256]]();this[_0xee2b[2106]][_0xee2b[2061]]()}if(this[_0xee2b[3233]]){this[_0xee2b[3233]][_0xee2b[253]](!0)}this[_0xee2b[3279]](!0)},onResizeEnd:function(){if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[2064]]()}if(this[_0xee2b[3233]]){this[_0xee2b[3233]][_0xee2b[253]](!1)}this[_0xee2b[3279]](!1)},setupEventListeners:function(){this[_0xee2b[149]]({eventdragstart:this[_0xee2b[3280]],aftereventdrop:this[_0xee2b[3281]],beforedragcreate:this[_0xee2b[3282]],dragcreatestart:this[_0xee2b[3283]],dragcreateend:this[_0xee2b[3284]],afterdragcreate:this[_0xee2b[3285]],beforeeventresize:this[_0xee2b[3286]],eventresizestart:this[_0xee2b[3287]],aftereventresize:this[_0xee2b[3288]],scope:this})},afterHeaderResized:function(){var a=this[_0xee2b[1848]][_0xee2b[2399]];if(a&&!this[_0xee2b[1828]]()){if(this[_0xee2b[1818]][_0xee2b[2715]]){this[_0xee2b[2833]](a[_0xee2b[3289]])}else {var b=a[_0xee2b[3290]][_0xee2b[793]]();this[_0xee2b[2833]](b)}}},columnRenderer:function(a,c,b,d,e){return this[this[_0xee2b[1719]]][_0xee2b[3291]](a,c,b,d,e)},onRowUpdated:function(c){var a=this,b;if(a[_0xee2b[1828]]()&&a[_0xee2b[225]](_0xee2b[2605])){Ext[_0xee2b[26]][_0xee2b[25]](c[_0xee2b[1421]](),function(d){b=a[_0xee2b[2191]](d,c,null,!0);Ext[_0xee2b[26]][_0xee2b[25]](b,function(b){a[_0xee2b[180]](_0xee2b[2605],a,d,b)})})}},scrollResourceEventIntoView:function(g,b,l,o,n,q,m){if(this[_0xee2b[2004]]){return}var c=this,e=c[_0xee2b[694]](_0xee2b[805]),k=b[_0xee2b[712]](),j=b[_0xee2b[713]](),f,a;var i=function(){a=c[_0xee2b[2191]](b,g,l);a=a[_0xee2b[4]]&&a[0]||null;if(a){c[_0xee2b[3292]](a,!0,n,o,null,q,m)}};var d=c[_0xee2b[1795]],h=b[_0xee2b[1611]]&&b[_0xee2b[1611]]()&&e[_0xee2b[2544]]?e[_0xee2b[2544]][_0xee2b[808]]()[_0xee2b[1795]]:d;if(!h[_0xee2b[1763]](k)||!h[_0xee2b[1763]](j,!0)){f=d[_0xee2b[698]]()-d[_0xee2b[697]]();d[_0xee2b[1756]](new Date(k[_0xee2b[1162]]()-f/2),new Date(j[_0xee2b[1162]]()+f/2));c[_0xee2b[694]](_0xee2b[1818])[_0xee2b[3293]][_0xee2b[1499]]()}if(this[_0xee2b[1828]]()){var p=e[_0xee2b[64]][_0xee2b[234]];e[_0xee2b[2966]](p?g[_0xee2b[3294]]():g,{callback:function(){i()}})}else {i()}}});Ext[_0xee2b[6]](_0xee2b[3295],{extend:_0xee2b[3131],mixins:[_0xee2b[3225],_0xee2b[2913],_0xee2b[665]],alias:_0xee2b[3296]},function(){this[_0xee2b[507]](Sch[_0xee2b[1637]][_0xee2b[3297]][_0xee2b[139]][_0xee2b[1635]]()||{})});Ext[_0xee2b[6]](_0xee2b[3298],{extend:_0xee2b[3299],alias:_0xee2b[3300],requires:[_0xee2b[3301]],deselectOnContainerClick:!0,selectedOnMouseDown:null,bindComponent:Ext[_0xee2b[688]],onEditorKey:Ext[_0xee2b[688]],onStoreLoad:Ext[_0xee2b[688]],bindToView:function(b){var a=this;a[_0xee2b[829]]=b;a[_0xee2b[145]](a[_0xee2b[3302]](b));b[_0xee2b[149]]({eventclick:a[_0xee2b[3303]],eventmousedown:a[_0xee2b[3304]],itemmousedown:a[_0xee2b[3305]],refresh:function(){a[_0xee2b[770]]()},destroy:function(){a[_0xee2b[145]](null)},scope:a})},getSelectionStore:function(a){return a[_0xee2b[696]]()},bindStore:function(a){if(this[_0xee2b[341]]()){this[_0xee2b[325]](this[_0xee2b[341]](),_0xee2b[302],this[_0xee2b[3306]],this)}if(a){this[_0xee2b[252]](a,_0xee2b[302],this[_0xee2b[3306]],this)}this[_0xee2b[9]](arguments)},onSelectionStoreLoad:function(){this[_0xee2b[3307]]()},onEventMouseDown:function(c,a,b){this[_0xee2b[3308]]=null;if((!this[_0xee2b[3309]]||b[_0xee2b[2104]]!==2)&&!this[_0xee2b[2597]](a)){this[_0xee2b[3308]]=a;this[_0xee2b[3310]](a,b)}},onEventClick:function(c,b,a){if((!this[_0xee2b[3309]]||a[_0xee2b[2104]]!==2)&&!this[_0xee2b[3308]]){this[_0xee2b[3310]](b,a)}},onItemMouseDown:function(b,c,e,d,a){if(this[_0xee2b[3311]]&&!a[_0xee2b[2033]](this[_0xee2b[829]][_0xee2b[2034]])){this[_0xee2b[3307]]()}},onSelectChange:function(b,f,c,g){var a=this,d=a[_0xee2b[829]],i=a[_0xee2b[64]],e=f?_0xee2b[760]:_0xee2b[3312],h=0;if(d&&(c||a[_0xee2b[180]](_0xee2b[434]+e,a,b))!==!1&&g()!==!1){if(f){d[_0xee2b[2598]](b,c)}else {d[_0xee2b[3313]](b,c)}if(!c){a[_0xee2b[180]](e,a,b)}}},selectRange:Ext[_0xee2b[688]],selectNode:function(c,d,b){var a=this[_0xee2b[829]][_0xee2b[2181]](c);if(a){this[_0xee2b[760]](a,d,b)}},deselectNode:function(c,d,b){var a=this[_0xee2b[829]][_0xee2b[2181]](c);if(a){this[_0xee2b[3312]](a,b)}},getFirstSelectedEventForResource:function(f){var e=this[_0xee2b[3314]](),b=null,a,d,c;for(a=0,d=e[_0xee2b[4]];!b&&a<d;++a){c=e[a];if(c[_0xee2b[2243]](f)){b=c}}return b},getDraggableSelections:function(){return Ext[_0xee2b[26]][_0xee2b[173]](this[_0xee2b[3314]](),function(a){return a[_0xee2b[2183]]()})},forEachEventRelatedSelection:function(a,b){this[_0xee2b[2597]](a)&&b(a)},refresh:function(){var a=this,l=a[_0xee2b[64]],f=[],c=[],k=a[_0xee2b[3314]](),m=k[_0xee2b[4]],b=a[_0xee2b[3315]](),i,h,d,j,g,e;if(!l||!(b[_0xee2b[3316]]||b[_0xee2b[3317]]||b[_0xee2b[3318]])||!b[_0xee2b[1466]]()){return}d=l[_0xee2b[349]]();if(d[_0xee2b[3319]]){h=d[_0xee2b[3319]]();if(h){d=h}}a[_0xee2b[3320]]=!0;b[_0xee2b[380]]();a[_0xee2b[3321]]();for(e=0;e<m;e++){j=k[e];g=d[_0xee2b[55]](j[_0xee2b[32]]());if(g){f[_0xee2b[11]](g)}else {if(!a[_0xee2b[3322]]){c[_0xee2b[11]](j)}}if(a[_0xee2b[1719]]===_0xee2b[3244]&&c[_0xee2b[4]]){break}}if(b[_0xee2b[1466]]()!==f[_0xee2b[4]]+c[_0xee2b[4]]){i=!0}a[_0xee2b[3323]]();if(f[_0xee2b[4]]){a[_0xee2b[3324]](f,!1,!0)}if(c[_0xee2b[4]]){b[_0xee2b[255]](c);if(!a[_0xee2b[3325]]){a[_0xee2b[3325]]=c[c[_0xee2b[4]]-1]}}a[_0xee2b[3326]]();if(i){b[_0xee2b[381]]()}else {b[_0xee2b[3327]]--}a[_0xee2b[3320]]=!1;a[_0xee2b[3328]](i)}});Ext[_0xee2b[6]](_0xee2b[3329],{extend:_0xee2b[3298],alias:_0xee2b[3330],assignmentStoreDetacher:null,getSelectionStore:function(a){return a[_0xee2b[696]]()[_0xee2b[1003]]},onBindStore:function(b){this[_0xee2b[9]](arguments);if(b){var a=this;a[_0xee2b[1001]]&&a[_0xee2b[1001]][_0xee2b[218]]();a[_0xee2b[1001]]=b[_0xee2b[149]]({remove:a[_0xee2b[3331]],clear:a[_0xee2b[3332]],refresh:a[_0xee2b[3333]],scope:a,destroyable:!0})}},onEventMouseDown:function(d,c,b){this[_0xee2b[3308]]=null;var a=this[_0xee2b[3334]](b[_0xee2b[2033]]());if(a&&(!this[_0xee2b[3309]]||b[_0xee2b[2104]]!==2)&&!this[_0xee2b[2597]](a)){this[_0xee2b[3308]]=a;this[_0xee2b[3310]](a,b)}},onEventClick:function(d,c,a){var b=this[_0xee2b[3334]](a[_0xee2b[2033]]());if(b&&(!this[_0xee2b[3309]]||a[_0xee2b[2104]]!==2)&&!this[_0xee2b[3308]]){this[_0xee2b[3310]](b,a)}},resolveAssignmentRecordFromEventNode:function(b){var a=this[_0xee2b[829]],d=a[_0xee2b[2181]](b),c=a[_0xee2b[2036]](b);if(d&&c){var e=a[_0xee2b[696]]()[_0xee2b[1051]]();return e[_0xee2b[1092]](d,c)}},selectNode:function(c,d,b){var a=this[_0xee2b[3334]](c);if(a){this[_0xee2b[760]](a,d,b)}},deselectNode:function(c,d,b){var a=this[_0xee2b[3334]](c);if(a){this[_0xee2b[3312]](a,b)}},getFirstSelectedEventForResource:function(f){var e=this[_0xee2b[3314]](),b=null,a,d,c;for(a=0,d=e[_0xee2b[4]];!b&&a<d;++a){c=e[a];if(c[_0xee2b[1052]]()[_0xee2b[2243]](f)){b=c;break}}return b},getDraggableSelections:function(){return Ext[_0xee2b[26]][_0xee2b[173]](this[_0xee2b[3314]](),function(a){return a[_0xee2b[1052]]()[_0xee2b[2183]]()})},forEachEventRelatedSelection:function(a,b){Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[3314]](),function(c){c[_0xee2b[1052]]()===a&&b(c)})},onAssignmentStoreRemove:function(b,a){this[_0xee2b[3312]](a,!0)},onAssignmentStoreClear:function(a){this[_0xee2b[3323]]()},onAssignmentStoreRefresh:function(a){this[_0xee2b[3323]]()},destroy:function(){var a=this;Ext[_0xee2b[1004]](a,_0xee2b[1001]);a[_0xee2b[9]]()}});Ext[_0xee2b[6]](_0xee2b[3335],{extend:_0xee2b[2531],requires:[_0xee2b[3295],_0xee2b[2356],_0xee2b[3298],_0xee2b[3329],_0xee2b[485],_0xee2b[865],_0xee2b[681]],uses:[_0xee2b[3336]],eventSelModelType:null,eventSelModel:null,enableEventDragDrop:!0,enableDragCreation:!0,createEventOnDblClick:!1,dragConfig:null,weekViewColumnClass:_0xee2b[469],componentCls:_0xee2b[3337],lockedGridDependsOnSchedule:!0,showAllDayHeader:!0,verticalListeners:null,horizontalLockedWidth:null,verticalColumns:null,calendarColumns:null,recurringEvents:!0,horizontalCls:[_0xee2b[2815]],verticalCls:[_0xee2b[2817],_0xee2b[2816]],weekviewCls:[_0xee2b[2818],_0xee2b[2816]],_oldViewPresetArgs:null,relayedViewEvents:[_0xee2b[3338],_0xee2b[3339],_0xee2b[3340],_0xee2b[3341],_0xee2b[3342],_0xee2b[3343],_0xee2b[3106],_0xee2b[3107],_0xee2b[3344],_0xee2b[3345],_0xee2b[2408],_0xee2b[2413],_0xee2b[2435],_0xee2b[2436],_0xee2b[2438],_0xee2b[2439],_0xee2b[2218],_0xee2b[2199],_0xee2b[2172],_0xee2b[2270],_0xee2b[2236],_0xee2b[2274],_0xee2b[2054],_0xee2b[2069],_0xee2b[2083],_0xee2b[2088],_0xee2b[2091],_0xee2b[2664]],inheritables:function(){return {variableRowHeight:!0,initComponent:function(){var a=this,e=a[_0xee2b[3346]]=a[_0xee2b[3346]]||{},d=a[_0xee2b[3347]]&&a[_0xee2b[3347]]()||{};a._initializeSchedulerPanel();a[_0xee2b[2541]]={clear:a[_0xee2b[2540]],datachanged:a[_0xee2b[2540]],update:a[_0xee2b[2540]],load:a[_0xee2b[2540]],scope:a};a[_0xee2b[3348]]={reconfigure:a[_0xee2b[3349]],priority:1,scope:a};a[_0xee2b[3350]]={columnresize:a[_0xee2b[3351]],scope:a};a[_0xee2b[2542]]={load:a[_0xee2b[3352]],add:a[_0xee2b[3352]],remove:a[_0xee2b[3352]],scope:a};a[_0xee2b[3346]]=a[_0xee2b[3346]]||{};Ext[_0xee2b[8]](a[_0xee2b[3346]],{eventStore:a[_0xee2b[1071]],resourceStore:a[_0xee2b[1302]],dependencyStore:a[_0xee2b[1303]],eventBarTextField:a[_0xee2b[2646]]||this[_0xee2b[696]]()[_0xee2b[137]]()[_0xee2b[139]][_0xee2b[1228]]});if(a[_0xee2b[1306]]()&&d[_0xee2b[3353]]!==!1){e[_0xee2b[2557]]=d[_0xee2b[2557]]||[_0xee2b[1354],_0xee2b[867],_0xee2b[686],_0xee2b[754]]}Ext[_0xee2b[1054]](a[_0xee2b[3346]],a,[_0xee2b[1800],_0xee2b[2538],_0xee2b[2589],_0xee2b[3260],_0xee2b[2281],_0xee2b[2642],_0xee2b[3277],_0xee2b[2130],_0xee2b[2250],_0xee2b[3245],_0xee2b[3238],_0xee2b[3240],_0xee2b[3242],_0xee2b[3248],_0xee2b[3234],_0xee2b[2878]],!0);a[_0xee2b[9]](arguments);if(a[_0xee2b[3354]]!==!1&&(!a[_0xee2b[3354]]||!a[_0xee2b[3354]][_0xee2b[3355]])){a[_0xee2b[3354]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xclass:_0xee2b[2356],panel:a},a[_0xee2b[3354]]))}if(!a[_0xee2b[1828]]()){a[_0xee2b[3356]](!0)}if(a[_0xee2b[2539]]()){a[_0xee2b[252]](a[_0xee2b[1302]],a[_0xee2b[2541]])}else {if(a[_0xee2b[1847]]()&&a[_0xee2b[2878]]){a[_0xee2b[3357]]()}}var c=a[_0xee2b[1830]][_0xee2b[290]]();var b=a[_0xee2b[808]]();c[_0xee2b[149]](_0xee2b[835],a[_0xee2b[3358]],a);a[_0xee2b[2503]](b[_0xee2b[3291]],b);if(a[_0xee2b[3359]]){var f=Ext[_0xee2b[132]][_0xee2b[131]](a[_0xee2b[3359]]);a[_0xee2b[3360]]=new Sch[_0xee2b[3362]].ResourceZones(Ext[_0xee2b[8]]({store:f},a[_0xee2b[3361]]));a[_0xee2b[3360]][_0xee2b[1809]](a)}b[_0xee2b[149]](_0xee2b[2745],a[_0xee2b[3363]],a);a[_0xee2b[846]](b,a[_0xee2b[3364]]);if(!a[_0xee2b[2472]]){a[_0xee2b[3365]](c,b)}if(a[_0xee2b[1306]]()){a[_0xee2b[264]](_0xee2b[3366])}},configureColumns:function(b){var a=this;b=b||[{xtype:_0xee2b[3367]}];a[_0xee2b[9]](arguments);a[_0xee2b[3368]]=a[_0xee2b[3368]]||[Ext[_0xee2b[8]]({xtype:_0xee2b[3369]},a[_0xee2b[3370]]||{})];Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[3368]],function(c){Ext[_0xee2b[8]](c,{timeAxis:a[_0xee2b[1795]],timeAxisViewModel:a[_0xee2b[810]],cellTopBorderWidth:a[_0xee2b[2584]],cellBottomBorderWidth:a[_0xee2b[2848]]})});a[_0xee2b[3371]]=[Ext[_0xee2b[8]]({xtype:_0xee2b[3369],width:60,timeAxis:a[_0xee2b[1795]],timeAxisViewModel:a[_0xee2b[810]],cellTopBorderWidth:a[_0xee2b[2584]],cellBottomBorderWidth:a[_0xee2b[2848]]},a[_0xee2b[3372]]||a[_0xee2b[3373]]||{})];if(a[_0xee2b[2539]]()){a[_0xee2b[3374]]=a[_0xee2b[3368]][_0xee2b[318]](a[_0xee2b[3375]](a[_0xee2b[2582]]||a[_0xee2b[810]][_0xee2b[2582]]));a[_0xee2b[64]]=a[_0xee2b[1795]];if(a[_0xee2b[1302]][_0xee2b[2295]]()){a[_0xee2b[1795]][_0xee2b[3376]](a[_0xee2b[1302]][_0xee2b[2856]]);a[_0xee2b[3377]]()}}else {if(a[_0xee2b[1847]]()){a[_0xee2b[3374]]=[];a[_0xee2b[64]]=null;a[_0xee2b[149]](_0xee2b[690],a[_0xee2b[3349]],a)}}},applyViewSettings:function(b,d){this[_0xee2b[9]](arguments);var c=this[_0xee2b[808]](),a;if(this[_0xee2b[3378]]===_0xee2b[1932]){a=b[_0xee2b[2679]]||60;c[_0xee2b[2833]](b[_0xee2b[2582]]||100,!0);c[_0xee2b[2811]](a,!0)}},onRender:function(){if(!this[_0xee2b[1828]]()){this[_0xee2b[3379]](!0)}this[_0xee2b[9]](arguments)},afterRender:function(){var a=this;var b=this[_0xee2b[808]]();this[_0xee2b[9]](arguments);if(this[_0xee2b[2539]]()){this[_0xee2b[3358]](null,null,this[_0xee2b[1830]][_0xee2b[290]]()[_0xee2b[859]]())}else {if(this[_0xee2b[1847]]()){this[_0xee2b[252]](this[_0xee2b[1795]],this[_0xee2b[3348]]);this[_0xee2b[252]](this[_0xee2b[1302]],this[_0xee2b[2542]]);this[_0xee2b[3380]][_0xee2b[149]](this[_0xee2b[3350]])}}if(this[_0xee2b[2829]]){b[_0xee2b[149]]({eventdragstart:this[_0xee2b[3381]],aftereventdrop:this[_0xee2b[3382]],eventresizestart:this[_0xee2b[3381]],aftereventresize:this[_0xee2b[3382]],scope:this})}if(this[_0xee2b[3234]]){b[_0xee2b[149]](_0xee2b[3257],this[_0xee2b[3383]],this)}this[_0xee2b[846]](this[_0xee2b[2256]](),[_0xee2b[3384],_0xee2b[3312],_0xee2b[760]],_0xee2b[1440]);this[_0xee2b[290]]()[_0xee2b[149]](_0xee2b[770],function(){if(!a[_0xee2b[1828]]()){a[_0xee2b[3379]]()}});var c={keydown:a[_0xee2b[3385]],keypress:a[_0xee2b[3385]],keyup:a[_0xee2b[3385]],scope:a};if(Ext[_0xee2b[3386]]){a[_0xee2b[3380]][_0xee2b[265]][_0xee2b[149]](c)}else {b[_0xee2b[265]][_0xee2b[149]](c)}b[_0xee2b[149]]({eventclick:a[_0xee2b[3387]],scope:a})},getTimeSpanDefiningStore:function(){return this[_0xee2b[1071]]},destroy:function(){var a=this;if(a[_0xee2b[3388]]){a[_0xee2b[1306]]()&&a[_0xee2b[1306]]()[_0xee2b[218]]();a[_0xee2b[1051]]()&&a[_0xee2b[1051]]()[_0xee2b[218]]();a[_0xee2b[696]]()&&a[_0xee2b[696]]()[_0xee2b[218]]();a[_0xee2b[1007]]()&&a[_0xee2b[1007]]()[_0xee2b[218]]()}a[_0xee2b[3389]]();Ext[_0xee2b[1004]](a,_0xee2b[3360]);a[_0xee2b[9]](arguments)},scrollToDateCentered:function(b,f){var a=this[_0xee2b[808]]();if(a[_0xee2b[1847]]()){var c=a[_0xee2b[2430]][_0xee2b[3214]](function(a){return a[_0xee2b[179]]<=b&&a[_0xee2b[771]]>b})[0];if(c){var e=a[_0xee2b[793]]()/2;var d=a[_0xee2b[2608]]()/2;a[_0xee2b[2838]](Math[_0xee2b[715]](c[_0xee2b[3390]]()-e,0));a[_0xee2b[2835]](Math[_0xee2b[715]](a[_0xee2b[1895]](b,!0)-d,0))}}else {return this[_0xee2b[9]](arguments)}}}},doSuspendLayouts:function(){this[_0xee2b[1795]][_0xee2b[149]]({beginreconfigure:this[_0xee2b[3391]],endreconfigure:this[_0xee2b[3392]],scope:this});this[_0xee2b[1830]][_0xee2b[2839]]();this[_0xee2b[3380]][_0xee2b[2839]]()},doResumeLayouts:function(){this[_0xee2b[1795]][_0xee2b[152]]({beginreconfigure:this[_0xee2b[3391]],endreconfigure:this[_0xee2b[3392]],scope:this});this[_0xee2b[1830]][_0xee2b[2841]]();this[_0xee2b[3380]][_0xee2b[2841]]()},onBeginReconfigure:function(){this[_0xee2b[3380]][_0xee2b[2841]]()},onEndReconfigure:function(){this[_0xee2b[3380]][_0xee2b[2839]]()},onColWidthChange:function(b,a){if(this[_0xee2b[2539]]()){this[_0xee2b[2582]]=a;this[_0xee2b[2540]]()}else {if(this[_0xee2b[1847]]()){this[_0xee2b[2733]]=a;this[_0xee2b[3349]]()}}},enableRowHeightInjection:function(c){var a=this;var b=new Ext.XTemplate(_0xee2b[3393],_0xee2b[3394],_0xee2b[3395],_0xee2b[3396],{priority:1,processCellValues:Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[3397]],a)});c[_0xee2b[3398]](b);Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[3374]],function(a){a[_0xee2b[3399]]=!0});Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[3400]],function(a){a[_0xee2b[3399]]=!0})},embedRowHeight:function(b){var e=this,a=e[_0xee2b[808]]();if(a[_0xee2b[1828]]()){var c=1;if(a[_0xee2b[2849]](b[_0xee2b[933]])){var d=b[_0xee2b[933]];var g=a[_0xee2b[2587]][_0xee2b[1931]];c=g[_0xee2b[3401]](d,function(){return a[_0xee2b[696]]()[_0xee2b[2602]](d,a[_0xee2b[1795]][_0xee2b[2601]],a[_0xee2b[1795]])})}var f=c*e[_0xee2b[2864]]()-(c-1)*a[_0xee2b[1800]]+a[_0xee2b[2584]]+a[_0xee2b[2848]]-1;b[_0xee2b[763]]=(b[_0xee2b[763]]||_0xee2b[27])+_0xee2b[3402]+f+_0xee2b[3403]}},getEventSelectionModel:function(){return this[_0xee2b[808]]()[_0xee2b[2256]]()},refreshResourceColumns:function(){var a=this[_0xee2b[2582]]||this[_0xee2b[810]][_0xee2b[2582]];this[_0xee2b[1723]](this[_0xee2b[3368]][_0xee2b[318]](this[_0xee2b[3375]](a)))},onCalendarColumnResize:function(c,b,a){if(a!==this[_0xee2b[810]][_0xee2b[2733]]){this[_0xee2b[810]][_0xee2b[2607]](a,!0)}this[_0xee2b[808]]()[_0xee2b[2430]][_0xee2b[3220]](b,c[_0xee2b[3404]][_0xee2b[147]](b))},onCalendarResourceStoreChange:function(){this[_0xee2b[808]]()[_0xee2b[2668]]()},refreshCalendarColumns:function(){var b=this[_0xee2b[3405]]();var a=this[_0xee2b[3406]]();this[_0xee2b[1723]](b,this[_0xee2b[3371]][_0xee2b[318]](a))},setGroupingFeatureDisabled:function(b){var c=this,a=c[_0xee2b[3380]][_0xee2b[829]];if(!a[_0xee2b[2310]]||a[_0xee2b[2310]][_0xee2b[144]]===b){return}a[_0xee2b[2310]][b?_0xee2b[2061]:_0xee2b[2064]]();a=c[_0xee2b[1830]][_0xee2b[829]];a[_0xee2b[2310]][b?_0xee2b[2061]:_0xee2b[2064]]()},refreshGroupingStore:function(){var a=this[_0xee2b[3380]][_0xee2b[829]][_0xee2b[2310]];if(a){a[_0xee2b[3408]][_0xee2b[3407]](this[_0xee2b[1795]])}},bindGroupingFeatureListener:function(){this[_0xee2b[252]](this[_0xee2b[1795]],_0xee2b[1723],this[_0xee2b[3409]],this,{priority:10})},unbindGroupingFeatureListener:function(){this[_0xee2b[325]](this[_0xee2b[1795]],_0xee2b[1723],this[_0xee2b[3409]])},setMode:function(b,j){var a=this;if(!a[_0xee2b[3380]]){a[_0xee2b[149]](_0xee2b[3088],function(){a[_0xee2b[1720]](b,!0)});return}var c=typeof b===_0xee2b[308]?b:b[_0xee2b[1719]];if(!c){throw new Error(_0xee2b[3410])}if(c===_0xee2b[2006]){c=_0xee2b[2430]}var d;if(b[_0xee2b[1725]]){d=[b[_0xee2b[1725]],b[_0xee2b[1138]]||null,b[_0xee2b[1139]]||null]}if(c===a[_0xee2b[1719]]&&!j){d&&a[_0xee2b[2780]][_0xee2b[8]](a,d);return}if(a[_0xee2b[180]](_0xee2b[3411],a,b)!==!1){a[_0xee2b[1719]]=c;var k=a[_0xee2b[3380]],h=a[_0xee2b[808]](),i=k[_0xee2b[1848]];a[_0xee2b[3412]]();Ext[_0xee2b[2839]]();a[_0xee2b[3389]]();a[_0xee2b[3413]]();var e=a[_0xee2b[1847]]();var f=h[_0xee2b[1847]]();if(f&&!e||!f&&e){d=d||a[_0xee2b[2801]]||[e?_0xee2b[521]:_0xee2b[2753]];a[_0xee2b[2801]]=[a[_0xee2b[1725]],a[_0xee2b[1795]][_0xee2b[697]](),a[_0xee2b[1795]][_0xee2b[698]]()]}h[_0xee2b[1720]](c);i[_0xee2b[254]](!0);a[_0xee2b[3379]]();switch(c){case _0xee2b[1931]:a[_0xee2b[3414]]();break;case _0xee2b[1932]:a[_0xee2b[3415]]();break;case _0xee2b[2430]:a[_0xee2b[3416]]();break;}d&&a[_0xee2b[2780]][_0xee2b[8]](a,d);a[_0xee2b[3417]](!1);var g=a[_0xee2b[3418]]();if(g){g[_0xee2b[3419]](c===_0xee2b[1931])}a[_0xee2b[2543]](!1);Ext[_0xee2b[2841]](!0);a[_0xee2b[180]](_0xee2b[3420],a,b)}},configureHorizontalMode:function(){var a=this;var c=a[_0xee2b[808]]();a[_0xee2b[1795]][_0xee2b[1720]](_0xee2b[1717]);a[_0xee2b[267]](a[_0xee2b[3423]])[_0xee2b[267]](a[_0xee2b[3422]])[_0xee2b[264]](a[_0xee2b[3421]]);a[_0xee2b[3356]](!1);a[_0xee2b[325]](a[_0xee2b[1302]],a[_0xee2b[2541]]);a[_0xee2b[325]](a[_0xee2b[1302]],a[_0xee2b[2542]]);a[_0xee2b[3380]][_0xee2b[152]](a[_0xee2b[3350]]);c[_0xee2b[2811]](a[_0xee2b[2864]](),!0);a[_0xee2b[1723]](a[_0xee2b[1302]],a[_0xee2b[3400]]);if(a[_0xee2b[3424]]!==null){a[_0xee2b[1830]][_0xee2b[839]](a[_0xee2b[3424]])}var b=a[_0xee2b[1302]][_0xee2b[2856]];if(b){a[_0xee2b[64]][_0xee2b[3376]](b)}a[_0xee2b[325]](a[_0xee2b[1795]],a[_0xee2b[3348]])},configureVerticalMode:function(){var a=this;var c=a[_0xee2b[808]]();a[_0xee2b[267]](a[_0xee2b[3421]])[_0xee2b[267]](a[_0xee2b[3422]])[_0xee2b[264]](a[_0xee2b[3423]]);a[_0xee2b[3356]](!0);a[_0xee2b[3380]][_0xee2b[152]](a[_0xee2b[3350]]);a[_0xee2b[325]](a[_0xee2b[1302]],a[_0xee2b[2542]]);var b=0;if(a[_0xee2b[262]]){a[_0xee2b[3424]]=a[_0xee2b[1830]][_0xee2b[793]]()}a[_0xee2b[252]](a[_0xee2b[1302]],a[_0xee2b[2541]]);a[_0xee2b[3377]]();a[_0xee2b[1723]](a[_0xee2b[1795]],a[_0xee2b[3368]][_0xee2b[318]](a[_0xee2b[3375]](a[_0xee2b[2582]]||a[_0xee2b[810]][_0xee2b[2582]])));Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[1830]][_0xee2b[2573]](_0xee2b[3425]),function(a){b+=a[_0xee2b[262]]?a[_0xee2b[793]]():a[_0xee2b[773]]||100});c[_0xee2b[2833]](a[_0xee2b[810]][_0xee2b[2582]]||100,!0);a[_0xee2b[1830]][_0xee2b[839]](b)},configureWeekViewMode:function(){var a=this;var c=a[_0xee2b[3380]],b=a[_0xee2b[808]]();a[_0xee2b[267]](a[_0xee2b[3421]])[_0xee2b[267]](a[_0xee2b[3423]])[_0xee2b[264]](a[_0xee2b[3422]]);a[_0xee2b[3356]](!0);a[_0xee2b[1795]][_0xee2b[1720]](_0xee2b[521]);a[_0xee2b[325]](a[_0xee2b[1302]],a[_0xee2b[2541]]);a[_0xee2b[252]](a[_0xee2b[1302]],a[_0xee2b[2542]]);a[_0xee2b[3380]][_0xee2b[149]](a[_0xee2b[3350]]);a[_0xee2b[3377]]();a[_0xee2b[3349]]();b[_0xee2b[2811]](a[_0xee2b[2864]](),!0);b[_0xee2b[2833]](a[_0xee2b[810]][_0xee2b[2733]]||100,!0);a[_0xee2b[252]](a[_0xee2b[1795]],a[_0xee2b[3348]])},addDockedAllDayHeader:function(){var a=this;if(a[_0xee2b[2878]]){a[_0xee2b[3426]]=a[_0xee2b[1830]][_0xee2b[3429]]({xtype:_0xee2b[2948],dock:_0xee2b[686],cls:[_0xee2b[3427],Ext[_0xee2b[238]]+_0xee2b[3428]],height:24,weight:100,html:a.L(_0xee2b[539])})[0];a[_0xee2b[2544]]=a[_0xee2b[3380]][_0xee2b[3429]]({xtype:_0xee2b[3430],height:24,weight:100,lockedHeaderPartner:a[_0xee2b[3426]],eventSelModel:a[_0xee2b[3238]]&&!a[_0xee2b[3238]][_0xee2b[3239]]?a[_0xee2b[3238]]:null,mainScheduler:a})[0]}},destroyDockedAllDayHeader:function(){var a=this;if(a[_0xee2b[3426]]){a[_0xee2b[3426]][_0xee2b[218]]();a[_0xee2b[2544]][_0xee2b[218]]();a[_0xee2b[3426]]=a[_0xee2b[2544]]=null}},reconfigureBufferedRendering:function(g){var a=this;if(a[_0xee2b[2478]]&&a[_0xee2b[262]]){var b=a[_0xee2b[1830]][_0xee2b[2478]],d=a[_0xee2b[3380]][_0xee2b[2478]],c;if(!a[_0xee2b[1828]]()){c=a[_0xee2b[1795]][_0xee2b[1466]]();a[_0xee2b[3431]]=b[_0xee2b[3432]]}else {if(a[_0xee2b[3431]]){c=a[_0xee2b[3431]];a[_0xee2b[3431]]=null}}if(!g&&b[_0xee2b[3040]]&&b[_0xee2b[3040]][_0xee2b[3433]]()){var f=a[_0xee2b[1830]][_0xee2b[829]][_0xee2b[859]](),e=Math[_0xee2b[1194]](f/b[_0xee2b[2678]])+b[_0xee2b[3434]]+c;b[_0xee2b[3435]](e,!0);d[_0xee2b[3435]](e,!0)}b[_0xee2b[3432]]=d[_0xee2b[3432]]=c}},createCalendarRows:function(){var a=this,b=a[_0xee2b[1795]][_0xee2b[3436]]();a[_0xee2b[810]][_0xee2b[2731]]=b[_0xee2b[4]];return new Ext[_0xee2b[22]].Store({model:_0xee2b[1714],data:b})},createCalendarColumns:function(){var a=this,c=a[_0xee2b[1795]],b=c[_0xee2b[875]][_0xee2b[753]],d=[],e;var g=a[_0xee2b[1119]]=c[_0xee2b[1119]];var f=a[_0xee2b[1121]]=c[_0xee2b[1121]];c[_0xee2b[25]](function(j){var c=j[_0xee2b[712]]();if(e!==c[_0xee2b[484]]()){e=c[_0xee2b[484]]();c[_0xee2b[1155]](g);var i=new Date(c);i[_0xee2b[1155]](f);var h={xclass:a[_0xee2b[3437]],renderer:a[_0xee2b[2551]],scope:a,start:c,end:i};if(b[_0xee2b[878]]){h[_0xee2b[3438]]=b[_0xee2b[878]][_0xee2b[293]](b[_0xee2b[689]]||a,c,i,h,d[_0xee2b[4]],a[_0xee2b[696]]())}else {h[_0xee2b[3438]]=Ext[_0xee2b[703]][_0xee2b[880]](c,b[_0xee2b[879]])}d[_0xee2b[11]](h)}});a[_0xee2b[810]][_0xee2b[3439]](d);return d},onNormalViewItemUpdate:function(b){if(this[_0xee2b[3234]]){var a=this[_0xee2b[1830]][_0xee2b[290]]();a[_0xee2b[453]]();a[_0xee2b[2323]](a[_0xee2b[147]](b));if(this[_0xee2b[2472]]){this[_0xee2b[3440]]()}a[_0xee2b[455]]()}},onLockedViewResize:function(d,c,a,e,b){if(!this[_0xee2b[1828]]()&&a!==b){this[_0xee2b[810]][_0xee2b[724]](a-21)}},setRowHeight:function(b,a){a=a||!this[_0xee2b[1830]];this[_0xee2b[2808]]=!1;this[_0xee2b[810]][_0xee2b[2895]](b,a)},handleTimelineKeyEvent:function(b){var e=this,a=e[_0xee2b[808]](),d=a[_0xee2b[2256]](),c=d[_0xee2b[3314]]();if(c[_0xee2b[4]]){a[_0xee2b[180]](a[_0xee2b[3092]]+b[_0xee2b[249]],a,c[_0xee2b[204]](),b)}},handleTimelineEventClick:function(){if(Ext[_0xee2b[3386]]){this[_0xee2b[3380]][_0xee2b[265]][_0xee2b[3210]]()}else {this[_0xee2b[808]]()[_0xee2b[265]][_0xee2b[3210]]()}}});Ext[_0xee2b[6]](_0xee2b[3441],{extend:_0xee2b[1878],alias:_0xee2b[3442],mixins:[_0xee2b[665]],requires:[_0xee2b[1716]],updateInterval:60000,showHeaderElements:!0,autoUpdate:!0,expandToFitView:!0,timer:null,init:function(b){var a=this;if(Ext[_0xee2b[2009]](_0xee2b[722])){a[_0xee2b[1820]]=!1}a[_0xee2b[64]]=new Ext[_0xee2b[22]].JsonStore({autoDestroy:!0,fields:[_0xee2b[703],_0xee2b[1109],_0xee2b[1889]],data:[{Date:new Date(),Cls:_0xee2b[3443],Text:a.L(_0xee2b[3444])}]});if(a[_0xee2b[3445]]){a[_0xee2b[1487]]=setInterval(function(){a[_0xee2b[3446]]()},a[_0xee2b[3447]])}a[_0xee2b[3446]]();a[_0xee2b[9]](arguments)},updateDate:function(){var b=this,a=b[_0xee2b[64]][_0xee2b[572]]();a[_0xee2b[50]](_0xee2b[703],new Date())},destroy:function(){var a=this;clearInterval(a[_0xee2b[1487]]);a[_0xee2b[1487]]=null;if(a[_0xee2b[64]][_0xee2b[1875]]){a[_0xee2b[64]][_0xee2b[218]]()}a[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[3448],{extend:_0xee2b[957],target:_0xee2b[2981],minVersion:_0xee2b[2836],overrides:{scrollTo:function(){if(this[_0xee2b[3449]]&&!this[_0xee2b[3449]]()){if(Sch[_0xee2b[1818]][_0xee2b[3450]]&&this[_0xee2b[2948]] instanceof Sch[_0xee2b[1818]][_0xee2b[3450]]||Sch[_0xee2b[1818]][_0xee2b[3451]]&&this[_0xee2b[2948]] instanceof Sch[_0xee2b[1818]][_0xee2b[3451]]){return}}return this[_0xee2b[9]](arguments)}}});Ext[_0xee2b[6]](_0xee2b[3452],{extend:_0xee2b[2488],alias:_0xee2b[3453],alternateClassName:_0xee2b[3454],requires:[_0xee2b[109],_0xee2b[1198]],expandToFitView:!0,calendar:{type:_0xee2b[2006]},timeAxis:null,init:function(a){this[_0xee2b[2006]]=this[_0xee2b[2006]]&&Ext[_0xee2b[1072]][_0xee2b[131]](this[_0xee2b[2006]]);if(!this[_0xee2b[2006]]){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3455])}this[_0xee2b[64]]=new Ext[_0xee2b[22]].Store({model:_0xee2b[1198],autoDestroy:!0});this[_0xee2b[1795]]=a[_0xee2b[695]]();this[_0xee2b[9]](arguments);if(a[_0xee2b[1847]]()){a[_0xee2b[3380]][_0xee2b[1848]][_0xee2b[149]](_0xee2b[833],this[_0xee2b[2946]],this)}else {a[_0xee2b[149]](_0xee2b[2804],this[_0xee2b[2946]],this)}this[_0xee2b[3456]](this[_0xee2b[2006]])},bindCalendar:function(a){var b={datachanged:this[_0xee2b[770]],update:this[_0xee2b[770]],scope:this,delay:1};if(this[_0xee2b[2006]]){this[_0xee2b[2006]][_0xee2b[152]](b)}if(a){a[_0xee2b[149]](b)}this[_0xee2b[2006]]=a;this[_0xee2b[770]]()},onViewReady:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[1817]][_0xee2b[1847]]()){this[_0xee2b[1843]]();this[_0xee2b[1846]]={}}},onViewChange:function(){var b=Sch[_0xee2b[49]][_0xee2b[703]];var a=b[_0xee2b[3457]](this[_0xee2b[1795]][_0xee2b[1734]],b.WEEK);this[_0xee2b[253]](a);if(!a){this[_0xee2b[770]]()}},setDisabled:function(b){var a=this[_0xee2b[144]];this[_0xee2b[9]](arguments);if(a&&!b){this[_0xee2b[770]]()}},refresh:function(){if(this[_0xee2b[64]]&&!this[_0xee2b[64]][_0xee2b[458]]){this[_0xee2b[64]][_0xee2b[254]](!0);if(this[_0xee2b[2006]]){this[_0xee2b[64]][_0xee2b[255]](this[_0xee2b[2006]][_0xee2b[3458]](this[_0xee2b[1795]][_0xee2b[697]](),this[_0xee2b[1795]][_0xee2b[698]](),!0))}}},destroy:function(){this[_0xee2b[3456]](null);this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[3459],{extend:_0xee2b[2799],requires:[_0xee2b[814],_0xee2b[2683],_0xee2b[1209],_0xee2b[3441],_0xee2b[2463],_0xee2b[3448],_0xee2b[3452],_0xee2b[3460]],uses:[_0xee2b[3461],_0xee2b[3462],_0xee2b[3463],_0xee2b[3464],_0xee2b[3465],_0xee2b[3466],_0xee2b[3467],_0xee2b[3468],_0xee2b[3469],_0xee2b[3470],_0xee2b[3452]],mixins:[_0xee2b[2747],_0xee2b[2939]],destroyStores:!1,bufferCoef:5,bufferThreshold:0.2,infiniteScroll:!1,showCrudManagerMask:!0,highlightWeekends:!1,zoomOnTimeAxisDoubleClick:!0,switchToDayViewOnWeekDayHeaderDblClick:!0,waitingForAutoTimeSpan:!1,showTodayLine:!1,calendar:null,horizontalTimeAxisColumnCfg:null,columnLinesFeature:null,renderWaitListener:null,enablePinchZoom:!0,schedulePinchThreshold:30,pinchStartDistanceX:null,pinchStartDistanceY:null,pinchDistanceX:null,pinchDistanceY:null,horizontalColumns:null,forceDefineTimeSpanByStore:!1,workingTimePlugin:null,split:!0,refreshSuspensionCount:0,tipCfg:{cls:_0xee2b[3471],showDelay:400,hideDelay:0,constrain:!0,autoHide:!0,anchor:_0xee2b[3047]},inheritables:function(){return {columnLines:!0,enableLocking:!0,lockable:!0,stateEvents:[_0xee2b[2804]],syncRowHeight:!1,layout:_0xee2b[3472],initComponent:function(){if(this[_0xee2b[2940]]){if(typeof this[_0xee2b[2940]]===_0xee2b[308]){this[_0xee2b[2940]]=Ext[_0xee2b[800]](this[_0xee2b[2940]])}this[_0xee2b[810]]=this[_0xee2b[2940]][_0xee2b[810]];this[_0xee2b[1795]]=this[_0xee2b[2940]][_0xee2b[695]]();this[_0xee2b[1138]]=this[_0xee2b[1795]][_0xee2b[697]]();this[_0xee2b[1139]]=this[_0xee2b[1795]][_0xee2b[698]]()}this._initializeTimelinePanel();this[_0xee2b[3473]]();this[_0xee2b[2715]]=!1;this[_0xee2b[3474]](this[_0xee2b[3374]]);if(Ext[_0xee2b[2009]]()[_0xee2b[964]](_0xee2b[3475])){this[_0xee2b[3476]]=Ext[_0xee2b[8]](this[_0xee2b[3476]]||{},{componentLayout:_0xee2b[3477]})}var g=this[_0xee2b[3346]]=this[_0xee2b[3346]]||{};var f=this[_0xee2b[32]]();Ext[_0xee2b[8]](this[_0xee2b[3346]],{id:f+_0xee2b[3478],eventPrefix:this[_0xee2b[3346]][_0xee2b[2560]]||(this[_0xee2b[3479]]?null:f),timeAxisViewModel:this[_0xee2b[810]],eventBorderWidth:this[_0xee2b[2577]],timeAxis:this[_0xee2b[1795]],readOnly:this[_0xee2b[2887]],mode:this[_0xee2b[1719]],rtl:this[_0xee2b[1855]],cellBorderWidth:this[_0xee2b[2583]],cellTopBorderWidth:this[_0xee2b[2584]],cellBottomBorderWidth:this[_0xee2b[2848]],infiniteScroll:this[_0xee2b[2829]],bufferCoef:this[_0xee2b[3145]],bufferThreshold:this[_0xee2b[3144]]});Ext[_0xee2b[1054]](g,this,[_0xee2b[2645],_0xee2b[2644],_0xee2b[3268],_0xee2b[3261],_0xee2b[3270],_0xee2b[3082],_0xee2b[2077],_0xee2b[2622],_0xee2b[3263],_0xee2b[3269],_0xee2b[3272],_0xee2b[3262],_0xee2b[3271],_0xee2b[3110],_0xee2b[2060]],!0);this[_0xee2b[9]](arguments);this[_0xee2b[1830]][_0xee2b[829]][_0xee2b[264]](_0xee2b[3480]);if(this[_0xee2b[1855]]){this[_0xee2b[1830]][_0xee2b[829]][_0xee2b[264]](_0xee2b[3481]);this[_0xee2b[264]](_0xee2b[3482])}else {this[_0xee2b[264]](_0xee2b[3483])}var e=this[_0xee2b[3484]]=[][_0xee2b[318]](this[_0xee2b[3484]]||[]);if(this[_0xee2b[3485]]){var a=this[_0xee2b[1296]]();a=a&&Ext[_0xee2b[1072]][_0xee2b[131]](a)||new Sch[_0xee2b[22]].Calendar();this[_0xee2b[3486]]=new Sch[_0xee2b[3362]].NonWorkingTime({calendar:a});this[_0xee2b[810]][_0xee2b[2087]](a);e[_0xee2b[11]](this[_0xee2b[3486]]);this[_0xee2b[264]](_0xee2b[3487])}if(this[_0xee2b[3488]]){this[_0xee2b[3489]]=new Sch[_0xee2b[3362]].CurrentTimeLine();e[_0xee2b[11]](this[_0xee2b[3489]])}this[_0xee2b[3490]](this);if(Ext[_0xee2b[1952]][_0xee2b[1951]]){this[_0xee2b[810]][_0xee2b[149]](_0xee2b[724],this[_0xee2b[3491]],this)}this[_0xee2b[2780]](this[_0xee2b[1725]],this[_0xee2b[1138]]||this[_0xee2b[1795]][_0xee2b[697]](),this[_0xee2b[1139]]||this[_0xee2b[1795]][_0xee2b[698]](),!0);if(!this[_0xee2b[1138]]){var d=this[_0xee2b[312]];if(d&&!d[_0xee2b[106]]){this[_0xee2b[3492]]()}else {var b=this[_0xee2b[3493]]();if(b[_0xee2b[234]]?b[_0xee2b[230]]()&&b[_0xee2b[230]]()[_0xee2b[925]][_0xee2b[4]]:b[_0xee2b[1466]]()){this[_0xee2b[3494]]()}else {if(b[_0xee2b[233]]()||this[_0xee2b[3495]]){this[_0xee2b[3492]]()}}}}var c=this[_0xee2b[3496]];if(c){this[_0xee2b[3497]]=new Sch[_0xee2b[822]].ColumnLines(Ext[_0xee2b[135]](c)?c:undefined);this[_0xee2b[3497]][_0xee2b[1809]](this);this[_0xee2b[3496]]=!0}this[_0xee2b[846]](this[_0xee2b[808]](),[_0xee2b[3080],_0xee2b[3498],_0xee2b[3499],_0xee2b[3500],_0xee2b[3501],_0xee2b[3502],_0xee2b[3503],_0xee2b[3504]]);this[_0xee2b[149]](_0xee2b[2781],function(){this[_0xee2b[3380]][_0xee2b[3293]][_0xee2b[1499]]()});if(this[_0xee2b[312]]){if(!this[_0xee2b[312]][_0xee2b[65]]&&this[_0xee2b[3505]]){this[_0xee2b[252]](this[_0xee2b[312]],{beforesend:this[_0xee2b[3506]],synccanceled:this[_0xee2b[3507]],loadcanceled:this[_0xee2b[3507]],load:this[_0xee2b[3507]],sync:this[_0xee2b[3507]],requestfail:this[_0xee2b[3507]],scope:this});if(this[_0xee2b[312]][_0xee2b[233]]()){this[_0xee2b[3506]](this[_0xee2b[312]],null,_0xee2b[302])}}this[_0xee2b[252]](this[_0xee2b[312]],{beforeloadapply:this[_0xee2b[3508]],load:this[_0xee2b[3509]],scope:this})}if(Ext[_0xee2b[962]]){this[_0xee2b[3510]](this)}this[_0xee2b[3511]]()},refreshHeaderContainerScrollable:function(){var a=this[_0xee2b[808]]()[_0xee2b[1848]][_0xee2b[1941]]();if(!a){return}if(Ext[_0xee2b[2009]]()[_0xee2b[968]](_0xee2b[3134])){var b=a[_0xee2b[3512]];a[_0xee2b[3512]]=!0;a[_0xee2b[770]]();a[_0xee2b[3513]]();a[_0xee2b[3512]]=b}else {a[_0xee2b[770]]()}},getState:function(){var a=this,b=a[_0xee2b[9]](arguments);Ext[_0xee2b[8]](b,{viewPreset:a[_0xee2b[1725]],startDate:a[_0xee2b[697]](),endDate:a[_0xee2b[698]](),zoomMinLevel:a[_0xee2b[3514]],zoomMaxLevel:a[_0xee2b[3515]],currentZoomLevel:a[_0xee2b[3516]]});return b},applyState:function(a){var b=this;b[_0xee2b[9]](arguments);if(a&&a[_0xee2b[1725]]){b[_0xee2b[2780]](a[_0xee2b[1725]],a[_0xee2b[1138]],a[_0xee2b[1139]])}if(a&&a[_0xee2b[3516]]){b[_0xee2b[2772]](a[_0xee2b[3516]])}},setTimeSpan:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[3517]]){this[_0xee2b[3518]](!1);this[_0xee2b[290]]()[_0xee2b[770]]()}if(!this[_0xee2b[3380]][_0xee2b[290]]()[_0xee2b[2366]]){this[_0xee2b[290]]()[_0xee2b[770]]()}},onBoxReady:function(){var a=this;a[_0xee2b[9]](arguments);if(a[_0xee2b[2940]]){if(a[_0xee2b[2940]][_0xee2b[262]]){a[_0xee2b[3519]](a[_0xee2b[2940]])}else {a[_0xee2b[2940]][_0xee2b[149]](_0xee2b[2046],a[_0xee2b[3519]],a)}}a[_0xee2b[3380]][_0xee2b[149]]({collapse:a[_0xee2b[3520]],expand:a[_0xee2b[3521]],scope:a});a[_0xee2b[3380]][_0xee2b[1848]][_0xee2b[265]][_0xee2b[149]]({click:a[_0xee2b[3522]],dblclick:a[_0xee2b[3522]],contextmenu:a[_0xee2b[3522]],delegate:_0xee2b[3523],scope:a});a[_0xee2b[1830]][_0xee2b[149]]({collapse:a[_0xee2b[3524]],expand:a[_0xee2b[3525]],scope:a});a[_0xee2b[1830]][_0xee2b[149]]({itemdblclick:a[_0xee2b[3526]],scope:a});if(a[_0xee2b[3527]]&&Ext[_0xee2b[1952]][_0xee2b[1951]]){this[_0xee2b[808]]()[_0xee2b[149]]({schedulepinchstart:this[_0xee2b[3528]],schedulepinch:this[_0xee2b[3529]],schedulepinchend:this[_0xee2b[3530]],scope:this})}}}},scrollToDate:function(b,d){var a=this[_0xee2b[808]]();if(a[_0xee2b[1847]]()){var c=a[_0xee2b[2430]][_0xee2b[3214]](function(a){return a[_0xee2b[179]]<=b&&a[_0xee2b[771]]>b})[0];if(c){a[_0xee2b[2838]](c[_0xee2b[3390]]());a[_0xee2b[2835]](a[_0xee2b[1895]](b,!0))}}else {return this[_0xee2b[9]](arguments)}},bindAutoTimeSpanListeners:function(){var a=this[_0xee2b[3493]]();this[_0xee2b[3517]]=!0;this[_0xee2b[3412]]();this[_0xee2b[252]](a,_0xee2b[302],this[_0xee2b[3494]],this);if(a[_0xee2b[234]]){this[_0xee2b[252]](a,_0xee2b[3531],this[_0xee2b[3494]],this);this[_0xee2b[252]](a,_0xee2b[3532],this[_0xee2b[3533]],this)}else {this[_0xee2b[252]](a,_0xee2b[255],this[_0xee2b[3494]],this)}},getTimeSpanDefiningStore:function(){throw _0xee2b[3534]},unbindAutoTimeSpanListeners:function(b){this[_0xee2b[3517]]=!1;var a=this[_0xee2b[3493]]();this[_0xee2b[3417]](b);a[_0xee2b[152]](_0xee2b[302],this[_0xee2b[3494]],this);if(a[_0xee2b[234]]){a[_0xee2b[152]](_0xee2b[3531],this[_0xee2b[3494]],this);a[_0xee2b[152]](_0xee2b[3532],this[_0xee2b[3533]],this)}else {a[_0xee2b[152]](_0xee2b[255],this[_0xee2b[3494]],this)}},applyStartEndDatesAfterTreeAppend:function(){var a=this[_0xee2b[3493]]();if(!a[_0xee2b[1713]]&&!a[_0xee2b[389]]){this[_0xee2b[3494]]()}},applyStartEndDatesFromStore:function(){var b=this[_0xee2b[3493]]();var a=b[_0xee2b[3535]]();if(a[_0xee2b[771]]&&a[_0xee2b[179]]&&a[_0xee2b[771]]-a[_0xee2b[179]]===0){a[_0xee2b[179]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a[_0xee2b[179]],this[_0xee2b[1795]][_0xee2b[1747]],-1);a[_0xee2b[771]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a[_0xee2b[771]],this[_0xee2b[1795]][_0xee2b[1747]],1)}this[_0xee2b[1756]](a[_0xee2b[179]]||new Date(),a[_0xee2b[771]])},onLockedGridItemDblClick:function(e,a,d,b,c){if(this[_0xee2b[2539]]()&&a){this[_0xee2b[180]](_0xee2b[842],this,a[_0xee2b[55]](_0xee2b[179]),a[_0xee2b[55]](_0xee2b[771]),b,c)}},onHeaderClick:function(a,g){var c=a[_0xee2b[2033]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3536]);var f=[][_0xee2b[147]][_0xee2b[293]](c[_0xee2b[791]][_0xee2b[925]],c);var b=this[_0xee2b[3380]][_0xee2b[1863]]()[f];if(Sch[_0xee2b[2963]][_0xee2b[3537]]&&b instanceof Sch[_0xee2b[2963]][_0xee2b[3537]]){var d=b[_0xee2b[179]];var e=b[_0xee2b[771]];this[_0xee2b[180]](_0xee2b[779]+a[_0xee2b[249]],this,d,e,a);if(a[_0xee2b[249]]===_0xee2b[743]&&this[_0xee2b[3538]]){this[_0xee2b[2780]](_0xee2b[524],d)}}},getSchedulingView:function(){return this[_0xee2b[3380]]&&this[_0xee2b[3380]][_0xee2b[829]]},getHorizontalTimeAxisColumn:function(){var a=this[_0xee2b[808]]();return a&&a[_0xee2b[1829]]()},configureColumns:function(a){var b=[];var c=[];a=a||[];if(a[_0xee2b[266]]){this[_0xee2b[3374]]=Ext[_0xee2b[8]]({},this[_0xee2b[3374]]);a=this[_0xee2b[3374]][_0xee2b[266]]=a[_0xee2b[266]][_0xee2b[191]]()}else {a=this[_0xee2b[3374]]=a[_0xee2b[191]]()}Ext[_0xee2b[26]][_0xee2b[25]](a,function(d){if(d[_0xee2b[1780]]===_0xee2b[867]||d[_0xee2b[3539]]===!1){if(!Ext[_0xee2b[789]](d[_0xee2b[773]])){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3540])}d[_0xee2b[3539]]=!1;c[_0xee2b[11]](d)}else {d[_0xee2b[3539]]=!0;b[_0xee2b[11]](d)}d[_0xee2b[3541]]=!1});if(a[_0xee2b[4]]===0){this[_0xee2b[496]]=!1}Ext[_0xee2b[26]][_0xee2b[3542]](a,0,a[_0xee2b[4]]);Ext[_0xee2b[26]][_0xee2b[69]](a,0,b[_0xee2b[318]](Ext[_0xee2b[8]]({xtype:_0xee2b[3112],timeAxisViewModel:this[_0xee2b[810]],trackHeaderOver:this[_0xee2b[736]],renderer:this[_0xee2b[2551]],variableRowHeight:this[_0xee2b[3543]],scope:this},this[_0xee2b[3544]]||{}))[_0xee2b[318]](c));this[_0xee2b[3400]]=a[_0xee2b[191]]()},mainRenderer:function(i,a,k,j,g){var e=this[_0xee2b[2807]],h=this[_0xee2b[2539]]()?this[_0xee2b[1007]]()[_0xee2b[1752]](g):k,f=_0xee2b[2303];a[_0xee2b[2678]]=null;for(var b=0;b<e[_0xee2b[4]];b++){f+=e[b][_0xee2b[1491]][_0xee2b[293]](e[b][_0xee2b[689]]||this,i,a,h,j,g)||_0xee2b[27]}if(this[_0xee2b[3543]]){var c=this[_0xee2b[808]]();var d=a[_0xee2b[2678]]||this[_0xee2b[2864]]();if(c[_0xee2b[1828]]()){d+=c[_0xee2b[2584]]+c[_0xee2b[2848]]-(c[_0xee2b[2004]]?0:1)}else {d-=1}a[_0xee2b[763]]=_0xee2b[871]+d+_0xee2b[804]}return f},onNormalGridCollapse:function(){var a=this;if(!a[_0xee2b[3380]][_0xee2b[3545]]){a[_0xee2b[3380]][_0xee2b[3545]]=a[_0xee2b[3380]][_0xee2b[3546]]}if(!a[_0xee2b[1830]][_0xee2b[262]]){a[_0xee2b[1830]][_0xee2b[149]](_0xee2b[748],a[_0xee2b[3520]],a,{delay:1})}else {a[_0xee2b[1830]][_0xee2b[3547]]=a[_0xee2b[1830]][_0xee2b[793]]();if(a[_0xee2b[1830]][_0xee2b[2469]]){a[_0xee2b[1830]][_0xee2b[103]]()}a[_0xee2b[1830]][_0xee2b[839]](a[_0xee2b[793]]()-a[_0xee2b[3380]][_0xee2b[3548]]()[_0xee2b[793]]());a[_0xee2b[264]](_0xee2b[3549])}},onNormalGridExpand:function(){this[_0xee2b[267]](_0xee2b[3549])},onLockedGridCollapse:function(){var a=this;if(a[_0xee2b[3380]][_0xee2b[2469]]){a[_0xee2b[3380]][_0xee2b[103]]()}},onLockedGridExpand:function(){if(this[_0xee2b[1830]][_0xee2b[3547]]){this[_0xee2b[1830]][_0xee2b[839]](this[_0xee2b[1830]][_0xee2b[3547]])}},beforeCrudOperationStart:function(b,c,a){if(this[_0xee2b[262]]){this[_0xee2b[3551]]({msg:a===_0xee2b[302]?this.L(_0xee2b[3232]):this.L(_0xee2b[3550])})}else {Ext[_0xee2b[218]](this[_0xee2b[3552]]);this[_0xee2b[3552]]=this[_0xee2b[149]](_0xee2b[748],Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[3506]],this,Array[_0xee2b[139]][_0xee2b[191]][_0xee2b[8]](arguments)),this,{delay:1,destroyable:!0})}},onCrudBeforeLoad:function(){this[_0xee2b[3412]]()},onCrudLoad:function(){this[_0xee2b[3417]](!0)},onCrudOperationComplete:function(){Ext[_0xee2b[218]](this[_0xee2b[3552]]);this[_0xee2b[3551]](!1)},onSchedulePinchStart:function(b,a){this[_0xee2b[3553]]=Math[_0xee2b[1524]](a[_0xee2b[1972]][0][_0xee2b[3554]]-a[_0xee2b[1972]][1][_0xee2b[3554]]);this[_0xee2b[3555]]=Math[_0xee2b[1524]](a[_0xee2b[1972]][0][_0xee2b[3556]]-a[_0xee2b[1972]][1][_0xee2b[3556]])},onSchedulePinch:function(b,a){this[_0xee2b[3557]]=Math[_0xee2b[1524]](a[_0xee2b[1972]][0][_0xee2b[3554]]-a[_0xee2b[1972]][1][_0xee2b[3554]]);this[_0xee2b[3558]]=Math[_0xee2b[1524]](a[_0xee2b[1972]][0][_0xee2b[3556]]-a[_0xee2b[1972]][1][_0xee2b[3556]])},onSchedulePinchEnd:function(b){var a=this[_0xee2b[3557]];var d=this[_0xee2b[3558]];var e=this[_0xee2b[1828]]();if(Math[_0xee2b[1524]](a-this[_0xee2b[3553]])>this[_0xee2b[3559]]){var c=Math[_0xee2b[1524]](a/this[_0xee2b[3553]]);if(e){c>1?this[_0xee2b[2798]]():this[_0xee2b[2797]]()}else {this[_0xee2b[810]][_0xee2b[2607]](c*this[_0xee2b[810]][_0xee2b[2582]])}}if(Math[_0xee2b[1524]](d-this[_0xee2b[3555]])>this[_0xee2b[3559]]){var f=Math[_0xee2b[1524]](d/this[_0xee2b[3555]]);b[_0xee2b[2811]](b[_0xee2b[2864]]()*f)}this[_0xee2b[3553]]=this[_0xee2b[3555]]=this[_0xee2b[3557]]=this[_0xee2b[3558]]=null},patchNavigationModel:function(c){c[_0xee2b[290]]()[_0xee2b[2970]]()[_0xee2b[3560]]=function(a){a[_0xee2b[264]](this[_0xee2b[3561]]);if((Ext[_0xee2b[960]]||Ext[_0xee2b[1953]])&&!a[_0xee2b[3562]](_0xee2b[473])||!(Ext[_0xee2b[960]]||Ext[_0xee2b[1953]])&&c[_0xee2b[1828]]()){a[_0xee2b[3210]]()}};var b=c[_0xee2b[1830]][_0xee2b[290]]();var a=c[_0xee2b[3380]][_0xee2b[290]]();b[_0xee2b[149]](_0xee2b[3563],function(f,b,e,d){if(a[_0xee2b[3205]]){a[_0xee2b[3205]][_0xee2b[3564]]=d;a[_0xee2b[3205]][_0xee2b[933]]=b}else {if(Ext[_0xee2b[960]]){a[_0xee2b[3205]]=this[_0xee2b[3205]]}}});a[_0xee2b[149]](_0xee2b[3563],function(f,a,e,d){if(b[_0xee2b[3205]]){b[_0xee2b[3205]][_0xee2b[3564]]=d;b[_0xee2b[3205]][_0xee2b[933]]=a}else {if(Ext[_0xee2b[960]]){b[_0xee2b[3205]]=this[_0xee2b[3205]]}}})},patchHeaderScrollSync:function(a){function _0x8e22x3(){var c=a[_0xee2b[3380]]||a,b=c[_0xee2b[3565]]();if(a[_0xee2b[262]]&&b&&b[_0xee2b[1941]]()){b[_0xee2b[1941]]()[_0xee2b[3566]]()}}function _0x8e22x4(){a[_0xee2b[3567]]&&Ext[_0xee2b[218]](a[_0xee2b[3567]]);a[_0xee2b[3567]]=a[_0xee2b[64]]&&a[_0xee2b[252]](a[_0xee2b[64]],{nodeexpand:_0x8e22x3,nodecollapse:_0x8e22x3,buffer:1,destroyable:!0})}_0x8e22x4();a[_0xee2b[149]](_0xee2b[3568],_0x8e22x4)},configureChildGrids:function(){var a=this;a[_0xee2b[3569]]=Ext[_0xee2b[8]]({},a[_0xee2b[3569]]||{});a[_0xee2b[3570]]=Ext[_0xee2b[8]]({},a[_0xee2b[3571]]||a[_0xee2b[3570]]||{});var b=a[_0xee2b[3569]],c=a[_0xee2b[3570]];if(a[_0xee2b[3572]]){b[_0xee2b[3573]]=a[_0xee2b[3572]]}if(a[_0xee2b[3574]]){c[_0xee2b[3573]]=a[_0xee2b[3574]]}Ext[_0xee2b[330]](b,{useArrows:!0,animCollapse:!1,collapseDirection:_0xee2b[1354],trackMouseOver:!1});Ext[_0xee2b[330]](c,{viewType:a[_0xee2b[3575]],enableColumnMove:!1,enableColumnResize:!1,enableColumnHide:!1,trackMouseOver:!1,collapseDirection:_0xee2b[867],collapseMode:_0xee2b[3546],animCollapse:!1});if(a[_0xee2b[2539]]()){b[_0xee2b[64]]=c[_0xee2b[64]]=a[_0xee2b[1795]]}if(b[_0xee2b[773]]){a[_0xee2b[3576]]=Ext[_0xee2b[688]];b[_0xee2b[1978]]=Ext[_0xee2b[1952]][_0xee2b[1951]]?_0xee2b[1911]:_0xee2b[1931];b[_0xee2b[3577]]=!0}},afterInitComponent:function(){var a=this;var c=a[_0xee2b[1830]][_0xee2b[290]]();var e=a[_0xee2b[3380]][_0xee2b[290]]();var d=a[_0xee2b[64]]&&a[_0xee2b[64]][_0xee2b[234]];if(a[_0xee2b[3380]][_0xee2b[2469]]){a[_0xee2b[3380]][_0xee2b[2469]]=!1;e[_0xee2b[149]](_0xee2b[2046],function(){a[_0xee2b[3380]][_0xee2b[104]]()},a,{delay:10})}if(a[_0xee2b[1830]][_0xee2b[2469]]){a[_0xee2b[1830]][_0xee2b[2469]]=!1;c[_0xee2b[149]](_0xee2b[2046],function(){a[_0xee2b[1830]][_0xee2b[104]]()},a,{delay:10});if(c[_0xee2b[2478]]){c[_0xee2b[2478]][_0xee2b[144]]=!0}}if(d){this[_0xee2b[3578]]()}var b=this[_0xee2b[3418]]();if(b){b[_0xee2b[264]](_0xee2b[3579]);b[_0xee2b[3419]](this[_0xee2b[1828]]())}if(Ext[_0xee2b[723]][_0xee2b[965]][_0xee2b[966]](_0xee2b[2836])){this[_0xee2b[3380]][_0xee2b[149]](_0xee2b[3580],this[_0xee2b[3581]],this)}if(this[_0xee2b[3582]]){this[_0xee2b[149]](_0xee2b[842],function(c,b,a){if(this[_0xee2b[1828]]()){this[_0xee2b[2786]]({start:b,end:a})}})}},onNormalGridCellClick:function(f,d,i,g,h,b,c){if(d[_0xee2b[1868]][_0xee2b[2249]](_0xee2b[473])){var a=this[_0xee2b[3583]]();var e=c[_0xee2b[2794]]&&a[_0xee2b[2597]](b);if(e){a[_0xee2b[3312]](b)}else {a[_0xee2b[760]](b,c[_0xee2b[2794]])}}},getSplitter:function(){return this[_0xee2b[3585]](_0xee2b[3584])},setupLockableFilterableTree:function(){var c=this;var a=c[_0xee2b[1830]][_0xee2b[290]]();var b=Sch[_0xee2b[1637]][_0xee2b[3586]][_0xee2b[139]];a[_0xee2b[1711]]=b[_0xee2b[1711]];a[_0xee2b[2904]]=b[_0xee2b[2904]];a[_0xee2b[2905]]=b[_0xee2b[2905]];a[_0xee2b[2907]]=b[_0xee2b[2907]];a[_0xee2b[2908]]=b[_0xee2b[2908]];a[_0xee2b[1711]]()},showMenuBy:function(f,e){var a=this[_0xee2b[2289]](),b=a[_0xee2b[861]](_0xee2b[3587]),d=a[_0xee2b[861]](_0xee2b[3588]),c=b[_0xee2b[3589]]();c[_0xee2b[256]]();b[_0xee2b[256]]();d[_0xee2b[256]]()},zoomToFit:function(a){a=Ext[_0xee2b[8]]({adjustStart:1,adjustEnd:1},a);var c=this[_0xee2b[696]]();var b=this[_0xee2b[696]]()[_0xee2b[3535]]();if(this[_0xee2b[2786]](b,a)===null){this[_0xee2b[808]]()[_0xee2b[3590]]()}},refreshViews:function(f){if(!this[_0xee2b[262]]){return}var c=!1;var e=function(){c=!0};var b=this[_0xee2b[3380]][_0xee2b[290]]();var a=this[_0xee2b[1830]][_0xee2b[290]](),d={left:a[_0xee2b[1920]](),top:b[_0xee2b[1922]]()};b[_0xee2b[149]](_0xee2b[770],e);a[_0xee2b[2668]]();b[_0xee2b[152]](_0xee2b[770],e);if(f!==!1){!c&&this[_0xee2b[808]]()[_0xee2b[2669]]();a[_0xee2b[3153]](d[_0xee2b[1354]]);a[_0xee2b[3591]](d[_0xee2b[686]])}else {if(!c){this[_0xee2b[808]]()[_0xee2b[2668]]()}}},getCalendar:function(){return this[_0xee2b[2006]]},disableWeekendHighlighting:function(a){this[_0xee2b[3486]][_0xee2b[253]](a);if(a){this[_0xee2b[267]](_0xee2b[3487])}else {this[_0xee2b[264]](_0xee2b[3487])}},preventRefresh:function(){return !1},suspendRefresh:function(){var a=this;if(a[_0xee2b[3592]]++===0){a[_0xee2b[290]]()[_0xee2b[149]](_0xee2b[3593],a[_0xee2b[3594]],a);a[_0xee2b[3380]][_0xee2b[829]][_0xee2b[2910]]=!0;a[_0xee2b[1830]][_0xee2b[829]][_0xee2b[2910]]=!0}},resumeRefresh:function(b){var a=this;if(a[_0xee2b[3592]]&&!--a[_0xee2b[3592]]){a[_0xee2b[290]]()[_0xee2b[152]](_0xee2b[3593],a[_0xee2b[3594]],a);a[_0xee2b[3380]][_0xee2b[829]][_0xee2b[2910]]=!1;a[_0xee2b[1830]][_0xee2b[829]][_0xee2b[2910]]=!1;if(b){a[_0xee2b[2543]]()}}}},function(){var a=_0xee2b[975];Ext[_0xee2b[8]](Sch,{VERSION:_0xee2b[215]});if(Ext[_0xee2b[723]][_0xee2b[965]][_0xee2b[968]](a)){var b=console;b&&b[_0xee2b[401]](_0xee2b[3595]+a)}if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2962])){Ext[_0xee2b[6]](null,{override:_0xee2b[3460],doRefreshView:function(){if(this[_0xee2b[829]][_0xee2b[2467]][_0xee2b[2592]](_0xee2b[805])){var a=Ext[_0xee2b[1182]][_0xee2b[3596]];Ext[_0xee2b[1182]][_0xee2b[3596]]=!0;this[_0xee2b[9]](arguments);Ext[_0xee2b[1182]][_0xee2b[3596]]=a}else {this[_0xee2b[9]](arguments)}}})}});Ext[_0xee2b[6]](_0xee2b[3597],{extend:_0xee2b[3598],mixins:[_0xee2b[665],_0xee2b[3459]],alias:[_0xee2b[3599]],subGridXType:_0xee2b[3600],isTimelineGridPanel:!0,initComponent:function(){this[_0xee2b[9]](arguments);this[_0xee2b[808]]()._initializeTimelineView()}},function(){this[_0xee2b[507]](Sch[_0xee2b[1637]][_0xee2b[3601]][_0xee2b[139]][_0xee2b[1635]]()||{})});Ext[_0xee2b[6]](_0xee2b[3602],{extend:_0xee2b[717],mixins:[_0xee2b[665]],text:_0xee2b[3603]+Ext[_0xee2b[238]]+_0xee2b[3604],constructor:function(){var a=this;a[_0xee2b[3438]]=a[_0xee2b[3438]][_0xee2b[675]](/__FROM__/,a.L(_0xee2b[3606]))[_0xee2b[675]](/__TO__/,a.L(_0xee2b[3605]));a[_0xee2b[9]]([a[_0xee2b[3438]]])}});Ext[_0xee2b[6]](_0xee2b[3607],{extend:_0xee2b[1996],requires:[_0xee2b[3602]],cls:_0xee2b[3608],delegate:_0xee2b[3609],showDelay:0,anchor:_0xee2b[754],mouseOffset:[15,5],trackMouse:!0,dependencyView:null,tpl:null,initComponent:function(){this[_0xee2b[969]]=this[_0xee2b[3611]][_0xee2b[3610]]()[_0xee2b[787]]();this[_0xee2b[3612]]=this[_0xee2b[3612]]||new Sch[_0xee2b[1860]].DependencyInfo();this[_0xee2b[9]](arguments)},show:function(){this[_0xee2b[9]](arguments);var a=this[_0xee2b[3611]][_0xee2b[3613]](this[_0xee2b[3075]]);this[_0xee2b[1903]]({dependency:a,fromTask:a[_0xee2b[1344]](),toTask:a[_0xee2b[1345]]()})}});Ext[_0xee2b[6]](_0xee2b[3614],{extend:_0xee2b[3615],mixins:{observable:_0xee2b[108]},terminalSelector:null,dependencyStore:null,toText:null,startText:null,endText:null,view:null,tipTpl:null,tip:null,constructor:function(b,a){this[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this,a);this[_0xee2b[9]](arguments)},getTargetFromEvent:function(a){return a[_0xee2b[2033]](this[_0xee2b[3616]])},onNodeEnter:function(b,h,i,c){var a=this,d=a[_0xee2b[829]][_0xee2b[2181]](b),f=b[_0xee2b[1868]][_0xee2b[2249]](/sch-terminal-(\w+)/)[1],g=d[_0xee2b[32]]()||d[_0xee2b[1049]],e=Ext[_0xee2b[8]]({toTask:d,toSide:f},c[_0xee2b[3617]]);if(!a[_0xee2b[2106]]){a[_0xee2b[2106]]=a[_0xee2b[3618]]()}c[_0xee2b[2003]]=e[_0xee2b[2003]]=a[_0xee2b[3621]](c[_0xee2b[3619]],g,h[_0xee2b[2156]][_0xee2b[3620]],f);a[_0xee2b[2106]][_0xee2b[1903]](e);a[_0xee2b[2106]][_0xee2b[3622]](b);Ext[_0xee2b[761]](b)[_0xee2b[264]](_0xee2b[3623]+(c[_0xee2b[2003]]?_0xee2b[2003]:_0xee2b[3624])+_0xee2b[3625])},createTooltip:function(){var a=this;return new Ext[_0xee2b[2106]].ToolTip({tpl:a[_0xee2b[3626]],view:a[_0xee2b[829]],cls:_0xee2b[3627],constrain:!0,anchor:_0xee2b[3047],trackMouse:!1,hideDelay:0,dismissDelay:0,delegate:a[_0xee2b[3616]],target:a[_0xee2b[829]][_0xee2b[787]](),constraintInsets:_0xee2b[3048]})},onNodeOut:function(a,c,d,b){b[_0xee2b[2003]]=!1;Ext[_0xee2b[761]](a)[_0xee2b[267]]([_0xee2b[3628],_0xee2b[3629]])},onNodeOver:function(d,b,c,a){return a[_0xee2b[2003]]?this[_0xee2b[2119]]:this[_0xee2b[2120]]},onNodeDrop:function(b,i,j,d){var a=this,e=a[_0xee2b[829]][_0xee2b[2181]](b),g=b[_0xee2b[1868]][_0xee2b[2249]](/sch-terminal-(\w+)/)[1],h=e[_0xee2b[32]]()||e[_0xee2b[1049]],c=d[_0xee2b[2003]],f=a[_0xee2b[3630]](i[_0xee2b[2156]][_0xee2b[3619]],h,d[_0xee2b[3620]],g);a[_0xee2b[180]](_0xee2b[3631],a,f,c);a[_0xee2b[180]](_0xee2b[3632],a);return c},createDependencyModel:function(d,f,b,c){var e=this[_0xee2b[1303]],a=new (e[_0xee2b[137]]())();a[_0xee2b[1338]](d);a[_0xee2b[1339]](f);a instanceof Sch[_0xee2b[327]][_0xee2b[3633]]&&a[_0xee2b[3634]](b);a instanceof Sch[_0xee2b[327]][_0xee2b[3633]]&&a[_0xee2b[3635]](c);a[_0xee2b[1262]](a[_0xee2b[3636]](b,c,this[_0xee2b[829]][_0xee2b[1855]]));return a},isValidLink:function(d,e,a,c){var b=this[_0xee2b[3630]](d,e,a,c);return this[_0xee2b[1303]][_0xee2b[3637]](b)},destroyTip:function(){var a=this;a[_0xee2b[2106]]&&a[_0xee2b[2106]][_0xee2b[218]]();a[_0xee2b[2106]]=null},destroy:function(){var a=this;a[_0xee2b[3638]]();a[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[3639],{extend:_0xee2b[2111],alias:_0xee2b[3640],requires:[_0xee2b[3602],_0xee2b[3614],_0xee2b[1910]],mixins:{factoryable:_0xee2b[3641],observable:_0xee2b[108]},terminalSelector:null,view:null,fromText:null,toText:null,startText:null,endText:null,rtl:!1,useLineProxy:!0,dependencyStore:null,tipTpl:null,animationDuration:400,constructor:function(b){var a=this;a[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this,b);a[_0xee2b[9]]([b[_0xee2b[829]][_0xee2b[787]](),b]);a[_0xee2b[3626]]=a[_0xee2b[3626]]||new Sch[_0xee2b[1860]].DependencyInfo();if(!(a[_0xee2b[3626]] instanceof Ext[_0xee2b[728]])){a[_0xee2b[3626]]=new Ext.XTemplate(a[_0xee2b[3626]])}a[_0xee2b[3642]]=a[_0xee2b[3643]]();a[_0xee2b[846]](a[_0xee2b[3642]],[_0xee2b[3631],_0xee2b[3632]]);a[_0xee2b[149]]({dragstart:a[_0xee2b[3644]],afterdrop:a[_0xee2b[3645]],scope:a})},onDependencyDragStart:function(){Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2073]](this[_0xee2b[829]])},onDependencyAfterDrop:function(){Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2084]]();this[_0xee2b[3642]][_0xee2b[3638]]()},createDropZone:function(){return new Sch[_0xee2b[829]][_0xee2b[3647]].DropZone(this[_0xee2b[265]],this[_0xee2b[3646]]())},getDropZoneConfig:function(){return {rtl:this[_0xee2b[1855]],terminalSelector:this[_0xee2b[3616]],ddGroup:this[_0xee2b[3648]],view:this[_0xee2b[829]],dependencyStore:this[_0xee2b[1303]],tipTpl:this[_0xee2b[3626]]}},initLineProxy:function(e){var a=this,d=a[_0xee2b[829]][_0xee2b[1966]](),f=Ext[_0xee2b[761]](e)[_0xee2b[2264]](a[_0xee2b[829]][_0xee2b[265]]),g=Ext[_0xee2b[761]](e)[_0xee2b[793]]()/2,c=f[0]+g,b=f[1]+g,h=a[_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354];c=c+d[_0xee2b[1354]];b=b;a[_0xee2b[3649]]=a[_0xee2b[265]][_0xee2b[825]]({cls:_0xee2b[3650],style:_0xee2b[3651]+b+_0xee2b[3403]+h+_0xee2b[1129]+c+_0xee2b[804]});Ext[_0xee2b[8]](a,{startXY:[c,b],startScrollLeft:d[_0xee2b[1354]],startScrollTop:d[_0xee2b[686]]})},updateLineProxy:function(b){var a=this,c=document[_0xee2b[3652]]||document[_0xee2b[936]]||document[_0xee2b[2179]],f=a[_0xee2b[829]][_0xee2b[1966]](),j=a[_0xee2b[829]][_0xee2b[265]][_0xee2b[758]][_0xee2b[3653]](),d=b[0]-a[_0xee2b[829]][_0xee2b[809]](),g=(a[_0xee2b[1855]]?a[_0xee2b[1967]][0]-d-f[_0xee2b[1354]]:d-a[_0xee2b[1967]][0]+f[_0xee2b[1354]])-c[_0xee2b[2178]],e=b[1]-j[_0xee2b[686]]-a[_0xee2b[1967]][1]-c[_0xee2b[3654]],i=Math[_0xee2b[715]](1,Math[_0xee2b[3656]](Math[_0xee2b[3655]](g,2)+Math[_0xee2b[3655]](e,2))-2),h=Math[_0xee2b[3657]](e,g)-Math[_0xee2b[3658]]/2;a[_0xee2b[3649]][_0xee2b[2051]]({height:i+_0xee2b[804],transform:_0xee2b[3659]+h+_0xee2b[3660]})},getDragData:function(e){var b=this,a=e[_0xee2b[2033]](b[_0xee2b[3616]]);if(e[_0xee2b[2104]]===0&&a){var c=b[_0xee2b[829]][_0xee2b[2181]](a);if(b[_0xee2b[180]](_0xee2b[3661],b,c)===!1){return null}var d=a[_0xee2b[1868]][_0xee2b[2249]](/sch-terminal-(\w+)/)[1],f={fromTask:c,fromSide:d},g=document[_0xee2b[3662]](_0xee2b[2258]);a[_0xee2b[763]][_0xee2b[762]]=_0xee2b[2246];return {fromId:c[_0xee2b[32]]()||c[_0xee2b[1049]],fromSide:d,tplData:f,repairXY:Ext[_0xee2b[761]](a)[_0xee2b[1970]](),ddel:g,valid:!1,sourceTerminal:a}}return !1},onStartDrag:function(f,e){var a=this,b=a[_0xee2b[2156]],c=b[_0xee2b[3663]],d=c[_0xee2b[1868]][_0xee2b[2249]](/sch-terminal-(\w+)/)[0];a[_0xee2b[180]](_0xee2b[1958],a);if(a[_0xee2b[3664]]){a[_0xee2b[3665]](c,b[_0xee2b[2426]]);a[_0xee2b[3649]][_0xee2b[2019]]()}a[_0xee2b[379]][_0xee2b[2051]](_0xee2b[762],_0xee2b[764]);Ext[_0xee2b[761]](b[_0xee2b[3663]][_0xee2b[96]])[_0xee2b[760]](_0xee2b[3667]+d+_0xee2b[1058])[_0xee2b[264]](_0xee2b[3666])},onDrag:function(a,b){this[_0xee2b[3664]]&&this[_0xee2b[3668]](a[_0xee2b[1970]]())},afterRepair:function(){var a=this;a[_0xee2b[2063]]=!1;if(!a[_0xee2b[458]]){a[_0xee2b[180]](_0xee2b[3632],a[_0xee2b[3642]])}},onMouseUp:function(){var a=this;a[_0xee2b[265]][_0xee2b[267]](_0xee2b[3669]);a[_0xee2b[2156]][_0xee2b[3663]][_0xee2b[763]][_0xee2b[762]]=_0xee2b[27];if(a[_0xee2b[3649]]){var b=a[_0xee2b[3649]];b[_0xee2b[3671]]({to:{height:0},duration:a[_0xee2b[3670]],callback:function(){Ext[_0xee2b[218]](b)}});a[_0xee2b[3649]]=null}},getRepairXY:function(){return this[_0xee2b[2156]][_0xee2b[3672]]},destroy:function(){var a=this;Ext[_0xee2b[218]]([a[_0xee2b[3649]],a[_0xee2b[3642]]]);a[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[3673],{alias:_0xee2b[3674],mixins:[_0xee2b[3641]],uses:[_0xee2b[34]],config:{startSide:_0xee2b[867],startArrowSize:8,startArrowMargin:6,startShift:0,endSide:_0xee2b[1354],endArrowSize:8,endArrowMargin:6,endShift:0,verticalMargin:2,horizontalMargin:5,otherBoxes:null},constructor:function(a){var b=this;b[_0xee2b[9]]([a]);b[_0xee2b[35]](a)},findPath:function(g,f){var b=this,a,s,m,o,p,e,d,r,t,z,D,l,i,x,w,F,A,h,B,E,n,q,y,C,u,v,j,c,k;if(f&&!Ext[_0xee2b[307]](f)){f=[f]}for(k=0;g&&!c;){a=Ext[_0xee2b[330]](g,b[_0xee2b[3675]]());s=a[_0xee2b[3676]],m=a[_0xee2b[3677]],o=a[_0xee2b[3678]],p=a[_0xee2b[3679]],e=a[_0xee2b[3680]],d=a[_0xee2b[3681]],r=a[_0xee2b[3682]],t=a[_0xee2b[3683]],z=a[_0xee2b[3684]],D=a[_0xee2b[3685]],l=a[_0xee2b[3686]],i=a[_0xee2b[3687]],x=a[_0xee2b[53]](_0xee2b[3688])?a[_0xee2b[3688]]:l,w=a[_0xee2b[53]](_0xee2b[3689])?a[_0xee2b[3689]]:i,F=a[_0xee2b[53]](_0xee2b[3690])?a[_0xee2b[3690]]:l,A=a[_0xee2b[53]](_0xee2b[3691])?a[_0xee2b[3691]]:i,h=a[_0xee2b[3692]];e=b[_0xee2b[3693]](e);d=b[_0xee2b[3693]](d);B=b[_0xee2b[3694]](s,e,o);E=b[_0xee2b[3694]](m,d,p);u=b[_0xee2b[3695]](s,e,r,z,x,w);v=b[_0xee2b[3695]](m,d,t,D,F,A);h=h&&Ext[_0xee2b[26]][_0xee2b[41]](h,function(a){return b[_0xee2b[3695]](a,!1,0,0,l,i)});n=b[_0xee2b[3694]](u,e,o);q=b[_0xee2b[3694]](v,d,p);j=b[_0xee2b[3696]](u,v,n,q,e,d,h);y=b[_0xee2b[3697]](j,n);C=b[_0xee2b[3697]](j,q);c=b[_0xee2b[3698]](j,y,C,e,d);for(g=!1;!c&&!g&&f&&k<f[_0xee2b[4]];k++){g=f[k](a)}}if(c){c=b[_0xee2b[3699]](c,B,r,e);c=b[_0xee2b[3700]](c,E,t,d);c=b[_0xee2b[3701]](c)}return c},getConnectionCoordinatesFromBoxSideShift:function(a,d,c){var b;switch(d){case _0xee2b[1354]:b={x:a[_0xee2b[179]],y:(a[_0xee2b[686]]+a[_0xee2b[754]])/2+c};break;case _0xee2b[867]:b={x:a[_0xee2b[771]],y:(a[_0xee2b[686]]+a[_0xee2b[754]])/2+c};break;case _0xee2b[686]:b={x:(a[_0xee2b[179]]+a[_0xee2b[771]])/2+c,y:a[_0xee2b[686]]};break;case _0xee2b[754]:b={x:(a[_0xee2b[179]]+a[_0xee2b[771]])/2+c,y:a[_0xee2b[754]]};break;}return b},calcGridBaseBoxFromBoxAndDrawParams:function(a,g,e,f,c,b){var d;switch(g){case _0xee2b[1354]:d={start:a[_0xee2b[179]]-Math[_0xee2b[715]](e+f,c),end:a[_0xee2b[771]]+c,top:a[_0xee2b[686]]-b,bottom:a[_0xee2b[754]]+b};break;case _0xee2b[867]:d={start:a[_0xee2b[179]]-c,end:a[_0xee2b[771]]+Math[_0xee2b[715]](e+f,c),top:a[_0xee2b[686]]-b,bottom:a[_0xee2b[754]]+b};break;case _0xee2b[686]:d={start:a[_0xee2b[179]]-c,end:a[_0xee2b[771]]+c,top:a[_0xee2b[686]]-Math[_0xee2b[715]](e+f,b),bottom:a[_0xee2b[754]]+b};break;case _0xee2b[754]:d={start:a[_0xee2b[179]]-c,end:a[_0xee2b[771]]+c,top:a[_0xee2b[686]]-b,bottom:a[_0xee2b[754]]+Math[_0xee2b[715]](e+f,b)};break;default:d={start:a[_0xee2b[179]]-c,end:a[_0xee2b[771]]+c,top:a[_0xee2b[686]]-b,bottom:a[_0xee2b[754]]+b};}return d},buildPathGrid:function(a,b,t,r,n,l,i){var f,g,d,e,h,c,s,q,o,u,j,m,p,k={},v=[];f=[a[_0xee2b[179]],n==_0xee2b[1354]||n==_0xee2b[867]?(a[_0xee2b[179]]+a[_0xee2b[771]])/2:t[_0xee2b[1893]],a[_0xee2b[771]],b[_0xee2b[179]],l==_0xee2b[1354]||l==_0xee2b[867]?(b[_0xee2b[179]]+b[_0xee2b[771]])/2:r[_0xee2b[1893]],b[_0xee2b[771]]];g=[a[_0xee2b[686]],n==_0xee2b[686]||n==_0xee2b[754]?(a[_0xee2b[686]]+a[_0xee2b[754]])/2:t[_0xee2b[1894]],a[_0xee2b[754]],b[_0xee2b[686]],l==_0xee2b[686]||l==_0xee2b[754]?(b[_0xee2b[686]]+b[_0xee2b[754]])/2:r[_0xee2b[1894]],b[_0xee2b[754]]];if(i){Ext[_0xee2b[26]][_0xee2b[130]](i,function(c){f[_0xee2b[11]](c[_0xee2b[179]],(c[_0xee2b[179]]+c[_0xee2b[771]])/2,c[_0xee2b[771]]);g[_0xee2b[11]](c[_0xee2b[686]],(c[_0xee2b[686]]+c[_0xee2b[754]])/2,c[_0xee2b[754]])})}f=Ext[_0xee2b[26]][_0xee2b[1376]](Ext[_0xee2b[26]][_0xee2b[1120]](f,Ext[_0xee2b[26]][_0xee2b[3702]]));g=Ext[_0xee2b[26]][_0xee2b[1376]](Ext[_0xee2b[26]][_0xee2b[1120]](g,Ext[_0xee2b[26]][_0xee2b[3702]]));for(c=0,q=g[_0xee2b[4]];c<q;++c){k[c]=k[c]||{};d=g[c];for(h=0,s=f[_0xee2b[4]];h<s;++h){e=f[h];m=(e<=a[_0xee2b[179]]||e>=a[_0xee2b[771]]||d<=a[_0xee2b[686]]||d>=a[_0xee2b[754]])&&(e<=b[_0xee2b[179]]||e>=b[_0xee2b[771]]||d<=b[_0xee2b[686]]||d>=b[_0xee2b[754]]);if(i){for(o=0,u=i[_0xee2b[4]];m&&o<u;++o){j=i[o];m=e<=j[_0xee2b[179]]||e>=j[_0xee2b[771]]||d<=j[_0xee2b[686]]||d>=j[_0xee2b[754]]}}p={distance:Math[_0xee2b[3655]](2,53)-1,permitted:m,x:e,y:d,ix:h,iy:c};k[c][h]=p;v[_0xee2b[11]](p)}}return {width:f[_0xee2b[4]],height:g[_0xee2b[4]],xs:f,ys:g,points:k,linearPoints:v}},convertDecartPointToGridPoint:function(a,b){var c=Ext[_0xee2b[26]][_0xee2b[147]](a[_0xee2b[3703]],b[_0xee2b[1893]]),d=Ext[_0xee2b[26]][_0xee2b[147]](a[_0xee2b[3704]],b[_0xee2b[1894]]);return a[_0xee2b[3705]][d][c]},findPathOnGrid:function(a,e,d,g,f){var c=this,b=!1;if(e[_0xee2b[3706]]&&d[_0xee2b[3706]]){a=c[_0xee2b[3707]](a,e,0);b=c[_0xee2b[3708]](a,d,f)}return b},getGridPointNeighbors:function(c,g,b){var d=g[_0xee2b[3709]],e=g[_0xee2b[3710]],f=[],a;if(e<c[_0xee2b[747]]-1){a=c[_0xee2b[3705]][e+1][d];(!b||b(a))&&f[_0xee2b[11]](a)}if(e>0){a=c[_0xee2b[3705]][e-1][d];(!b||b(a))&&f[_0xee2b[11]](a)}if(d<c[_0xee2b[773]]-1){a=c[_0xee2b[3705]][e][d+1];(!b||b(a))&&f[_0xee2b[11]](a)}if(d>0){a=c[_0xee2b[3705]][e][d-1];(!b||b(a))&&f[_0xee2b[11]](a)}return f},waveForward:function(f,g,d){var h=this,b,a,e,c,i,j,l,k;g[_0xee2b[3711]]=d;b=h[_0xee2b[3712]](f,g,function(a){return a[_0xee2b[3706]]&&a[_0xee2b[3711]]>d+1});for(a=0,e=b[_0xee2b[4]];a<e;++a){c=b[a];c[_0xee2b[3711]]=d+1}for(a=0,e=b[_0xee2b[4]];a<e;++a){c=b[a];h[_0xee2b[3707]](f,c,d+1)}return f},collectPath:function(j,a,b){var i=this,g=!0,f,c,d,e,h=[];while(g&&a[_0xee2b[3711]]){f=i[_0xee2b[3712]](j,a,function(c){return c[_0xee2b[3706]]&&c[_0xee2b[3711]]==a[_0xee2b[3711]]-1});g=f[_0xee2b[4]]>0;if(g){f=Ext[_0xee2b[26]][_0xee2b[1120]](f,function(e,f){var c,d;c=e[_0xee2b[3709]]-a[_0xee2b[3709]];d=e[_0xee2b[3710]]-a[_0xee2b[3710]];var h=(b==_0xee2b[1354]||b==_0xee2b[867])&&d===0||(b==_0xee2b[686]||b==_0xee2b[754])&&c===0?-1:1;c=f[_0xee2b[3709]]-a[_0xee2b[3709]];d=f[_0xee2b[3710]]-a[_0xee2b[3710]];var g=(b==_0xee2b[1354]||b==_0xee2b[867])&&d===0||(b==_0xee2b[686]||b==_0xee2b[754])&&c===0?-1:1;if(h>g){return 1}else {if(h<g){return -1}else {if(h==g){return e[_0xee2b[1894]]>f[_0xee2b[1894]]?-1:1}}}});c=f[0];h[_0xee2b[11]]({x1:c[_0xee2b[1893]],y1:c[_0xee2b[1894]],x2:a[_0xee2b[1893]],y2:a[_0xee2b[1894]]});d=c[_0xee2b[3709]]-a[_0xee2b[3709]];e=c[_0xee2b[3710]]-a[_0xee2b[3710]];switch(!0){case !e&&d>0:b=_0xee2b[1354];break;case !e&&d<0:b=_0xee2b[867];break;case !d&&e>0:b=_0xee2b[686];break;case !d&&e<0:b=_0xee2b[754];break;}a=c}}return g&&h[_0xee2b[260]]()||!1},prependPathWithArrowStaffSegment:function(d,e,c,f){var a,b;if(d[_0xee2b[4]]>0){b=d[0];a={x2:b[_0xee2b[3713]],y2:b[_0xee2b[3714]]};switch(f){case _0xee2b[1354]:a[_0xee2b[3713]]=e[_0xee2b[1893]]-c;a[_0xee2b[3714]]=b[_0xee2b[3714]];break;case _0xee2b[867]:a[_0xee2b[3713]]=e[_0xee2b[1893]]+c;a[_0xee2b[3714]]=b[_0xee2b[3714]];break;case _0xee2b[686]:a[_0xee2b[3713]]=b[_0xee2b[3713]];a[_0xee2b[3714]]=e[_0xee2b[1894]]-c;break;case _0xee2b[754]:a[_0xee2b[3713]]=b[_0xee2b[3713]];a[_0xee2b[3714]]=e[_0xee2b[1894]]+c;break;}d[_0xee2b[205]](a)}return d},appendPathWithArrowStaffSegment:function(c,e,d,f){var a,b;if(c[_0xee2b[4]]>0){b=c[c[_0xee2b[4]]-1];a={x1:b[_0xee2b[3715]],y1:b[_0xee2b[3716]]};switch(f){case _0xee2b[1354]:a[_0xee2b[3715]]=e[_0xee2b[1893]]-d;a[_0xee2b[3716]]=b[_0xee2b[3716]];break;case _0xee2b[867]:a[_0xee2b[3715]]=e[_0xee2b[1893]]+d;a[_0xee2b[3716]]=b[_0xee2b[3716]];break;case _0xee2b[686]:a[_0xee2b[3715]]=b[_0xee2b[3715]];a[_0xee2b[3716]]=e[_0xee2b[1894]]-d;break;case _0xee2b[754]:a[_0xee2b[3715]]=b[_0xee2b[3715]];a[_0xee2b[3716]]=e[_0xee2b[1894]]+d;break;}c[_0xee2b[11]](a)}return c},optimizePath:function(c){var d=[],b,a;if(c[_0xee2b[4]]>0){b=c[_0xee2b[209]]();d[_0xee2b[11]](b);while(c[_0xee2b[4]]>0){a=c[_0xee2b[209]]();if(b[_0xee2b[3713]]==a[_0xee2b[3713]]&&b[_0xee2b[3714]]==a[_0xee2b[3714]]&&b[_0xee2b[3715]]==a[_0xee2b[3715]]&&b[_0xee2b[3716]]==a[_0xee2b[3716]]){b=a}else {if(b[_0xee2b[3714]]-b[_0xee2b[3716]]===0&&a[_0xee2b[3714]]-a[_0xee2b[3716]]===0){b[_0xee2b[3715]]=a[_0xee2b[3715]]}else {if(b[_0xee2b[3713]]-b[_0xee2b[3715]]===0&&a[_0xee2b[3713]]-a[_0xee2b[3715]]===0){b[_0xee2b[3716]]=a[_0xee2b[3716]]}else {d[_0xee2b[11]](a);b=a}}}}}return d},normalizeSide:function(a){return this[_0xee2b[45]][_0xee2b[3717]][a]||a},statics:{sideToSide:{l:_0xee2b[1354],r:_0xee2b[867],t:_0xee2b[686],b:_0xee2b[754]}}});Ext[_0xee2b[6]](_0xee2b[3718],{extend:_0xee2b[717],disableFormats:!0,rtl:null,text:_0xee2b[3719],constructor:function(b){var a=this;Ext[_0xee2b[8]](a,b);a[_0xee2b[3438]]=a[_0xee2b[3438]][_0xee2b[675]](/__SIDE__/g,a[_0xee2b[1855]]?_0xee2b[867]:_0xee2b[1354]);a[_0xee2b[9]]([a[_0xee2b[3438]]])},getSuffixedCls:function(a,c){var b=_0xee2b[27];if(a&&a[_0xee2b[147]](_0xee2b[60])!=-1){b=a[_0xee2b[675]](/^\s*(.*)\s*$/,_0xee2b[3720])[_0xee2b[496]](/\s+/)[_0xee2b[73]](c+_0xee2b[60])+c}else {if(a){b=a+c}}return b}});Ext[_0xee2b[6]](_0xee2b[3721],function(b){function _0x8e22x6(a){var c=!1;if(a[_0xee2b[3684]]>0||a[_0xee2b[3685]]>0){a[_0xee2b[3684]]=a[_0xee2b[3685]]=0;c=!0}return c?a:c}function _0x8e22x5(a){var c=!1;if(a[_0xee2b[53]](_0xee2b[3688])&&a[_0xee2b[3688]]>2){a[_0xee2b[3688]]=Math[_0xee2b[704]](a[_0xee2b[3688]]/2);c=!0}if(a[_0xee2b[53]](_0xee2b[3689])&&a[_0xee2b[3689]]>2){a[_0xee2b[3689]]=Math[_0xee2b[704]](a[_0xee2b[3689]]/2);c=!0}if(a[_0xee2b[53]](_0xee2b[3690])&&a[_0xee2b[3690]]>2){a[_0xee2b[3690]]=Math[_0xee2b[704]](a[_0xee2b[3690]]/2);c=!0}if(a[_0xee2b[53]](_0xee2b[3691])&&a[_0xee2b[3691]]>2){a[_0xee2b[3691]]=Math[_0xee2b[704]](a[_0xee2b[3691]]/2);c=!0}return c?a:c}function _0x8e22x4(a){var c=!1;if(a[_0xee2b[3682]]>0||a[_0xee2b[3683]]>0){a[_0xee2b[3682]]=a[_0xee2b[3683]]=0;c=!0}return c?a:c}var a=[_0x8e22x6,_0x8e22x5,_0x8e22x5,_0x8e22x5,_0x8e22x4];return {alias:_0xee2b[3722],mixins:[_0xee2b[3641]],requires:[_0xee2b[3673],_0xee2b[3718]],uses:[_0xee2b[34],_0xee2b[717],_0xee2b[2869],_0xee2b[1140],_0xee2b[3673],_0xee2b[3718]],config:{cls:_0xee2b[27],rtl:!1,lineTpl:null,canvasCls:null,pathFinderConfig:null,realLineThickness:null,useDependencyRowIntersectionCache:!0},pathFinder:null,dependencyIdAttr:_0xee2b[3723],constructor:function(c){var a=this;a[_0xee2b[35]](c);a[_0xee2b[3724]]=a[_0xee2b[3726]](a[_0xee2b[3725]]());if(!a[_0xee2b[3727]]()){a[_0xee2b[3729]](new Sch[_0xee2b[1860]].Dependency({rtl:a[_0xee2b[3728]]()}))}a[_0xee2b[3730]]()},clone:function(){var a=this;return new a[_0xee2b[45]](a[_0xee2b[3675]]())},applyLineTpl:function(a){return a instanceof Ext[_0xee2b[3731]]?a:new Ext.XTemplate(a)},updatePathFinderConfig:function(c){var a=this;if(a[_0xee2b[3724]]){if(c&&_0xee2b[249] in c&&c[_0xee2b[249]]!==a[_0xee2b[3724]][_0xee2b[249]]){Ext[_0xee2b[218]](a[_0xee2b[3724]]);a[_0xee2b[3724]]=a[_0xee2b[3726]](c)}else {a[_0xee2b[3724]][_0xee2b[3121]](c)}}},createPathFinder:function(a){return Sch[_0xee2b[49]][_0xee2b[3732]][_0xee2b[831]](a)},getCanvasSpecification:function(){return {tag:_0xee2b[2258],role:_0xee2b[2920],cls:this[_0xee2b[3733]]()}},paint:function(d,a,g,h){var c=this,i=c[_0xee2b[3734]]()?c[_0xee2b[3735]](d,g):g,e=c[_0xee2b[3736]](d,i);a=Ext[_0xee2b[761]](a);if(h){var f=document[_0xee2b[3662]](_0xee2b[2258]);f[_0xee2b[3737]]=e;a[_0xee2b[3738]](f)}else {a[_0xee2b[3740]](_0xee2b[3739],e)}},generatePaintMarkup:function(e,d){var c=this,a=c[_0xee2b[3741]](e,d);if(!Ext[_0xee2b[307]](a)){a=[a]}return Ext[_0xee2b[26]][_0xee2b[41]](a,function(a){var f;a[_0xee2b[3742]]=c[_0xee2b[3743]](a);f=a[_0xee2b[3742]]&&c[_0xee2b[3744]](a);return f&&c[_0xee2b[3727]]()[_0xee2b[8]](f)||_0xee2b[27]})[_0xee2b[73]](_0xee2b[27])},isDependencyElement:function(a){return Ext[_0xee2b[761]](a)[_0xee2b[2592]](_0xee2b[3609])},getElementsForDependency:function(c,a){var d=this;if(a&&!Ext[_0xee2b[307]](a)){a=[a]}return new Ext[_0xee2b[758]].CompositeElementLite(Ext[_0xee2b[26]][_0xee2b[48]](a||[],function(f,e){return f[_0xee2b[318]](Ext[_0xee2b[758]][_0xee2b[2932]][_0xee2b[760]](_0xee2b[3745]+d[_0xee2b[3746]]+_0xee2b[3747]+e[_0xee2b[1049]]+_0xee2b[2930],Ext[_0xee2b[3748]](c)))},[]))},getDependencyElements:function(c){var a=Ext[_0xee2b[3748]](c);return new Ext[_0xee2b[758]].CompositeElementLite(a&&a[_0xee2b[925]]||[])},getElementDependencyInternalId:function(a){return Ext[_0xee2b[761]](a)[_0xee2b[777]](this[_0xee2b[3746]])},findPath:function(c){var d;d=this[_0xee2b[3724]][_0xee2b[3743]](c,a);if(!d){if(c[_0xee2b[3676]][_0xee2b[754]]-c[_0xee2b[3676]][_0xee2b[686]]===0||c[_0xee2b[3677]][_0xee2b[754]]-c[_0xee2b[3677]][_0xee2b[686]]===0){throw new Error(_0xee2b[3749])}}return d},getLineTplData:function(a){var d=this,e,f,i,h,c;c=a[_0xee2b[3742]];if(!a[_0xee2b[3676]][_0xee2b[262]]&&!a[_0xee2b[3677]][_0xee2b[262]]){for(var g=c[_0xee2b[4]]-1;g>=0;g--){var j=c[g];if(j[_0xee2b[3713]]===j[_0xee2b[3715]]){c=[j];a[_0xee2b[3682]]=a[_0xee2b[3683]]=0;break}}}e=d[_0xee2b[3728]]();f=d[_0xee2b[3750]]();i=c[_0xee2b[4]]&&c[0];h=c[_0xee2b[4]]&&c[c[_0xee2b[4]]-1];c={cls:a[_0xee2b[489]]||_0xee2b[27],lineCls:a[_0xee2b[3751]]||_0xee2b[27],dependencyId:a[_0xee2b[3752]]||_0xee2b[27],highlighted:a[_0xee2b[3753]],segments:Ext[_0xee2b[26]][_0xee2b[41]](c,function(c){var g=d[_0xee2b[3754]](c),e;if(g==_0xee2b[1931]){e={width:Math[_0xee2b[1524]](c[_0xee2b[3713]]-c[_0xee2b[3715]])+1,height:f,top:Math[_0xee2b[203]](c[_0xee2b[3714]],c[_0xee2b[3716]]),side:Math[_0xee2b[203]](c[_0xee2b[3713]],c[_0xee2b[3715]]),dir:g}}else {e={height:Math[_0xee2b[1524]](c[_0xee2b[3714]]-c[_0xee2b[3716]])+1,width:f,top:Math[_0xee2b[203]](c[_0xee2b[3714]],c[_0xee2b[3716]]),side:Math[_0xee2b[203]](c[_0xee2b[3713]],c[_0xee2b[3715]]),dir:g}}return e}),startArrow:a[_0xee2b[3682]]&&{side:i[_0xee2b[3713]],top:i[_0xee2b[3714]],dir:d[_0xee2b[3755]](a[_0xee2b[3680]],e)},endArrow:a[_0xee2b[3683]]&&{side:h[_0xee2b[3715]],top:h[_0xee2b[3716]],dir:d[_0xee2b[3755]](a[_0xee2b[3681]],e)},realLineThickness:d[_0xee2b[3750]]()};return c},isDependencyInTimeSpan:function(e,c,d){var a=e[_0xee2b[3756]]();return a&&(!c||!d||Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[714]](a[_0xee2b[179]],a[_0xee2b[771]],c,d))},addToRowIntersectionCacheIfNotPresent:function(d,e){var a=this,g=d[_0xee2b[3757]](),f=d[_0xee2b[3758]](),c=a[_0xee2b[1303]][_0xee2b[1520]]()===e[_0xee2b[4]];if(a[_0xee2b[3759]]){return}Ext[_0xee2b[26]][_0xee2b[25]](e,function(h){if(c||!a[_0xee2b[3760]](h)){var n=h[_0xee2b[1344]](),o=h[_0xee2b[1345]]();if(a[_0xee2b[3761]](h,g,f)){var l=a[_0xee2b[3762]](d,n),m=a[_0xee2b[3762]](d,o),j=Math[_0xee2b[203]](l,m),k=Math[_0xee2b[715]](l,m);if(j>-1&&k>-1){j=Math[_0xee2b[424]](j/10);k=Math[_0xee2b[424]](k/10);for(var i=j;i<=k;i++){if(!a[_0xee2b[3763]][i]){a[_0xee2b[3763]][i]=[]}a[_0xee2b[3763]][i][_0xee2b[11]](h);a[_0xee2b[3764]][h[_0xee2b[1049]]]=!0}}}}});if(!c){c=Object[_0xee2b[3765]](a[_0xee2b[3764]])[_0xee2b[4]]===a[_0xee2b[1303]][_0xee2b[1520]]()}if(c){a[_0xee2b[3759]]=!0}},getIndexForCache:function(d,a){if(_0xee2b[1053] in a){var c=a[_0xee2b[1053]]();if(c){return d[_0xee2b[1007]]()[_0xee2b[147]](c)}if(!c&&a[_0xee2b[1009]] in a[_0xee2b[22]]){return -1}throw new Error(_0xee2b[3766])}else {if(_0xee2b[3767] in a){return a[_0xee2b[3767]]()[_0xee2b[147]](a)}}},resetRowIntersectionCache:function(a){this[_0xee2b[3759]]=!1;if(!a){this[_0xee2b[3763]]={};this[_0xee2b[3764]]={}}},isInRowIntersectionCache:function(a){return !!this[_0xee2b[3764]][a[_0xee2b[1049]]]},filterByRowIntersections:function(c,a){var j=this;if(!Ext[_0xee2b[307]](a)){a=[a]}if(!a[_0xee2b[4]]){return []}j[_0xee2b[3768]](c,a);var d=[],h=c[_0xee2b[2520]](),f=c[_0xee2b[147]](h[0]),i=c[_0xee2b[147]](h[h[_0xee2b[4]]-1]),e;f=Math[_0xee2b[424]](f/10);i=Math[_0xee2b[424]](i/10);for(var g=f;g<=i;g++){e=j[_0xee2b[3763]][g];e&&d[_0xee2b[11]][_0xee2b[8]](d,e)}return Ext[_0xee2b[26]][_0xee2b[3059]](a,Ext[_0xee2b[26]][_0xee2b[1376]](d))},getLineDefsForDependencies:function(d,e){var g=Ext[_0xee2b[26]],f=this,c={},i=d[_0xee2b[3757]](),h=d[_0xee2b[3758]](),a;if(!Ext[_0xee2b[307]](e)){e=[e]}if(!e[_0xee2b[4]]){return []}var j=g[_0xee2b[48]](e||[],function(o,l){var n=l[_0xee2b[1344]](),m=l[_0xee2b[1345]](),k,j;if(f[_0xee2b[3761]](l,i,h)){a=n[_0xee2b[1049]];if(!c[a]){k=f[_0xee2b[2899]](d,n)||[];if(!Ext[_0xee2b[307]](k)){k=[k]}c[a]=k}else {k=c[a]}a=m[_0xee2b[1049]];if(!c[a]){j=f[_0xee2b[2899]](d,m)||[];if(!Ext[_0xee2b[307]](j)){j=[j]}c[a]=j}else {j=c[a]}o=g[_0xee2b[48]](k,function(c,a,h){return g[_0xee2b[48]](j,function(i,g,j){if(a&&g&&(a[_0xee2b[262]]||g[_0xee2b[262]]||a[_0xee2b[2866]]!=g[_0xee2b[2866]])){i[_0xee2b[11]](f[_0xee2b[3769]](d,l,n,m,a,g,null))}return i},c)},o)}return o},[]);return j},getItemBox:function(c,a){return c[_0xee2b[2899]](a)},createLineDef:function(g,d,n,o,f,e,A){var h=d[_0xee2b[45]][_0xee2b[1106]],i=this,j=d[_0xee2b[1247]](),k=i[_0xee2b[3724]][_0xee2b[3770]](),l=i[_0xee2b[3724]][_0xee2b[3771]](),x=d[_0xee2b[3772]](),v=x?i[_0xee2b[3724]][_0xee2b[3773]]():0,u=x?i[_0xee2b[3724]][_0xee2b[3774]]():0,r=i[_0xee2b[3724]][_0xee2b[3775]](),p=i[_0xee2b[3724]][_0xee2b[3776]](),a=d[_0xee2b[3777]](),c=d[_0xee2b[3778]]();if(!a){switch(!0){case j==h[_0xee2b[1347]]:a=g[_0xee2b[2900]](n);break;case j==h[_0xee2b[1346]]:a=g[_0xee2b[2900]](n);break;case j==h[_0xee2b[1349]]:a=g[_0xee2b[2901]](n);break;case j==h[_0xee2b[1348]]:a=g[_0xee2b[2901]](n);break;default:throw new Error(_0xee2b[3779]+d[_0xee2b[1247]]());}}if(!c){switch(!0){case j==h[_0xee2b[1347]]:c=g[_0xee2b[2901]](o);break;case j==h[_0xee2b[1346]]:c=g[_0xee2b[2900]](o);break;case j==h[_0xee2b[1349]]:c=g[_0xee2b[2900]](o);break;case j==h[_0xee2b[1348]]:c=g[_0xee2b[2901]](o);break;default:throw new Error(_0xee2b[3779]+d[_0xee2b[1247]]());}}switch(!0){case (a==_0xee2b[1354]||a==_0xee2b[867])&&(c==_0xee2b[1354]||c==_0xee2b[867]):l=2;k=5;break;case (a==_0xee2b[686]||a==_0xee2b[754])&&(c==_0xee2b[686]||c==_0xee2b[754]):l=7;k=2;break;}var m=Number[_0xee2b[1418]];var t={from:(f[_0xee2b[179]]+f[_0xee2b[771]])/2,to:(e[_0xee2b[179]]+e[_0xee2b[771]])/2};var w={from:(f[_0xee2b[686]]+f[_0xee2b[754]])/2,to:(e[_0xee2b[686]]+e[_0xee2b[754]])/2};if((a===_0xee2b[686]&&c===_0xee2b[754]||a===_0xee2b[754]&&c===_0xee2b[686])&&t[_0xee2b[3780]]===t[_0xee2b[3781]]){m=Math[_0xee2b[1524]](f[a]-e[c])}else {if((a===_0xee2b[1354]&&c===_0xee2b[867]||a===_0xee2b[867]&&c===_0xee2b[1354])&&w[_0xee2b[3780]]===w[_0xee2b[3781]]){var s=a===_0xee2b[1354]?_0xee2b[179]:_0xee2b[771];var q=c===_0xee2b[1354]?_0xee2b[179]:_0xee2b[771];if(g[_0xee2b[1855]]){s=s===_0xee2b[179]?_0xee2b[771]:_0xee2b[179];q=q===_0xee2b[179]?_0xee2b[771]:_0xee2b[179]}var y=f[s];var z=e[q];m=Math[_0xee2b[1524]](y-z)}}if(m<p*r*2){v=r=0;if(m<=p*2){u=p=0}}return Ext[_0xee2b[330]]({startBox:f,startSide:a,startArrowSize:u,startArrowMargin:v,endBox:e,endSide:c,endArrowSize:p,endArrowMargin:r,top:Math[_0xee2b[203]](f[_0xee2b[686]],e[_0xee2b[686]]),bottom:Math[_0xee2b[715]](f[_0xee2b[754]],e[_0xee2b[754]]),verticalMargin:l,horizontalMargin:k,startVerticalMargin:l,startHorizontalMargin:k,endVerticalMargin:l,endHorizontalMargin:k,otherBoxes:A,dependency:d,dependencyId:d[_0xee2b[1049]],lineCls:i[_0xee2b[1284]](),cls:d[_0xee2b[1284]](),highlighted:d[_0xee2b[1350]]()},i[_0xee2b[3675]]())},convertSideToDir:function(a,c){return this[_0xee2b[45]][_0xee2b[3783]][a+(c&&_0xee2b[3782]||_0xee2b[27])]},getSegmentDir:function(c){var a=_0xee2b[1932];if(c[_0xee2b[3714]]===c[_0xee2b[3716]]){a=_0xee2b[1931]}return a},inheritableStatics:{sideToDir:{left:_0xee2b[867],right:_0xee2b[1354],top:_0xee2b[861],bottom:_0xee2b[694],'left-rtl':_0xee2b[1354],'right-rtl':_0xee2b[867],'top-rtl':_0xee2b[861],'bottom-rtl':_0xee2b[694]}}}});Ext[_0xee2b[6]](_0xee2b[3784],function(){function _0x8e22x9(a){return Ext[_0xee2b[26]][_0xee2b[48]](a,function(b,c){b[c[_0xee2b[32]]()]=c;return b},{})}function _0x8e22x1(a){return Ext[_0xee2b[154]][_0xee2b[1556]](_0x8e22x9(a))}function _0x8e22x2(e,d){var c,a,b=[];c=_0x8e22x9(e);a=_0x8e22x9(d);Ext[_0xee2b[154]][_0xee2b[25]](c,function(c,f){a[_0xee2b[53]](c)||b[_0xee2b[11]](f)});return b}var b=function(){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3785])};var d={render:b,clear:b,scheduledRender:b,destroy:b};var a,e,c;a=Ext[_0xee2b[330]]({render:function(a,b,h,i){var f,g,c,d;f=new Ext.Promise(function(e,d){g=e;c=d});if(b[_0xee2b[3786]]()){a[_0xee2b[3787]]=h;a[_0xee2b[3788]]=[];Ext[_0xee2b[26]][_0xee2b[48]](a._depsToRender,function(c,d){return c&&!!d[_0xee2b[64]]},!0)||Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3789]);d=b[_0xee2b[3610]]()[_0xee2b[694]](_0xee2b[3790]);if(d){a[_0xee2b[3791]]=d[_0xee2b[149]](_0xee2b[2019],function(){delete a[_0xee2b[3791]];a[_0xee2b[3793]][_0xee2b[3792]](a,b)},null,{single:!0,destroyable:!0})}else {a[_0xee2b[3794]]=Ext[_0xee2b[2600]](function(){delete a[_0xee2b[3794]];a[_0xee2b[3793]][_0xee2b[3792]](a,b)})}a[_0xee2b[3796]][_0xee2b[3795]]&&a[_0xee2b[180]](_0xee2b[3795],a);a[_0xee2b[3797]]=f;a[_0xee2b[3798]]=g;a[_0xee2b[3799]]=c;a[_0xee2b[3793]]=e}else {c(h)}return f},clear:function(e,a,c,d){var b;if(a[_0xee2b[3786]]()){if(a[_0xee2b[3800]]()){if(d){a[_0xee2b[3803]]()[_0xee2b[3802]](a[_0xee2b[3610]](),a[_0xee2b[3801]](),[],!0)}else {Ext[_0xee2b[218]](a[_0xee2b[3803]]()[_0xee2b[3804]](a[_0xee2b[3801]](),c))}}b=Ext[_0xee2b[3806]][_0xee2b[3805]](c)}else {b=Ext[_0xee2b[3806]][_0xee2b[378]](c)}return b},destroy:function(a){a[_0xee2b[458]]=!0;a[_0xee2b[3793]]=c}},d);e=Ext[_0xee2b[330]]({render:function(a,d,b,c){a[_0xee2b[3787]]=c?b:_0x8e22x1(a[_0xee2b[3787]][_0xee2b[318]](b));Ext[_0xee2b[26]][_0xee2b[48]](a._depsToRender,function(e,f){return e&&!!f[_0xee2b[64]]},!0)||Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3807]);return a[_0xee2b[3797]]},clear:function(d,a,b,e){var c;if(a[_0xee2b[3786]]()){if(a[_0xee2b[3800]]()){if(e){a[_0xee2b[3803]]()[_0xee2b[3802]](a[_0xee2b[3610]](),a[_0xee2b[3801]](),[],!0)}else {Ext[_0xee2b[218]](a[_0xee2b[3803]]()[_0xee2b[3804]](a[_0xee2b[3801]](),b))}}if(e){d[_0xee2b[3787]]=[]}else {d[_0xee2b[3787]]=_0x8e22x2(d._depsToRender,b)}c=Ext[_0xee2b[3806]][_0xee2b[3805]](b)}else {c=Ext[_0xee2b[3806]][_0xee2b[378]](b)}return c},scheduledRender:function(b,d){var e,c;if(d[_0xee2b[3786]]()){e=d[_0xee2b[3610]]()[_0xee2b[694]](_0xee2b[3790]);if(e){b[_0xee2b[3791]]=e[_0xee2b[149]](_0xee2b[2019],function(){delete b[_0xee2b[3791]];b[_0xee2b[3793]][_0xee2b[3792]](b,d)},null,{single:!0,destroyable:!0})}else {if(b[_0xee2b[3787]][_0xee2b[4]]>0){Ext[_0xee2b[26]][_0xee2b[48]](b._depsToRender,function(a,c){return a&&!!c[_0xee2b[64]]},!0)||Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3789]);c=b[_0xee2b[3808]](d,b._depsToRender,b._depsRendered);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[307]](c,_0xee2b[3809]);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[1373]](c[_0xee2b[4]]==2,_0xee2b[3810]);b[_0xee2b[3788]]=_0x8e22x1(b[_0xee2b[3788]][_0xee2b[318]](c[0]));b[_0xee2b[3787]]=c[1];b[_0xee2b[3796]][_0xee2b[3811]]&&b[_0xee2b[180]](_0xee2b[3811],b,b._depsToRender,b._depsRendered);if(b[_0xee2b[3787]][_0xee2b[4]]>0){b[_0xee2b[3794]]=Ext[_0xee2b[2600]](function(){delete b[_0xee2b[3794]];b[_0xee2b[3793]][_0xee2b[3792]](b,d)})}else {b[_0xee2b[3796]][_0xee2b[3812]]&&b[_0xee2b[180]](_0xee2b[3812],b,b._depsRendered);b._renderPromiseResolve(b._depsRendered);delete b[_0xee2b[3797]];delete b[_0xee2b[3798]];delete b[_0xee2b[3799]];delete b[_0xee2b[3787]];delete b[_0xee2b[3788]];b[_0xee2b[3793]]=a}}else {b[_0xee2b[3796]][_0xee2b[3812]]&&b[_0xee2b[180]](_0xee2b[3812],b,b._depsRendered);b._renderPromiseResolve(b._depsRendered);delete b[_0xee2b[3797]];delete b[_0xee2b[3798]];delete b[_0xee2b[3799]];delete b[_0xee2b[3787]];delete b[_0xee2b[3788]];b[_0xee2b[3793]]=a}}}else {b[_0xee2b[3796]][_0xee2b[3813]]&&b[_0xee2b[180]](_0xee2b[3813],b,b._depsRendered,b._depsToRender);b._renderPromiseReject(b._depsToRender);delete b[_0xee2b[3797]];delete b[_0xee2b[3798]];delete b[_0xee2b[3799]];delete b[_0xee2b[3787]];delete b[_0xee2b[3788]];b[_0xee2b[3793]]=a}},destroy:function(a){if(a[_0xee2b[3794]]){Ext[_0xee2b[3814]](a._scheduledRenderCancelId);delete a[_0xee2b[3794]]}if(a[_0xee2b[3791]]){Ext[_0xee2b[218]](a._scheduledRenderDetacher);delete a[_0xee2b[3791]]}a[_0xee2b[3796]][_0xee2b[3813]]&&a[_0xee2b[180]](_0xee2b[3813],a,a._depsRendered,a._depsToRender);a._renderPromiseReject(a._depsToRender);delete a[_0xee2b[3797]];delete a[_0xee2b[3798]];delete a[_0xee2b[3799]];delete a[_0xee2b[3787]];delete a[_0xee2b[3788]];a[_0xee2b[458]]=!0;a[_0xee2b[3793]]=c}},d);c=d;return {alias:_0xee2b[3815],mixins:[_0xee2b[3641],_0xee2b[3816]],_fsaState:a,constructor:function(b){var a=this;a[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](a,b)},destroy:function(){var a=this;return a[_0xee2b[3793]][_0xee2b[218]](a)},renderDependencies:function(b,a){var c=this,d=!a;return c[_0xee2b[3793]][_0xee2b[748]](c,b,a||b[_0xee2b[1306]]()[_0xee2b[1005]](),d)},clearDependencies:function(b,a){var c=this,d=!a;return c[_0xee2b[3793]][_0xee2b[231]](c,b,a||b[_0xee2b[1306]]()[_0xee2b[1005]](),d)},updateDependencies:function(c,a){var b=this,d=!a;a=a||c[_0xee2b[1306]]()[_0xee2b[1005]]();return b[_0xee2b[3793]][_0xee2b[231]](b,c,a,d)[_0xee2b[3817]](function(){a=d?c[_0xee2b[1306]]()[_0xee2b[1005]]():Ext[_0xee2b[26]][_0xee2b[48]](a,function(d,b){if(b[_0xee2b[64]]&&Ext[_0xee2b[26]][_0xee2b[147]](b[_0xee2b[64]][_0xee2b[373]],b)===-1){d[_0xee2b[11]](b)}return d},[]);return !b[_0xee2b[458]]?b[_0xee2b[3793]][_0xee2b[748]](b,c,a,d):a})},delegateRendering:function(a,b,c){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[29])},inheritableStatics:{depsToMap:_0x8e22x9,uniqueDeps:_0x8e22x1,diffDeps:_0x8e22x2}}});Ext[_0xee2b[6]](_0xee2b[3818],{extend:_0xee2b[3784],alias:_0xee2b[3819],config:{depsPerStep:50,mode:_0xee2b[3820]},delegateRendering:function(d,b,c){var a=this;return a[_0xee2b[2131]]()==_0xee2b[3820]?a[_0xee2b[3821]](d,b,c):a[_0xee2b[3822]](d,b,c)},delegateRenderingBulk:function(a,b,c){a[_0xee2b[3803]]()[_0xee2b[3802]](a[_0xee2b[3610]](),a[_0xee2b[3801]](),b,!1);return [b,[]]},delegateRenderingAsync:function(a,d,g){var e=this,b=e[_0xee2b[3823]](),c=d[_0xee2b[191]](0,b),f=d[_0xee2b[191]](b);a[_0xee2b[3803]]()[_0xee2b[3802]](a[_0xee2b[3610]](),a[_0xee2b[3801]](),c,!1);return [c,f]}});Ext[_0xee2b[6]](_0xee2b[3824],{alias:_0xee2b[3825],mixins:[_0xee2b[3641],_0xee2b[3816]],requires:[_0xee2b[3607],_0xee2b[3639],_0xee2b[3721],_0xee2b[3818]],uses:[_0xee2b[110],_0xee2b[34],_0xee2b[3826]],config:{primaryView:null,dependencyStore:null,drawDependencies:!0,bulkRenderingDependencyLimit:100,asyncRenderingDepsPerStep:50,painterConfig:{canvasCls:_0xee2b[3827]},canvasLayer:0,enableDependencyDragDrop:!0,terminalSides:[_0xee2b[1354],_0xee2b[867],_0xee2b[686],_0xee2b[754]],dragTipTpl:null,tipTpl:null,showTooltip:!0,dragZoneConfig:null,selectedCls:_0xee2b[3828],overCls:_0xee2b[3829]},painter:null,renderingStrategy:null,primaryViewDetacher:null,primaryViewLockableDetacher:null,primaryViewElDetacher:null,dependencyStoreDetacher:null,dragZone:null,scrolling:!1,tip:null,constructor:function(c){var a=this,b;a[_0xee2b[9]]([c]);a[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](a,c);a[_0xee2b[35]](c);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[135]](a[_0xee2b[3610]](),_0xee2b[3830]);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[3832]](a[_0xee2b[3610]](),_0xee2b[2919],_0xee2b[3831]);Ext[_0xee2b[133]]&&Ext[_0xee2b[133]][_0xee2b[3832]](a[_0xee2b[3610]](),_0xee2b[2922],_0xee2b[3831]);a[_0xee2b[3833]]=a[_0xee2b[3835]](Ext[_0xee2b[8]]({rtl:a[_0xee2b[3610]]()[_0xee2b[1855]],dependencyStore:a[_0xee2b[1306]]()},a[_0xee2b[3834]]()));if(a[_0xee2b[3833]][_0xee2b[3734]]()){if(a[_0xee2b[3610]]()[_0xee2b[1302]]){a[_0xee2b[3610]]()[_0xee2b[252]](a[_0xee2b[3610]]()[_0xee2b[1302]],{add:a[_0xee2b[3836]],remove:a[_0xee2b[3836]],clear:a[_0xee2b[3836]],refresh:a[_0xee2b[3836]],scope:a})}if(a[_0xee2b[1306]]()){a[_0xee2b[252]](a[_0xee2b[1306]](),{add:a[_0xee2b[3837]],remove:a[_0xee2b[3836]],clear:a[_0xee2b[3836]],refresh:a[_0xee2b[3836]],scope:a})}a[_0xee2b[252]](a[_0xee2b[3610]]()[_0xee2b[2467]],{viewchange:a[_0xee2b[3836]],scope:a})}if(a[_0xee2b[3786]]()){a[_0xee2b[3838]]()}if(a[_0xee2b[3839]]()){b=a[_0xee2b[3610]]();a[_0xee2b[3840]]=a[_0xee2b[3845]](Ext[_0xee2b[8]]({view:b,ddGroup:b[_0xee2b[32]]()+_0xee2b[3841],rtl:b[_0xee2b[1855]],terminalSelector:_0xee2b[3842],dependencyStore:a[_0xee2b[1306]](),tipTpl:a[_0xee2b[3843]]()},a[_0xee2b[3844]]()||{}));a[_0xee2b[3840]][_0xee2b[149]]({dragstart:a[_0xee2b[2095]],drop:a[_0xee2b[3846]],afterdrop:a[_0xee2b[3645]],scope:a});a[_0xee2b[846]](a[_0xee2b[3840]],[_0xee2b[3661],_0xee2b[1958],_0xee2b[3631],_0xee2b[3632]])}var d=a[_0xee2b[3847]]();if(d){a[_0xee2b[2106]]=new Sch[_0xee2b[829]][_0xee2b[3647]].Tooltip(Ext[_0xee2b[8]]({dependencyView:a,tpl:a[_0xee2b[3848]]()},d))}},destroy:function(){var a=this;a[_0xee2b[3849]]();a[_0xee2b[2106]]&&a[_0xee2b[2106]][_0xee2b[218]]();a[_0xee2b[3840]]&&a[_0xee2b[3840]][_0xee2b[218]]()},destroyDetachers:function(){var a=this;Ext[_0xee2b[1004]](this,_0xee2b[3850],_0xee2b[3851],_0xee2b[3852],_0xee2b[1324])},destroyDependencyCanvas:function(){var a=this;if(a[_0xee2b[3800]]()){Ext[_0xee2b[218]](a[_0xee2b[3801]]())}},destroyRenderingStrategy:function(){var a=this;Ext[_0xee2b[218]](a[_0xee2b[3853]]);a[_0xee2b[3853]]=null},resetPainterCache:function(){this[_0xee2b[3833]][_0xee2b[3730]]()},updatePainterCache:function(){this[_0xee2b[3833]][_0xee2b[3730]](!0)},canDrawDependencies:function(d,b,c){var a=this;return !!(a[_0xee2b[3833]]&&a[_0xee2b[3610]]()&&(d||a[_0xee2b[3854]]())&&(b||a[_0xee2b[3855]]())&&(c||a[_0xee2b[1306]]()))},startDrawDependencies:function(){var a=this,b=a[_0xee2b[3610]](),d=a[_0xee2b[1306]](),c;if(!a[_0xee2b[3853]]){a[_0xee2b[3853]]=a[_0xee2b[3856]]();a[_0xee2b[3850]]=b[_0xee2b[149]](Ext[_0xee2b[330]]({destroyable:!0},a[_0xee2b[3857]]()));a[_0xee2b[3852]]=b[_0xee2b[787]]()[_0xee2b[149]](Ext[_0xee2b[330]]({destroyable:!0},a[_0xee2b[3858]]()));if(b[_0xee2b[840]]){c=b[_0xee2b[840]][_0xee2b[3859]]&&b[_0xee2b[840]][_0xee2b[3859]][_0xee2b[290]]();if(b!=c){a[_0xee2b[3851]]=c[_0xee2b[149]](Ext[_0xee2b[330]]({destroyable:!0},a[_0xee2b[3860]]()))}}a[_0xee2b[1324]]=d[_0xee2b[149]](Ext[_0xee2b[330]]({destroyable:!0},a[_0xee2b[3861]]()))}a[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},stopDrawDependencies:function(){var a=this;a[_0xee2b[3863]]();a[_0xee2b[3864]]();a[_0xee2b[3865]]()},createRenderingStrategy:function(){var a=this;return Sch[_0xee2b[829]][_0xee2b[3647]][_0xee2b[3868]][_0xee2b[3867]][_0xee2b[831]]({depsPerStep:a[_0xee2b[3866]]()})},maybeSwitchRenderingStrategy:function(){var a=this;if(a[_0xee2b[1306]]()[_0xee2b[1466]]()<=a[_0xee2b[3869]]()){a[_0xee2b[3853]][_0xee2b[1720]](_0xee2b[3820])}else {a[_0xee2b[3853]][_0xee2b[1720]](_0xee2b[922])}},updatePrimaryView:function(b,c){var a=this;if(c){a[_0xee2b[3849]]()}if(b){if(!a[_0xee2b[1306]]()&&b[_0xee2b[696]]()){a[_0xee2b[1412]](b[_0xee2b[696]]()[_0xee2b[1306]]())}if(a[_0xee2b[3786]]()){a[_0xee2b[3838]]()}}},applyDependencyStore:function(a){return a&&Ext[_0xee2b[1072]][_0xee2b[131]](a)},updateDependencyStore:function(b,c){var a=this;if(c){a[_0xee2b[3849]]()}if(b&&a[_0xee2b[3786]]()){a[_0xee2b[3838]]()}},updateDrawDependencies:function(b,c){var a=this;if(b&&a[_0xee2b[3786]](!0)){a[_0xee2b[3838]]()}else {if(!b){a[_0xee2b[3849]]()}}},applyPainterConfig:function(a){return Ext[_0xee2b[135]](a)?Ext[_0xee2b[8]]({},a):a},updatePainterConfig:function(b){var a=this;if(a[_0xee2b[3833]]){if(b){b=Ext[_0xee2b[8]]({},{rtl:a[_0xee2b[3610]]()[_0xee2b[1855]]},b)}if(b&&_0xee2b[249] in b&&b[_0xee2b[249]]!==a[_0xee2b[3833]][_0xee2b[249]]){Ext[_0xee2b[218]](a[_0xee2b[3833]]);a[_0xee2b[3833]]=a[_0xee2b[3835]](b)}else {a[_0xee2b[3833]][_0xee2b[3121]](b)}a[_0xee2b[3865]]();if(a[_0xee2b[3786]]()){a[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])}}},updateCanvasLayer:function(b){var a=this;a[_0xee2b[3865]]();if(a[_0xee2b[3786]]()){a[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])}},getPrimaryViewListeners:function(){var a=this;return {itemadd:a[_0xee2b[3870]],itemremove:a[_0xee2b[3871]],itemupdate:a[_0xee2b[3872]],refresh:a[_0xee2b[3873]],bufferedrefresh:a[_0xee2b[3873]],expandbody:a[_0xee2b[3874]],collapsebody:a[_0xee2b[3875]],eventrepaint:a[_0xee2b[3876]],'baseline-show':a[_0xee2b[3873]],'baseline-hide':a[_0xee2b[3873]],scope:a}},getPrimaryViewLockableListeners:function(){var a=this;return {expandbody:a[_0xee2b[3874]],collapsebody:a[_0xee2b[3875]],scope:a}},getPrimaryViewElListeners:function(){var a=this;return {dblclick:a[_0xee2b[3877]],click:a[_0xee2b[3877]],contextmenu:a[_0xee2b[3877]],mouseover:a[_0xee2b[3877]],mouseout:a[_0xee2b[3877]],delegate:_0xee2b[3609],scope:a}},getDependencyStoreListeners:function(){var a=this;return {add:a[_0xee2b[3878]],remove:a[_0xee2b[3879]],update:a[_0xee2b[3880]],refresh:a[_0xee2b[3881]],clear:a[_0xee2b[3882]],scope:a}},createPainter:function(a){return Sch[_0xee2b[829]][_0xee2b[3647]][_0xee2b[3883]][_0xee2b[831]](a)},getPainter:function(){return this[_0xee2b[3833]]},clonePainter:function(){var a=this;return a[_0xee2b[3833]]&&a[_0xee2b[3833]][_0xee2b[1161]]()||null},createDragZone:function(a){return Sch[_0xee2b[829]][_0xee2b[3647]][_0xee2b[3884]][_0xee2b[831]](a)},isDependencyCanvasAvailable:function(){var a=this[_0xee2b[3610]]();return a&&a[_0xee2b[2919]]()},isDependencyCanvasPresent:function(){var a=this,b=a[_0xee2b[3610]]();return b&&b[_0xee2b[3886]](a[_0xee2b[3885]]())},getDependencyCanvas:function(){var a=this;return a[_0xee2b[3610]]()[_0xee2b[2922]](a[_0xee2b[3885]](),a[_0xee2b[3833]][_0xee2b[3887]]())},renderAllDependencies:function(){var a=this,b;if(a[_0xee2b[3786]]()&&(a[_0xee2b[3320]]||a[_0xee2b[180]](_0xee2b[3593],a)!==!1)){a[_0xee2b[3320]]||a[_0xee2b[3853]][_0xee2b[149]](_0xee2b[3812],function(b,c){a[_0xee2b[3320]]=!1;a[_0xee2b[180]](_0xee2b[770],a)},null,{single:!0});a[_0xee2b[3320]]=!0;b=a[_0xee2b[3853]][_0xee2b[3888]](a)}else {b=Ext[_0xee2b[3806]][_0xee2b[378]](a[_0xee2b[1306]]()[_0xee2b[1005]]())}return b},renderDependencies:function(b,d){var a=this,c;if(!Ext[_0xee2b[307]](b)){b=[b]}if(a[_0xee2b[3786]]()){if(d){c=a[_0xee2b[3853]][_0xee2b[3890]](a)[_0xee2b[3817]](function(){return !a[_0xee2b[3853]][_0xee2b[458]]?a[_0xee2b[3853]][_0xee2b[3889]](a,b):b})}else {c=a[_0xee2b[3853]][_0xee2b[3889]](a,b)}}else {c=Ext[_0xee2b[3806]][_0xee2b[378]](b)}return c},updateDependencies:function(a){var b=this,c;if(!Ext[_0xee2b[307]](a)){a=[a]}if(b[_0xee2b[3786]]()){c=b[_0xee2b[3853]][_0xee2b[3888]](b,a)}else {c=Ext[_0xee2b[3806]][_0xee2b[378]](a)}return c},clearDependencies:function(a){var b=this,c;if(!Ext[_0xee2b[307]](a)){a=[a]}if(b[_0xee2b[3786]]()){c=b[_0xee2b[3853]][_0xee2b[3890]](b,a)}else {c=Ext[_0xee2b[3806]][_0xee2b[378]](a)}return c},clearAllDependencies:function(){var a=this,b;if(a[_0xee2b[3786]]()){b=a[_0xee2b[3853]][_0xee2b[3890]](a)}else {b=Ext[_0xee2b[3806]][_0xee2b[378]]()}return b},getDependencyForElement:function(e){var a=this,d=a[_0xee2b[1306]](),b=null,c;if(d){c=a[_0xee2b[3833]][_0xee2b[3891]](e);b=d[_0xee2b[1015]](c)}return b},highlightDependency:function(a,c){var b=this;if(!(a&&a[_0xee2b[988]])){a=b[_0xee2b[1306]]()[_0xee2b[395]](a)}a&&a[_0xee2b[2128]](c||b[_0xee2b[3892]]())},unhighlightDependency:function(a,c){var b=this;if(!(a&&a[_0xee2b[988]])){a=b[_0xee2b[1306]]()[_0xee2b[395]](a)}a&&a[_0xee2b[3893]](c||b[_0xee2b[3892]]())},getHighlightedDependencies:function(c){var a=this,b=a[_0xee2b[1306]]();return b&&b[_0xee2b[3894]](c||a[_0xee2b[3892]]())||[]},onPrimaryViewItemAdd:function(d,b,c,a){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewItemUpdate:function(d,b,c,a){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewItemRemove:function(d,b,c,a){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewRefresh:function(a){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewExpandBody:function(){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewCollapseBody:function(){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewEventRepaint:function(){this[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onPrimaryViewDependencyElPointerEvent:function(c,f,h){var a=this,g=a[_0xee2b[3833]][_0xee2b[3891]](f),d=a[_0xee2b[1306]]()[_0xee2b[1015]](g);if(d){a[_0xee2b[180]](_0xee2b[3647]+c[_0xee2b[249]],a,d,c,f);var b=this[_0xee2b[3895]](),e=a[_0xee2b[3833]][_0xee2b[3804]](a[_0xee2b[3801]](),d);if(b&&c[_0xee2b[249]]===_0xee2b[3896]){e[_0xee2b[264]](b)}else {if(b&&c[_0xee2b[249]]===_0xee2b[3897]){e[_0xee2b[267]](b)}}}},onDependencyStoreAdd:function(c,b){var a=this;a[_0xee2b[3898]]();a[_0xee2b[3889]](b)[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onDependencyStoreRemove:function(c,b){var a=this;a[_0xee2b[3898]]();a[_0xee2b[3890]](b)[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onDependencyStoreUpdate:function(b,a){this[_0xee2b[3888]](a)[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onDependencyStoreRefresh:function(b){var a=this;a[_0xee2b[3898]]();a[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onDependencyStoreClear:function(b){var a=this;a[_0xee2b[3898]]();a[_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])},onDragStart:function(){var a=this,b=a[_0xee2b[3610]]();b[_0xee2b[3280]]&&b[_0xee2b[3280]]();a[_0xee2b[2106]]&&a[_0xee2b[2106]][_0xee2b[2061]]();a[_0xee2b[3610]]()[_0xee2b[787]]()[_0xee2b[264]](_0xee2b[3669])},onDependencyDrop:function(c,a,b){b&&this[_0xee2b[1306]]()[_0xee2b[255]](a)},onDependencyAfterDrop:function(){var a=this[_0xee2b[3610]]();if(!a[_0xee2b[458]]){a[_0xee2b[3281]]&&a[_0xee2b[3281]]();a[_0xee2b[787]]()[_0xee2b[267]](_0xee2b[3669]);a[_0xee2b[787]]()[_0xee2b[760]](_0xee2b[3899])[_0xee2b[267]](_0xee2b[3666]);this[_0xee2b[2106]]&&this[_0xee2b[2106]][_0xee2b[2064]]()}}});Ext[_0xee2b[6]](_0xee2b[3900],{extend:_0xee2b[17],requires:[_0xee2b[3824]],mixinConfig:{after:{initComponent:_0xee2b[3901],destroy:_0xee2b[218]}},dependencyViewConfig:null,dependencyView:null,dependencyViewRelayDetacher:null,dependencyDragRelayDetacher:null,initComponent:function(){var a=this;a[_0xee2b[149]](_0xee2b[1808],function(){if(a[_0xee2b[696]]()){a[_0xee2b[3902]](a[_0xee2b[3347]](),a[_0xee2b[808]]())}})},getDependencyViewConfig:function(){return this[_0xee2b[3903]]},setDependencyViewConfig:function(a){var b=this;if(b[_0xee2b[3903]]!==a){b[_0xee2b[3903]]=a;if(b[_0xee2b[3611]]){if(a&&_0xee2b[249] in a&&a[_0xee2b[249]]!==b[_0xee2b[3611]][_0xee2b[249]]){b[_0xee2b[3902]](a,b[_0xee2b[808]]())}else {b[_0xee2b[3611]][_0xee2b[3121]](a)}}}},hasDependencyView:function(){return !!this[_0xee2b[3611]]},getDependencyView:function(){return this[_0xee2b[3611]]},createDependencyView:function(a,b){return Sch[_0xee2b[829]][_0xee2b[3647]][_0xee2b[3904]][_0xee2b[831]](Ext[_0xee2b[330]]({primaryView:b},a))},destroy:function(){Ext[_0xee2b[1004]](this,_0xee2b[3905],_0xee2b[3906],_0xee2b[3611])},setupDependencyView:function(b,c){var a=this;Ext[_0xee2b[218]](a[_0xee2b[3611]]);a[_0xee2b[3611]]=a[_0xee2b[3907]](b,c);a[_0xee2b[3908]]();a[_0xee2b[180]](_0xee2b[3909],a,a[_0xee2b[3611]]);if(a[_0xee2b[3611]][_0xee2b[3786]]()){a[_0xee2b[3611]][_0xee2b[3862]]()[_0xee2b[3817]](null,Ext[_0xee2b[688]])}},setupDependencyViewRelay:function(){var a=this;Ext[_0xee2b[218]](a[_0xee2b[3905]],a[_0xee2b[3906]]);a[_0xee2b[3905]]=a[_0xee2b[846]](a[_0xee2b[3910]](),[_0xee2b[3911],_0xee2b[3912],_0xee2b[3913],_0xee2b[3914],_0xee2b[3915]]);a[_0xee2b[3906]]=a[_0xee2b[846]](a[_0xee2b[3910]](),[_0xee2b[3661],_0xee2b[1958],_0xee2b[3631],_0xee2b[3632]],_0xee2b[3647])}});Ext[_0xee2b[6]](_0xee2b[3916],{extend:_0xee2b[3597],mixins:[_0xee2b[3335],_0xee2b[3900]],alias:[_0xee2b[3917],_0xee2b[3918]],alternateClassName:_0xee2b[3919],viewType:_0xee2b[3920],isSchedulerGrid:!0,initComponent:function(){this[_0xee2b[9]](arguments);this[_0xee2b[808]]()._initializeSchedulerView()}},function(){this[_0xee2b[507]](Sch[_0xee2b[1637]][_0xee2b[3921]][_0xee2b[139]][_0xee2b[1635]]()||{})});Ext[_0xee2b[6]](_0xee2b[3922],{extend:_0xee2b[2846],getScheduledEventsForResource:function(){var b=this[_0xee2b[829]],a=[];b[_0xee2b[696]]()[_0xee2b[25]](function(c){if(c[_0xee2b[1611]]()&&c[_0xee2b[1205]]()&&b[_0xee2b[1795]][_0xee2b[2601]](c)){a[_0xee2b[11]](c)}});return a},onEventAdd:function(){this[_0xee2b[829]][_0xee2b[2668]]()},onEventUpdate:function(){this[_0xee2b[829]][_0xee2b[2668]]()},onEventRemove:function(){this[_0xee2b[829]][_0xee2b[2668]]()}});Ext[_0xee2b[6]](_0xee2b[3923],{extend:_0xee2b[3295],requires:[_0xee2b[3922]],allDay:!0,eventAnimations:!1,horizontalViewClass:_0xee2b[3922],additionalEventCls:_0xee2b[27],repaintEventsForResource:function(){this[_0xee2b[2668]]()},generateTplData:function(c,a,d){var b,e;a=c[_0xee2b[1053]]()||this[_0xee2b[1302]][_0xee2b[572]]();b=this[_0xee2b[9]]([c,a,d]);b[_0xee2b[3924]]=!0;b[_0xee2b[2640]]+=_0xee2b[60]+this[_0xee2b[3925]];if(a){if(Ext[_0xee2b[1]](a[_0xee2b[1284]])&&a[_0xee2b[1284]]()){b[_0xee2b[2640]]+=_0xee2b[60]+a[_0xee2b[1284]]()}if(Ext[_0xee2b[1]](a[_0xee2b[3926]])&&a[_0xee2b[3926]]()){b[_0xee2b[763]]=(b[_0xee2b[763]]||_0xee2b[27])+_0xee2b[3927]+a[_0xee2b[3926]]()+_0xee2b[1471]}}return b},setEventStore:function(b,d){b=b&&Ext[_0xee2b[132]][_0xee2b[131]](b);var a=this,c=a[_0xee2b[696]](),e=b&&b[_0xee2b[1007]]();a[_0xee2b[453]](!1);a[_0xee2b[9]](arguments);a[_0xee2b[455]]();if(a[_0xee2b[1071]]){a[_0xee2b[1071]][_0xee2b[1408]](e);if(!d){a[_0xee2b[180]](_0xee2b[1074],a,a[_0xee2b[1071]],c);a[_0xee2b[2668]]()}}}});Ext[_0xee2b[6]](_0xee2b[3336],{extend:_0xee2b[3916],requires:[_0xee2b[3923]],xtype:_0xee2b[3430],cls:_0xee2b[3928],columns:[],weight:1000,height:24,rowHeight:24,hideHeaders:!0,reserveScrollbar:!1,barMargin:1,enableDragCreation:!1,enablePinchZoom:!1,mainScheduler:null,mainSchedulerView:null,mainSchedulerTimeAxis:null,storedColumnWidth:null,lastTimeTdHeight:0,resourceStore:{type:_0xee2b[3929],data:[{Id:1}]},relayedConfigs:[_0xee2b[2887],_0xee2b[1071],_0xee2b[3354],_0xee2b[2644],_0xee2b[2645],_0xee2b[3277],_0xee2b[3082]],normalViewConfig:null,createConfig:{showHoverTip:!1,showDragTip:!1},enableEventDragDrop:!1,resizeConfig:{showTooltip:!1},viewPreset:{name:_0xee2b[3930],timeColumnWidth:25,timeResolution:{unit:_0xee2b[526],increment:1},headerConfig:{middle:{unit:_0xee2b[526],align:_0xee2b[472],dateFormat:_0xee2b[3931]}}},constructor:function(c){var a=this,b=c[_0xee2b[3274]];a[_0xee2b[3932]][_0xee2b[130]](function(a){c[a]=b[a]});a[_0xee2b[3933]]=b[_0xee2b[1795]];a[_0xee2b[3934]]=b[_0xee2b[808]]();a[_0xee2b[1302]][_0xee2b[327]]=b[_0xee2b[1302]][_0xee2b[327]];a[_0xee2b[3346]]=Ext[_0xee2b[8]]({xclass:_0xee2b[3923],eventPrefix:a[_0xee2b[3934]][_0xee2b[388]],eventBodyTemplate:a[_0xee2b[3934]][_0xee2b[2538]],additionalEventCls:a[_0xee2b[3934]][_0xee2b[3925]]||_0xee2b[27],selectedEventCls:a[_0xee2b[3934]][_0xee2b[2632]]||_0xee2b[27]},c[_0xee2b[3346]]);a[_0xee2b[9]](arguments);var d=a[_0xee2b[808]]();a[_0xee2b[252]](a[_0xee2b[3933]],{reconfigure:a[_0xee2b[3935]],scope:a});d[_0xee2b[149]]({refresh:a[_0xee2b[3936]],itemupdate:a[_0xee2b[3936]],scope:a});a[_0xee2b[3937]]();a[_0xee2b[3938]]();a[_0xee2b[3939]]();a[_0xee2b[3934]][_0xee2b[846]](a[_0xee2b[808]](),a[_0xee2b[3364]][_0xee2b[318]]([_0xee2b[3498],_0xee2b[3499],_0xee2b[3500],_0xee2b[3501]]));a[_0xee2b[3940]]=b[_0xee2b[3380]][_0xee2b[1848]][_0xee2b[3942]][_0xee2b[3941]];b[_0xee2b[3380]][_0xee2b[1848]][_0xee2b[3942]][_0xee2b[3941]]=Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[3941]],a);b[_0xee2b[3380]][_0xee2b[149]](_0xee2b[833],a[_0xee2b[3943]],a)},roundFlex:function(b){var a=this;if(!a[_0xee2b[3944]]){a[_0xee2b[3944]]=Math[_0xee2b[424]](b)}return a[_0xee2b[3944]]},resetStoredColumnWidth:function(){delete this[_0xee2b[3944]]},onContainerGridAfterLayout:function(a){if(this[_0xee2b[3944]]){if(this[_0xee2b[810]][_0xee2b[755]]()!==this[_0xee2b[3944]]){this[_0xee2b[810]][_0xee2b[2742]]=!0;this[_0xee2b[810]][_0xee2b[811]](this[_0xee2b[3944]])}}else {if(this[_0xee2b[810]][_0xee2b[755]]()!==this[_0xee2b[3274]][_0xee2b[810]][_0xee2b[2733]]){this[_0xee2b[810]][_0xee2b[811]](this[_0xee2b[3274]][_0xee2b[810]][_0xee2b[2733]])}}this[_0xee2b[3945]]()},onMainTimeAxisReconfigure:function(){this[_0xee2b[3937]]()},syncTimeAxisSpan:function(){var a=this;a[_0xee2b[1756]](a[_0xee2b[3933]][_0xee2b[697]](),a[_0xee2b[3933]][_0xee2b[698]]())},onResize:function(b,c){var a=this;a[_0xee2b[9]](arguments);a[_0xee2b[3946]]();return a},syncLockedHeaderComponent:function(){this[_0xee2b[3947]][_0xee2b[863]](this[_0xee2b[859]]())},getDesiredComponentHeight:function(){return this[_0xee2b[265]][_0xee2b[861]](_0xee2b[2871])[_0xee2b[859]]()},onSchedulingViewUpdate:function(){var a=this,b=a[_0xee2b[3948]]();if(b!==a[_0xee2b[3949]]){a[_0xee2b[3949]]=b;Ext[_0xee2b[2600]](function(){if(!a[_0xee2b[458]]){a[_0xee2b[863]](b)}})}},onDestroy:function(){this[_0xee2b[3274]][_0xee2b[3380]][_0xee2b[1848]][_0xee2b[3942]][_0xee2b[3941]]=this[_0xee2b[3940]];this[_0xee2b[9]]()},syncScroll:function(){this[_0xee2b[290]]()[_0xee2b[3950]][_0xee2b[1941]]()[_0xee2b[3951]](this[_0xee2b[3274]][_0xee2b[290]]()[_0xee2b[3950]][_0xee2b[1941]](),_0xee2b[1893])},fixEventSelection:function(){var a=this,b=a[_0xee2b[3934]];b[_0xee2b[149]]({eventmousedown:a[_0xee2b[3952]],scope:a});a[_0xee2b[149]]({scheduleclick:a[_0xee2b[3953]],schedulecontextmenu:a[_0xee2b[3953]],schedulelongpress:a[_0xee2b[3953]],scope:a})},clearPartnerSelection:function(e,g,f){var a=this,b=a[_0xee2b[2256]](),c=b[_0xee2b[3954]](),d=c===_0xee2b[3244]||c===_0xee2b[3243]&&!f[_0xee2b[2794]];if(e===a[_0xee2b[3934]]&&d){b[_0xee2b[3307]]()}},clearSelection:function(){this[_0xee2b[3274]][_0xee2b[2256]]()[_0xee2b[3307]]()}});Ext[_0xee2b[6]](_0xee2b[3955],{extend:_0xee2b[273],requires:[_0xee2b[3598],_0xee2b[1630],_0xee2b[2903]],mixins:[_0xee2b[665],_0xee2b[3459]],alias:[_0xee2b[3956]],useArrows:!0,rootVisible:!1,lockedXType:_0xee2b[3957],isTimelineTreePanel:!0,initComponent:function(){this[_0xee2b[9]](arguments);this[_0xee2b[808]]()._initializeTimelineView()}},function(){this[_0xee2b[507]](Sch[_0xee2b[1637]][_0xee2b[3601]][_0xee2b[139]][_0xee2b[1635]]()||{})});Ext[_0xee2b[6]](_0xee2b[3958],{extend:_0xee2b[3955],mixins:[_0xee2b[3335],_0xee2b[3900]],alias:[_0xee2b[3959]],viewType:_0xee2b[3920],isSchedulerTree:!0,setMode:function(a){if(a!==_0xee2b[1931]){Ext[_0xee2b[1182]][_0xee2b[3]](_0xee2b[3960])}},initComponent:function(){this[_0xee2b[9]](arguments);this[_0xee2b[808]]()._initializeSchedulerView()}},function(){this[_0xee2b[507]](Sch[_0xee2b[1637]][_0xee2b[3921]][_0xee2b[139]][_0xee2b[1635]]()||{})});Ext[_0xee2b[6]](_0xee2b[3464],{extend:_0xee2b[957],target:_0xee2b[3460],overrides:{refreshView:function(){var b=this[_0xee2b[829]],a=b[_0xee2b[2468]];if(!arguments[_0xee2b[4]]&&a&&a[_0xee2b[3961]]>b[_0xee2b[3961]]){this[_0xee2b[9]]([a[_0xee2b[2862]][_0xee2b[2861]]])}else {this[_0xee2b[9]](arguments)}},setBodyTop:function(f,c){var a=this[_0xee2b[829]],e=a[_0xee2b[2862]];if(!a[_0xee2b[262]]){return}var b=this[_0xee2b[840]][_0xee2b[834]]&&this[_0xee2b[840]][_0xee2b[834]][_0xee2b[3962]]&&this[_0xee2b[840]][_0xee2b[834]][_0xee2b[3962]][_0xee2b[3963]]();if(e[_0xee2b[2863]]===a[_0xee2b[64]][_0xee2b[1466]]()-1){c=!1}else {if(b&&b[_0xee2b[1894]]<=this[_0xee2b[3964]]-1){c=!1}}var d=this[_0xee2b[9]](arguments);a[_0xee2b[180]](_0xee2b[3965],this);return d},getScrollHeight:function(){var a=this,j=a[_0xee2b[829]],d=j[_0xee2b[2862]],i=a[_0xee2b[64]],c=i[_0xee2b[1466]](),f=d[_0xee2b[1466]](),h,g,e,b;if(!c){return 0}if(!a[_0xee2b[53]](_0xee2b[2678])){if(f){if(a[_0xee2b[3543]]){a[_0xee2b[2678]]=Math[_0xee2b[424]](a[_0xee2b[3966]]/f)}else {h=d[_0xee2b[572]]();g=h[_0xee2b[859]]();if(Ext[_0xee2b[3967]]){e=h[_0xee2b[3968]](_0xee2b[1997]);if(e>0){g-=e}}a[_0xee2b[2678]]=g}}else {delete a[_0xee2b[2678]]}}if(a[_0xee2b[3543]]){if(d[_0xee2b[2863]]===c-1){b=a[_0xee2b[3969]]+a[_0xee2b[3966]]-1}else {b=Math[_0xee2b[424]]((c-f)*a[_0xee2b[2678]])+a[_0xee2b[3966]];b+=Math[_0xee2b[715]](a[_0xee2b[3969]]-d[_0xee2b[2861]]*a[_0xee2b[2678]],0)}}else {b=Math[_0xee2b[424]](c*a[_0xee2b[2678]])}return a[_0xee2b[3964]]=b}}});Ext[_0xee2b[6]](_0xee2b[3465],{extend:_0xee2b[957],target:_0xee2b[3460],minVersion:_0xee2b[2008],applyFn:function(){if(Ext[_0xee2b[3386]]){Ext[_0xee2b[6]](null,{override:_0xee2b[3460],getFirstVisibleRowIndex:function(b,e,d,f){var a=this,m=a[_0xee2b[829]],g=m[_0xee2b[2862]],k=g[_0xee2b[3970]],l=a[_0xee2b[3971]],c,h,j=a[_0xee2b[3969]];if(g[_0xee2b[1466]]()&&a[_0xee2b[3543]]){if(!arguments[_0xee2b[4]]){b=g[_0xee2b[2861]];e=g[_0xee2b[2863]];d=a[_0xee2b[3654]];f=d+l;if(j>f||j+a[_0xee2b[3966]]<d){a[_0xee2b[3972]]=!0;return Math[_0xee2b[424]](a[_0xee2b[3654]]/a[_0xee2b[2678]])}c=b+Math[_0xee2b[203]](a[_0xee2b[3973]]+(a[_0xee2b[3974]]===-1?a[_0xee2b[3432]]:a[_0xee2b[3434]]),Math[_0xee2b[424]]((e-b)/2))}else {if(b===e){return e}c=b+Math[_0xee2b[424]]((e-b)/2)}var i=k[c];h=j+i[_0xee2b[3975]];if(h+i[_0xee2b[3130]]<=d&&i[_0xee2b[3130]]){return a[_0xee2b[3976]](c+1,e,d,f)}if(h<=d){return c}else {if(c!==b){return a[_0xee2b[3976]](b,c-1,d,f)}}}return Math[_0xee2b[424]](a[_0xee2b[3654]]/a[_0xee2b[2678]])}})}}});Ext[_0xee2b[6]](_0xee2b[3466],{extend:_0xee2b[957],target:_0xee2b[3977],minVersion:_0xee2b[975],maxVersion:_0xee2b[3011],applyFn:function(){var a={setAll:function(a,e,c,f,d){var b=this;if(d&&c==-1&&a!==b[_0xee2b[829]]){a=b[_0xee2b[829]];c=a[_0xee2b[3206]]()[_0xee2b[147]](d)}return this[_0xee2b[9]](arguments)}};if(Ext[_0xee2b[2009]]()[_0xee2b[3978]](_0xee2b[3134])){a[_0xee2b[3168]]=function(a,b){a=a||0;b=b||0;return this[_0xee2b[9]](arguments)}}Ext[_0xee2b[507]](Ext[_0xee2b[840]].CellContext,a)}});Ext[_0xee2b[6]](_0xee2b[3979],{extend:_0xee2b[957],target:_0xee2b[3980],minVersion:_0xee2b[2962],maxVersion:_0xee2b[3981],overrides:{onSelect:function(b,c){var a=this;a[_0xee2b[2462]](c);a[_0xee2b[180]](_0xee2b[760],a,a[_0xee2b[3982]]);a[_0xee2b[3983]](b)}}});Ext[_0xee2b[6]](_0xee2b[2113],{extend:_0xee2b[957],target:_0xee2b[2111],minVersion:_0xee2b[2836],overrides:{unreg:function(){try{this[_0xee2b[9]](arguments)}catch(b){}}}});Ext[_0xee2b[6]](_0xee2b[3984],{extend:_0xee2b[957],target:_0xee2b[2111],minVersion:_0xee2b[2962],reportUrl:_0xee2b[3985],obsoleteTestName:_0xee2b[3986],description:[_0xee2b[3987],_0xee2b[3988],_0xee2b[3989],_0xee2b[3990]][_0xee2b[73]](_0xee2b[60]),overrides:{onInitDrag:function(c,d){var a=this,b=a[_0xee2b[2156]][_0xee2b[2196]][_0xee2b[2263]](!0);b[_0xee2b[388]]=Ext[_0xee2b[388]]();a[_0xee2b[379]][_0xee2b[724]](b);a[_0xee2b[3991]](c,d);return !0}}});Ext[_0xee2b[6]](_0xee2b[3992],{extend:_0xee2b[957],target:[_0xee2b[2953]],applyFn:function(){Ext[_0xee2b[507]](Ext[_0xee2b[758]].Element,{pxRe:/^-?\d+(?:\.\d*)?px$/i,getLocalX:function(){var b=this,c,a=b[_0xee2b[2425]](_0xee2b[1354]);if(!a||a===_0xee2b[1039]){a=0}else {if(this[_0xee2b[3993]][_0xee2b[2881]](a)){a=parseFloat(a)}else {a=b[_0xee2b[809]]();c=b[_0xee2b[758]][_0xee2b[3994]];if(c){a-=Ext[_0xee2b[761]](c)[_0xee2b[809]]()}}}return a}})}});Ext[_0xee2b[6]](_0xee2b[3995],{extend:_0xee2b[957],target:[_0xee2b[2953]],minVersion:_0xee2b[2982],applyFn:function(){if(Ext[_0xee2b[3996]]){Ext[_0xee2b[507]](Ext[_0xee2b[758]].Element,{selectText:function(){try{this[_0xee2b[9]](arguments)}catch(b){}}})}}});Ext[_0xee2b[6]](_0xee2b[3997],{extend:_0xee2b[957],target:_0xee2b[3998],minVersion:_0xee2b[2836],overrides:{afterRender:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[1830]]){this[_0xee2b[1830]][_0xee2b[290]]()[_0xee2b[846]](this[_0xee2b[1941]](),[_0xee2b[2949]]);this[_0xee2b[3380]][_0xee2b[290]]()[_0xee2b[846]](this[_0xee2b[1941]](),[_0xee2b[2949]])}}}});Ext[_0xee2b[6]](_0xee2b[3462],{extend:_0xee2b[957],target:_0xee2b[3998],minVersion:_0xee2b[2008],overrides:{initComponent:function(){var a=this,b;a[_0xee2b[9]](arguments);if(a[_0xee2b[1848]]&&(b=a[_0xee2b[1848]][_0xee2b[1941]]())){b[_0xee2b[2951]]();a[_0xee2b[829]][_0xee2b[149]]({refresh:function(){b[_0xee2b[3999]]();b[_0xee2b[1940]]()[_0xee2b[758]][_0xee2b[2178]]=a[_0xee2b[829]][_0xee2b[1941]]()[_0xee2b[1940]]()[_0xee2b[758]][_0xee2b[2178]]},single:!0,delay:100})}},privates:{initFocusableElement:function(){},doEnsureVisible:function(a,e){if(this[_0xee2b[3541]]){return this[_0xee2b[4000]](a,e)}if(typeof a!==_0xee2b[1135]&&!a[_0xee2b[4001]]){a=this[_0xee2b[64]][_0xee2b[395]](a)}var b=this,c=b[_0xee2b[290]](),f=c[_0xee2b[2515]](a),o=b[_0xee2b[2467]][_0xee2b[3541]],j,k,g,h,n,m,i,p,d,l;if(e){j=e[_0xee2b[4002]];k=e[_0xee2b[689]];g=e[_0xee2b[3671]];h=e[_0xee2b[2128]];n=e[_0xee2b[760]];m=e[_0xee2b[3210]];d=e[_0xee2b[2963]]}if(b[_0xee2b[4003]]){b[_0xee2b[4003]][_0xee2b[218]]()}if(!c[_0xee2b[851]]){b[_0xee2b[4003]]=c[_0xee2b[149]]({resize:b[_0xee2b[4004]],args:Ext[_0xee2b[26]][_0xee2b[191]](arguments),scope:b,single:!0,destroyable:!0});return}if(typeof d===_0xee2b[1135]){d=b[_0xee2b[2467]][_0xee2b[3206]]()[_0xee2b[1863]]()[d]}if(f){i=o?b[_0xee2b[2467]][_0xee2b[1941]]():c[_0xee2b[1941]]();if(i){if(d){l=Ext[_0xee2b[761]](f)[_0xee2b[2931]](d[_0xee2b[4005]]())}if(o&&d){i[_0xee2b[2965]](f,!1);c[_0xee2b[1941]]()[_0xee2b[2965]](l||f,!0,g,h)}else {i[_0xee2b[2965]](l||f,!!d,g,h)}}if(!a[_0xee2b[4001]]){a=c[_0xee2b[37]](f)}if(n){c[_0xee2b[3583]]()[_0xee2b[760]](a)}if(m){c[_0xee2b[2970]]()[_0xee2b[3168]](a,0)}Ext[_0xee2b[4002]](j,k||b,[!0,a,f])}else {if(c[_0xee2b[2478]]){c[_0xee2b[2478]][_0xee2b[289]](a,{animate:g,highlight:h,select:n,focus:m,column:d,callback:function(f,c,d){Ext[_0xee2b[4002]](j,k||b,[!0,c,d])}})}else {Ext[_0xee2b[4002]](j,k||b,[!1,null])}}}}}});Ext[_0xee2b[6]](_0xee2b[3463],{extend:_0xee2b[957],target:_0xee2b[4006],overrides:{scrollBy:function(b,c,a){if(this[_0xee2b[2468]]){this[_0xee2b[9]]([b||null,null,a]);this[_0xee2b[834]][_0xee2b[834]][_0xee2b[1941]]()[_0xee2b[3127]](null,c,a)}else {this[_0xee2b[9]]([b,c,a])}}}});Ext[_0xee2b[6]](_0xee2b[3467],{extend:_0xee2b[957],target:_0xee2b[3131],minVersion:_0xee2b[3134],overrides:{initComponent:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[1855]]){this[_0xee2b[1848]][_0xee2b[149]](_0xee2b[833],function(a){a[_0xee2b[289]](this[_0xee2b[1920]]())},this)}}}});Ext[_0xee2b[6]](_0xee2b[3468],{extend:_0xee2b[957],target:_0xee2b[3131],minVersion:_0xee2b[2836],overrides:{scrollVerticallyTo:function(b,a){this[_0xee2b[694]](_0xee2b[805])[_0xee2b[1941]]()[_0xee2b[289]](null,b,a)},getVerticalScroll:function(){var a=this[_0xee2b[694]](_0xee2b[805])[_0xee2b[1941]]();if(a[_0xee2b[3449]]){if(a[_0xee2b[3449]]()){return a[_0xee2b[2950]]()[_0xee2b[1894]]}else {return 0}}else {return a[_0xee2b[2950]]()[_0xee2b[1894]]}}}});Ext[_0xee2b[6]](_0xee2b[3469],{extend:_0xee2b[957],target:_0xee2b[3459],minVersion:_0xee2b[2836],applyFn:function(){Sch[_0xee2b[1818]][_0xee2b[3450]]&&Sch[_0xee2b[1818]][_0xee2b[3450]][_0xee2b[507]]({hideHeaders:!1});Sch[_0xee2b[1818]][_0xee2b[3451]]&&Sch[_0xee2b[1818]][_0xee2b[3451]][_0xee2b[507]]({hideHeaders:!1})}});Ext[_0xee2b[6]](_0xee2b[3470],{extend:_0xee2b[957],requires:[_0xee2b[4007]],target:_0xee2b[4007],applyFn:function(){var a=Ext[_0xee2b[758]][_0xee2b[4009]][_0xee2b[4008]];Ext[_0xee2b[758]][_0xee2b[4009]][_0xee2b[4008]]=function(b){b[_0xee2b[1972]]=b[_0xee2b[1972]]||[];return a[_0xee2b[8]](this,arguments)}}});Ext[_0xee2b[6]](_0xee2b[4010],{extend:_0xee2b[782],alias:_0xee2b[4011],requires:[_0xee2b[4012],_0xee2b[2440],_0xee2b[1140],_0xee2b[1794]],mixins:{observable:_0xee2b[108]},frameCls:_0xee2b[4013],editingCls:_0xee2b[4014],activeCls:_0xee2b[4015],frameTemplate:new Ext.Template([_0xee2b[4016],_0xee2b[4017],_0xee2b[4018],_0xee2b[4019],_0xee2b[4020],_0xee2b[1815]]),editor:_0xee2b[2440],singleClickEditing:!0,dblClickTimeout:100,editing:!1,context:{},position:{},selContext:[],lockedView:null,schedulingView:null,timeAxisViewModel:null,keyNav:null,constructor:function(a){this[_0xee2b[295]][_0xee2b[294]][_0xee2b[217]][_0xee2b[293]](this);this[_0xee2b[9]](arguments);this[_0xee2b[2470]]={};this[_0xee2b[1780]]={}},init:function(b){var a=this;a[_0xee2b[4021]]=b[_0xee2b[808]]();a[_0xee2b[4022]]=b[_0xee2b[1830]][_0xee2b[290]]();b[_0xee2b[2970]]()[_0xee2b[2061]]();a[_0xee2b[810]]=b[_0xee2b[810]];a[_0xee2b[4023]]=new Ext[_0xee2b[49]].KeyNav({target:a[_0xee2b[4022]],eventName:_0xee2b[4024],processEvent:function(e,d,f,c,a){a[_0xee2b[2217]]();return a},ignoreInputFields:!0,up:a[_0xee2b[4025]],down:a[_0xee2b[4026]],right:a[_0xee2b[4027]],left:a[_0xee2b[4028]],tab:a[_0xee2b[4029]],enter:a[_0xee2b[4030]],esc:a[_0xee2b[4031]],scope:a});if(b[_0xee2b[2478]]){a[_0xee2b[4021]][_0xee2b[149]](_0xee2b[3088],function(){a[_0xee2b[4021]][_0xee2b[1941]]()[_0xee2b[149]](_0xee2b[1978],a[_0xee2b[2201]],a)});a[_0xee2b[4021]][_0xee2b[149]](_0xee2b[4032],a[_0xee2b[4033]],a)}a[_0xee2b[4034]]=new Ext[_0xee2b[49]].DelayedTask(a[_0xee2b[4035]],a);b[_0xee2b[149]]({headerclick:a[_0xee2b[4036]],zoomchange:a[_0xee2b[4037]],scope:a});a[_0xee2b[4021]][_0xee2b[149]]({containerclick:a[_0xee2b[4036]],scheduleclick:a[_0xee2b[4038]],scheduledblclick:a[_0xee2b[4039]],eventclick:a[_0xee2b[3303]],eventdblclick:a[_0xee2b[4040]],containerkeydown:a[_0xee2b[4041]],groupcollapse:a[_0xee2b[4042]],groupexpand:a[_0xee2b[4043]],scope:a});if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){a[_0xee2b[4021]][_0xee2b[149]](_0xee2b[770],a[_0xee2b[4044]],a);a[_0xee2b[252]](a[_0xee2b[810]],_0xee2b[724],a[_0xee2b[4044]],a)}a[_0xee2b[252]](a[_0xee2b[810]],{update:a[_0xee2b[4045]],scope:a});a[_0xee2b[252]](b[_0xee2b[695]](),{beforereconfigure:a[_0xee2b[4046]],scope:a});a[_0xee2b[4047]](b[_0xee2b[1007]]());a[_0xee2b[2375]](b[_0xee2b[696]]());a[_0xee2b[4022]][_0xee2b[149]]({cellclick:a[_0xee2b[4048]],beforeitemkeydown:a[_0xee2b[4049]],scope:a});b[_0xee2b[149]](_0xee2b[1074],function(e,d,c){a[_0xee2b[2375]](c,!0);a[_0xee2b[2375]](d)});b[_0xee2b[149]](_0xee2b[1409],function(e,d,c){a[_0xee2b[4047]](c,!0);a[_0xee2b[4047]](d)})},moveContainerElToSecondaryCanvas:function(){if(this[_0xee2b[726]]){this[_0xee2b[4021]][_0xee2b[1839]]()[_0xee2b[83]](this[_0xee2b[726]])}},getNbrOfTicks:function(){return this[_0xee2b[4021]][_0xee2b[1795]][_0xee2b[1466]]()},onEditorKeyDown:function(b,a){if(!this[_0xee2b[2950]]()[_0xee2b[53]](_0xee2b[4050])){return}switch(a[_0xee2b[2211]]()){case a[_0xee2b[4054]]:a[_0xee2b[2217]]();if(a[_0xee2b[4051]]){this[_0xee2b[4052]](a)}else {this[_0xee2b[4053]](a)};break;case a[_0xee2b[4056]]:this[_0xee2b[4055]]();break;case a[_0xee2b[2213]]:this[_0xee2b[3030]](a);break;default:break;}},onEditorKeyEnter:function(){if(this[_0xee2b[4057]]()){this[_0xee2b[4058]]()}else {this[_0xee2b[4060]](this[_0xee2b[4059]](this[_0xee2b[2950]](),!0))}},destroy:function(){this[_0xee2b[4023]][_0xee2b[218]]();this[_0xee2b[2662]]&&this[_0xee2b[2662]][_0xee2b[218]]&&this[_0xee2b[2662]][_0xee2b[218]]();this[_0xee2b[4037]]();this[_0xee2b[9]](arguments)},destroyHighlighter:function(){var a=this;a[_0xee2b[3953]]();if(a[_0xee2b[2662]]&&a[_0xee2b[2662]][_0xee2b[265]]&&!a[_0xee2b[4021]][_0xee2b[458]]){a[_0xee2b[4021]][_0xee2b[1839]]()[_0xee2b[83]](a[_0xee2b[2662]][_0xee2b[265]]);a[_0xee2b[2662]][_0xee2b[256]]()}if(a[_0xee2b[726]]){a[_0xee2b[726]][_0xee2b[218]]();delete a[_0xee2b[726]]}a[_0xee2b[2470]]={};a[_0xee2b[1780]]={}},onGroupCollapse:function(){var a=this;if(a[_0xee2b[4061]]()===-1){a[_0xee2b[4037]]()}else {a[_0xee2b[4062]]()}},onGroupExpand:function(){this[_0xee2b[4062]]()},onViewScroll:function(){var a=this;if(a[_0xee2b[726]]){var b=a[_0xee2b[4021]][_0xee2b[3117]](a[_0xee2b[2950]]()[_0xee2b[4063]]);if(b){a[_0xee2b[726]][_0xee2b[2079]](Ext[_0xee2b[761]](b)[_0xee2b[1936]]()-1)}}},onItemAdd:function(){var a=this,b=a[_0xee2b[2950]]()[_0xee2b[4063]];if(b){var c=a[_0xee2b[4021]][_0xee2b[3117]](b);if(c){a[_0xee2b[726]][_0xee2b[2019]]()}else {a[_0xee2b[726]][_0xee2b[256]]()}}},getResourceIndex:function(a){var b=this;a=a||b[_0xee2b[2950]]()[_0xee2b[4063]];return b[_0xee2b[4021]][_0xee2b[147]](a)},getResource:function(a){return this[_0xee2b[4021]][_0xee2b[3408]][_0xee2b[1752]](a)},onResourceAdd:function(b,a){this[_0xee2b[4062]]()},onResourceRemove:function(c,b){var a=this;if(c[_0xee2b[1466]]()===0||Ext[_0xee2b[26]][_0xee2b[147]](b,a[_0xee2b[2950]]()[_0xee2b[4063]])!==-1){a[_0xee2b[4037]]()}else {a[_0xee2b[4062]]()}},onBeforeReconfigure:function(b){var a=this[_0xee2b[2950]]();if(!this[_0xee2b[1138]]&&Ext[_0xee2b[789]](a[_0xee2b[4050]])){this[_0xee2b[1138]]=b[_0xee2b[1752]](a[_0xee2b[4050]])[_0xee2b[712]]()}},onLockedCellClick:function(d,g,f,c,e,b,a){this[_0xee2b[4060]]({tickIndex:this[_0xee2b[2950]]()[_0xee2b[4050]]||0,resourceIndex:b},a)},onBeforeItemKeyDown:function(d,b,c,e,a){if(!a[_0xee2b[4064]]()){this[_0xee2b[46]]()}},onViewModelUpdate:function(d){var a=this,c=d[_0xee2b[1795]];if(a[_0xee2b[1138]]){var b=c[_0xee2b[1764]](a[_0xee2b[1138]]);if(b>=0){delete a[_0xee2b[1138]];a[_0xee2b[1780]][_0xee2b[4050]]=b;if(!a[_0xee2b[726]]){a[_0xee2b[4065]]()}a[_0xee2b[4062]]()}else {a[_0xee2b[4037]]()}}else {a[_0xee2b[4062]]()}},refreshCell:function(){var a=this;var b=a[_0xee2b[810]][_0xee2b[755]]();if(a[_0xee2b[726]]){a[_0xee2b[726]][_0xee2b[839]](b);a[_0xee2b[726]][_0xee2b[1857]](b);a[_0xee2b[4060]]({tickIndex:a[_0xee2b[2950]]()[_0xee2b[4050]],resourceIndex:a[_0xee2b[4061]]()})}if(a[_0xee2b[2662]] instanceof Ext[_0xee2b[4067]][_0xee2b[927]][_0xee2b[4066]]){a[_0xee2b[2662]][_0xee2b[4068]](b)}},clearSelection:function(){var a=this;if(a[_0xee2b[4021]][_0xee2b[262]]){a[_0xee2b[4021]][_0xee2b[1839]]()[_0xee2b[760]](_0xee2b[495]+a[_0xee2b[4069]]+_0xee2b[4070])[_0xee2b[63]]()}a[_0xee2b[4071]]=[]},addSelection:function(){var a=this;var b=a[_0xee2b[4073]][_0xee2b[8]]({cls:[a[_0xee2b[4069]],_0xee2b[4072]][_0xee2b[73]](_0xee2b[60]),width:a[_0xee2b[726]][_0xee2b[793]](),height:a[_0xee2b[726]][_0xee2b[859]]()});b=Ext[_0xee2b[55]](Ext[_0xee2b[758]][_0xee2b[4074]][_0xee2b[384]](a[_0xee2b[726]][_0xee2b[79]](),b));b[_0xee2b[2051]](_0xee2b[686],a[_0xee2b[726]][_0xee2b[2425]](_0xee2b[686]));b[_0xee2b[2051]](_0xee2b[1354],a[_0xee2b[726]][_0xee2b[2425]](_0xee2b[1354]));a[_0xee2b[4071]][_0xee2b[11]](Ext[_0xee2b[8]]({},a[_0xee2b[2470]]))},applyVisibilityMode:function(a){a[_0xee2b[4076]](Ext[_0xee2b[758]][_0xee2b[4075]].OFFSETS)},renderElement:function(){var a=this;var c=a[_0xee2b[810]][_0xee2b[755]]();var b=a[_0xee2b[810]][_0xee2b[2832]]();var e=a[_0xee2b[4073]][_0xee2b[8]]({cls:[a[_0xee2b[4069]],a[_0xee2b[263]]][_0xee2b[73]](_0xee2b[60]),width:c,height:b});a[_0xee2b[726]]=Ext[_0xee2b[55]](Ext[_0xee2b[2261]][_0xee2b[384]](a[_0xee2b[4021]][_0xee2b[1839]](),e));a[_0xee2b[4077]](a[_0xee2b[726]]);var d={height:b,maxHeight:b,width:c,maxWidth:c,listeners:{render:function(b){a[_0xee2b[4077]](b[_0xee2b[265]])}},renderTo:a[_0xee2b[726]]};if(Ext[_0xee2b[135]](a[_0xee2b[2662]])&&!(a[_0xee2b[2662]] instanceof Ext[_0xee2b[4066]])){a[_0xee2b[2662]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]](d,a[_0xee2b[2662]],{xclass:_0xee2b[2440]}))}else {if(typeof a[_0xee2b[2662]]===_0xee2b[308]){a[_0xee2b[2662]]=Ext[_0xee2b[831]](a[_0xee2b[2662]],d)}else {a[_0xee2b[726]][_0xee2b[83]](a[_0xee2b[2662]][_0xee2b[265]]);a[_0xee2b[4077]](a[_0xee2b[2662]][_0xee2b[265]])}}a[_0xee2b[2662]][_0xee2b[4078]][_0xee2b[2051]]({height:b-3+_0xee2b[804],minHeight:b-3+_0xee2b[804]})},onContainerClick:function(){var a=this;if(a[_0xee2b[4022]][_0xee2b[3583]]()[_0xee2b[3314]]()[_0xee2b[4]]>0){if(a[_0xee2b[2662]][_0xee2b[854]]&&a[_0xee2b[2662]][_0xee2b[854]]()){a[_0xee2b[2662]][_0xee2b[3210]]()}}},onCellClick:function(){this[_0xee2b[4034]][_0xee2b[4080]](this[_0xee2b[4079]],null,null,arguments)},handleCellClick:function(g,d,c,f,e){var a=this;var b=Math[_0xee2b[424]](a[_0xee2b[4021]][_0xee2b[1795]][_0xee2b[1764]](d));if(a[_0xee2b[180]](_0xee2b[3580],a,b,c)!==!1){a[_0xee2b[4060]]({tickIndex:b,resourceIndex:c},e);if(a[_0xee2b[4081]]){a[_0xee2b[46]]()}}},onCellDblClick:function(b,e,a,c,d){this[_0xee2b[4034]][_0xee2b[1499]]();this[_0xee2b[4082]](b,e,a,c,d)},handleCellDblClick:function(g,d,c,f,e){var a=this;var b=Math[_0xee2b[424]](a[_0xee2b[4021]][_0xee2b[1795]][_0xee2b[1764]](d));if(a[_0xee2b[180]](_0xee2b[4083],a,b,c)!==!1){a[_0xee2b[4060]]({tickIndex:b,resourceIndex:c},e);a[_0xee2b[46]]()}},onEventClick:function(g,b,c){var a=this;var e=a[_0xee2b[4021]][_0xee2b[2035]](c);var d=Math[_0xee2b[424]](a[_0xee2b[4021]][_0xee2b[1795]][_0xee2b[1764]](e));var f=a[_0xee2b[4061]](b[_0xee2b[1053]]());a[_0xee2b[4060]]({tickIndex:d,resourceIndex:f,eventRecord:b},c)},onEventDblClick:function(g,b,c){var a=this;var e=a[_0xee2b[4021]][_0xee2b[2035]](c);var d=Math[_0xee2b[424]](a[_0xee2b[4021]][_0xee2b[1795]][_0xee2b[1764]](e));var f=a[_0xee2b[4061]](b[_0xee2b[1053]]());a[_0xee2b[4060]]({tickIndex:d,resourceIndex:f,eventRecord:b},c);a[_0xee2b[46]]()},showEditorInCell:function(b,c){var a=this;if(b[_0xee2b[4050]]===-1||b[_0xee2b[4084]]===-1){return}if(!b[_0xee2b[4085]]){b=a[_0xee2b[4059]](b)}var f=b[_0xee2b[1138]],g=b[_0xee2b[1139]],h=b[_0xee2b[4084]],e=b[_0xee2b[4063]],d=b[_0xee2b[2329]];if(c&&c[_0xee2b[249]]===_0xee2b[248]&&!d){b[_0xee2b[2329]]=d=a[_0xee2b[4086]](b)[_0xee2b[1752]](0)}if(a[_0xee2b[180]](_0xee2b[4087],a,e,f,g,d)===!1){return}a[_0xee2b[4088]](c);if(!a[_0xee2b[726]]){a[_0xee2b[4065]]()}else {if(c&&c[_0xee2b[2794]]){a[_0xee2b[4089]]()}else {a[_0xee2b[3953]]()}}a[_0xee2b[3168]](b);a[_0xee2b[4090]]();a[_0xee2b[4091]](c);a[_0xee2b[180]](_0xee2b[760],a,e,f,g);a[_0xee2b[180]](_0xee2b[3384],a,a[_0xee2b[3314]]())},getContextFromPosition:function(a){var b={startDate:a[_0xee2b[1138]],endDate:a[_0xee2b[1139]],resource:a[_0xee2b[4063]]};if(a[_0xee2b[2329]]){b[_0xee2b[2329]]=a[_0xee2b[2329]]}return b},getPosition:function(){return Ext[_0xee2b[8]]({},this[_0xee2b[1780]])},setPosition:function(b){var a=this;a[_0xee2b[2470]]=a[_0xee2b[4092]](b);Ext[_0xee2b[8]](a[_0xee2b[1780]],b)},stripPosition:function(a){return {tickIndex:a[_0xee2b[4050]],resourceIndex:a[_0xee2b[4084]]}},alignEditor:function(){var a=this[_0xee2b[2950]](),b=a[_0xee2b[2329]];if(b){this[_0xee2b[4093]](b,a[_0xee2b[4063]])}else {this[_0xee2b[4094]]()}},alignEditorWithRecord:function(d,c){var b=this;var e=b[_0xee2b[4021]][_0xee2b[2191]](d,c),a=e[0][_0xee2b[2611]]();a[_0xee2b[1894]]--;a[_0xee2b[1893]]--;b[_0xee2b[4095]](a)},alignEditorWithCell:function(){var a=this,c=a[_0xee2b[2950]]();var b=Ext[_0xee2b[55]](a[_0xee2b[4021]][_0xee2b[4096]](c[_0xee2b[4063]]));b&&a[_0xee2b[4095]]({left:a[_0xee2b[810]][_0xee2b[755]]()*c[_0xee2b[4050]],y:b[_0xee2b[2421]]()-1,height:b[_0xee2b[859]]()+1,width:a[_0xee2b[810]][_0xee2b[755]]()})},alignEditorToBox:function(b){var a=this;a[_0xee2b[726]][_0xee2b[2079]](b[_0xee2b[1894]]);if(_0xee2b[1893] in b){a[_0xee2b[726]][_0xee2b[2171]](b[_0xee2b[1893]])}else {a[_0xee2b[726]][_0xee2b[1857]](b[_0xee2b[1354]])}a[_0xee2b[726]][_0xee2b[839]](b[_0xee2b[773]]);a[_0xee2b[726]][_0xee2b[863]](b[_0xee2b[747]]);a[_0xee2b[726]][_0xee2b[2019]]()},getSelection:function(){return this[_0xee2b[4071]][_0xee2b[318]](this[_0xee2b[2470]])},getEventRecord:function(a){return (a||this[_0xee2b[2470]])[_0xee2b[2329]]},getResourceRecord:function(a){return (a||this[_0xee2b[2470]])[_0xee2b[4063]]},onKeyUp:function(a){this[_0xee2b[4097]](a)},onKeyDown:function(a){this[_0xee2b[4098]](a)},onKeyLeft:function(a){this[_0xee2b[4099]](a)},onKeyRight:function(a){this[_0xee2b[4100]](a)},onKeyTab:function(a){if(a[_0xee2b[4051]]){this[_0xee2b[4099]](a)}else {this[_0xee2b[4100]](a)}},onKeyEnter:function(){this[_0xee2b[46]]()},onKeyEsc:function(){this[_0xee2b[4037]]()},findPreviousIndex:function(){var a=this,c=a[_0xee2b[2950]]();var b=a[_0xee2b[4021]][_0xee2b[4101]](c[_0xee2b[4063]],-1);if(b!==c[_0xee2b[4063]]){return a[_0xee2b[4061]](b)}else {return -1}},findNextIndex:function(){var a=this,c=a[_0xee2b[2950]]();var b=a[_0xee2b[4021]][_0xee2b[4101]](c[_0xee2b[4063]],1);if(b!==c[_0xee2b[4063]]){return a[_0xee2b[4061]](b)}else {return -1}},getCellEvents:function(a){var d=this,b=d[_0xee2b[4021]];a=a||d[_0xee2b[2950]]();if(a[_0xee2b[4084]]===-1||a[_0xee2b[4050]]===-1){return new Ext[_0xee2b[49]].MixedCollection()}var c=b[_0xee2b[696]]()[_0xee2b[1569]](function(b){return b[_0xee2b[1008]]()===a[_0xee2b[4063]][_0xee2b[32]]()&&b[_0xee2b[712]]()>=a[_0xee2b[1138]]&&b[_0xee2b[712]]()<a[_0xee2b[1139]]});c[_0xee2b[4102]](function(f,c){var e=b[_0xee2b[2191]](f,a[_0xee2b[4063]])[0],d=b[_0xee2b[2191]](c,a[_0xee2b[4063]])[0];return e[_0xee2b[1936]]()<d[_0xee2b[1936]]()?-1:1});return c},getAbove:function(a){var b=this;a=a||b[_0xee2b[2950]]();if(a[_0xee2b[2329]]){var e=b[_0xee2b[4086]](a);var c=e[_0xee2b[147]](a[_0xee2b[2329]]);if(c>0){var f=c-1;return {tickIndex:a[_0xee2b[4050]],resourceIndex:a[_0xee2b[4084]],eventIndexInCell:f,eventRecord:e[_0xee2b[1752]](f)}}}var d=b[_0xee2b[4103]]();if(d===-1){return {resourceIndex:-1}}return b[_0xee2b[4059]]({tickIndex:a[_0xee2b[4050]],resourceIndex:d},!0)},getBelow:function(a){var b=this;a=a||b[_0xee2b[2950]]();if(a[_0xee2b[2329]]){var c=b[_0xee2b[4086]](a);var e=c[_0xee2b[147]](a[_0xee2b[2329]]);var d=e+1;if(e>=0&&c[_0xee2b[1466]]()>d){return {tickIndex:a[_0xee2b[4050]],resourceIndex:a[_0xee2b[4084]],eventIndexInCell:d,eventRecord:c[_0xee2b[1752]](d)}}}var f=b[_0xee2b[4104]]();if(f===-1){return {resourceIndex:-1}}return b[_0xee2b[4059]]({resourceIndex:f,tickIndex:a[_0xee2b[4050]]})},getEventOrCell:function(a,j){var k=this;if(a[_0xee2b[4050]]===-1||a[_0xee2b[4084]]===-1){return a}var i=this[_0xee2b[4021]],g=i[_0xee2b[1795]][_0xee2b[1752]](a[_0xee2b[4050]]),h=g[_0xee2b[712]](),e=g[_0xee2b[713]](),f=i[_0xee2b[3408]][_0xee2b[1752]](a[_0xee2b[4084]]),b=a[_0xee2b[2329]],c=a[_0xee2b[4105]];var d=k[_0xee2b[4086]]({resource:f,startDate:h,endDate:e});if(d[_0xee2b[1466]]()){if(j===!0){c=d[_0xee2b[1466]]()-1;b=d[_0xee2b[1752]](c)}else {if(b){c=Ext[_0xee2b[26]][_0xee2b[147]](d,b)}else {c=0;b=d[_0xee2b[1752]](0)}}}return {tickIndex:a[_0xee2b[4050]],startDate:h,endDate:e,resourceIndex:a[_0xee2b[4084]],resource:f,eventRecord:b,eventIndexInCell:c,isCellContext:!0}},getPrevious:function(b){var a=this;b=a[_0xee2b[4106]](b||a[_0xee2b[2950]]());if(b[_0xee2b[4050]]>0){return a[_0xee2b[4059]]({tickIndex:b[_0xee2b[4050]]-1,resourceIndex:b[_0xee2b[4084]]})}else {return a[_0xee2b[4059]]({tickIndex:a[_0xee2b[4107]]()-1,resourceIndex:a[_0xee2b[4103]]()})}},getNext:function(b){var a=this;b=a[_0xee2b[4106]](b||a[_0xee2b[2950]]());if(b[_0xee2b[4050]]<a[_0xee2b[4107]]()-1){return a[_0xee2b[4059]]({tickIndex:b[_0xee2b[4050]]+1,resourceIndex:b[_0xee2b[4084]]})}else {return a[_0xee2b[4059]]({tickIndex:0,resourceIndex:a[_0xee2b[4104]]()})}},moveUp:function(b){var a=this;if(!a[_0xee2b[726]]){return}a[_0xee2b[4060]](a[_0xee2b[4108]](),b)},moveDown:function(b){var a=this;if(!a[_0xee2b[726]]){return}a[_0xee2b[4060]](a[_0xee2b[4109]](),b)},moveLeft:function(b){var a=this;if(!a[_0xee2b[726]]){return}a[_0xee2b[4060]](a[_0xee2b[4110]](),b)},moveRight:function(b){var a=this;if(!a[_0xee2b[726]]){return}a[_0xee2b[4060]](a[_0xee2b[1283]](),b)},editNext:function(d){var a=this,c=a[_0xee2b[2950]](),b=a[_0xee2b[1283]](c);while(!a[_0xee2b[46]](b)&&b[_0xee2b[4084]]!==-1){c=b;b=a[_0xee2b[1283]](c)}},editPrevious:function(d){var a=this,c=a[_0xee2b[2950]](),b=a[_0xee2b[4110]](c);while(!a[_0xee2b[46]](b)&&b[_0xee2b[4084]]!==-1){c=b;b=a[_0xee2b[4110]](c)}},expandResourceRow:function(d,a,c){var b=this;Ext[_0xee2b[761]](d)[_0xee2b[863]](a[_0xee2b[747]]+c);Ext[_0xee2b[761]](b[_0xee2b[4022]][_0xee2b[3117]](b[_0xee2b[2950]]()[_0xee2b[4063]]))[_0xee2b[863]](a[_0xee2b[747]]+c);b[_0xee2b[4111]]=a[_0xee2b[747]]},getNewBottomEditorCoordinate:function(g){var a=this,f=a[_0xee2b[4086]]()[_0xee2b[576]]();if(f){var d=a[_0xee2b[2950]](),e=a[_0xee2b[4021]],h=e[_0xee2b[3117]](d[_0xee2b[4063]]),b=Ext[_0xee2b[761]](h)[_0xee2b[2611]](),c=e[_0xee2b[2191]](f,d[_0xee2b[4063]])[0][_0xee2b[2611]]();if(Math[_0xee2b[1524]](c[_0xee2b[754]]-b[_0xee2b[754]])<g-1){a[_0xee2b[4112]](h,b,g);return b[_0xee2b[754]]}else {return c[_0xee2b[754]]}}},collapseResourceRow:function(){var a=this;if(a[_0xee2b[4111]]){var b=a[_0xee2b[2950]]();Ext[_0xee2b[761]](a[_0xee2b[4021]][_0xee2b[3117]](b[_0xee2b[4063]]))[_0xee2b[863]](a.__oldHeight);Ext[_0xee2b[761]](a[_0xee2b[4022]][_0xee2b[3117]](b[_0xee2b[4063]]))[_0xee2b[863]](a.__oldHeight);delete a[_0xee2b[4111]]}},beginEditBelow:function(){var a=this;if(!a[_0xee2b[726]]){return}delete a[_0xee2b[2470]][_0xee2b[2329]];a[_0xee2b[46]]();var b=a[_0xee2b[810]][_0xee2b[2832]]();var c=a[_0xee2b[4113]](b);a[_0xee2b[4095]]({left:a[_0xee2b[810]][_0xee2b[755]]()*a[_0xee2b[2950]]()[_0xee2b[4050]],y:c,width:a[_0xee2b[810]][_0xee2b[755]](),height:b})},beginEdit:function(b){var a=this;if(!a[_0xee2b[726]]||b&&b[_0xee2b[4084]]===-1){return !1}if(a[_0xee2b[180]](_0xee2b[4114],a,b?[a[_0xee2b[4092]](b)]:a[_0xee2b[3314]]())===!1){return !1}if(b){a[_0xee2b[4060]](b)}a[_0xee2b[3029]]=!0;a[_0xee2b[2662]][_0xee2b[1138]]=a[_0xee2b[2950]]()[_0xee2b[1138]];a[_0xee2b[2662]][_0xee2b[2448]]=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1190]](a[_0xee2b[810]][_0xee2b[877]]()[_0xee2b[1734]]);a[_0xee2b[726]][_0xee2b[760]](_0xee2b[4115])[_0xee2b[256]]();a[_0xee2b[726]][_0xee2b[264]](a[_0xee2b[4116]]);var c=a[_0xee2b[2174]](),f=a[_0xee2b[4117]]();if(c){var d=Ext[_0xee2b[703]];var e=Ext[_0xee2b[307]](a[_0xee2b[2662]][_0xee2b[879]])?a[_0xee2b[2662]][_0xee2b[879]][0]:a[_0xee2b[2662]][_0xee2b[879]];var g=d[_0xee2b[880]](c[_0xee2b[712]](),e);var h=d[_0xee2b[880]](c[_0xee2b[713]](),e);a[_0xee2b[2662]][_0xee2b[933]]=c;a[_0xee2b[2662]][_0xee2b[2462]]([g,h][_0xee2b[73]](a[_0xee2b[2662]][_0xee2b[2447]]));a[_0xee2b[2662]][_0xee2b[4118]]=a[_0xee2b[4021]][_0xee2b[2191]](c,f)[0];Ext[_0xee2b[761]](a[_0xee2b[2662]][_0xee2b[4118]])[_0xee2b[256]]()}a[_0xee2b[2662]][_0xee2b[2019]]();a[_0xee2b[2662]][_0xee2b[839]](a[_0xee2b[2662]][_0xee2b[4119]]());a[_0xee2b[2662]][_0xee2b[3210]]();a[_0xee2b[180]](_0xee2b[4120],a,a[_0xee2b[3314]]());return a[_0xee2b[3029]]},cancelEdit:function(){var a=this;if(a[_0xee2b[2662]]&&a[_0xee2b[2662]][_0xee2b[4121]]){var c=a[_0xee2b[2662]][_0xee2b[4121]]();var b=a[_0xee2b[3314]]();if(a[_0xee2b[180]](_0xee2b[4122],a,c,b)===!1){return}a[_0xee2b[4123]]();a[_0xee2b[180]](_0xee2b[4124],a,c,b)}},completeEdit:function(){var a=this,j=!1;if(!a[_0xee2b[3029]]||!a[_0xee2b[726]]){return}var b=a[_0xee2b[2662]],c=a[_0xee2b[2662]][_0xee2b[4121]](),e=a[_0xee2b[3314]]();if(a[_0xee2b[180]](_0xee2b[4125],a,c,e)===!1){return}if(c&&b[_0xee2b[348]]()){var d=a[_0xee2b[4021]],g=b[_0xee2b[933]],h=b[_0xee2b[1206]](c),k=h[0],f=h[1];if(g){g[_0xee2b[1208]](k,f);delete b[_0xee2b[933]]}else {var i=a[_0xee2b[2470]][_0xee2b[4063]],l=Ext[_0xee2b[831]](d[_0xee2b[696]]()[_0xee2b[137]](),{StartDate:k,EndDate:f,ResourceId:i[_0xee2b[32]]()});d[_0xee2b[3277]](l,[i]);d[_0xee2b[696]]()[_0xee2b[255]](l)}j=!0}a[_0xee2b[4123]]();a[_0xee2b[180]](_0xee2b[4126],a,c,e);return j},stopEditing:function(){var a=this,b=a[_0xee2b[2662]];if(b[_0xee2b[4118]]){Ext[_0xee2b[761]](b[_0xee2b[4118]])[_0xee2b[2019]]();delete b[_0xee2b[4118]]}a[_0xee2b[4127]]();b[_0xee2b[2462]](_0xee2b[27]);a[_0xee2b[3029]]=!1;a[_0xee2b[3953]]();a[_0xee2b[726]][_0xee2b[760]](_0xee2b[4115])[_0xee2b[2019]]();a[_0xee2b[726]][_0xee2b[267]](a[_0xee2b[4116]]);b[_0xee2b[256]]();var c=a[_0xee2b[4022]][_0xee2b[4096]](a[_0xee2b[2950]]()[_0xee2b[4063]]);c&&Ext[_0xee2b[761]](c)[_0xee2b[861]](a[_0xee2b[4022]][_0xee2b[4005]]())[_0xee2b[3210]]()},onBeforeSelect:function(a){var b=this;a&&a[_0xee2b[2979]]&&a[_0xee2b[2979]]()&&b[_0xee2b[3953]]();b[_0xee2b[4057]]()},onAfterSelect:function(c){var a=this,b=a[_0xee2b[2950]]()[_0xee2b[4063]];a[_0xee2b[4022]][_0xee2b[3583]]()[_0xee2b[760]](b);Ext[_0xee2b[761]](a[_0xee2b[4022]][_0xee2b[4096]](b))[_0xee2b[861]](a[_0xee2b[4022]][_0xee2b[4005]]())[_0xee2b[3210]]();a[_0xee2b[2662]][_0xee2b[2462]](_0xee2b[27]);a[_0xee2b[726]][_0xee2b[2965]](a[_0xee2b[4021]][_0xee2b[787]]())},bindResourceStore:function(b,c){if(b){var a=this;a[c?_0xee2b[325]:_0xee2b[252]](b,{add:a[_0xee2b[2313]],remove:a[_0xee2b[1080]],clear:a[_0xee2b[4037]],scope:a})}},bindEventStore:function(b,c){if(b){var a=this;a[c?_0xee2b[325]:_0xee2b[252]](b,{load:a[_0xee2b[4037]],scope:a})}}});Ext[_0xee2b[6]](_0xee2b[4128],{extend:_0xee2b[1948],alias:_0xee2b[4129],mixins:[_0xee2b[782]],requires:[_0xee2b[1910]],lockableScope:_0xee2b[686],schedulerView:null,eventData:null,sm:null,proxy:null,bodyRegion:null,constructor:function(a){a=a||{};Ext[_0xee2b[330]](a,{onBeforeStart:this[_0xee2b[4130]],onStart:this[_0xee2b[4131]],onDrag:this[_0xee2b[1982]],onEnd:this[_0xee2b[4132]]});this[_0xee2b[9]](arguments)},bindListenersOnDragStart:function(){if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){var a=this[_0xee2b[800]]()[_0xee2b[1941]]()[_0xee2b[1940]]();a&&a[_0xee2b[149]](_0xee2b[1978],this[_0xee2b[799]],this)}this[_0xee2b[9]](arguments)},unbindListenersOnDragEnd:function(){if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){var a=this[_0xee2b[800]]()[_0xee2b[1941]]()[_0xee2b[1940]]();a&&a[_0xee2b[152]](_0xee2b[1978],this[_0xee2b[799]],this)}this[_0xee2b[9]](arguments)},init:function(a){this[_0xee2b[4133]](a);var b=this[_0xee2b[1817]]=a[_0xee2b[808]]();b[_0xee2b[149]]({afterrender:this[_0xee2b[4134]],scope:this})},onBeforeStart:function(a){return !a[_0xee2b[2033]](_0xee2b[2225])&&a[_0xee2b[2794]]},onStart:function(e){var a=this[_0xee2b[1817]];this[_0xee2b[379]][_0xee2b[2019]]();this[_0xee2b[4135]]=a[_0xee2b[2058]]();var d=a[_0xee2b[1922]]();var c=a[_0xee2b[1920]]();var b=[];a[_0xee2b[4136]]()[_0xee2b[25]](function(a){var f=a[_0xee2b[1945]]();f[_0xee2b[2186]](d,c,d,c);b[b[_0xee2b[4]]]={region:f,node:a[_0xee2b[758]]}});this[_0xee2b[4137]]=b;this[_0xee2b[4138]][_0xee2b[3307]]();Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2073]](a);this[_0xee2b[252]](a[_0xee2b[1941]](),_0xee2b[1978],this[_0xee2b[4139]],this)},onDrag:function(){var a=this[_0xee2b[1945]]()[_0xee2b[3068]](this[_0xee2b[4135]]);this[_0xee2b[379]][_0xee2b[2068]](a);this[_0xee2b[4139]]()},getCurrentScroll:function(){return this[_0xee2b[1817]][_0xee2b[1966]]()},updateSelection:function(){var d=this[_0xee2b[4138]],g=this[_0xee2b[4137]],i=this[_0xee2b[1945]]()[_0xee2b[3068]](this[_0xee2b[4135]]),b,a,f,c;var h=this[_0xee2b[1817]][_0xee2b[1922]]();var e=this[_0xee2b[1817]][_0xee2b[1920]]();i[_0xee2b[2186]](h,e,h,e);for(b=0,f=g[_0xee2b[4]];b<f;b++){a=g[b];c=i[_0xee2b[3059]](a[_0xee2b[4140]]);if(c&&!a[_0xee2b[3014]]){a[_0xee2b[3014]]=!0;d[_0xee2b[2931]](a[_0xee2b[2604]],!0)}else {if(!c&&a[_0xee2b[3014]]){a[_0xee2b[3014]]=!1;d[_0xee2b[4141]](a[_0xee2b[2604]])}}}},onEnd:function(a){if(this[_0xee2b[379]]){this[_0xee2b[379]][_0xee2b[4142]](!1)}this[_0xee2b[325]](this[_0xee2b[1817]][_0xee2b[1941]](),_0xee2b[1978],this[_0xee2b[4139]],this);Sch[_0xee2b[49]][_0xee2b[2074]][_0xee2b[2084]]()},onSchedulingViewRender:function(a){this[_0xee2b[4138]]=a[_0xee2b[2256]]();this[_0xee2b[4143]](this[_0xee2b[1817]][_0xee2b[265]]);this[_0xee2b[379]]=a[_0xee2b[265]][_0xee2b[825]]({cls:_0xee2b[4144]})},destroy:function(){if(this[_0xee2b[379]]){Ext[_0xee2b[218]](this[_0xee2b[379]])}this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[4145],{extend:_0xee2b[17],mixinConfig:{before:{showRecord:_0xee2b[4146],hide:_0xee2b[4147]},after:{showRecord:_0xee2b[4148]}},hideOnBlur:!0,saveAndCloseOnEnter:!0,triggerEvent:_0xee2b[3342],record:null,dragProxyEl:null,ignoreCls:_0xee2b[4149],ignoreCheckMaxDepth:30,lockableScope:_0xee2b[4150],width:400,initEditor:function(){var a=this;var b=a[_0xee2b[800]]();var c=a[_0xee2b[3275]]();c[_0xee2b[4151]]=a[_0xee2b[4152]];c[_0xee2b[3260]]=b[_0xee2b[3260]]===undefined?!0:b[_0xee2b[3260]];var d=c[_0xee2b[1565]]&&c[_0xee2b[1565]]();c[_0xee2b[4153]]&&c[_0xee2b[4153]](d!==!1&&b[_0xee2b[3354]]!==!1);a[_0xee2b[1407]](b[_0xee2b[696]]());a[_0xee2b[1408]](b[_0xee2b[1007]]());if(b[_0xee2b[262]]){a[_0xee2b[4154]]()}else {a[_0xee2b[252]](b,_0xee2b[3088],a[_0xee2b[4154]],a)}a[_0xee2b[252]](b,{dragcreateend:a[_0xee2b[3284]],eventstorechange:a[_0xee2b[4155]],resourcestorechange:a[_0xee2b[4156]],scope:a});a[_0xee2b[252]](c,{aftereventadd:a[_0xee2b[4157]],aftereventsave:a[_0xee2b[4158]],aftereventdelete:a[_0xee2b[4159]],scope:a});a[_0xee2b[149]](_0xee2b[256],a[_0xee2b[4160]],a);if(a[_0xee2b[2219]]){a[_0xee2b[252]](b,a[_0xee2b[2219]],a[_0xee2b[4161]],a)}},beforeShowRecord:function(b,c){var a=this;a[_0xee2b[4162]]();a[_0xee2b[2019]]()},addRepaintListener:function(){var a=this;var b=a[_0xee2b[800]]();if(b[_0xee2b[4163]]||b[_0xee2b[4164]]){a[_0xee2b[4165]]=a[_0xee2b[252]](b[_0xee2b[808]](),_0xee2b[2605],a[_0xee2b[4166]],a,{destroyable:!0})}},afterShowRecord:function(c,d){var a=this;var b=a[_0xee2b[800]]();var e=b&&b[_0xee2b[2184]]&&b[_0xee2b[2184]]();var f=a[_0xee2b[3275]]();a[_0xee2b[4167]](c);a[_0xee2b[4169]](Ext[_0xee2b[135]](d)&&d[_0xee2b[4168]]);f[_0xee2b[4170]](c,e)},beforeEditorHide:function(b,c){var a=this;a[_0xee2b[4165]]&&a[_0xee2b[4165]][_0xee2b[218]]()},setEventStore:function(a){var b=this;var c=b[_0xee2b[3275]]();c[_0xee2b[1407]](a)},setResourceStore:function(a){var b=this;var c=b[_0xee2b[3275]]();c[_0xee2b[1408]](a)},getEventEditor:function(){return this[_0xee2b[4171]]?this:this[_0xee2b[2662]]},onAfterEventAdd:function(b,a){if(b[_0xee2b[4172]]&&a[_0xee2b[1427]]()[_0xee2b[4]]<2){this[_0xee2b[4173]](a)}},onAfterEventSave:function(b,a){this[_0xee2b[4174]]()},scrollEventIntoView:function(a){this[_0xee2b[800]]()[_0xee2b[808]]()[_0xee2b[4173]](a)},onCmpEventStoreChange:function(b,a){this[_0xee2b[1407]](a)},onCmpResourceStoreChange:function(b,a){this[_0xee2b[1408]](a)},onAfterEventDelete:function(){this[_0xee2b[4174]]()},onCmpAfterRender:function(){var a=this;if(!a[_0xee2b[4175]]){a[_0xee2b[748]](document[_0xee2b[2179]])}if(a[_0xee2b[4176]]){a[_0xee2b[252]](Ext[_0xee2b[2222]](),_0xee2b[784],a[_0xee2b[4177]],a)}a[_0xee2b[4178]]()},registerEditorInComponent:function(){var a=this;var b=a[_0xee2b[800]]();b[_0xee2b[808]]()[_0xee2b[2552]](a)},onDragCreateEnd:function(k,g,b,e,a){var c=this;var h=c[_0xee2b[800]]();var j=c[_0xee2b[3275]]();var f=[];if(b&&b[_0xee2b[1606]]){j[_0xee2b[2055]]=b;f=[b]}if(h[_0xee2b[3277]]){h[_0xee2b[3277]](g,f)}var i=a||e[_0xee2b[2033]]&&e[_0xee2b[2033]]()||e[_0xee2b[969]]||null;c[_0xee2b[3278]](g,{alignToEl:i});if(a){var d=a[_0xee2b[758]][_0xee2b[2263]](!0);d[_0xee2b[388]]=_0xee2b[27];a[_0xee2b[758]][_0xee2b[96]][_0xee2b[83]](d);c[_0xee2b[4179]]=Ext[_0xee2b[55]](d)}},addIgnoreCls:function(){var a=this,c=a[_0xee2b[3275]](),b=c[_0xee2b[4180]]();Ext[_0xee2b[26]][_0xee2b[25]](b,function(b){b[_0xee2b[264]](a[_0xee2b[4181]])})},mouseDownAction:function(a){if(this[_0xee2b[854]]()&&!this[_0xee2b[4182]](a)){this[_0xee2b[4174]]()}},isEventWithinComponent:function(a){return a[_0xee2b[3021]](this[_0xee2b[787]]())||!!a[_0xee2b[2033]](_0xee2b[495]+this[_0xee2b[4181]],this[_0xee2b[4183]])||!!a[_0xee2b[2033]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[4184],1)},onActivateEditor:function(f,d,e){var c=this;var b=c[_0xee2b[4185]]();var a=e[_0xee2b[2033]](b);this[_0xee2b[3278]](d,{alignToEl:a})},getSelectorToAlignEditorBy:function(){var c=this;var a=c[_0xee2b[800]]();var b=a[_0xee2b[808]]&&a[_0xee2b[808]]()&&a[_0xee2b[808]]()[_0xee2b[2620]];return b?_0xee2b[495]+b:null},hideDragProxy:function(){var a=this[_0xee2b[4179]];if(a&&a[_0xee2b[758]][_0xee2b[96]]){a[_0xee2b[758]][_0xee2b[96]][_0xee2b[78]](a[_0xee2b[758]]);delete this[_0xee2b[4179]]}},hideEditor:function(){this[_0xee2b[256]]()},setRecord:function(a){this[_0xee2b[933]]=a},getRecord:function(){return this[_0xee2b[933]]}});Ext[_0xee2b[6]](_0xee2b[4186],{extend:_0xee2b[17],isCustomizableRecordForm:!0,customizableFieldNames:null,mixinConfig:{id:_0xee2b[4187],before:{loadRecord:_0xee2b[4188],updateRecord:_0xee2b[4189]},after:{updateRecord:_0xee2b[4190]}},updateAllFields:!1,renameCustomizableFieldNamesOnce:!0,customizableFieldNamesRenamed:0,autogeneratedFieldsToRemove:null,setupCustomizableRecordForm:function(e,c){var d=this;d[_0xee2b[4191]]={};if(c){var b=c[_0xee2b[139]];for(var a in b){if(a[_0xee2b[2249]](/Field$/)&&typeof b[a]==_0xee2b[308]){d[_0xee2b[4191]][a]=b[a]}}}},extractCustomizableFieldNames:function(b){var a;if(b){a={};for(var c in this[_0xee2b[4191]]){a[c]=b[c]}}return a},beforeCustomizableRecordLoad:function(a){if(!this[_0xee2b[4192]]||!this[_0xee2b[4193]]){this[_0xee2b[4194]](a)}},renameCustomizableFieldNames:function(f){var a=this[_0xee2b[4195]](f);if(a){this[_0xee2b[4193]]++;var e=this[_0xee2b[4196]](),d=!1,b;for(var c in this[_0xee2b[4191]]){b=e[_0xee2b[4197]](this[_0xee2b[4191]][c]);if(b&&a[c]&&a[c]!=b[_0xee2b[683]]){d=!0;b[_0xee2b[683]]=a[c]}}if(d){this[_0xee2b[4191]]=a}}},buildMissingCustomizableRecordField:function(b,a){return Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4198],name:b},a))},addMissingCustomizableRecordFields:function(){var a=this,f=a[_0xee2b[4196]]()[_0xee2b[4199]](),d=Ext[_0xee2b[154]][_0xee2b[1556]](a[_0xee2b[4191]]),e=[];for(var b=0;b<d[_0xee2b[4]];b++){var c=d[b];if(!f[_0xee2b[53]](c)){e[_0xee2b[11]](a[_0xee2b[255]](a[_0xee2b[4200]](c)))}}return e},beforeCustomizableRecordUpdate:function(){var a=this;if(a[_0xee2b[4201]]){a[_0xee2b[4202]]=a[_0xee2b[4203]]()}},afterCustomizableRecordUpdate:function(){var b=this;if(b[_0xee2b[4202]]){var c=b[_0xee2b[4202]];for(var a=0;a<c[_0xee2b[4]];a++){b[_0xee2b[63]](c[a])}}}});Ext[_0xee2b[6]](_0xee2b[4204],{extend:_0xee2b[4205],alias:_0xee2b[4206],mixins:[_0xee2b[665]],tpl:[_0xee2b[4207]+Ext[_0xee2b[238]]+_0xee2b[4208],_0xee2b[1812],_0xee2b[4209]+Ext[_0xee2b[238]]+_0xee2b[4210],_0xee2b[1816],_0xee2b[4211]],listConfig:{htmlEncode:!0},editable:!1,queryMode:_0xee2b[4212],displayField:_0xee2b[3438],valueField:_0xee2b[683],initComponent:function(){var a=this;this[_0xee2b[4213]]=a[_0xee2b[678]](this[_0xee2b[4213]]);a[_0xee2b[64]]=a[_0xee2b[64]]||{fields:[_0xee2b[683],_0xee2b[3438],_0xee2b[489]],data:a[_0xee2b[4214]]()};a[_0xee2b[9]](arguments)},buildOptions:function(){var a=this;return [[_0xee2b[1429],a.L(_0xee2b[578])],[_0xee2b[1436],a.L(_0xee2b[596])],[_0xee2b[1437],a.L(_0xee2b[597])],[_0xee2b[1438],a.L(_0xee2b[598])]]}});Ext[_0xee2b[6]](_0xee2b[4215],{extend:_0xee2b[4204],alias:_0xee2b[4216],allowBlank:!1,emptyText:_0xee2b[4217],customValue:_0xee2b[4218],splitCls:_0xee2b[4219],listConfig:{htmlEncode:!0},buildOptions:function(){var a=this,b=a[_0xee2b[9]](arguments);b[_0xee2b[205]]([null,a.L(_0xee2b[599])]);b[_0xee2b[11]]([a[_0xee2b[4220]],a.L(_0xee2b[600]),a[_0xee2b[4221]]]);return b},setRecurrence:function(b){var a=this;if(b){a[_0xee2b[2462]](a[_0xee2b[4222]](b)?a[_0xee2b[4220]]:b[_0xee2b[1445]]())}else {a[_0xee2b[2462]]([null])}},isCustomRecurrence:function(a){var e=a[_0xee2b[1461]](),b=a[_0xee2b[1451]](),d=a[_0xee2b[1455]](),c=a[_0xee2b[1456]]();return Boolean(e!=1||b&&b[_0xee2b[4]]||d&&d[_0xee2b[4]]||c&&c[_0xee2b[4]])}});Ext[_0xee2b[6]](_0xee2b[4223],{extend:_0xee2b[4224],requires:[_0xee2b[1771]],alias:_0xee2b[4225],recurrence:null,eventStartDate:null,initComponent:function(){this[_0xee2b[9]](arguments);this[_0xee2b[2353]](this[_0xee2b[1454]])},setRecurrence:function(a){this[_0xee2b[1454]]=a;this[_0xee2b[4226]]()},setEventStartDate:function(a){this[_0xee2b[1518]]=a;this[_0xee2b[4226]]()},refreshLegend:function(){var a=this,b=a[_0xee2b[1454]];a[_0xee2b[4229]](b?Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[4228]][_0xee2b[4227]](b,a[_0xee2b[1518]]):_0xee2b[27])}});Ext[_0xee2b[6]](_0xee2b[4230],{extend:_0xee2b[4205],requires:[_0xee2b[110],_0xee2b[4231]],mixins:[_0xee2b[665]],alias:_0xee2b[4232],tpl:[_0xee2b[4207]+Ext[_0xee2b[238]]+_0xee2b[4208],_0xee2b[1812],_0xee2b[4209]+Ext[_0xee2b[238]]+_0xee2b[4210],_0xee2b[1816],_0xee2b[4211]],splitCls:_0xee2b[4233],listConfig:{htmlEncode:!0},editable:!1,queryMode:_0xee2b[4212],displayField:_0xee2b[3438],valueField:_0xee2b[683],allowBlank:!1,maxPosition:5,defaultValue:_0xee2b[4234],initComponent:function(){var a=this;a[_0xee2b[2302]]=a[_0xee2b[2302]]||a[_0xee2b[4235]];a[_0xee2b[64]]=a[_0xee2b[64]]&&Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[131]](a[_0xee2b[64]])||new Ext[_0xee2b[22]].ArrayStore({fields:[_0xee2b[683],_0xee2b[3438],_0xee2b[489]],data:a[_0xee2b[4238]]()[_0xee2b[318]]([[_0xee2b[4236],a.L(_0xee2b[4237]),a[_0xee2b[4221]]]])});a[_0xee2b[9]](arguments)},buildDayNumbers:function(){var c=this,b=[],a;for(a=1;a<=c[_0xee2b[1924]];a++){b[_0xee2b[11]]([a+_0xee2b[27],c.L(_0xee2b[1780]+a)])}return b},setValue:function(a){var b=this;if(a&&Ext[_0xee2b[307]](a)){a=a[_0xee2b[73]](_0xee2b[72])}if(a&&this[_0xee2b[64]][_0xee2b[4239]](_0xee2b[683],a)!==-1){this[_0xee2b[9]]([a])}else {this[_0xee2b[9]]([this[_0xee2b[4235]]])}},getValue:function(){var a=this[_0xee2b[9]](arguments);return a?Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[496]](_0xee2b[72]),function(a){return parseInt(a,10)}):[]}});Ext[_0xee2b[6]](_0xee2b[4240],{extend:_0xee2b[4205],requires:[_0xee2b[110],_0xee2b[4231],_0xee2b[1141],_0xee2b[1507]],mixins:[_0xee2b[665]],alias:_0xee2b[4241],tpl:[_0xee2b[4207]+Ext[_0xee2b[238]]+_0xee2b[4208],_0xee2b[1812],_0xee2b[4209]+Ext[_0xee2b[238]]+_0xee2b[4210],_0xee2b[1816],_0xee2b[4211]],splitCls:_0xee2b[4242],listConfig:{htmlEncode:!0,maxHeight:350},editable:!1,queryMode:_0xee2b[4212],displayField:_0xee2b[3438],valueField:_0xee2b[683],allowBlank:!1,weekStartDay:1,dayNames:null,defaultValue:null,allDaysValue:_0xee2b[1772],workingDaysValue:_0xee2b[1773],nonWorkingDaysValue:_0xee2b[1774],initComponent:function(){var a=this;a[_0xee2b[4235]]=a[_0xee2b[4235]]||a[_0xee2b[1781]];a[_0xee2b[2302]]=a[_0xee2b[2302]]||a[_0xee2b[4235]];a[_0xee2b[1776]]=a[_0xee2b[1776]]||Ext[_0xee2b[703]][_0xee2b[1776]][_0xee2b[191]](a[_0xee2b[1755]])[_0xee2b[318]](Ext[_0xee2b[703]][_0xee2b[1776]][_0xee2b[191]](0,a[_0xee2b[1755]]));a[_0xee2b[64]]=a[_0xee2b[64]]&&Ext[_0xee2b[22]][_0xee2b[132]][_0xee2b[131]](a[_0xee2b[64]])||new Ext[_0xee2b[22]].ArrayStore({fields:[_0xee2b[683],_0xee2b[3438],_0xee2b[489]],data:a[_0xee2b[4214]]()});a[_0xee2b[9]](arguments)},buildOptions:function(){var a=this;return a[_0xee2b[4243]]()[_0xee2b[318]]([[a[_0xee2b[1781]],a.L(_0xee2b[524]),a[_0xee2b[4221]]],[a[_0xee2b[1782]],a.L(_0xee2b[570])],[a[_0xee2b[1783]],a.L(_0xee2b[571])]])},buildWeekDays:function(){var a=this;return Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[1776]],function(c,d){var b=(d+a[_0xee2b[1755]])%a[_0xee2b[1776]][_0xee2b[4]];return [Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[1452]](b),c]})},setValue:function(a){var b=this;if(a&&Ext[_0xee2b[307]](a)){a=a[_0xee2b[73]](_0xee2b[72])}if(a&&this[_0xee2b[64]][_0xee2b[4239]](_0xee2b[683],a)!==-1){this[_0xee2b[9]]([a])}else {this[_0xee2b[9]]([this[_0xee2b[4235]]])}},getValue:function(){var a=this[_0xee2b[9]](arguments);return a?a[_0xee2b[496]](_0xee2b[72]):[]}});Ext[_0xee2b[6]](_0xee2b[4244],{extend:_0xee2b[2450],alias:_0xee2b[4245],allowBlank:!1,margin:_0xee2b[4246],weekStartDay:0,initComponent:function(){var a=this;a[_0xee2b[1776]]=Ext[_0xee2b[703]][_0xee2b[1776]][_0xee2b[191]](a[_0xee2b[1755]])[_0xee2b[318]](Ext[_0xee2b[703]][_0xee2b[1776]][_0xee2b[191]](0,a[_0xee2b[1755]]));a[_0xee2b[266]]=a[_0xee2b[4247]]();a[_0xee2b[9]](arguments)},buildItems:function(){var a=this;return Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[1776]],function(c,d){var b=(d+a[_0xee2b[1755]])%a[_0xee2b[1776]][_0xee2b[4]];return {text:c[_0xee2b[2694]](0,3),value:Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[1452]](b)}})}});Ext[_0xee2b[6]](_0xee2b[4248],{extend:_0xee2b[2450],alias:_0xee2b[4249],allowBlank:!1,margin:_0xee2b[4246],columns:7,initComponent:function(){var a=this;a[_0xee2b[266]]=a[_0xee2b[4247]]();a[_0xee2b[9]](arguments)},buildItems:function(){var b=[],a;for(a=1;a<=Ext[_0xee2b[703]][_0xee2b[4250]];a++){b[_0xee2b[11]]({text:a+_0xee2b[27],value:a})}return b}});Ext[_0xee2b[6]](_0xee2b[4251],{extend:_0xee2b[2450],alias:_0xee2b[4252],allowBlank:!1,margin:_0xee2b[4246],columns:4,initComponent:function(){var a=this;a[_0xee2b[266]]=a[_0xee2b[4247]]();a[_0xee2b[9]](arguments)},buildItems:function(){var a=this;return Ext[_0xee2b[26]][_0xee2b[41]](Ext[_0xee2b[703]][_0xee2b[1779]],function(a,b){return {text:a[_0xee2b[2694]](0,3),value:b+1}})}});Ext[_0xee2b[6]](_0xee2b[4253],{extend:_0xee2b[4205],alias:_0xee2b[4254],mixins:[_0xee2b[665]],editable:!1,queryMode:_0xee2b[4212],displayField:_0xee2b[3438],valueField:_0xee2b[683],allowBlank:!1,listConfig:{htmlEncode:!0},initComponent:function(){var a=this;a[_0xee2b[64]]=a[_0xee2b[64]]||{fields:[_0xee2b[683],_0xee2b[3438]],data:a[_0xee2b[4214]]()};a[_0xee2b[264]](_0xee2b[4255]);a[_0xee2b[9]](arguments)},buildOptions:function(){var a=this;return [[null,a.L(_0xee2b[593])],[_0xee2b[1520],a.L(_0xee2b[594])],[_0xee2b[1097],a.L(_0xee2b[595])]]},setRecurrence:function(b){var a=null;if(b[_0xee2b[713]]()){a=_0xee2b[1097]}else {if(b[_0xee2b[1466]]()){a=_0xee2b[1520]}}this[_0xee2b[2462]]([a])}});Ext[_0xee2b[6]](_0xee2b[4256],{extend:_0xee2b[4257],requires:[_0xee2b[4258],_0xee2b[4259],_0xee2b[4260],_0xee2b[4261],_0xee2b[4262],_0xee2b[1428],_0xee2b[4204],_0xee2b[4230],_0xee2b[4240],_0xee2b[4244],_0xee2b[4248],_0xee2b[4251],_0xee2b[4253]],mixins:[_0xee2b[4186],_0xee2b[665]],alias:_0xee2b[4263],layout:{type:_0xee2b[4264],align:_0xee2b[4265]},trackResetOnLoad:!0,updateAllFields:!0,weekStartDay:1,dateFormat:_0xee2b[2691],radioFieldName:_0xee2b[4266],checkboxFieldName:_0xee2b[4267],recurrenceModel:null,frequencyField:null,intervalField:null,intervalUnit:null,daysButtonField:null,monthdaysButtonField:null,monthDaysRadioField:null,monthsButtonField:null,positionAndDayRadioField:null,positionAndDayCheckboxField:null,stopRecurrenceField:null,countField:null,countUnit:null,endDateField:null,positionsCombo:null,daysCombo:null,intervalContainer:null,positionDayContainer:null,countFieldContainer:null,initComponent:function(){var a=this;a[_0xee2b[1583]]=a[_0xee2b[1583]]||Sch[_0xee2b[327]][_0xee2b[4268]];a[_0xee2b[4269]](a,a[_0xee2b[1583]]);a[_0xee2b[266]]=a[_0xee2b[4247]]();a[_0xee2b[9]](arguments)},buildItems:function(){var a=this;if(!a[_0xee2b[4270]]||!a[_0xee2b[4270]][_0xee2b[3355]]){a[_0xee2b[4270]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4271],name:a[_0xee2b[4191]][_0xee2b[4270]],fieldLabel:a.L(_0xee2b[560])},a[_0xee2b[4270]]));a[_0xee2b[252]](a[_0xee2b[4270]],_0xee2b[2459],a[_0xee2b[4272]],a)}if(!a[_0xee2b[4273]]||!a[_0xee2b[4273]][_0xee2b[3355]]){a[_0xee2b[4273]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4274],name:a[_0xee2b[4191]][_0xee2b[4273]],minValue:1,width:85,margin:_0xee2b[4275],allowBlank:!1},a[_0xee2b[4273]]))}if(!a[_0xee2b[4276]]||!a[_0xee2b[4276]][_0xee2b[3355]]){a[_0xee2b[4276]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4277],submitValue:!1},a[_0xee2b[4276]]))}if(!a[_0xee2b[4278]]||!a[_0xee2b[4278]][_0xee2b[3355]]){a[_0xee2b[4278]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4279],name:a[_0xee2b[4191]][_0xee2b[4280]],forFrequency:_0xee2b[1436]},a[_0xee2b[4278]]))}if(!a[_0xee2b[4281]]||!a[_0xee2b[4281]][_0xee2b[3355]]){a[_0xee2b[4281]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4282],name:a[_0xee2b[4283]],submitValue:!1,forFrequency:_0xee2b[1437],boxLabel:this.L(_0xee2b[566]),handler:a[_0xee2b[4284]],scope:a},a[_0xee2b[4281]]))}if(!a[_0xee2b[4285]]||!a[_0xee2b[4285]][_0xee2b[3355]]){a[_0xee2b[4285]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4286],name:a[_0xee2b[4191]][_0xee2b[4287]],forFrequency:_0xee2b[1437]},a[_0xee2b[4285]]))}if(!a[_0xee2b[4288]]||!a[_0xee2b[4288]][_0xee2b[3355]]){a[_0xee2b[4288]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4289],name:a[_0xee2b[4191]][_0xee2b[4290]],forFrequency:_0xee2b[1438]},a[_0xee2b[4288]]))}if(!a[_0xee2b[4291]]||!a[_0xee2b[4291]][_0xee2b[3355]]){a[_0xee2b[4291]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4282],name:a[_0xee2b[4283]],submitValue:!1,forFrequency:_0xee2b[1437],boxLabel:this.L(_0xee2b[567]),handler:a[_0xee2b[4284]],scope:a},a[_0xee2b[4291]]))}if(!a[_0xee2b[4292]]||!a[_0xee2b[4292]][_0xee2b[3355]]){a[_0xee2b[4292]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4267],name:a[_0xee2b[4293]],submitValue:!1,forFrequency:_0xee2b[1438],boxLabel:this.L(_0xee2b[567]),handler:a[_0xee2b[4284]],scope:a},a[_0xee2b[4292]]))}if(!a[_0xee2b[4294]]||!a[_0xee2b[4294]][_0xee2b[3355]]){a[_0xee2b[4294]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4295],submitValue:!1,fieldLabel:a.L(_0xee2b[568]),value:[null]},a[_0xee2b[4294]]));a[_0xee2b[252]](a[_0xee2b[4294]],_0xee2b[2459],a[_0xee2b[4296]],a)}if(!a[_0xee2b[4297]]||!a[_0xee2b[4297]][_0xee2b[3355]]){a[_0xee2b[4297]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4274],name:a[_0xee2b[4191]][_0xee2b[4297]],minValue:2,allowBlank:!1,flex:1,margin:_0xee2b[4275],disabled:!0},a[_0xee2b[4297]]))}if(!a[_0xee2b[4298]]||!a[_0xee2b[4298]][_0xee2b[3355]]){a[_0xee2b[4298]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4277],value:a.L(_0xee2b[569]),submitValue:!1,flex:1,disabled:!0},a[_0xee2b[4298]]))}if(!a[_0xee2b[4299]]||!a[_0xee2b[4299]][_0xee2b[3355]]){a[_0xee2b[4299]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4300],layout:_0xee2b[4301],margin:0,hideEmptyLabel:!1,hidden:!0,items:[a[_0xee2b[4297]],a[_0xee2b[4298]]]},a[_0xee2b[4299]]))}if(!a[_0xee2b[1203]]||!a[_0xee2b[1203]][_0xee2b[3355]]){a[_0xee2b[1203]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4302],name:a[_0xee2b[4191]][_0xee2b[1203]],hidden:!0,disabled:!0,hideEmptyLabel:!1,allowBlank:!1,startDay:a[_0xee2b[1755]],format:a[_0xee2b[879]],altFormats:_0xee2b[27]},a[_0xee2b[1203]]))}if(!a[_0xee2b[4303]]||!a[_0xee2b[4303]][_0xee2b[3355]]){a[_0xee2b[4303]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4300],layout:_0xee2b[4301],fieldLabel:a.L(_0xee2b[561]),margin:0,items:[a[_0xee2b[4273]],a[_0xee2b[4276]]]},a[_0xee2b[4303]]))}if(!a[_0xee2b[4304]]||!a[_0xee2b[4304]][_0xee2b[3355]]){a[_0xee2b[4304]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4305],name:a[_0xee2b[4191]][_0xee2b[4306]],forFrequency:_0xee2b[4307],flex:1,margin:_0xee2b[4275]},a[_0xee2b[4304]]))}if(!a[_0xee2b[4308]]||!a[_0xee2b[4308]][_0xee2b[3355]]){a[_0xee2b[4308]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4309],name:a[_0xee2b[4191]][_0xee2b[4280]],forFrequency:_0xee2b[4307],weekStartDay:a[_0xee2b[1755]],flex:1},a[_0xee2b[4308]]))}if(!a[_0xee2b[4310]]||!a[_0xee2b[4310]][_0xee2b[3355]]){a[_0xee2b[4310]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4300],layout:_0xee2b[4301],items:[a[_0xee2b[4304]],a[_0xee2b[4308]]]},a[_0xee2b[4310]]))}return [a[_0xee2b[4270]],a[_0xee2b[4303]],a[_0xee2b[4278]],a[_0xee2b[4281]],a[_0xee2b[4285]],a[_0xee2b[4288]],a[_0xee2b[4291]],a[_0xee2b[4292]],a[_0xee2b[4310]],a[_0xee2b[4294]],a[_0xee2b[4299]],a[_0xee2b[1203]]]},loadRecord:function(a){var b=this,f=this[_0xee2b[9]](arguments),e=a[_0xee2b[1052]](),c=e&&e[_0xee2b[712]]();b[_0xee2b[4308]][_0xee2b[2462]](a[_0xee2b[1451]]());if(c){if(!a[_0xee2b[1451]]()||!a[_0xee2b[1451]]()[_0xee2b[4]]){this[_0xee2b[4278]][_0xee2b[2462]]([Sch[_0xee2b[22]][_0xee2b[49]][_0xee2b[1454]][_0xee2b[1453]][_0xee2b[1452]](c[_0xee2b[484]]())])}if(!a[_0xee2b[1455]]()||!a[_0xee2b[1455]]()[_0xee2b[4]]){this[_0xee2b[4285]][_0xee2b[2462]](c[_0xee2b[479]]())}if(!a[_0xee2b[1456]]()||!a[_0xee2b[1456]]()[_0xee2b[4]]){this[_0xee2b[4288]][_0xee2b[2462]](c[_0xee2b[480]]()+1)}}var d=Boolean(a[_0xee2b[1451]]()&&a[_0xee2b[1469]]());b[_0xee2b[4281]][_0xee2b[2462]](!d);b[_0xee2b[4291]][_0xee2b[2462]](d);b[_0xee2b[4292]][_0xee2b[2462]](d);b[_0xee2b[4294]][_0xee2b[2353]](a);return f},toggleStopFields:function(){var a=this;switch(a[_0xee2b[4294]][_0xee2b[4121]]()){case _0xee2b[1520]:a[_0xee2b[4299]][_0xee2b[2019]]();a[_0xee2b[4297]][_0xee2b[2064]]();a[_0xee2b[4298]][_0xee2b[2064]]();a[_0xee2b[1203]][_0xee2b[256]]();a[_0xee2b[1203]][_0xee2b[2061]]();break;case _0xee2b[1097]:a[_0xee2b[4299]][_0xee2b[256]]();a[_0xee2b[4297]][_0xee2b[2061]]();a[_0xee2b[4298]][_0xee2b[2061]]();a[_0xee2b[1203]][_0xee2b[2019]]();a[_0xee2b[1203]][_0xee2b[2064]]();break;default:a[_0xee2b[4299]][_0xee2b[256]]();a[_0xee2b[1203]][_0xee2b[256]]();a[_0xee2b[4297]][_0xee2b[2061]]();a[_0xee2b[4298]][_0xee2b[2061]]();a[_0xee2b[1203]][_0xee2b[2061]]();}},togglePositionAndDayFields:function(){var a=this,c=a[_0xee2b[4270]][_0xee2b[4121]](),b=c==_0xee2b[1437]?!a[_0xee2b[4291]][_0xee2b[4121]]():!a[_0xee2b[4292]][_0xee2b[4121]]();a[_0xee2b[4308]][_0xee2b[253]](b);a[_0xee2b[4304]][_0xee2b[253]](b);if(c==_0xee2b[1437]){a[_0xee2b[4285]][_0xee2b[253]](!a[_0xee2b[4281]][_0xee2b[4121]]())}},onFrequencyFieldChange:function(f,d){var b=this,e=b[_0xee2b[2573]](_0xee2b[4311]);for(var c=0;c<e[_0xee2b[4]];c++){var a=e[c];if(a[_0xee2b[4312]][_0xee2b[147]](d)>-1){a[_0xee2b[2019]]();a[_0xee2b[2064]]()}else {a[_0xee2b[256]]();a[_0xee2b[2061]]()}}b[_0xee2b[4276]][_0xee2b[2462]](b.L(d+_0xee2b[4276]));b[_0xee2b[4284]]();b[_0xee2b[4313]]()},onStopRecurrenceFieldChange:function(b,a){this[_0xee2b[4313]]()}});Ext[_0xee2b[6]](_0xee2b[4314],{extend:_0xee2b[4315],requires:[_0xee2b[4224],_0xee2b[1428],_0xee2b[4256]],alias:_0xee2b[4316],mixins:[_0xee2b[665]],border:!1,width:400,resizable:!1,modal:!0,recurrenceDialogCls:_0xee2b[4317],weekStartDay:1,dateFormat:_0xee2b[2691],form:null,recurrenceModel:null,saveHandler:null,cancelHandler:null,scope:null,title:_0xee2b[4318],initComponent:function(){var a=this;a[_0xee2b[264]](a[_0xee2b[4319]]);a[_0xee2b[14]]=a[_0xee2b[678]](a[_0xee2b[14]]);a[_0xee2b[1583]]=a[_0xee2b[1583]]||Sch[_0xee2b[327]][_0xee2b[4268]];if(!a[_0xee2b[4067]]||!a[_0xee2b[4067]][_0xee2b[3355]]){a[_0xee2b[4067]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4320],padding:_0xee2b[4321],weekStartDay:a[_0xee2b[1755]],dateFormat:a[_0xee2b[879]],recurrenceModel:a[_0xee2b[1583]],border:!1},a[_0xee2b[4067]]))}a[_0xee2b[266]]=[a[_0xee2b[4067]]];a[_0xee2b[4322]]=a[_0xee2b[4322]]||[{xtype:_0xee2b[2104],text:a.L(_0xee2b[559]),scope:a,handler:a[_0xee2b[4323]]},{xtype:_0xee2b[2104],text:a.L(_0xee2b[557]),scope:a,handler:a[_0xee2b[4324]]}];a[_0xee2b[9]](arguments)},onSaveClick:function(){var a=this;if(a[_0xee2b[4325]]){a[_0xee2b[4325]][_0xee2b[293]](a[_0xee2b[689]]||a,a,a[_0xee2b[37]]())}else {a[_0xee2b[4326]]();a[_0xee2b[4327]]()}},onCancelClick:function(){var a=this;if(a[_0xee2b[2347]]){a[_0xee2b[2347]][_0xee2b[293]](a[_0xee2b[689]]||a,a,a[_0xee2b[37]]())}else {a[_0xee2b[4327]]()}},loadRecord:function(a){return this[_0xee2b[4067]][_0xee2b[4170]][_0xee2b[8]](this[_0xee2b[4067]],arguments)},updateRecord:function(a){return this[_0xee2b[4067]][_0xee2b[4326]][_0xee2b[8]](this[_0xee2b[4067]],arguments)},getRecord:function(a){return this[_0xee2b[4067]][_0xee2b[37]][_0xee2b[8]](this[_0xee2b[4067]],arguments)},getFloatingComponents:function(){var c=this,b=[],e=c[_0xee2b[2573]](_0xee2b[4328]),a;for(a=0;a<e[_0xee2b[4]];a++){var f=e[a];f[_0xee2b[4329]]()}var d=c[_0xee2b[2573]](_0xee2b[4330]);if(Ext[_0xee2b[307]](d)){b=b[_0xee2b[318]](d)}return b}});Ext[_0xee2b[6]](_0xee2b[4331],{extend:_0xee2b[17],requires:[_0xee2b[4332],_0xee2b[4215],_0xee2b[4223],_0xee2b[4314],_0xee2b[2355]],isRecurrableEventEditor:!0,recurrenceRule:null,recurrenceCombo:null,recurrenceLegendButton:null,recurrenceDialog:null,config:{recurringEvents:!0},onClassMixedIn:function(a){Ext[_0xee2b[507]](a,{getDefaultFields:function(){var b=this[_0xee2b[9]](arguments)||[];return b[_0xee2b[318]](this[_0xee2b[4333]]())},getFloatingComponents:function(){var b=this[_0xee2b[9]](arguments)||[];return b[_0xee2b[318]](this[_0xee2b[4334]]())}})},setupRecurrableEventEditorMixin:function(b){var a=this;a[_0xee2b[252]](b,{loadevent:a[_0xee2b[4335]],beforeeventdelete:a[_0xee2b[4336]],beforeeventsave:a[_0xee2b[4337]],destroy:a[_0xee2b[4338]],scope:b,priority:-100})},onEditorDestroy:function(){this[_0xee2b[4339]]&&this[_0xee2b[4339]][_0xee2b[218]]()},getRecurrableEventDefaultFields:function(){var a=this,b=[];if(a[_0xee2b[3354]]!==!1){if(!a[_0xee2b[4340]]||!a[_0xee2b[4340]][_0xee2b[3355]]){a[_0xee2b[4340]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4198],name:a[_0xee2b[4191]][_0xee2b[1586]]},a[_0xee2b[4340]]))}if(!a[_0xee2b[4341]]||!a[_0xee2b[4341]][_0xee2b[3355]]){a[_0xee2b[4341]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4342],fieldLabel:a.L(_0xee2b[601]),value:[null]},a[_0xee2b[4341]]));a[_0xee2b[252]](a[_0xee2b[4341]],_0xee2b[2459],a[_0xee2b[4343]],a)}if(!a[_0xee2b[4344]]||!a[_0xee2b[4344]][_0xee2b[3355]]){a[_0xee2b[4344]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4345],hideEmptyLabel:!1,handler:a[_0xee2b[4346]],scope:a},a[_0xee2b[4344]]))}b[_0xee2b[11]](a[_0xee2b[4340]],a[_0xee2b[4341]],a[_0xee2b[4344]]);a[_0xee2b[4339]]=Ext[_0xee2b[831]]({xtype:_0xee2b[4347],weekStartDay:a[_0xee2b[1755]],dateFormat:a[_0xee2b[879]],closeAction:_0xee2b[256],saveHandler:a[_0xee2b[4348]],cancelHandler:a[_0xee2b[4349]],scope:a});a[_0xee2b[1201]]&&a[_0xee2b[252]](a[_0xee2b[1201]],_0xee2b[2459],a[_0xee2b[4350]],a)}return b},updateRecurringEvents:function(b){var a=this;if(b){if(a[_0xee2b[4341]]){a[_0xee2b[4341]][_0xee2b[2019]]()}if(a[_0xee2b[4344]]){a[_0xee2b[4344]][_0xee2b[2019]]()}}else {if(a[_0xee2b[4341]]){a[_0xee2b[4341]][_0xee2b[256]]()}if(a[_0xee2b[4344]]){a[_0xee2b[4344]][_0xee2b[256]]()}}},onRecurrableEventLoad:function(e,b,d){var a=this;a[_0xee2b[1454]]=null;if(b[_0xee2b[1568]]&&a[_0xee2b[1565]]()){var c=b[_0xee2b[1571]]()?b[_0xee2b[1580]]()[_0xee2b[1546]]():b[_0xee2b[1546]]();if(!b[_0xee2b[1587]]()){a[_0xee2b[4340]][_0xee2b[2462]](null)}if(a[_0xee2b[4341]]){a[_0xee2b[4341]][_0xee2b[2019]]();a[_0xee2b[4341]][_0xee2b[2353]](c)}if(a[_0xee2b[4344]]){a[_0xee2b[4344]][_0xee2b[2353]](c);if(c){a[_0xee2b[4344]][_0xee2b[2019]]()}else {a[_0xee2b[4344]][_0xee2b[256]]()}}}else {a[_0xee2b[4341]]&&a[_0xee2b[4341]][_0xee2b[256]]();a[_0xee2b[4344]]&&a[_0xee2b[4344]][_0xee2b[256]]()}},onRecurrableEventBeforeDelete:function(d,a,c){var b=this;if(a[_0xee2b[1568]]&&b[_0xee2b[1565]]()&&(a[_0xee2b[1547]]()||a[_0xee2b[1571]]())){Sch[_0xee2b[2395]][_0xee2b[2394]][_0xee2b[2019]]({actionType:_0xee2b[4351],eventRecord:a,changerFn:c});return !1}},onRecurrableEventBeforeSave:function(e,a,c,d){var b=this;if(a[_0xee2b[1568]]&&b[_0xee2b[1565]]()&&(a[_0xee2b[1547]]()||a[_0xee2b[1571]]())){Sch[_0xee2b[2395]][_0xee2b[2394]][_0xee2b[2019]]({actionType:_0xee2b[724],eventRecord:a,values:c,changerFn:d});return !1}},getRecurrableEventFloatingComponents:function(){var b=this,a=[];a[_0xee2b[11]](Sch[_0xee2b[2395]].RecurrenceConfirmation);if(b[_0xee2b[4339]]){a[_0xee2b[11]](b[_0xee2b[4339]]);var c=b[_0xee2b[4339]][_0xee2b[4180]]&&b[_0xee2b[4339]][_0xee2b[4180]]();if(Ext[_0xee2b[307]](c)){a=a[_0xee2b[318]](c)}}return a},onRecurrenceLegendClick:function(){this[_0xee2b[4352]]()},makeRecurrence:function(c){var b=this[_0xee2b[2174]](),a=b[_0xee2b[1546]](),d=b[_0xee2b[1054]](null);if(!c&&a){a=a[_0xee2b[1054]](null)}else {a=new b[_0xee2b[1583]]({rule:c})}a[_0xee2b[1584]](d);d[_0xee2b[1204]](this[_0xee2b[4353]]());a[_0xee2b[1442]]();return a},showRecurrenceDialog:function(){var a=this[_0xee2b[2329]];if(this[_0xee2b[4339]]&&a&&a[_0xee2b[1568]]){this[_0xee2b[4354]]();this[_0xee2b[1454]]=this[_0xee2b[1454]]||this[_0xee2b[4355]]();this[_0xee2b[1454]][_0xee2b[1052]]()[_0xee2b[1204]](this[_0xee2b[4353]]());this[_0xee2b[4339]][_0xee2b[4170]](this[_0xee2b[1454]]);this[_0xee2b[4339]][_0xee2b[2019]]()}},captureRecurrence:function(){var a=this[_0xee2b[4340]][_0xee2b[4121]]();this[_0xee2b[4356]]=a?this[_0xee2b[4355]](a):null},getCapturedRecurrence:function(){return this[_0xee2b[4356]]},onRecurrenceComboChange:function(b,a){if(!this[_0xee2b[4357]]){if(a==b[_0xee2b[4220]]){if(!this[_0xee2b[4358]]){this[_0xee2b[4352]]()}}else {this[_0xee2b[4359]](a&&this[_0xee2b[4355]](_0xee2b[1460]+a)||null)}}},onRecurrenceUpdate:function(b){var a=this;if(!a[_0xee2b[4358]]){a[_0xee2b[4358]]=!0;a[_0xee2b[1454]]=b;if(!a[_0xee2b[4357]]){a[_0xee2b[4340]][_0xee2b[2462]](b?b[_0xee2b[1585]]():null)}if(a[_0xee2b[4341]]){a[_0xee2b[4341]][_0xee2b[2353]](b)}if(a[_0xee2b[4344]]){a[_0xee2b[4344]][_0xee2b[2353]](b);if(b){a[_0xee2b[4344]][_0xee2b[2019]]()}else {a[_0xee2b[4344]][_0xee2b[256]]()}}a[_0xee2b[4358]]=!1}},recurrenceDialogSaveHandler:function(b,a){b[_0xee2b[4326]](a);this[_0xee2b[4359]](a);b[_0xee2b[4327]]()},recurrenceDialogCancelHandler:function(b){var a=this[_0xee2b[4360]]();this[_0xee2b[4359]](a);b[_0xee2b[4327]]()},onRecurrableEventStartDateChange:function(b,a){if(this[_0xee2b[4344]]){if(Ext[_0xee2b[1579]](a)){this[_0xee2b[4344]][_0xee2b[4361]](a)}}}});Ext[_0xee2b[6]](_0xee2b[4362],{extend:_0xee2b[4257],mixins:[_0xee2b[4186],_0xee2b[4331],_0xee2b[665]],alias:[_0xee2b[4363],_0xee2b[4364]],isEventEditor:!0,requires:[_0xee2b[1950],_0xee2b[4365],_0xee2b[4205],_0xee2b[3980],_0xee2b[4332],_0xee2b[4366],_0xee2b[4367],_0xee2b[1598],_0xee2b[1140],_0xee2b[3979]],trackResetOnLoad:!0,isSavingEvent:0,eventStore:null,saveOnEnter:!0,showDeleteButton:!0,allDayField:null,startDateField:null,startTimeField:null,endDateField:null,endTimeField:null,nameField:null,resourceField:null,startTimeConfig:null,startDateConfig:null,endTimeConfig:null,endDateConfig:null,resourceFieldConfig:null,nameFieldConfig:null,allDayFieldConfig:null,showResourceField:!1,scrollNewEventIntoView:!0,border:!1,bodyPadding:6,fieldsPanelConfig:null,dateFormat:_0xee2b[2691],weekStartDay:1,timeFormat:_0xee2b[1123],eventeditorCls:_0xee2b[4368],dynamicForm:!0,eventRecord:null,resourceRecord:null,currentForm:null,allowOverlap:!0,readOnly:!1,typeField:_0xee2b[4369],layout:{type:_0xee2b[4264],align:_0xee2b[4265]},initComponent:function(){var a=this;a[_0xee2b[264]](a[_0xee2b[4370]]);a[_0xee2b[4269]](a,Sch[_0xee2b[327]].Event);a[_0xee2b[4371]](a);Ext[_0xee2b[8]](a,{buttons:a[_0xee2b[4322]]||a[_0xee2b[4372]](),items:[{xtype:_0xee2b[4373],itemId:_0xee2b[4374],margin:_0xee2b[4375],defaults:{width:_0xee2b[4376]},border:!1,items:a[_0xee2b[4377]]()},Ext[_0xee2b[330]](a[_0xee2b[4378]],{flex:1,activeItem:0})]});a[_0xee2b[9]](arguments);a[_0xee2b[4374]]=a[_0xee2b[861]](_0xee2b[4379])},afterRender:function(){this[_0xee2b[9]](arguments);if(this[_0xee2b[4151]]){this[_0xee2b[265]][_0xee2b[149]]({keyup:function(a,b){if(a[_0xee2b[2211]]()===a[_0xee2b[4056]]&&b[_0xee2b[4380]][_0xee2b[819]]()===_0xee2b[4381]){this[_0xee2b[4382]]()}},scope:this})}},onAllDayChange:function(f,e){var a=this,b,d,c;if(!a[_0xee2b[4357]]){b=this[_0xee2b[1556]]();a[_0xee2b[4383]]();if(e){if(b[_0xee2b[1138]]){d=Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[1615]](b[_0xee2b[1138]]);a[_0xee2b[1201]][_0xee2b[2462]](d);a[_0xee2b[4384]][_0xee2b[2462]](d)}if(b[_0xee2b[1138]]&&b[_0xee2b[1139]]){c=Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[2177]](b[_0xee2b[1138]],b[_0xee2b[1139]]);a[_0xee2b[1203]][_0xee2b[2462]](c);a[_0xee2b[4385]][_0xee2b[2462]](c)}}else {if(b[_0xee2b[1138]]){c=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](b[_0xee2b[1138]],Sch[_0xee2b[49]][_0xee2b[703]].HOUR,1);a[_0xee2b[1203]][_0xee2b[2462]](c);a[_0xee2b[4385]][_0xee2b[2462]](c)}}a[_0xee2b[4386]]();a[_0xee2b[4387]]()}},onDatesChange:function(b,d,e){var c=Sch[_0xee2b[49]][_0xee2b[703]];var a=this[_0xee2b[1556]]();if(!Ext[_0xee2b[1579]](a[_0xee2b[1138]])||!Ext[_0xee2b[1579]](a[_0xee2b[1139]])||a[_0xee2b[1138]][_0xee2b[1162]]()<a[_0xee2b[1139]][_0xee2b[1162]]()){return}this[_0xee2b[4383]]();if(!a[_0xee2b[2004]]&&a[_0xee2b[1138]][_0xee2b[1162]]()>=a[_0xee2b[1139]][_0xee2b[1162]]()){if(b===this[_0xee2b[1201]]||b===this[_0xee2b[4384]]){this[_0xee2b[1203]][_0xee2b[2462]](c[_0xee2b[255]](a[_0xee2b[1138]],c.DAY,1))}else {this[_0xee2b[1201]][_0xee2b[2462]](c[_0xee2b[255]](a[_0xee2b[1139]],c.DAY,-1))}}else {if(a[_0xee2b[2004]]&&a[_0xee2b[1138]][_0xee2b[1162]]()>a[_0xee2b[1139]][_0xee2b[1162]]()){if(b===this[_0xee2b[1201]]||b===this[_0xee2b[4384]]){this[_0xee2b[1203]][_0xee2b[2462]](a[_0xee2b[1138]])}else {this[_0xee2b[1201]][_0xee2b[2462]](a[_0xee2b[1139]])}}}this[_0xee2b[4386]]()},getDefaultFields:function(){var a=[];this[_0xee2b[1228]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4388],xtype:_0xee2b[4389],fieldLabel:this.L(_0xee2b[4390]),name:this[_0xee2b[4191]][_0xee2b[1228]],selectOnFocus:!0,allowBlank:!1},this[_0xee2b[4391]]));a[_0xee2b[11]](this[_0xee2b[1228]]);if(this[_0xee2b[4392]]){this[_0xee2b[4393]]=Ext[_0xee2b[831]](Ext[_0xee2b[154]][_0xee2b[4398]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4394],xtype:_0xee2b[4395],listConfig:{htmlEncode:!0},fieldLabel:this.L(_0xee2b[4396]),queryMode:_0xee2b[4212],valueField:_0xee2b[1032],displayField:_0xee2b[603],allowBlank:!1,editable:!1},this[_0xee2b[4397]]));a[_0xee2b[11]](this[_0xee2b[4393]])}this[_0xee2b[3276]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4399],xtype:_0xee2b[4400],fieldLabel:this.L(_0xee2b[4401]),handler:this[_0xee2b[4402]],scope:this},this[_0xee2b[4403]]));a[_0xee2b[11]](this[_0xee2b[3276]]);this[_0xee2b[1201]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4404],xtype:_0xee2b[4302],fieldLabel:this.L(_0xee2b[4405]),allowBlank:!1,format:this[_0xee2b[879]],altFormats:_0xee2b[27],startDay:this[_0xee2b[1755]],flex:1,listeners:{change:this[_0xee2b[4406]],scope:this}},this[_0xee2b[4407]]));this[_0xee2b[4384]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4408],cls:this[_0xee2b[4370]]+_0xee2b[4409],xtype:_0xee2b[4410],format:this[_0xee2b[4411]],altFormats:_0xee2b[27],increment:30,width:100,margin:_0xee2b[4412],allowBlank:!1,listeners:{change:this[_0xee2b[4406]],scope:this}},this[_0xee2b[4413]]));this[_0xee2b[1203]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4414],xtype:_0xee2b[4302],fieldLabel:this.L(_0xee2b[4415]),allowBlank:!1,format:this[_0xee2b[879]],altFormats:_0xee2b[27],startDay:this[_0xee2b[1755]],flex:1,listeners:{change:this[_0xee2b[4406]],scope:this}},this[_0xee2b[4416]]));this[_0xee2b[4385]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({fieldId:this[_0xee2b[4370]]+_0xee2b[4417],cls:this[_0xee2b[4370]]+_0xee2b[4409],xtype:_0xee2b[4410],format:this[_0xee2b[4411]],altFormats:_0xee2b[27],increment:30,width:100,margin:_0xee2b[4412],allowBlank:!1,listeners:{change:this[_0xee2b[4406]],scope:this}},this[_0xee2b[4418]]));a[_0xee2b[11]]({xtype:_0xee2b[4373],layout:_0xee2b[4301],margin:_0xee2b[4246],items:[this[_0xee2b[1201]],this[_0xee2b[4384]]]});a[_0xee2b[11]]({xtype:_0xee2b[4373],layout:_0xee2b[4301],margin:_0xee2b[4246],items:[this[_0xee2b[1203]],this[_0xee2b[4385]]]});return a},setReadOnly:function(a){if(a!==this[_0xee2b[2887]]){Ext[_0xee2b[26]][_0xee2b[25]](this[_0xee2b[2573]](_0xee2b[927]),function(b){b[_0xee2b[2821]](a)});this[_0xee2b[4419]][_0xee2b[3419]](!a);this[_0xee2b[4420]]&&this[_0xee2b[4420]][_0xee2b[3419]](!a);this[_0xee2b[2887]]=a}},getEventRecord:function(){return this[_0xee2b[2329]]},suspendDateFieldsChange:function(){this[_0xee2b[1201]][_0xee2b[4421]]++;this[_0xee2b[4384]][_0xee2b[4421]]++;this[_0xee2b[1203]][_0xee2b[4421]]++;this[_0xee2b[4385]][_0xee2b[4421]]++},resumeDateFieldsChange:function(){this[_0xee2b[1201]][_0xee2b[4421]]--;this[_0xee2b[4384]][_0xee2b[4421]]--;this[_0xee2b[1203]][_0xee2b[4421]]--;this[_0xee2b[4385]][_0xee2b[4421]]--},loadRecord:function(b,g){var a=this;a[_0xee2b[4357]]=!0;a[_0xee2b[4422]]();a[_0xee2b[4383]]();a[_0xee2b[2821]](g);if(a[_0xee2b[4420]]){a[_0xee2b[4420]][_0xee2b[3419]](!g&&!a[_0xee2b[4423]](b))}a[_0xee2b[2329]]=b;var i=b[_0xee2b[712]]();var h=b[_0xee2b[713]]();var j=b[_0xee2b[1611]]();a[_0xee2b[4384]][_0xee2b[2462]](i);a[_0xee2b[4385]][_0xee2b[2462]](h);if(!j){a[_0xee2b[1201]][_0xee2b[2462]](i);a[_0xee2b[1203]][_0xee2b[2462]](h)}else {a[_0xee2b[1201]][_0xee2b[2462]](Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[1615]](a[_0xee2b[2329]]));a[_0xee2b[1203]][_0xee2b[2462]](Sch[_0xee2b[327]][_0xee2b[1423]][_0xee2b[2177]](a[_0xee2b[2329]]))}a[_0xee2b[3276]][_0xee2b[2462]](j);a[_0xee2b[4387]]();var f=b[_0xee2b[1427]](a[_0xee2b[696]]());if(a[_0xee2b[4423]](b)&&!f[_0xee2b[4]]){f=[a[_0xee2b[2055]]]}a[_0xee2b[4393]]&&a[_0xee2b[4424]](f);a[_0xee2b[4425]]=a;a[_0xee2b[9]]([b]);var e=b[_0xee2b[55]](a[_0xee2b[4426]]);if(e&&a[_0xee2b[4427]]){var d=a[_0xee2b[266]][_0xee2b[1752]](1),k=d[_0xee2b[2573]](_0xee2b[4428]),c=d[_0xee2b[2573]](_0xee2b[4429]+e+_0xee2b[670])[0];if(!c){throw new Error(_0xee2b[4430]+e)}if(!d[_0xee2b[4432]]()[_0xee2b[4431]]){throw new Error(_0xee2b[4433])}d[_0xee2b[4432]]()[_0xee2b[4431]](c);a[_0xee2b[4425]]=c;c[_0xee2b[4170]](b)}a[_0xee2b[180]](_0xee2b[4434],a,b,g);a[_0xee2b[1228]][_0xee2b[3210]]();a[_0xee2b[4386]]();a[_0xee2b[4357]]=!1},toggleAllDayFields:function(){var a=this;if(a[_0xee2b[3276]][_0xee2b[854]]()){var b=a[_0xee2b[3276]][_0xee2b[4121]]();a[_0xee2b[4384]][_0xee2b[253]](b);a[_0xee2b[4384]][_0xee2b[4435]](b);a[_0xee2b[4385]][_0xee2b[253]](b);a[_0xee2b[4385]][_0xee2b[4435]](b)}},getFloatingComponents:function(){var d=this,b=[],f=d[_0xee2b[2573]](_0xee2b[4328]),a;for(a=0;a<f[_0xee2b[4]];a++){var c=f[a],g=c[_0xee2b[4329]]();if(c[_0xee2b[4436]]){g[_0xee2b[264]](c[_0xee2b[4436]]+_0xee2b[4437])}}var e=d[_0xee2b[2573]](_0xee2b[4330]);if(Ext[_0xee2b[307]](e)){b=b[_0xee2b[318]](e)}return b},setEventStore:function(a){this[_0xee2b[1071]]=a},setResourceStore:function(a){var b=this;b[_0xee2b[1302]]=a;if(b[_0xee2b[4393]]){if(a){b[_0xee2b[4393]][_0xee2b[4438]]=a&&a[_0xee2b[137]]()[_0xee2b[139]][_0xee2b[328]];b[_0xee2b[4393]][_0xee2b[4439]]=a&&a[_0xee2b[137]]()[_0xee2b[139]][_0xee2b[1228]];b[_0xee2b[4393]][_0xee2b[4440]]()}b[_0xee2b[4393]][_0xee2b[4441]](a)}},getEventStore:function(){return this[_0xee2b[1071]]},getResourceStore:function(){return this[_0xee2b[1302]]},isNewRecord:function(b){var a=this[_0xee2b[696]]();return !a||a[_0xee2b[147]](b)===-1},onSaveClick:function(){this[_0xee2b[4382]]()},save:function(b){var a=this;b=b||a[_0xee2b[2329]];if(!b||!a[_0xee2b[348]]()){return}var d=a[_0xee2b[696]](),c=a[_0xee2b[1556]](),g=c[_0xee2b[53]](_0xee2b[1627]);if(!a[_0xee2b[3260]]&&d){var f=!1;Ext[_0xee2b[25]](g?c[_0xee2b[1627]]:b[_0xee2b[1427]](a[_0xee2b[696]]()),function(a){return f=!d[_0xee2b[2655]](c[_0xee2b[1138]],c[_0xee2b[1139]],b,a)});if(f){return}}var e=function(){a[_0xee2b[4442]](b,c)};if(a[_0xee2b[180]](_0xee2b[4443],a,b,c,e)!==!1){e()}return b},doSave:function(b,c){var a=this,d=a[_0xee2b[696]](),e=c[_0xee2b[53]](_0xee2b[1627]);a[_0xee2b[4444]]++;a[_0xee2b[4445]](b);b[_0xee2b[46]]();a[_0xee2b[4326]](b);if(a[_0xee2b[4425]]!==a){a[_0xee2b[4425]][_0xee2b[4326]](b)}if(c[_0xee2b[2004]]){b[_0xee2b[1208]](c[_0xee2b[1138]],Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1283]](c[_0xee2b[1139]],Sch[_0xee2b[49]][_0xee2b[703]].DAY,1))}else {b[_0xee2b[1208]](c[_0xee2b[1138]],c[_0xee2b[1139]])}b[_0xee2b[2239]](c[_0xee2b[2004]]);b[_0xee2b[51]]();if(e&&!a[_0xee2b[4423]](b)){a[_0xee2b[4446]](b,c[_0xee2b[1627]])}if(d&&a[_0xee2b[4423]](b)){if(a[_0xee2b[180]](_0xee2b[2664],a,b,c[_0xee2b[1627]])!==!1){if(d[_0xee2b[234]]){b[_0xee2b[50]](_0xee2b[105],!0)}d[_0xee2b[384]](b);if(e){a[_0xee2b[4446]](b,c[_0xee2b[1627]])}a[_0xee2b[180]](_0xee2b[4447],a,b)}}a[_0xee2b[180]](_0xee2b[4448],a,b);a[_0xee2b[4449]](b);a[_0xee2b[4444]]--},setResourcesValue:function(a){this[_0xee2b[4393]][_0xee2b[2462]](a)},getResourcesValue:function(){return [this[_0xee2b[4393]][_0xee2b[3314]]()]},assignResourcesToEvent:function(a,b){a[_0xee2b[2244]]();a[_0xee2b[1605]](b)},isValid:function(){var a=!0;Ext[_0xee2b[25]](this[_0xee2b[2573]](_0xee2b[4450]),function(b){return a=b[_0xee2b[4451]]()||b[_0xee2b[348]]()});return a},combineDateAndTime:function(c,b){var a=null;if(Ext[_0xee2b[1579]](c)&&Ext[_0xee2b[1579]](b)){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1521]](Ext[_0xee2b[703]][_0xee2b[1161]](c),b)}return a},getStartDateValue:function(){return this[_0xee2b[4452]](this[_0xee2b[1201]][_0xee2b[4121]](),this[_0xee2b[4384]][_0xee2b[4121]]())},getEndDateValue:function(){return this[_0xee2b[4452]](this[_0xee2b[1203]][_0xee2b[4121]](),this[_0xee2b[4385]][_0xee2b[4121]]())},getValues:function(){var a=this,b=a[_0xee2b[9]](arguments);if(a[_0xee2b[4393]]){b[_0xee2b[1627]]=a[_0xee2b[4453]]()}else {if(a[_0xee2b[2055]]){b[_0xee2b[1627]]=[a[_0xee2b[2055]]]}}return Ext[_0xee2b[8]](b,{startDate:a[_0xee2b[4353]](),endDate:a[_0xee2b[4454]](),name:a[_0xee2b[1228]][_0xee2b[4121]](),allDay:a[_0xee2b[3276]][_0xee2b[4121]](),resource:b[_0xee2b[1627]]&&b[_0xee2b[1627]][0]})},onBeforeSave:function(a){},onAfterSave:function(a){},onDeleteClick:function(){this[_0xee2b[4455]]()},deleteEvent:function(a){var b=this;a=a||b[_0xee2b[2329]];var c=function(){b[_0xee2b[4456]](a)};if(b[_0xee2b[180]](_0xee2b[4457],b,a,c)!==!1){c()}},doDeleteEvent:function(b){var a=this,c=a[_0xee2b[696]]();c&&c[_0xee2b[63]](b);a[_0xee2b[180]](_0xee2b[4458],a,b)},onCancelClick:Ext[_0xee2b[688]],buildButtons:function(){var a=[];this[_0xee2b[4419]]=new Ext.Button({text:this.L(_0xee2b[4459]),scope:this,handler:this[_0xee2b[4323]]});a[_0xee2b[11]](this[_0xee2b[4419]]);if(this[_0xee2b[4460]]){this[_0xee2b[4420]]=new Ext.Button({text:this.L(_0xee2b[4461]),scope:this,handler:this[_0xee2b[4462]]});a[_0xee2b[11]](this[_0xee2b[4420]])}this[_0xee2b[4463]]=new Ext.Button({text:this.L(_0xee2b[4464]),scope:this,handler:this[_0xee2b[4324]]});a[_0xee2b[11]](this[_0xee2b[4463]]);return a}});Ext[_0xee2b[6]](_0xee2b[4465],{extend:_0xee2b[4315],mixins:[_0xee2b[782],_0xee2b[4145]],requires:[_0xee2b[4362]],alias:[_0xee2b[4466],_0xee2b[4467]],cls:_0xee2b[4468],layout:_0xee2b[4469],closeAction:_0xee2b[256],constrain:!0,editorConfig:null,privates:{alignOnResize:function(){}},initComponent:function(){var a=this;if(!a[_0xee2b[2662]]){a[_0xee2b[2662]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[4470],saveOnEnter:a[_0xee2b[4152]],onCancelClick:function(){a[_0xee2b[256]]()}},a[_0xee2b[4471]]));a[_0xee2b[266]]=a[_0xee2b[2662]]}a[_0xee2b[9]](arguments)},init:function(a){this[_0xee2b[4472]](a)},afterRender:function(){this[_0xee2b[9]](arguments);var a=this[_0xee2b[800]]()[_0xee2b[694]](_0xee2b[4473]);if(a){this[_0xee2b[252]](a,{activate:this[_0xee2b[4474]],move:this[_0xee2b[4474]],scope:this})}this[_0xee2b[4475]]()},showRecord:function(a,b){this[_0xee2b[4474]]();this[_0xee2b[4476]](a[_0xee2b[497]]())},alignEditorToElement:function(b){var a=this;if(b){a[_0xee2b[2021]](b,_0xee2b[4477]+(a[_0xee2b[2076]]?_0xee2b[4478]:_0xee2b[27]))}else {a[_0xee2b[472]]()}},getEventRecord:function(){return this[_0xee2b[2662]][_0xee2b[2174]]()},floatAboveFloatingContainer:function(){var a=this[_0xee2b[800]]()[_0xee2b[694]](_0xee2b[4473]);if(this[_0xee2b[854]]()&&a){this[_0xee2b[4479]](a[_0xee2b[787]]()[_0xee2b[3190]]()+1)}},onEventRepaint:function(b,a){if(this[_0xee2b[854]]()&&a===this[_0xee2b[2174]]()&&!this[_0xee2b[3275]]()[_0xee2b[4444]]){this[_0xee2b[3278]](a)}}});Ext[_0xee2b[6]](_0xee2b[4480],{extend:_0xee2b[4362],mixins:[_0xee2b[782],_0xee2b[4145]],alias:[_0xee2b[4481],_0xee2b[4482]],requires:[_0xee2b[1950]],border:!1,shadow:!1,hidden:!0,collapsed:!0,preventHeader:!0,floating:!0,hideMode:_0xee2b[2227],constrain:!1,floatingCls:_0xee2b[4483],constructor:function(a){this[_0xee2b[9]](arguments);this[_0xee2b[264]](this[_0xee2b[4484]])},init:function(a){this[_0xee2b[834]]=a;this[_0xee2b[4472]](a)},afterRender:function(){this[_0xee2b[9]](arguments);this[_0xee2b[4475]]()},showRecord:function(a,b){this[_0xee2b[103]](!this[_0xee2b[2076]])},alignEditorToElement:function(a){var b=this;var c=b[_0xee2b[800]]();a=a||c[_0xee2b[2191]]&&c[_0xee2b[2191]](b[_0xee2b[37]]())[0]||null;if(a){b[_0xee2b[2021]](a,(c[_0xee2b[1828]]&&c[_0xee2b[1828]]()?_0xee2b[4485]:_0xee2b[4477])+(b[_0xee2b[2076]]?_0xee2b[4478]:_0xee2b[27]))}},onDeleteClick:function(){this[_0xee2b[9]](arguments);this[_0xee2b[4174]]()},onCancelClick:function(){this[_0xee2b[4174]]()},hideEditor:function(){this[_0xee2b[104]](null,!0)},afterCollapse:function(){this[_0xee2b[256]]();this[_0xee2b[9]](arguments)},onEventRepaint:function(b,a){if(!this[_0xee2b[2942]]()&&a===this[_0xee2b[2329]]){this[_0xee2b[3278]](a)}}});Ext[_0xee2b[6]](_0xee2b[4486],{extend:_0xee2b[4487],mixins:[_0xee2b[782]],lockableScope:_0xee2b[686],alias:_0xee2b[4488],hideDelay:500,align:_0xee2b[4489],defaults:{xtype:_0xee2b[4490],baseCls:_0xee2b[4491],overCls:_0xee2b[4492],width:24,height:24,visibleFn:Ext[_0xee2b[688]]},hideTimer:null,cachedSize:null,layout:_0xee2b[4301],autoRender:!0,floating:!0,shadow:!1,hideMode:_0xee2b[2227],hidden:!0,eventRecord:null,resourceRecord:null,targetNode:null,getEventRecord:function(){return this[_0xee2b[2329]]},getResourceRecord:function(){return this[_0xee2b[2055]]},init:function(a){if(!this[_0xee2b[266]]){throw _0xee2b[4493]}this[_0xee2b[264]](_0xee2b[4494]);this[_0xee2b[2502]]=a;this[_0xee2b[4495]]=this[_0xee2b[2722]];a[_0xee2b[149]]({eventresizestart:this[_0xee2b[4496]],aftereventresize:this[_0xee2b[4497]],eventdragstart:this[_0xee2b[4496]],eventdrop:this[_0xee2b[4497]],eventmouseenter:this[_0xee2b[4498]],eventmouseleave:this[_0xee2b[4499]],scope:this})},onRender:function(){this[_0xee2b[9]](arguments);this[_0xee2b[265]][_0xee2b[149]]({mouseenter:this[_0xee2b[4500]],mouseover:this[_0xee2b[4500]],mouseleave:this[_0xee2b[4499]],scope:this})},onEventMouseEnter:function(d,f,e){window[_0xee2b[4502]](this[_0xee2b[4501]]);var a=this,c=!1,b;a[_0xee2b[4503]]=e[_0xee2b[2033]](d[_0xee2b[2034]]);a[_0xee2b[2329]]=f;a[_0xee2b[2055]]=d[_0xee2b[2036]](a[_0xee2b[4503]]);a[_0xee2b[266]][_0xee2b[25]](function(g){b=g[_0xee2b[4504]](a[_0xee2b[2329]])!==!1;g[_0xee2b[3419]](b);if(b){c=!0}});if(!c){return}a[_0xee2b[3622]](a[_0xee2b[4503]])},onContainerMouseEnter:function(){window[_0xee2b[4502]](this[_0xee2b[4501]])},onContainerMouseLeave:function(){window[_0xee2b[4502]](this[_0xee2b[4501]]);this[_0xee2b[4501]]=Ext[_0xee2b[1854]](this[_0xee2b[256]],this[_0xee2b[4505]],this)},onOperationStart:function(){this[_0xee2b[2502]][_0xee2b[152]](_0xee2b[3106],this[_0xee2b[4498]],this);window[_0xee2b[4502]](this[_0xee2b[4501]]);this[_0xee2b[256]]()},onOperationEnd:function(){this[_0xee2b[2502]][_0xee2b[149]](_0xee2b[3106],this[_0xee2b[4498]],this)},destroy:function(){clearTimeout(this[_0xee2b[4501]]);this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[4506],{extend:_0xee2b[108],requires:[_0xee2b[717]],mixins:[_0xee2b[665]],pageHeaderHeight:41,headerHeight:41,pageFooterHeight:41,footerHeight:41,bufferedHeightMargin:25,isExporter:!0,paperWidth:0,paperHeight:0,printHeight:0,lockedRowsHeight:0,normalRowsHeight:0,iterateTimeout:10,tableSelector:undefined,currentPage:undefined,headerTplDataFn:null,footerTplDataFn:null,headerTplDataFnScope:null,footerTplDataFnScope:null,config:{exporterId:_0xee2b[4507],id:_0xee2b[4507],name:_0xee2b[27],translateURLsToAbsolute:!0,expandAllBeforeExport:!1,headerTpl:_0xee2b[4508],tpl:_0xee2b[4509]+Ext[_0xee2b[238]]+_0xee2b[4510]+Ext[_0xee2b[238]]+_0xee2b[4511],footerTpl:_0xee2b[4508],rowVisibilityThreshold:0.6},callbacks:undefined,error:undefined,extractedPages:undefined,numberOfPages:0,firstExportedRowOffset:0,secondaryCanvasOffset:0,eventBoxes:null,dependencyPainter:null,dependenciesHtml:_0xee2b[27],depViewBeforeRefreshDetacher:null,depView:null,collectRowsTimer:null,collectRowsTimerTimeout:1,collectRowsStepTimer:null,scrollToTimer:null,timer1:null,timer2:null,stylesheets:null,constructor:function(a){var b=this;a=a||{};if(a[_0xee2b[4512]]){a[_0xee2b[4513]]=a[_0xee2b[4512]]}if(a[_0xee2b[4514]]){a[_0xee2b[4515]]=a[_0xee2b[4514]]}if(a[_0xee2b[4516]]){a[_0xee2b[388]]=a[_0xee2b[4516]]}b[_0xee2b[9]](arguments);delete a[_0xee2b[4517]];delete a[_0xee2b[4518]];b[_0xee2b[35]](a);if(!a[_0xee2b[4519]]){b[_0xee2b[4519]]=_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3116]}if(!a[_0xee2b[683]]){b[_0xee2b[1267]](b.L(_0xee2b[683]))}},getExporterId:function(){return this[_0xee2b[32]]()},destroy:function(){clearTimeout(this[_0xee2b[4520]]);clearTimeout(this[_0xee2b[4521]]);clearTimeout(this[_0xee2b[4522]]);clearTimeout(this[_0xee2b[4523]]);clearTimeout(this[_0xee2b[4524]]);this[_0xee2b[9]](arguments)},setHeaderTpl:function(a){this[_0xee2b[4525]]=this[_0xee2b[4526]](a)},getHeaderTpl:function(){return this[_0xee2b[4525]]},setTpl:function(a){this[_0xee2b[3612]]=this[_0xee2b[4526]](a)},getTpl:function(){return this[_0xee2b[3612]]},setFooterTpl:function(a){this[_0xee2b[4527]]=this[_0xee2b[4526]](a)},getFooterTpl:function(){return this[_0xee2b[4527]]},getTplInstance:function(a){return a&&!a[_0xee2b[4528]]?new Ext.XTemplate(a,{disableFormats:!0}):a},getBodyClasses:function(){var b=new RegExp(Ext[_0xee2b[238]]+_0xee2b[4529]+Ext[_0xee2b[238]]+_0xee2b[4530],_0xee2b[4531]),a=document[_0xee2b[2179]][_0xee2b[1868]][_0xee2b[675]](b,_0xee2b[27]);if(Ext[_0xee2b[960]]){a+=_0xee2b[4532]}return a},getComponentClasses:function(){return this[_0xee2b[4533]]()[_0xee2b[265]][_0xee2b[758]][_0xee2b[1868]]},setComponent:function(b){var a=this;a[_0xee2b[2948]]=b;a[_0xee2b[829]]=b[_0xee2b[808]]();a[_0xee2b[3380]]=b[_0xee2b[3380]];a[_0xee2b[1830]]=b[_0xee2b[1830]];a[_0xee2b[3950]]=b[_0xee2b[3380]][_0xee2b[290]]();a[_0xee2b[4022]]=b[_0xee2b[1830]][_0xee2b[290]]();a[_0xee2b[4534]]=_0xee2b[4535]+a[_0xee2b[4022]][_0xee2b[32]]();a[_0xee2b[4536]]=_0xee2b[4535]+a[_0xee2b[3950]][_0xee2b[32]]();a[_0xee2b[4537]]=a[_0xee2b[1830]][_0xee2b[1848]];a[_0xee2b[4538]]=a[_0xee2b[3380]][_0xee2b[1848]];a[_0xee2b[4513]]=a[_0xee2b[4538]][_0xee2b[859]]();a[_0xee2b[4539]]=Math[_0xee2b[424]](a[_0xee2b[4540]])-a[_0xee2b[4513]]-(a[_0xee2b[4542]][_0xee2b[4541]]?a[_0xee2b[4513]]:0)-(a[_0xee2b[4542]][_0xee2b[4543]]?a[_0xee2b[4515]]:0);a[_0xee2b[4544]](b);a[_0xee2b[4545]](b)},getComponent:function(){return this[_0xee2b[2948]]},setPaperSize:function(a,c){var b=this;if(c===_0xee2b[4546]){b[_0xee2b[4547]]=a[_0xee2b[747]];b[_0xee2b[4540]]=a[_0xee2b[773]]}else {b[_0xee2b[4547]]=a[_0xee2b[773]];b[_0xee2b[4540]]=a[_0xee2b[747]]}},getPaperFormat:function(){return this[_0xee2b[4542]][_0xee2b[880]]},isBuffered:function(){return !!this[_0xee2b[4548]]()},getBufferedRenderer:function(){return this[_0xee2b[829]][_0xee2b[2478]]},setComponentRange:function(b){var d=this,e=d[_0xee2b[4533]]();if(b[_0xee2b[4549]]!==_0xee2b[4550]){var g=d[_0xee2b[829]],c,a;switch(b[_0xee2b[4549]]){case _0xee2b[1097]:c=new Date(b[_0xee2b[4551]]);a=new Date(b[_0xee2b[4552]]);if(Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1170]](c,a)<1){a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[255]](a,Sch[_0xee2b[49]][_0xee2b[703]].DAY,1)};break;case _0xee2b[4553]:var h=g[_0xee2b[2894]]();c=h[_0xee2b[1138]];a=h[_0xee2b[1139]]||g[_0xee2b[1795]][_0xee2b[698]]();break;case _0xee2b[4554]:var f=e[_0xee2b[696]]()[_0xee2b[3535]]();c=f[_0xee2b[179]];a=f[_0xee2b[771]];break;}if(c&&a){e[_0xee2b[1756]](c,a)}}d[_0xee2b[4555]]=e[_0xee2b[1795]][_0xee2b[4556]]();if(b[_0xee2b[4557]]==_0xee2b[1690]){b[_0xee2b[4557]]=d[_0xee2b[4558]]()}else {b[_0xee2b[4557]]=null}},getStylesheets:function(){var b=this[_0xee2b[4559]](),c=Ext[_0xee2b[760]](_0xee2b[4560],!0),a=_0xee2b[27];var d=window[_0xee2b[4561]];c[_0xee2b[25]](function(e){var c=e[_0xee2b[758]][_0xee2b[2263]](!0);if(b&&c[_0xee2b[4562]]){c[_0xee2b[4563]](_0xee2b[4562],b===!0?c[_0xee2b[4562]]:c[_0xee2b[4562]][_0xee2b[675]](d,b))}a+=c[_0xee2b[4564]];if(Ext[_0xee2b[960]]&&c[_0xee2b[4565]]&&/style/i[_0xee2b[2881]](c[_0xee2b[4380]])){a+=_0xee2b[4566]+e[_0xee2b[758]][_0xee2b[4565]][_0xee2b[4567]]+_0xee2b[4568]}});return a},forEachTimeSpanPlugin:function(a,e,f){if(Sch[_0xee2b[822]]&&Sch[_0xee2b[822]][_0xee2b[4569]]){var h=this;var c=[][_0xee2b[318]](a[_0xee2b[3484]],a[_0xee2b[3380]][_0xee2b[3484]],a[_0xee2b[3497]]);for(var b=0,g=c[_0xee2b[4]];b<g;b++){var d=c[b];if(d instanceof Sch[_0xee2b[822]][_0xee2b[4569]]){e[_0xee2b[293]](f||h,d)}}}},setCellSize:function(b){var a=this;a[_0xee2b[2679]]=b[0];if(a[_0xee2b[2679]]){this[_0xee2b[4533]]()[_0xee2b[4570]](a[_0xee2b[2679]])}if(b[_0xee2b[4]]>1){a[_0xee2b[829]][_0xee2b[2811]](b[1])}},findVisibleRowsRange:function(){var b=this,c=b[_0xee2b[4022]][_0xee2b[2862]],i=c[_0xee2b[2861]],g=c[_0xee2b[2863]];var d=!1,f=-1,e=-1;for(var a=i;a<=g;a++){var h=c[_0xee2b[2971]](a,!0);if(b[_0xee2b[2857]](h,b[_0xee2b[4571]])){if(!d){f=a;d=!0}e=a}else {if(d){break}}}return [f,e]},prepareComponent:function(b,c){var a=this;b=b||a[_0xee2b[4533]]();a[_0xee2b[4572]](b);a[_0xee2b[4574]](b,function(a){a[_0xee2b[4573]]=a[_0xee2b[1853]];a[_0xee2b[1853]]=0});b[_0xee2b[808]]()[_0xee2b[810]][_0xee2b[2742]]=!0;b[_0xee2b[1795]][_0xee2b[1746]]=!1;b[_0xee2b[3380]][_0xee2b[103]]();b[_0xee2b[1830]][_0xee2b[103]]();if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){a[_0xee2b[4571]]=a[_0xee2b[1830]][_0xee2b[2179]][_0xee2b[2611]]();a[_0xee2b[4575]]=a[_0xee2b[3380]][_0xee2b[2179]][_0xee2b[2611]]()}else {a[_0xee2b[4571]]=a[_0xee2b[4022]][_0xee2b[2611]]();a[_0xee2b[4575]]=a[_0xee2b[3950]][_0xee2b[2611]]()}a[_0xee2b[4576]](c);c[_0xee2b[4577]]&&a[_0xee2b[4578]](c[_0xee2b[4577]]);c[_0xee2b[4579]]&&c[_0xee2b[4579]](b,a[_0xee2b[4555]]);a[_0xee2b[4580]](c[_0xee2b[3374]]);if(a[_0xee2b[4581]]&&b[_0xee2b[4582]]){b[_0xee2b[4582]]()}a[_0xee2b[4583]](c);a[_0xee2b[829]][_0xee2b[810]][_0xee2b[811]](a[_0xee2b[829]][_0xee2b[810]][_0xee2b[755]]());a[_0xee2b[4584]]=a[_0xee2b[4585]]()},prepareColumns:function(a){var b=this;if(a&&a[_0xee2b[4]]){b[_0xee2b[1830]][_0xee2b[1848]][_0xee2b[266]][_0xee2b[25]](function(b){if(Ext[_0xee2b[26]][_0xee2b[1087]](a,b)){b[_0xee2b[2019]]()}else {b[_0xee2b[256]]()}})}},restoreComponent:function(b){var a=this;b=b||a[_0xee2b[4533]]();a[_0xee2b[4574]](b,function(a){a[_0xee2b[1853]]=a[_0xee2b[4573]];delete a[_0xee2b[4573]]});if(a[_0xee2b[4586]]){a[_0xee2b[4586]][_0xee2b[218]]();a[_0xee2b[4586]]=null;a[_0xee2b[4588]][_0xee2b[4587]]()}a[_0xee2b[4589]](b);a[_0xee2b[4590]](b);a[_0xee2b[4542]][_0xee2b[4591]]&&a[_0xee2b[4542]][_0xee2b[4591]](b)},saveComponentState:function(a){a=a||this[_0xee2b[4533]]();var f=this,c=a[_0xee2b[808]](),e=a[_0xee2b[3380]],d=a[_0xee2b[1830]];var h=[];d[_0xee2b[1848]][_0xee2b[266]][_0xee2b[25]](function(b){h[_0xee2b[11]]({column:b,visible:!b[_0xee2b[4451]]()})});var b=c[_0xee2b[810]];var i=b[_0xee2b[2717]];var g=b[_0xee2b[755]]();b[_0xee2b[811]](g,!0);f[_0xee2b[4592]]={width:a[_0xee2b[793]](),height:a[_0xee2b[859]](),rowHeight:b[_0xee2b[2832]](),originalTickWidth:i,columnWidth:g,startDate:a[_0xee2b[697]](),endDate:a[_0xee2b[698]](),normalWidth:e[_0xee2b[793]](),normalLeft:e[_0xee2b[787]]()[_0xee2b[2425]](_0xee2b[1354]),lockedWidth:d[_0xee2b[793]](),lockedCollapse:d[_0xee2b[2469]],normalCollapse:e[_0xee2b[2469]],columns:h,autoAdjust:a[_0xee2b[1795]][_0xee2b[1746]],suppressFit:b[_0xee2b[2742]],startIndex:c[_0xee2b[2862]][_0xee2b[2861]],lockedScrollX:f[_0xee2b[4022]][_0xee2b[1920]](),normalScrollX:c[_0xee2b[1920]](),scrollY:c[_0xee2b[1922]]()}},restoreComponentState:function(b){var d=this;b=b||d[_0xee2b[4533]]();var a=d[_0xee2b[4592]],c=b[_0xee2b[808]]();b[_0xee2b[1795]][_0xee2b[1746]]=a[_0xee2b[1746]];b[_0xee2b[3380]][_0xee2b[2019]]();b[_0xee2b[839]](a[_0xee2b[773]]);b[_0xee2b[863]](a[_0xee2b[747]]);b[_0xee2b[1756]](a[_0xee2b[1138]],a[_0xee2b[1139]]);b[_0xee2b[4570]](a[_0xee2b[4593]],!0);b[_0xee2b[2811]](a[_0xee2b[2678]]);Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[3374]],function(a){a[_0xee2b[2963]][_0xee2b[3419]](a[_0xee2b[1690]])});b[_0xee2b[1830]][_0xee2b[2019]]();b[_0xee2b[3380]][_0xee2b[839]](a[_0xee2b[4594]]);b[_0xee2b[3380]][_0xee2b[787]]()[_0xee2b[2051]](_0xee2b[1354],a[_0xee2b[4595]]);b[_0xee2b[1830]][_0xee2b[839]](a[_0xee2b[4596]]);c[_0xee2b[810]][_0xee2b[2742]]=a[_0xee2b[2742]];c[_0xee2b[810]][_0xee2b[811]](a[_0xee2b[4593]]);c[_0xee2b[810]][_0xee2b[2717]]=a[_0xee2b[2717]];if(a[_0xee2b[4597]]){b[_0xee2b[1830]][_0xee2b[104]]()}if(a[_0xee2b[4598]]){b[_0xee2b[3380]][_0xee2b[104]]()}d[_0xee2b[4599]](a)},restoreComponentScroll:function(a){var b=this;b[_0xee2b[4022]][_0xee2b[3153]](a[_0xee2b[4600]]);b[_0xee2b[3950]][_0xee2b[289]](a[_0xee2b[4601]],a[_0xee2b[4602]])},extractPages:function(d,b,c,e){var a=this;if(!c){throw _0xee2b[4603]}a[_0xee2b[4604]]=Ext[_0xee2b[4604]];Ext[_0xee2b[4604]]=!1;Ext[_0xee2b[758]][_0xee2b[4605]][_0xee2b[165]]();a[_0xee2b[4542]]=b;a[_0xee2b[4606]]=[];a[_0xee2b[4607]]=[];a[_0xee2b[4608]]=[];a[_0xee2b[4609]]=0;a[_0xee2b[4610]]=0;a[_0xee2b[4611]]=0;a[_0xee2b[4612]]=0;a[_0xee2b[4613]]=0;a[_0xee2b[4614]]=!1;a[_0xee2b[4584]]=null;a[_0xee2b[4615]](b[_0xee2b[352]],b[_0xee2b[3378]]);a[_0xee2b[4616]](d,b);a[_0xee2b[4617]](d,b);a[_0xee2b[4618]]={success:c,scope:e||a};a[_0xee2b[4521]]=setTimeout(function(){a[_0xee2b[4619]](a._onRowsCollected,a,b)},a[_0xee2b[4620]])},onPagesExtracted:function(a){var b=this;a=b[_0xee2b[4621]](a);b[_0xee2b[4622]]();b[_0xee2b[4623]](a)},submitPages:function(c){var a=this,b=a[_0xee2b[4618]];b[_0xee2b[426]][_0xee2b[293]](b[_0xee2b[689]],c);Ext[_0xee2b[4604]]=a[_0xee2b[4604]];Ext[_0xee2b[758]][_0xee2b[4605]][_0xee2b[166]]()},getCurrentPage:function(){return this[_0xee2b[356]]},setCurrentPage:function(a){this[_0xee2b[356]]=a},getExpectedNumberOfPages:function(){throw _0xee2b[4624]},commitPage:function(b){var a=this;a[_0xee2b[4609]]++;var d=a[_0xee2b[4625]](b);a[_0xee2b[180]](_0xee2b[4626],a,d,a[_0xee2b[4609]],a[_0xee2b[4627]]());var c=Ext[_0xee2b[8]]({html:d[_0xee2b[758]][_0xee2b[4564]],number:a[_0xee2b[4609]]},b);a[_0xee2b[4608]][_0xee2b[11]](c);a[_0xee2b[180]](_0xee2b[4628],a,c,a[_0xee2b[4609]],a[_0xee2b[4627]]())},collectLockedRow:function(a,f,e){var c=Ext[_0xee2b[55]](a),d=c[_0xee2b[859]]()-(e?c[_0xee2b[3968]](_0xee2b[1997]):0);this[_0xee2b[4610]]+=d;var b={height:d,row:a[_0xee2b[2263]](!0),record:this[_0xee2b[4022]][_0xee2b[37]](f)};this[_0xee2b[4607]][_0xee2b[11]](b);return b},collectNormalRow:function(b,f,e){var c=Ext[_0xee2b[55]](b),d=c[_0xee2b[859]]()-(e?c[_0xee2b[3968]](_0xee2b[1997]):0);this[_0xee2b[4611]]+=d;var a={height:d,row:b[_0xee2b[2263]](!0),record:this[_0xee2b[3950]][_0xee2b[37]](f)};this[_0xee2b[4606]][_0xee2b[11]](a);if(this[_0xee2b[4588]]&&this[_0xee2b[4588]][_0xee2b[1306]]()){this[_0xee2b[4629]](a[_0xee2b[933]])}return a},_onRowsCollected:function(){var a=this,b=a[_0xee2b[4588]];if(b&&b[_0xee2b[1306]]()){a[_0xee2b[3889]]()}a[_0xee2b[4630]][_0xee2b[8]](a,arguments)},onRowsCollected:function(){throw _0xee2b[4631]},_abort:!1,abort:function(){this[_0xee2b[4614]]=function(){this[_0xee2b[4622]]()}},iterateAsync:function(d,b){var a=this;b=b||a;var c=function(){var e=arguments;a[_0xee2b[4524]]=setTimeout(function(){!a[_0xee2b[4614]]?d[_0xee2b[8]](b,[][_0xee2b[318]][_0xee2b[8]]([c],e)):a._abort()},a[_0xee2b[4632]])};c[_0xee2b[8]](a,Ext[_0xee2b[26]][_0xee2b[191]](arguments,2))},callAsync:function(b,a){a=a||this;this[_0xee2b[4523]]=setTimeout(function(){b[_0xee2b[8]](a,Ext[_0xee2b[26]][_0xee2b[191]](arguments,2))},this[_0xee2b[4632]])},canStartRowsCollecting:function(){var b=this[_0xee2b[4533]](),a=b[_0xee2b[3910]]();return !a||a[_0xee2b[3801]]()},depViewRefreshBlocker:function(){return !1},collectRows:function(f,e,c){var a=this,b=0;if(!a[_0xee2b[4633]]()){var h=Ext[_0xee2b[26]][_0xee2b[191]](arguments,0);a[_0xee2b[4521]]=setTimeout(function(){a[_0xee2b[4619]][_0xee2b[8]](a,h)},a[_0xee2b[4620]]);return}var g=a[_0xee2b[4533]]()[_0xee2b[3910]]();if(a[_0xee2b[4588]]){a[_0xee2b[4586]]=g[_0xee2b[149]]({beforerefresh:a[_0xee2b[4634]],destroyable:!0})}var d=a[_0xee2b[4635]]();if(c[_0xee2b[4557]]){b=c[_0xee2b[4557]][0];d=!(c[_0xee2b[4557]][0]>=a[_0xee2b[829]][_0xee2b[2862]][_0xee2b[2861]]&&c[_0xee2b[4557]][1]<=a[_0xee2b[829]][_0xee2b[2862]][_0xee2b[2863]])}if(d){a[_0xee2b[4522]]=setTimeout(function(){a[_0xee2b[289]](b,function(){b&&a[_0xee2b[4636]](b);a[_0xee2b[4638]](a[_0xee2b[4637]],a,b,f,e,c)})},1)}else {b&&a[_0xee2b[4636]](b);a[_0xee2b[4520]]=setTimeout(function(){a[_0xee2b[4637]](null,b,f,e,c)},1)}},initFirstExportedRowOffset:function(a){this[_0xee2b[4612]]=this[_0xee2b[829]][_0xee2b[265]][_0xee2b[4639]]()-this[_0xee2b[829]][_0xee2b[265]][_0xee2b[2421]]()+Ext[_0xee2b[761]](this[_0xee2b[829]][_0xee2b[2515]](a))[_0xee2b[2421]]()},isRowVisible:function(f,c){var e=Ext[_0xee2b[761]](f),a=e[_0xee2b[2421]](),b=e[_0xee2b[859]](),g=a+b,d=(1-this[_0xee2b[4640]]())*b;return a+d>c[_0xee2b[686]]&&g-d<c[_0xee2b[754]]},collectRowsStep:function(p,d,e,f,i){var a=this,g=a[_0xee2b[3950]][_0xee2b[2862]][_0xee2b[2863]],m=a[_0xee2b[2948]][_0xee2b[64]][_0xee2b[1466]](),j=i[_0xee2b[4557]],n=a[_0xee2b[3950]][_0xee2b[2862]][_0xee2b[191]](d),k=a[_0xee2b[4022]][_0xee2b[2862]][_0xee2b[191]](d),b=0;var l;if(j){l=j[1]}var o=!1;for(var c=d,h=n[_0xee2b[4]];b<h;b++){if(c>l){o=!0;break}k[b]&&a[_0xee2b[4641]](k[b],c,b+1===h);a[_0xee2b[4642]](n[b],c,b+1===h);c++}a[_0xee2b[180]](_0xee2b[4643],a,d,c,m);if(!o&&a[_0xee2b[4635]]()){if(g+1<m){a[_0xee2b[4644]](function(){a[_0xee2b[289]](g+1,function(){p(g+1,e,f,i)})})}else {a[_0xee2b[4644]](function(){a[_0xee2b[289]](0,function(){e[_0xee2b[293]](f||a,a[_0xee2b[4607]],a[_0xee2b[4606]])})})}}else {e[_0xee2b[293]](f||a,a[_0xee2b[4607]],a[_0xee2b[4606]])}},renderPages:function(a){var d=this;a=a||d[_0xee2b[4608]];for(var b=0,e=a[_0xee2b[4]];b<e;b++){var c=a[b];c[_0xee2b[4645]]=d[_0xee2b[4646]](c)}return a},applyPageTpl:function(b){var a=this;return a[_0xee2b[4648]]()[_0xee2b[8]](a[_0xee2b[4647]](b))},applyHeaderTpl:function(c){var a=this,e=a[_0xee2b[4649]]();if(a[_0xee2b[4542]][_0xee2b[4541]]&&e){var d=a[_0xee2b[4650]];var f=d&&d[_0xee2b[293]](a[_0xee2b[4651]]||a,c);var g=e[_0xee2b[8]](Ext[_0xee2b[8]](a[_0xee2b[4652]](c),f));var b=document[_0xee2b[3662]](_0xee2b[2258]);b[_0xee2b[3737]]=g;Ext[_0xee2b[761]](b)[_0xee2b[760]](_0xee2b[4654])[_0xee2b[25]](function(a){a[_0xee2b[758]][_0xee2b[4563]](_0xee2b[4653],a[_0xee2b[758]][_0xee2b[4653]])});return b[_0xee2b[3737]]}return _0xee2b[27]},applyFooterTpl:function(d){var a=this,e=a[_0xee2b[4655]]();if(a[_0xee2b[4542]][_0xee2b[4543]]&&e){var c=a[_0xee2b[4656]];var g=c&&c[_0xee2b[293]](a[_0xee2b[4657]]||a,d);var f=e[_0xee2b[8]](Ext[_0xee2b[8]](a[_0xee2b[4658]](d),g));var b=document[_0xee2b[3662]](_0xee2b[2258]);b[_0xee2b[3737]]=f;Ext[_0xee2b[761]](b)[_0xee2b[760]](_0xee2b[4654])[_0xee2b[25]](function(a){a[_0xee2b[758]][_0xee2b[4563]](_0xee2b[4653],a[_0xee2b[758]][_0xee2b[4653]])});return b[_0xee2b[3737]]}return _0xee2b[27]},getHeaderTplData:function(b){var a=this;return {width:a[_0xee2b[4547]],height:a[_0xee2b[4513]],totalPages:a[_0xee2b[4609]],pageNo:b[_0xee2b[1135]]}},getFooterTplData:function(b){var a=this;return {width:a[_0xee2b[4547]],height:a[_0xee2b[4515]],totalPages:a[_0xee2b[4609]],pageNo:b[_0xee2b[1135]]}},getPageTplData:function(b){var a=this;return {id:a[_0xee2b[4533]]()[_0xee2b[388]],bodyClasses:a[_0xee2b[4659]](),bodyHeight:a[_0xee2b[4539]]+a[_0xee2b[4513]],componentClasses:a[_0xee2b[4660]](),styles:a[_0xee2b[4584]],showHeader:a[_0xee2b[4542]][_0xee2b[4541]],showFooter:a[_0xee2b[4542]][_0xee2b[4543]],header:a[_0xee2b[4661]](b),HTML:b[_0xee2b[4645]],footer:a[_0xee2b[4662]](b),totalWidth:a[_0xee2b[4547]],pageNo:b[_0xee2b[1135]],totalPages:a[_0xee2b[4609]],title:b[_0xee2b[1135]]+_0xee2b[4663]+a[_0xee2b[4609]]}},fitComponentIntoPage:Ext[_0xee2b[688]],getLockedGridBody:function(a){a=a||this[_0xee2b[4664]]();return a[_0xee2b[861]](this[_0xee2b[4534]]+_0xee2b[60]+this[_0xee2b[4519]],!0)},getNormalGridBody:function(a){a=a||this[_0xee2b[4664]]();return a[_0xee2b[861]](this[_0xee2b[4536]]+_0xee2b[60]+this[_0xee2b[4519]],!0)},emptyLockedGrid:function(a){Ext[_0xee2b[761]](this[_0xee2b[4666]](a))[_0xee2b[760]](this[_0xee2b[4022]][_0xee2b[4665]]())[_0xee2b[63]]()},fillGrids:function(d,e,a,b){var c=this;c[_0xee2b[4667]](d,a,b);c[_0xee2b[4668]](e,a,b)},fillLockedGrid:function(c,d,b){var a=this;if(!b){a[_0xee2b[4669]]()}a[_0xee2b[4670]](a[_0xee2b[4666]](),c||a[_0xee2b[4607]],d)},fillNormalGrid:function(c,d,b){var a=this;if(!b){a[_0xee2b[4671]]()}a[_0xee2b[4670]](a[_0xee2b[4672]](),c||a[_0xee2b[4606]],d)},appendRows:function(e,b,c){for(var a=0,d=b[_0xee2b[4]];a<d;a++){e[_0xee2b[83]](c?b[a][_0xee2b[4673]][_0xee2b[2263]](!0):b[a][_0xee2b[4673]])}},emptyNormalGrid:function(a){Ext[_0xee2b[761]](this[_0xee2b[4672]](a))[_0xee2b[760]](this[_0xee2b[3950]][_0xee2b[4665]]())[_0xee2b[63]]()},getRowHeight:function(){return this[_0xee2b[829]][_0xee2b[810]][_0xee2b[2832]]()},getTotalSize:function(){return {width:this[_0xee2b[750]](),height:this[_0xee2b[4674]]()}},getTotalHeight:function(){var a=this,b;if(a[_0xee2b[4635]]()){b=a[_0xee2b[4675]]+a[_0xee2b[4611]]}else {b=a[_0xee2b[4022]][_0xee2b[787]]()[_0xee2b[861]](a[_0xee2b[4519]])[_0xee2b[859]]()}return a[_0xee2b[4513]]+b},getTotalWidth:function(){var a;if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){a=this[_0xee2b[2948]][_0xee2b[1830]][_0xee2b[496]]?this[_0xee2b[2948]][_0xee2b[861]](_0xee2b[3584])[_0xee2b[793]]():0}else {a=this[_0xee2b[2948]][_0xee2b[496]]?this[_0xee2b[2948]][_0xee2b[861]](_0xee2b[3584])[_0xee2b[793]]():0}return this[_0xee2b[4676]]()+a+this[_0xee2b[3950]][_0xee2b[787]]()[_0xee2b[861]](this[_0xee2b[4519]])[_0xee2b[793]]()},getLockedGridWidth:function(){var a=this[_0xee2b[4542]][_0xee2b[3374]];if(a&&a[_0xee2b[4]]===0){return 0}return this[_0xee2b[4537]][_0xee2b[787]]()[_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[4677])[_0xee2b[793]]()},getNormalGridWidth:function(){return this[_0xee2b[4538]][_0xee2b[787]]()[_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[4677])[_0xee2b[793]]()},preparePageToCommit:function(s){var a=this[_0xee2b[4664]](),g=this[_0xee2b[2948]],k=g[_0xee2b[1830]],d=g[_0xee2b[3380]],j=a[_0xee2b[861]](_0xee2b[4678],!0);a[_0xee2b[760]](_0xee2b[4679])[_0xee2b[63]]();var b=function(b){return a[_0xee2b[861]](_0xee2b[4535]+b,!0)},e=function(a){if(a){a[_0xee2b[763]][_0xee2b[773]]=_0xee2b[4376]}},f=function(a){if(a){a[_0xee2b[763]][_0xee2b[747]]=_0xee2b[4376]}};var n=a[_0xee2b[861]](this[_0xee2b[4536]],!0);n[_0xee2b[763]][_0xee2b[686]]=_0xee2b[4680];var o=a[_0xee2b[861]](this[_0xee2b[4534]],!0);o[_0xee2b[763]][_0xee2b[686]]=_0xee2b[4680];var l=this[_0xee2b[4666]](),r=this[_0xee2b[4672]]();if(l){l[_0xee2b[763]][_0xee2b[4681]]=_0xee2b[27]}if(r){r[_0xee2b[763]][_0xee2b[4681]]=_0xee2b[27]}if(j){j[_0xee2b[763]][_0xee2b[686]]=this[_0xee2b[4613]]+_0xee2b[804];Ext[_0xee2b[761]](j)[_0xee2b[760]](_0xee2b[4682])[_0xee2b[863]](this[_0xee2b[4611]])}var i=[b(g[_0xee2b[388]]+_0xee2b[4683]),b(g[_0xee2b[388]]+_0xee2b[4684]),b(k[_0xee2b[388]]),b(k[_0xee2b[2179]][_0xee2b[388]]),b(k[_0xee2b[829]][_0xee2b[265]][_0xee2b[388]])];if(Ext[_0xee2b[2009]]()[_0xee2b[966]](_0xee2b[2836])){var c=_0xee2b[495]+Ext[_0xee2b[238]];var h=a[_0xee2b[861]](c+_0xee2b[4685],!0);h[_0xee2b[763]][_0xee2b[686]]=this[_0xee2b[4513]]+1+_0xee2b[804];h[_0xee2b[763]][_0xee2b[1354]]=0;f(h);e(h);var m=a[_0xee2b[861]](c+_0xee2b[4686],!0);f(m);m[_0xee2b[763]][_0xee2b[4687]]=_0xee2b[856];Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[2573]](c+_0xee2b[4688],!0),function(a){f(a)});o[_0xee2b[763]][_0xee2b[4689]]=n[_0xee2b[763]][_0xee2b[4689]]=0;Ext[_0xee2b[26]][_0xee2b[25]](a[_0xee2b[2573]](c+_0xee2b[4690]+c+_0xee2b[4691],!0),function(a){a[_0xee2b[96]][_0xee2b[78]](a)});var q=a[_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3584],!0);if(q){Ext[_0xee2b[761]](q)[_0xee2b[4479]](2)}}Ext[_0xee2b[26]][_0xee2b[25]](i,f);e(i[0]);e(i[1]);if(Ext[_0xee2b[960]]){var p=b(d[_0xee2b[1848]][_0xee2b[388]]);if(p){p[_0xee2b[763]][_0xee2b[773]]=_0xee2b[27]}}else {e(b(d[_0xee2b[1848]][_0xee2b[388]]))}Ext[_0xee2b[26]][_0xee2b[25]]([b(d[_0xee2b[388]]),b(d[_0xee2b[2179]][_0xee2b[388]]),b(d[_0xee2b[290]]()[_0xee2b[388]])],function(a){if(a){a[_0xee2b[763]][_0xee2b[747]]=a[_0xee2b[763]][_0xee2b[773]]=_0xee2b[4376]}});a[_0xee2b[758]][_0xee2b[763]][_0xee2b[747]]=_0xee2b[4376];a[_0xee2b[758]][_0xee2b[763]][_0xee2b[773]]=_0xee2b[27];a[_0xee2b[758]][_0xee2b[763]][_0xee2b[686]]=_0xee2b[27];return a},startPage:function(c){var a=this;var b=(c||a[_0xee2b[4533]]()[_0xee2b[2179]])[_0xee2b[758]][_0xee2b[2263]](!0);b[_0xee2b[388]]=_0xee2b[27];a[_0xee2b[4692]](Ext[_0xee2b[55]](b))},scrollTo:function(e,b,c){var a=this;var d=a[_0xee2b[2948]][_0xee2b[64]][_0xee2b[1752]](e);if(d){a[_0xee2b[2948]][_0xee2b[2966]](d,{callback:function(){a[_0xee2b[2948]][_0xee2b[3440]]();if(b){b[_0xee2b[8]](c||a)}},select:!1,focus:!1,animate:!1})}else {b[_0xee2b[8]](c||a)}},removeNode:function(a){if(a&&a[_0xee2b[96]]){a[_0xee2b[96]][_0xee2b[78]](a)}else {if(a[_0xee2b[3970]]){for(var b=0;b<a[_0xee2b[3970]][_0xee2b[4]];b++){var c=a[_0xee2b[3970]][b];c[_0xee2b[96]][_0xee2b[78]](c)}}}},restoreInfiniteScroll:function(b){var a=b[_0xee2b[808]]();if(b[_0xee2b[2829]]&&a[_0xee2b[262]]){b[_0xee2b[1795]][_0xee2b[1756]](this._oldStart,this._oldEnd);a[_0xee2b[3153]](this._oldScrollX);a[_0xee2b[3141]]()}},suspendInfiniteScroll:function(a){var b=a[_0xee2b[808]]();if(a[_0xee2b[2829]]&&b[_0xee2b[262]]){b[_0xee2b[3156]]();this[_0xee2b[4693]]=a[_0xee2b[1795]][_0xee2b[697]]();this[_0xee2b[4694]]=a[_0xee2b[1795]][_0xee2b[698]]();this[_0xee2b[4695]]=b[_0xee2b[1920]]();var c=a[_0xee2b[696]]()[_0xee2b[3535]]();a[_0xee2b[1756]](c[_0xee2b[179]],c[_0xee2b[771]])}},dependencyPainterMembers:{getItemBox:function(d,a){var b=this,c=b[_0xee2b[4697]][_0xee2b[4696]][a[_0xee2b[1049]]];return c||this[_0xee2b[9]](arguments)}},initDependencyPainter:function(c){var a=this,b=c[_0xee2b[3910]]();if(b){a[_0xee2b[4698]]=b[_0xee2b[4699]]();Ext[_0xee2b[507]](a[_0xee2b[4698]],Ext[_0xee2b[8]]({},{exporter:a},a[_0xee2b[4700]]))}a[_0xee2b[4588]]=b;a[_0xee2b[4696]]={}},fillRecordRelatedBoxes:function(h){var e=this,c=e[_0xee2b[3950]],j=e[_0xee2b[4588]][_0xee2b[3833]],i=e[_0xee2b[4588]][_0xee2b[1306]]();var g=h[_0xee2b[1421]]();for(var f=0;f<g[_0xee2b[4]];f++){var d=g[f];if(c[_0xee2b[1795]][_0xee2b[2601]](d)&&i[_0xee2b[1375]](d)[_0xee2b[4]]){var a=j[_0xee2b[2899]](c,d);for(var b=0;b<a[_0xee2b[4]];b++){if(c[_0xee2b[2478]]){a[b][_0xee2b[686]]+=c[_0xee2b[2478]][_0xee2b[3969]];a[b][_0xee2b[754]]+=c[_0xee2b[2478]][_0xee2b[3969]]}a[b][_0xee2b[262]]=!0}e[_0xee2b[4696]][d[_0xee2b[1049]]]=a}}},renderDependencies:function(){var a=this,b=a[_0xee2b[4588]];if(b[_0xee2b[3854]]()){a[_0xee2b[4701]]=a[_0xee2b[4698]][_0xee2b[3736]](b[_0xee2b[3610]](),b[_0xee2b[1306]]()[_0xee2b[1005]]())}else {a[_0xee2b[4701]]=_0xee2b[27]}}});Ext[_0xee2b[6]](_0xee2b[4702],{extend:_0xee2b[4506],config:{id:_0xee2b[4703]},getExpectedNumberOfPages:function(){return 1},getPaperFormat:function(){var d=this,a=d[_0xee2b[4704]](),c=a[_0xee2b[773]],b=a[_0xee2b[747]]+110;return c+_0xee2b[4705]+b+_0xee2b[804]},onRowsCollected:function(){var a=this;a[_0xee2b[4706]]();a[_0xee2b[4707]]();a[_0xee2b[4708]]();a[_0xee2b[4709]]()},getPageTplData:function(){var b=this,a=b[_0xee2b[4704]]();return Ext[_0xee2b[8]](b[_0xee2b[9]](arguments),{bodyHeight:a[_0xee2b[747]],totalWidth:a[_0xee2b[773]]})},getHeaderTplData:function(b){var a=this;return Ext[_0xee2b[8]](a[_0xee2b[9]](arguments),{width:a[_0xee2b[750]](),height:a[_0xee2b[4513]]})},getFooterTplData:function(b){var a=this;return Ext[_0xee2b[8]](a[_0xee2b[9]](arguments),{width:a[_0xee2b[750]](),height:a[_0xee2b[4515]]})},fitComponentIntoPage:function(b){var c=this,a=c[_0xee2b[1830]];if(b[_0xee2b[3374]]&&!b[_0xee2b[3374]][_0xee2b[4]]){a[_0xee2b[839]](0)}else {a[_0xee2b[839]](Ext[_0xee2b[761]](a[_0xee2b[290]]()[_0xee2b[2859]]())[_0xee2b[793]]())}},preparePageToCommit:function(){var b=this,a=b[_0xee2b[9]](arguments),d=a[_0xee2b[760]](_0xee2b[4678])[_0xee2b[572]](),i=d[_0xee2b[760]](_0xee2b[4710]),m=d[_0xee2b[760]](_0xee2b[4682]),g=b[_0xee2b[4674]]();d[_0xee2b[1870]](-this[_0xee2b[4612]]);i[_0xee2b[863]](g);m[_0xee2b[863]](g);var c=a[_0xee2b[2931]](_0xee2b[4711]);if(c){c[_0xee2b[3737]]=b[_0xee2b[4701]];c[_0xee2b[763]][_0xee2b[686]]=-this[_0xee2b[4612]]+_0xee2b[804];c[_0xee2b[763]][_0xee2b[1354]]=_0xee2b[4680];c[_0xee2b[763]][_0xee2b[2072]]=_0xee2b[1690]}var e=b[_0xee2b[3950]],l=e[_0xee2b[787]]()[_0xee2b[861]](b[_0xee2b[4519]])[_0xee2b[793]](),j=e[_0xee2b[388]],h=a[_0xee2b[760]](_0xee2b[4535]+j)[_0xee2b[572]]()[_0xee2b[758]];h[_0xee2b[763]][_0xee2b[773]]=l+_0xee2b[804];var k=a[_0xee2b[2931]](_0xee2b[4535]+b[_0xee2b[3950]][_0xee2b[388]]);k[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[856];var f=a[_0xee2b[2931]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3584]);if(f){f[_0xee2b[763]][_0xee2b[747]]=_0xee2b[4376]}return a}});Ext[_0xee2b[6]](_0xee2b[4713],{extend:_0xee2b[4506],config:{id:_0xee2b[4714]},rowPageIndex:0,columnPageIndex:0,pagesPerColumn:0,depsTopOffset:0,onRowsCollected:function(c,b){var a=this;a[_0xee2b[4715]]=-a[_0xee2b[4612]];a[_0xee2b[4716]]=0;a[_0xee2b[4717]]=0;a[_0xee2b[4718]]=0;a[_0xee2b[4720]](function(){a[_0xee2b[4719]](a[_0xee2b[4709]],a,c,b)})},buildPages:function(c,e,f,d){var a=this,b=a[_0xee2b[4721]][0];a[_0xee2b[4706]](b,!0);this[_0xee2b[4638]](a[_0xee2b[4722]],a,{rowIndex:0,pageFrame:b,rowsHeight:0,leftHeight:this[_0xee2b[4539]],lockeds:[],normals:[],lockedRows:f,normalRows:d,callback:c,scope:e||a})},rowIteratorStep:function(j,a){var b=this,f=a[_0xee2b[4723]],k=a[_0xee2b[4607]],i=a[_0xee2b[4606]],l=a[_0xee2b[4724]],e=a[_0xee2b[4725]],d=a[_0xee2b[4726]],h=!0;if(f<i[_0xee2b[4]]){var g=k[f],c=i[f];if(c[_0xee2b[747]]<=l){e[_0xee2b[11]](g);d[_0xee2b[11]](c);a[_0xee2b[4724]]-=c[_0xee2b[747]];a[_0xee2b[4727]]+=c[_0xee2b[747]];h=!1}else {b[_0xee2b[4707]](e,d,a[_0xee2b[4728]]);b[_0xee2b[4708]]({rowsHeight:a[_0xee2b[4727]]});b[_0xee2b[4706]](a[_0xee2b[4728]]);a[_0xee2b[4725]]=[g];a[_0xee2b[4726]]=[c];a[_0xee2b[4724]]=b[_0xee2b[4539]]-c[_0xee2b[747]];a[_0xee2b[4727]]=c[_0xee2b[747]]}a[_0xee2b[4723]]++}else {if(b[_0xee2b[4717]]<b[_0xee2b[4721]][_0xee2b[4]]){b[_0xee2b[4707]](e,d,a[_0xee2b[4728]]);b[_0xee2b[4708]]({rowsHeight:a[_0xee2b[4727]]});a[_0xee2b[4728]]=b[_0xee2b[4721]][b[_0xee2b[4717]]];b[_0xee2b[4706]](a[_0xee2b[4728]],!0);a[_0xee2b[4724]]=b[_0xee2b[4539]];a[_0xee2b[4727]]=0;a[_0xee2b[4725]]=[];a[_0xee2b[4726]]=[];a[_0xee2b[4723]]=0}else {b[_0xee2b[4707]](e,d,a[_0xee2b[4728]]);b[_0xee2b[4708]]({rowsHeight:a[_0xee2b[4727]]});a[_0xee2b[4002]][_0xee2b[293]](a[_0xee2b[689]]);return}}if(h){j(a)}else {b[_0xee2b[4722]](j,a)}},fillGrids:function(d,f,c){var a=this,b=a[_0xee2b[4729]][a[_0xee2b[4717]]-1],e=!b||b&&b[_0xee2b[4730]];if(b){a[_0xee2b[4667]](d,!0);a[_0xee2b[4731]](b)}if(e){a[_0xee2b[4668]](f,!0);a[_0xee2b[4734]](-c[_0xee2b[4732]],-c[_0xee2b[4732]]+c[_0xee2b[4733]])}},buildPageFrame:function(k,d){var a=this,c=a[_0xee2b[4729]][k];if(c){a[_0xee2b[1830]][_0xee2b[839]](a[_0xee2b[4735]](c[_0xee2b[179]],c[_0xee2b[771]])+(c[_0xee2b[4736]]||0));if(c[_0xee2b[4730]]){a[_0xee2b[3380]][_0xee2b[2019]]()}else {var i=a[_0xee2b[1830]][_0xee2b[1848]][_0xee2b[859]]();a[_0xee2b[1830]][_0xee2b[4737]]()[0][_0xee2b[863]](i);a[_0xee2b[3380]][_0xee2b[256]]()}}else {a[_0xee2b[1830]][_0xee2b[839]](0);a[_0xee2b[1830]][_0xee2b[256]]();a[_0xee2b[3380]][_0xee2b[2019]]()}var b=a[_0xee2b[4533]]()[_0xee2b[2179]][_0xee2b[758]][_0xee2b[2263]](!0);b[_0xee2b[388]]=_0xee2b[27];b=Ext[_0xee2b[55]](b);b[_0xee2b[4732]]=d;b[_0xee2b[4738]]=c&&c[_0xee2b[4736]]||0;b[_0xee2b[4733]]=a[_0xee2b[3380]][_0xee2b[793]]();b[_0xee2b[4739]]=a[_0xee2b[1830]][_0xee2b[793]]();b[_0xee2b[861]](a[_0xee2b[4534]],!0)[_0xee2b[763]][_0xee2b[1780]]=_0xee2b[27];b[_0xee2b[861]](_0xee2b[4535]+a[_0xee2b[4022]][_0xee2b[388]],!0)[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[1690];if(!a[_0xee2b[3380]][_0xee2b[856]]){var f=b[_0xee2b[760]](a[_0xee2b[4536]])[_0xee2b[572]]();f[_0xee2b[758]][_0xee2b[763]][_0xee2b[1780]]=_0xee2b[27];f[_0xee2b[758]][_0xee2b[763]][_0xee2b[686]]=_0xee2b[4680];var h=a[_0xee2b[4672]](b);var e=b[_0xee2b[861]](_0xee2b[4535]+a[_0xee2b[3950]][_0xee2b[1848]][_0xee2b[388]],!0);var g=b[_0xee2b[861]](_0xee2b[4678],!0);var j=b[_0xee2b[861]](_0xee2b[4535]+a[_0xee2b[3950]][_0xee2b[388]],!0);h[_0xee2b[763]][_0xee2b[1354]]=d+_0xee2b[804];if(!c){b[_0xee2b[861]](_0xee2b[4535]+a[_0xee2b[3380]][_0xee2b[388]],!0)[_0xee2b[763]][_0xee2b[4740]]=_0xee2b[764]}e[_0xee2b[763]][_0xee2b[1354]]=d+_0xee2b[804];e[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[1690];g[_0xee2b[763]][_0xee2b[1354]]=d+_0xee2b[804];j[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[1690]}return b},buildPageFrames:function(d,b){var a=this;b=b||a;a[_0xee2b[4729]]=a[_0xee2b[4741]]();var e=Math[_0xee2b[1194]](a[_0xee2b[750]]()/a[_0xee2b[4547]]),c=a[_0xee2b[4721]]=[];a[_0xee2b[4638]](function(i,f,g){if(f>=e){d[_0xee2b[293]](b,c);return}c[_0xee2b[11]](a[_0xee2b[4742]](f,g));var h=a[_0xee2b[4729]][f];if(h){g-=h[_0xee2b[4730]]||0}else {g-=a[_0xee2b[4547]]}i(f+1,g)},a,0,0)},startPage:function(c,b){var a=this;if(b){a[_0xee2b[4715]]=-a[_0xee2b[4612]];if(a[_0xee2b[4717]]==1){a[_0xee2b[4718]]=a[_0xee2b[4608]][_0xee2b[4]]}a[_0xee2b[4716]]=0;a[_0xee2b[4717]]++;a[_0xee2b[4613]]=a[_0xee2b[4612]]}a[_0xee2b[4716]]++;a[_0xee2b[9]](arguments);a[_0xee2b[4671]]();a[_0xee2b[4669]]()},commitPage:function(b){var a=this;a[_0xee2b[9]]([Ext[_0xee2b[8]]({row:a[_0xee2b[4716]],column:a[_0xee2b[4717]]},b)]);a[_0xee2b[4613]]-=b[_0xee2b[4727]];a[_0xee2b[4715]]-=b[_0xee2b[4727]]},getExpectedPagesPerColumn:function(){return this[_0xee2b[4718]]||Math[_0xee2b[1194]]((this[_0xee2b[4611]]||this[_0xee2b[2948]][_0xee2b[64]][_0xee2b[1520]]()*this[_0xee2b[2948]][_0xee2b[2864]]())/this[_0xee2b[4539]])},getExpectedColumnsNumber:function(){return this[_0xee2b[4721]]?this[_0xee2b[4721]][_0xee2b[4]]:Math[_0xee2b[1194]]((this[_0xee2b[1830]][_0xee2b[793]]()+this[_0xee2b[4555]][_0xee2b[4]]*this[_0xee2b[829]][_0xee2b[810]][_0xee2b[755]]())/this[_0xee2b[4547]])},getExpectedNumberOfPages:function(){return this[_0xee2b[4743]]()*this[_0xee2b[4744]]()},calculateLockedColumnPages:function(){var d=this,e=[],g=d[_0xee2b[4745]],c=d[_0xee2b[4547]],b;for(var a=0,h=g[_0xee2b[4]];a<h;a++){var i=g[a],f=i[_0xee2b[773]];b=b||{start:a,end:a};c-=f;if(c<0){e[_0xee2b[11]](b);if(c){b={start:a,end:a}}c=d[_0xee2b[4547]]-f+c}else {b[_0xee2b[771]]=a}}if(b){b[_0xee2b[4730]]=c;e[_0xee2b[11]](b)}return e},getPageTplData:function(a){return Ext[_0xee2b[8]](this[_0xee2b[9]](arguments),{title:a[_0xee2b[1135]]+_0xee2b[4663]+this[_0xee2b[4609]]+_0xee2b[4746]+a[_0xee2b[2963]]+_0xee2b[4747]+a[_0xee2b[4673]]+_0xee2b[1058]})},showLockedColumns:function(b,e){var g=this,d=g[_0xee2b[4745]],f=0;b=b||0;e=e||d[_0xee2b[4]]-1;for(var a=0;a<d[_0xee2b[4]];a++){var c=d[a];if(a>=b&&a<=e){c[_0xee2b[2963]][_0xee2b[2019]]();f+=c[_0xee2b[773]]}else {c[_0xee2b[2963]][_0xee2b[256]]()}}return f},removeInvisibleEvents:function(b,e){var a=this,c=a[_0xee2b[4672]](),d=a[_0xee2b[3950]][_0xee2b[2034]];Ext[_0xee2b[26]][_0xee2b[25]](Ext[_0xee2b[761]](c)[_0xee2b[760]](d)[_0xee2b[3970]],function(c){var d=parseInt(c[_0xee2b[763]][_0xee2b[1354]],10),f=d+parseInt(c[_0xee2b[763]][_0xee2b[773]],10);if(f<b||d>e){a[_0xee2b[4748]](c)}})},removeHiddenLockedColumns:function(d){var a=this,h=a[_0xee2b[4664]](),f=a[_0xee2b[4666]]();for(var b=0;b<a[_0xee2b[4745]][_0xee2b[4]];b++){var c=a[_0xee2b[4745]][b][_0xee2b[2963]];if(b<d[_0xee2b[179]]||b>d[_0xee2b[771]]){var g=_0xee2b[4535]+c[_0xee2b[32]]();var i=h[_0xee2b[760]](g);a[_0xee2b[4748]](i);var e=c[_0xee2b[4005]]();var j=Ext[_0xee2b[761]](f)[_0xee2b[760]](e);a[_0xee2b[4748]](j)}}},fitComponentIntoPage:function(){var a=this,b=a[_0xee2b[4533]]();b[_0xee2b[839]](a[_0xee2b[4547]])},prepareComponent:function(d,b){var a=this,c=a[_0xee2b[4745]]=[];a[_0xee2b[9]](arguments);if(!(b[_0xee2b[3374]]&&b[_0xee2b[3374]][_0xee2b[4]]===0)){a[_0xee2b[1830]][_0xee2b[1848]][_0xee2b[266]][_0xee2b[25]](function(a){if(!a[_0xee2b[856]]){c[_0xee2b[11]]({column:a,width:a[_0xee2b[793]]()})}})}},restoreComponentState:function(){this[_0xee2b[9]](arguments);this[_0xee2b[4735]]()},preparePageToCommit:function(i){var a=this,b=a[_0xee2b[9]](arguments),d=b[_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3584],!0),c=b[_0xee2b[2931]](_0xee2b[4711]),f=a[_0xee2b[4721]][a[_0xee2b[4717]]-1];if(d){if(f[_0xee2b[4749]]){d[_0xee2b[763]][_0xee2b[762]]=_0xee2b[764];b[_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[4750],!0)[_0xee2b[763]][_0xee2b[1354]]=0}else {Ext[_0xee2b[761]](d)[_0xee2b[863]](_0xee2b[4376])}}if(!f[_0xee2b[4751]]){if(c){c[_0xee2b[3737]]=a[_0xee2b[4701]];c[_0xee2b[763]][_0xee2b[686]]=a[_0xee2b[4715]]+_0xee2b[804];c[_0xee2b[763]][_0xee2b[2072]]=_0xee2b[1690]}var e=b[_0xee2b[2931]](_0xee2b[4535]+a[_0xee2b[3950]][_0xee2b[388]]);if(e){var h=a[_0xee2b[3950]][_0xee2b[787]]()[_0xee2b[861]](a[_0xee2b[4519]])[_0xee2b[793]]();e[_0xee2b[763]][_0xee2b[773]]=h+_0xee2b[804];e[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[856]}}if(!f[_0xee2b[4749]]){var g=b[_0xee2b[2931]](_0xee2b[4535]+a[_0xee2b[4022]][_0xee2b[388]]);if(g){g[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[856]}}return b}});Ext[_0xee2b[6]](_0xee2b[4752],{extend:_0xee2b[4506],config:{id:_0xee2b[4753]},minRowHeight:20,minAverageColumnWidth:100,visibleColumns:null,visibleColumnsWidth:0,depsTopOffset:0,onRowsCollected:function(c,b){var a=this;a[_0xee2b[4715]]=-a[_0xee2b[4612]];a[_0xee2b[4638]](function(m,l){if(l===b[_0xee2b[4]]){a[_0xee2b[4709]]();return}var d=l,k=a[_0xee2b[4539]],g=0,i=[],h=[],j=!1,e,f;a[_0xee2b[4706]]();while(!j&&d<b[_0xee2b[4]]){e=b[d];f=c[d];k-=e[_0xee2b[747]];if(k>0){g+=e[_0xee2b[747]];f&&i[_0xee2b[11]](f);h[_0xee2b[11]](e);d++}else {j=!0}}a[_0xee2b[4707]](i,h);a[_0xee2b[4708]]({rowIndex:d,rowsHeight:g});a[_0xee2b[4613]]-=g;m(d)},a,0)},startPage:function(){var a=this;a[_0xee2b[9]](arguments);var b=a[_0xee2b[4664]]()[_0xee2b[760]](_0xee2b[4535]+a[_0xee2b[4022]][_0xee2b[388]])[_0xee2b[572]]();b[_0xee2b[758]][_0xee2b[763]][_0xee2b[4712]]=_0xee2b[1690]},commitPage:function(b){var a=this;a[_0xee2b[9]](arguments);if(a[_0xee2b[4588]]&&a[_0xee2b[4588]][_0xee2b[1306]]()){a[_0xee2b[4715]]-=b[_0xee2b[4727]]}},getExpectedNumberOfPages:function(){return Math[_0xee2b[1194]](this[_0xee2b[4611]]/this[_0xee2b[4539]])},prepareColumns:function(b){this[_0xee2b[9]](arguments);var a=this,c=a[_0xee2b[4754]]=[];a[_0xee2b[4755]]=0;if(b&&b[_0xee2b[4]]===0){return}a[_0xee2b[1830]][_0xee2b[1848]][_0xee2b[266]][_0xee2b[25]](function(d){if(!d[_0xee2b[856]]){c[_0xee2b[11]]({column:d,width:d[_0xee2b[793]]()});a[_0xee2b[4755]]+=d[_0xee2b[793]]()}})},fitComponentIntoPage:function(){var a=this,d=a[_0xee2b[4533]](),g=d[_0xee2b[808]](),l=d[_0xee2b[3380]],j=d[_0xee2b[1830]],k=a[_0xee2b[750]](),m=a[_0xee2b[4555]],h=a[_0xee2b[2679]]||g[_0xee2b[810]][_0xee2b[755]]();var b=Math[_0xee2b[424]](a[_0xee2b[4755]]/k*a[_0xee2b[4547]]);var i=a[_0xee2b[4754]][_0xee2b[4]],c=i*a[_0xee2b[4756]];c=c>a[_0xee2b[4547]]/2?Math[_0xee2b[424]](a[_0xee2b[4547]]/2):c;b=c>b?c:b;var e=a[_0xee2b[4547]]-b;var f=e/m[_0xee2b[4]];a[_0xee2b[2811]](f/h*a[_0xee2b[2864]]());d[_0xee2b[839]](a[_0xee2b[4547]]);l[_0xee2b[839]](e);j[_0xee2b[839]](b);a[_0xee2b[4757]](b);d[_0xee2b[4570]](f)},setRowHeight:function(b){var a=this;a[_0xee2b[2948]][_0xee2b[2811]](b<a[_0xee2b[4758]]?a[_0xee2b[4758]]:b)},fitLockedColumnWidth:function(e){var g=this,a=this[_0xee2b[4754]];var h=e/g[_0xee2b[4755]];if(a[_0xee2b[4]]){for(var b=0;b<a[_0xee2b[4]];b++){var c=a[b],f=c[_0xee2b[773]],d=Math[_0xee2b[424]](f*h);c[_0xee2b[2963]][_0xee2b[839]](d)}this[_0xee2b[4759]]=!0}},restoreComponentState:function(c){var e=this;c=c||e[_0xee2b[4533]]();if(this[_0xee2b[4759]]){var d=this[_0xee2b[4754]];for(var a=0;a<d[_0xee2b[4]];a++){var b=d[a];b[_0xee2b[2963]][_0xee2b[839]](b[_0xee2b[773]])}}this[_0xee2b[9]](arguments)},preparePageToCommit:function(){var a=this,c=a[_0xee2b[9]](arguments),b=c[_0xee2b[2931]](_0xee2b[4711]);if(b){b[_0xee2b[3737]]=a[_0xee2b[4701]];b[_0xee2b[763]][_0xee2b[686]]=a[_0xee2b[4715]]+_0xee2b[804];b[_0xee2b[763]][_0xee2b[1354]]=_0xee2b[4680];b[_0xee2b[763]][_0xee2b[2072]]=_0xee2b[1690]}var f=a[_0xee2b[3950]][_0xee2b[787]]()[_0xee2b[861]](a[_0xee2b[4519]])[_0xee2b[793]]();var e=c[_0xee2b[2931]](_0xee2b[4535]+a[_0xee2b[3950]][_0xee2b[388]]);e[_0xee2b[763]][_0xee2b[773]]=f+_0xee2b[804];e[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[856];var g=c[_0xee2b[2931]](_0xee2b[4535]+a[_0xee2b[4022]][_0xee2b[388]]);g[_0xee2b[763]][_0xee2b[4712]]=_0xee2b[856];var d=c[_0xee2b[2931]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[3584]);if(d){d[_0xee2b[763]][_0xee2b[747]]=_0xee2b[4376]}return c}});Ext[_0xee2b[6]](_0xee2b[4760],{extend:_0xee2b[4761],alias:_0xee2b[4762],width:200,height:200,border:!0,collapsible:!1,bodyStyle:_0xee2b[4763],verticalCfg:{height:120,value:24,increment:2,minValue:20,maxValue:80,reverse:!0,disabled:!0},horizontalCfg:{width:120,value:100,minValue:25,increment:5,maxValue:200,disable:!0},initComponent:function(){var a=this;a[_0xee2b[4764]][_0xee2b[2302]]=a[_0xee2b[4765]][_0xee2b[4593]];a[_0xee2b[4766]][_0xee2b[2302]]=a[_0xee2b[4765]][_0xee2b[2678]];a[_0xee2b[4766]][_0xee2b[144]]=a[_0xee2b[4765]][_0xee2b[4767]]||!1;a[_0xee2b[4768]]=[a[_0xee2b[1932]]=new Ext[_0xee2b[4774]].Single(Ext[_0xee2b[8]]({dock:_0xee2b[1354],style:_0xee2b[4769],vertical:!0,stateful:a[_0xee2b[4765]][_0xee2b[4770]],stateId:_0xee2b[4771],stateEvents:[_0xee2b[2459]],listeners:{change:a[_0xee2b[4772]],changecomplete:a[_0xee2b[4773]],scope:a}},a[_0xee2b[4766]])),a[_0xee2b[1931]]=new Ext[_0xee2b[4774]].Single(Ext[_0xee2b[8]]({dock:_0xee2b[686],style:_0xee2b[4775],stateful:a[_0xee2b[4765]][_0xee2b[4770]],stateId:_0xee2b[4776],stateEvents:[_0xee2b[2459]],listeners:{change:a[_0xee2b[4772]],changecomplete:a[_0xee2b[4773]],scope:a}},a[_0xee2b[4764]]))];a[_0xee2b[9]](arguments)},afterRender:function(){var a=this;a[_0xee2b[264]](_0xee2b[4777]);a[_0xee2b[4778]]=a[_0xee2b[2179]][_0xee2b[825]]({cls:_0xee2b[4779],cn:{tag:_0xee2b[4780]}});a[_0xee2b[4781]]=a[_0xee2b[4778]][_0xee2b[861]](_0xee2b[4780]);var b=new Ext[_0xee2b[2121]].DD(a[_0xee2b[4778]]);Ext[_0xee2b[8]](b,{startDrag:function(){a[_0xee2b[2063]]=!0;this[_0xee2b[3068]](a[_0xee2b[2179]])},onDrag:function(){a[_0xee2b[4782]]()},endDrag:function(){a[_0xee2b[4782]]();a[_0xee2b[2063]]=!1}});a[_0xee2b[4783]](a[_0xee2b[1556]]());a[_0xee2b[9]](arguments);a[_0xee2b[2179]][_0xee2b[149]](_0xee2b[248],a[_0xee2b[4784]],a)},onBodyClick:function(a,c){var b=[a[_0xee2b[1970]]()[0]-8-this[_0xee2b[2179]][_0xee2b[809]](),a[_0xee2b[1970]]()[1]-8-this[_0xee2b[2179]][_0xee2b[1936]]()];this[_0xee2b[4778]][_0xee2b[1857]](Ext[_0xee2b[2770]][_0xee2b[2076]](b[0],0,this[_0xee2b[838]]()));this[_0xee2b[4778]][_0xee2b[1870]](Ext[_0xee2b[2770]][_0xee2b[2076]](b[1],0,this[_0xee2b[4785]]()));this[_0xee2b[4782]]();this[_0xee2b[4773]]()},updateValuesFromHandles:function(){this[_0xee2b[4783]](this[_0xee2b[4786]]())},getAvailableWidth:function(){return this[_0xee2b[2179]][_0xee2b[793]]()-18},getAvailableHeight:function(){return this[_0xee2b[2179]][_0xee2b[859]]()-18},getValuesFromXY:function(a){a=a||[this[_0xee2b[4778]][_0xee2b[806]](!0),this[_0xee2b[4778]][_0xee2b[2421]](!0)];var d=a[0]/this[_0xee2b[838]]();var c=a[1]/this[_0xee2b[4785]]();var b=Math[_0xee2b[704]]((this[_0xee2b[4764]][_0xee2b[4787]]-this[_0xee2b[4764]][_0xee2b[4788]])*d);var e=Math[_0xee2b[704]]((this[_0xee2b[4766]][_0xee2b[4787]]-this[_0xee2b[4766]][_0xee2b[4788]])*c)+this[_0xee2b[4766]][_0xee2b[4788]];return [b+this[_0xee2b[4764]][_0xee2b[4788]],e]},getXYFromValues:function(a){var f=this[_0xee2b[4764]][_0xee2b[4787]]-this[_0xee2b[4764]][_0xee2b[4788]];var b=this[_0xee2b[4766]][_0xee2b[4787]]-this[_0xee2b[4766]][_0xee2b[4788]];var d=Math[_0xee2b[704]]((a[0]-this[_0xee2b[4764]][_0xee2b[4788]])*this[_0xee2b[838]]()/f);var e=a[1]-this[_0xee2b[4766]][_0xee2b[4788]];var c=Math[_0xee2b[704]](e*this[_0xee2b[4785]]()/b);return [d,c]},updatePosition:function(){var a=this[_0xee2b[1556]]();var b=this[_0xee2b[4789]](a);this[_0xee2b[4778]][_0xee2b[1857]](Ext[_0xee2b[2770]][_0xee2b[2076]](b[0],0,this[_0xee2b[838]]()));if(this[_0xee2b[4766]][_0xee2b[144]]){this[_0xee2b[4778]][_0xee2b[1870]](this[_0xee2b[4765]][_0xee2b[2678]])}else {this[_0xee2b[4778]][_0xee2b[1870]](Ext[_0xee2b[2770]][_0xee2b[2076]](b[1],0,this[_0xee2b[4785]]()))}this[_0xee2b[4790]]();this[_0xee2b[4791]](a)},positionValueText:function(){var a=this[_0xee2b[4778]][_0xee2b[2421]](!0);var b=this[_0xee2b[4778]][_0xee2b[806]](!0);this[_0xee2b[4781]][_0xee2b[1857]](b>30?-30:10);this[_0xee2b[4781]][_0xee2b[1870]](a>10?-20:20)},setValueText:function(a){if(this[_0xee2b[4766]][_0xee2b[144]]){a[1]=this[_0xee2b[4765]][_0xee2b[2678]]}this[_0xee2b[4781]][_0xee2b[724]](_0xee2b[3745]+a.toString()+_0xee2b[670])},setValues:function(a){this[_0xee2b[1931]][_0xee2b[2462]](a[0]);if(this[_0xee2b[4766]][_0xee2b[260]]){if(!this[_0xee2b[4766]][_0xee2b[144]]){this[_0xee2b[1932]][_0xee2b[2462]](this[_0xee2b[4766]][_0xee2b[4787]]+this[_0xee2b[4766]][_0xee2b[4788]]-a[1])}}else {if(!this[_0xee2b[4766]][_0xee2b[144]]){this[_0xee2b[1932]][_0xee2b[2462]](a[1])}}if(!this[_0xee2b[2063]]){this[_0xee2b[4792]]()}this[_0xee2b[4790]]();this[_0xee2b[4791]](a)},getValues:function(){if(!this[_0xee2b[4766]][_0xee2b[144]]){var a=this[_0xee2b[1932]][_0xee2b[4121]]();if(this[_0xee2b[4766]][_0xee2b[260]]){a=this[_0xee2b[4766]][_0xee2b[4787]]-a+this[_0xee2b[4766]][_0xee2b[4788]]}return [this[_0xee2b[1931]][_0xee2b[4121]](),a]}return [this[_0xee2b[1931]][_0xee2b[4121]]()]},onSliderChange:function(){if(!this[_0xee2b[262]]){return}this[_0xee2b[180]](_0xee2b[2459],this,this[_0xee2b[1556]]());if(!this[_0xee2b[2063]]){this[_0xee2b[4792]]()}},onSliderChangeComplete:function(){this[_0xee2b[180]](_0xee2b[4793],this,this[_0xee2b[1556]]())},afterLayout:function(){this[_0xee2b[9]](arguments);this[_0xee2b[4792]]()}});Ext[_0xee2b[6]](_0xee2b[4794],{extend:_0xee2b[4205],requires:[_0xee2b[109]],multiSelect:!0,valueField:_0xee2b[388],displayField:_0xee2b[683],forceSelection:!0,editable:!1,listConfig:{htmlEncode:!0,cls:_0xee2b[4795],selectedItemCls:Ext[_0xee2b[238]]+_0xee2b[4796]},columns:null,columnEmptyText:null,columnEmptyRegExp:/^(\s*|&(nbsp|#160);)$/,initComponent:function(){this[_0xee2b[64]]=new Ext[_0xee2b[22]].Store({proxy:_0xee2b[313],fields:[_0xee2b[388],_0xee2b[683],_0xee2b[2963]],data:this[_0xee2b[4797]](this[_0xee2b[3374]])});this[_0xee2b[9]](arguments)},processColumns:function(b){var d=this,a=[],c=Ext[_0xee2b[26]][_0xee2b[41]](b||[],function(c){if(!c[_0xee2b[4451]]()){a[_0xee2b[11]](c[_0xee2b[388]])}return {id:c[_0xee2b[388]],name:d[_0xee2b[4798]](c),column:c}});this[_0xee2b[2302]]=this[_0xee2b[2302]]||a;return c},getColumnTitle:function(a){var b=this;return !Ext[_0xee2b[1041]][_0xee2b[2723]](a[_0xee2b[3438]])||a[_0xee2b[3438]][_0xee2b[2249]](b[_0xee2b[4799]])?b[_0xee2b[4800]]:a[_0xee2b[3438]]},getPicker:function(){var a=this[_0xee2b[9]](arguments);a[_0xee2b[4801]]+=_0xee2b[60]+Ext[_0xee2b[238]]+_0xee2b[4796];return a},getSelectedColumns:function(){var b=this,a=b[_0xee2b[4121]]();if(!Ext[_0xee2b[307]](a)){a=[a]}return Ext[_0xee2b[26]][_0xee2b[41]](a,function(a){return b[_0xee2b[64]][_0xee2b[395]](a)[_0xee2b[55]](_0xee2b[2963])})}});Ext[_0xee2b[6]](_0xee2b[4802],{extend:_0xee2b[4257],requires:[_0xee2b[109],_0xee2b[717],_0xee2b[4261],_0xee2b[4205],_0xee2b[3980],_0xee2b[4803],_0xee2b[4804],_0xee2b[4760],_0xee2b[4794]],mixins:[_0xee2b[665]],alias:_0xee2b[4805],border:!1,bodyPadding:_0xee2b[4321],autoHeight:!0,stateful:!0,rangeField:null,resizerHolder:null,resizePicker:null,dateFromField:null,dateToField:null,datesHolder:null,columnPicker:null,rowsRangeField:null,exportersField:null,formatField:null,orientationField:null,dpiField:null,showHeaderField:null,showFooterField:null,dateRangeFormat:_0xee2b[27],columnPickerConfig:null,dpiFieldConfig:null,dateRangeRestriction:!0,rangeFieldConfig:null,rowsRangeFieldConfig:null,formatFieldConfig:null,orientationFieldConfig:null,exportersFieldConfig:null,showHeaderFieldConfig:null,showFooterFieldConfig:null,dateFromFieldConfig:null,dateToFieldConfig:null,showResizePicker:!1,showColumnPicker:!0,showDPIField:!0,showShowHeaderField:!0,showShowFooterField:!1,showRowsRangeField:!0,initComponent:function(){var a=this;a[_0xee2b[4806]]=Ext[_0xee2b[8]]({labelAlign:_0xee2b[1354],labelWidth:120,anchor:_0xee2b[4807]},a[_0xee2b[4806]]);a[_0xee2b[266]]=a[_0xee2b[4808]]();a[_0xee2b[9]](arguments);a[_0xee2b[4810]](a[_0xee2b[4809]],a[_0xee2b[4809]][_0xee2b[4121]]());a[_0xee2b[4812]](a[_0xee2b[4811]],a[_0xee2b[4811]][_0xee2b[4121]]())},isValid:function(){var a=this;if(a[_0xee2b[4809]][_0xee2b[4121]]()==_0xee2b[1097]){return a[_0xee2b[4813]][_0xee2b[348]]()&&a[_0xee2b[4814]][_0xee2b[348]]()}return !0},getValues:function(c,d,e,f){var a=this[_0xee2b[9]](arguments);if(this[_0xee2b[4815]]){a[_0xee2b[4541]]=!!a[_0xee2b[4541]]}if(this[_0xee2b[4816]]){a[_0xee2b[4543]]=!!a[_0xee2b[4543]]}a[_0xee2b[4817]]=!!a[_0xee2b[4817]];if(this[_0xee2b[4818]]&&this[_0xee2b[4809]][_0xee2b[4121]]()==_0xee2b[4553]){var b=this[_0xee2b[4818]][_0xee2b[1556]]();if(c){a+=_0xee2b[4819]+b[0]+_0xee2b[4820]+b[1]}else {a[_0xee2b[4577]]=b}}if(this[_0xee2b[4821]]){a[_0xee2b[3374]]=this[_0xee2b[4821]][_0xee2b[4822]]()}return a},createFields:function(){var a=this,d=_0xee2b[4823],c=_0xee2b[4824];if(a[_0xee2b[4825]]){a[_0xee2b[4818]]=new Sch[_0xee2b[2395]].ResizePicker({dialogConfig:a,margin:_0xee2b[4826]});a[_0xee2b[4827]]=new Ext[_0xee2b[4067]].FieldContainer({fieldLabel:a[_0xee2b[4767]]?a.L(_0xee2b[4828]):a.L(_0xee2b[4829]),labelAlign:_0xee2b[686],hidden:!0,labelSeparator:_0xee2b[27],beforeLabelTextTpl:d,afterLabelTextTpl:c,layout:_0xee2b[4264],defaults:{flex:1,allowBlank:!1},items:[a[_0xee2b[4818]]]})}a[_0xee2b[4813]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[8]](a[_0xee2b[4835]]({xtype:_0xee2b[4302],fieldLabel:a.L(_0xee2b[4830]),baseBodyCls:_0xee2b[4831],name:_0xee2b[4551],format:a[_0xee2b[4832]]||Ext[_0xee2b[703]][_0xee2b[4833]],allowBlank:!1,maxValue:a[_0xee2b[4834]]&&a[_0xee2b[1139]]||null,minValue:a[_0xee2b[4834]]&&a[_0xee2b[1138]]||null,value:a[_0xee2b[1138]]}),a[_0xee2b[4836]]));a[_0xee2b[4814]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[8]](a[_0xee2b[4835]]({xtype:_0xee2b[4302],fieldLabel:a.L(_0xee2b[4837]),name:_0xee2b[4552],format:a[_0xee2b[4832]]||Ext[_0xee2b[703]][_0xee2b[4833]],baseBodyCls:_0xee2b[4831],allowBlank:!1,maxValue:a[_0xee2b[4834]]&&a[_0xee2b[1139]]||null,minValue:a[_0xee2b[4834]]&&a[_0xee2b[1138]]||null,value:a[_0xee2b[1139]]}),a[_0xee2b[4838]]));a[_0xee2b[4839]]=new Ext[_0xee2b[4067]].FieldContainer({fieldLabel:a.L(_0xee2b[4840]),labelAlign:_0xee2b[686],hidden:!0,labelSeparator:_0xee2b[27],beforeLabelTextTpl:d,afterLabelTextTpl:c,layout:_0xee2b[4264],defaults:{flex:1,allowBlank:!1},items:[a[_0xee2b[4813]],a[_0xee2b[4814]]]});if(a[_0xee2b[4841]]){a[_0xee2b[4821]]=new Sch[_0xee2b[2395]].ColumnPicker(a[_0xee2b[4835]](Ext[_0xee2b[8]]({fieldLabel:a.L(_0xee2b[4842]),columnEmptyText:a.L(_0xee2b[4800]),cls:_0xee2b[4843]},a[_0xee2b[4844]])))}if(a[_0xee2b[4845]]){a[_0xee2b[4846]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[8]](a[_0xee2b[4835]]({xtype:_0xee2b[4274],fieldLabel:a.L(_0xee2b[4847]),cls:_0xee2b[4848],minValue:65,name:_0xee2b[4849],value:a[_0xee2b[4542]][_0xee2b[4849]],maxValue:200}),a[_0xee2b[4850]]))}if(a[_0xee2b[4815]]){a[_0xee2b[4851]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[8]](a[_0xee2b[4854]]({xtype:_0xee2b[4267],fieldLabel:a.L(_0xee2b[4852]),cls:_0xee2b[4853],name:_0xee2b[4541],checked:!!a[_0xee2b[4542]][_0xee2b[4541]],checkedValue:!0,uncheckedValue:!1}),a[_0xee2b[4855]]))}if(a[_0xee2b[4816]]){a[_0xee2b[4856]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[8]](a[_0xee2b[4854]]({xtype:_0xee2b[4267],fieldLabel:a.L(_0xee2b[4857]),cls:_0xee2b[4858],name:_0xee2b[4543],checked:!!a[_0xee2b[4542]][_0xee2b[4543]],checkedValue:!0,uncheckedValue:!1}),a[_0xee2b[4859]]))}a[_0xee2b[4860]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[154]][_0xee2b[4398]](a[_0xee2b[4835]]({xtype:_0xee2b[4861],listConfig:{htmlEncode:!0},fieldLabel:a.L(_0xee2b[4862]),value:a[_0xee2b[4542]][_0xee2b[880]],triggerAction:_0xee2b[2862],forceSelection:!0,editable:!1,name:_0xee2b[880],queryMode:_0xee2b[4212],store:a[_0xee2b[4863]]||[_0xee2b[4864],_0xee2b[4865],_0xee2b[4866],_0xee2b[4867],_0xee2b[4868]]}),a[_0xee2b[4869]]));a[_0xee2b[4870]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[154]][_0xee2b[4398]](a[_0xee2b[4835]]({xtype:_0xee2b[4861],listConfig:{htmlEncode:!0},fieldLabel:a.L(_0xee2b[4871]),value:a[_0xee2b[4542]][_0xee2b[3378]],triggerAction:_0xee2b[2862],forceSelection:!0,editable:!1,name:_0xee2b[3378],displayField:_0xee2b[683],valueField:_0xee2b[2302],queryMode:_0xee2b[4212],store:{fields:[_0xee2b[683],_0xee2b[2302]],data:[{name:a.L(_0xee2b[4872]),value:_0xee2b[4873]},{name:a.L(_0xee2b[4874]),value:_0xee2b[4546]}]}}),a[_0xee2b[4875]]));a[_0xee2b[4809]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[154]][_0xee2b[4398]](a[_0xee2b[4835]]({xtype:_0xee2b[4861],listConfig:{htmlEncode:!0},fieldLabel:a.L(_0xee2b[4876]),value:a[_0xee2b[4542]][_0xee2b[4549]],triggerAction:_0xee2b[2862],cls:_0xee2b[4877],forceSelection:!0,editable:!1,name:_0xee2b[4549],queryMode:_0xee2b[4212],displayField:_0xee2b[683],valueField:_0xee2b[2302],store:{fields:[_0xee2b[683],_0xee2b[2302]],data:[{name:a.L(_0xee2b[4878]),value:_0xee2b[4550]},{name:a.L(_0xee2b[4879]),value:_0xee2b[4554]},{name:a.L(_0xee2b[4880]),value:_0xee2b[1097]},{name:a.L(_0xee2b[4881]),value:_0xee2b[4553]}]}}),a[_0xee2b[4882]]));a[_0xee2b[252]](a[_0xee2b[4809]],_0xee2b[2459],a[_0xee2b[4810]],a);a[_0xee2b[4811]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[154]][_0xee2b[4398]](a[_0xee2b[4835]]({xtype:_0xee2b[4861],listConfig:{htmlEncode:!0},fieldLabel:a.L(_0xee2b[4883]),value:a[_0xee2b[4884]],triggerAction:_0xee2b[2862],cls:_0xee2b[4885],forceSelection:!0,editable:!1,name:_0xee2b[388],queryMode:_0xee2b[4212],displayField:_0xee2b[683],valueField:_0xee2b[2302],store:{fields:[_0xee2b[683],_0xee2b[2302]],data:Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[4886]],function(a){return {name:a[_0xee2b[497]](),value:a[_0xee2b[32]]()}})}}),a[_0xee2b[4887]]));a[_0xee2b[252]](a[_0xee2b[4811]],_0xee2b[2459],a[_0xee2b[4812]],a);if(a[_0xee2b[4888]]){a[_0xee2b[4889]]=Ext[_0xee2b[2109]][_0xee2b[831]](Ext[_0xee2b[154]][_0xee2b[4398]](a[_0xee2b[4835]]({xtype:_0xee2b[4861],listConfig:{htmlEncode:!0},fieldLabel:a.L(_0xee2b[4890]),value:a[_0xee2b[4542]][_0xee2b[4557]],triggerAction:_0xee2b[2862],cls:_0xee2b[4891],forceSelection:!0,editable:!1,name:_0xee2b[4557],queryMode:_0xee2b[4212],displayField:_0xee2b[683],valueField:_0xee2b[2302],store:{fields:[_0xee2b[683],_0xee2b[2302]],data:[{name:a.L(_0xee2b[4892]),value:_0xee2b[2862]},{name:a.L(_0xee2b[4893]),value:_0xee2b[1690]}]}}),a[_0xee2b[4894]]))}var b=[];b[_0xee2b[11]](a[_0xee2b[4809]]);if(a[_0xee2b[4827]]){b[_0xee2b[11]](a[_0xee2b[4827]])}b[_0xee2b[11]](a[_0xee2b[4839]]);if(a[_0xee2b[4821]]){b[_0xee2b[11]](a[_0xee2b[4821]])}if(a[_0xee2b[4889]]){b[_0xee2b[11]](a[_0xee2b[4889]])}b[_0xee2b[11]](a[_0xee2b[4811]],a[_0xee2b[4860]],a[_0xee2b[4870]]);if(a[_0xee2b[4846]]){b[_0xee2b[11]](a[_0xee2b[4846]])}if(a[_0xee2b[4851]]){b[_0xee2b[11]](a[_0xee2b[4851]])}if(a[_0xee2b[4856]]){b[_0xee2b[11]](a[_0xee2b[4856]])}return b},applyStateful:function(a){if(!this[_0xee2b[4770]]){return a}var c=this,b=c[_0xee2b[4895]]||_0xee2b[4697];return Ext[_0xee2b[330]](a,{stateful:!0,stateId:b+_0xee2b[4896]+a[_0xee2b[683]]})},applyStatefulFull:function(b){if(!this[_0xee2b[4770]]){return b}var a=this;return Ext[_0xee2b[8]](a[_0xee2b[4835]](b),{stateEvents:[_0xee2b[2459]],applyState:a[_0xee2b[4897]],getState:a[_0xee2b[4898]]})},getFieldState:function(){return {value:this[_0xee2b[4121]]()}},applyFieldState:function(a){if(_0xee2b[2302] in a){this[_0xee2b[2462]](a[_0xee2b[2302]])}},onRangeChange:function(b,a){switch(a){case _0xee2b[4550]:case _0xee2b[4554]:this[_0xee2b[4839]][_0xee2b[256]]();this[_0xee2b[4827]]&&this[_0xee2b[4827]][_0xee2b[256]]();break;case _0xee2b[1097]:this[_0xee2b[4839]][_0xee2b[2019]]();this[_0xee2b[4827]]&&this[_0xee2b[4827]][_0xee2b[256]]();break;case _0xee2b[4553]:this[_0xee2b[4839]][_0xee2b[256]]();if(this[_0xee2b[4827]]){this[_0xee2b[4827]][_0xee2b[2019]]();this[_0xee2b[4818]][_0xee2b[103]](!0)};break;}},onExporterChange:function(b,a){switch(a){case _0xee2b[4703]:this[_0xee2b[4899]](!0);break;default:this[_0xee2b[4899]](!1);}},disableFields:function(b){var a=this;a[_0xee2b[4860]][_0xee2b[253]](b);a[_0xee2b[4870]][_0xee2b[253]](b)}});Ext[_0xee2b[6]](_0xee2b[4900],{alternateClassName:_0xee2b[4901],extend:_0xee2b[4315],requires:[_0xee2b[4902],_0xee2b[4802]],mixins:[_0xee2b[665]],alias:_0xee2b[4903],width:450,cls:_0xee2b[4904],frame:!1,layout:_0xee2b[4469],draggable:!0,constrain:!0,progressBar:null,buttonsPanel:null,buttonsPanelScope:null,doExportFnScope:null,doExportFn:function(b,a,c){throw _0xee2b[4905]},form:null,defaultFormXType:_0xee2b[4906],exportButtonConfig:null,cancelButtonConfig:null,formConfigs:_0xee2b[4907],constructor:function(a){Ext[_0xee2b[8]](this,a);this[_0xee2b[14]]=this[_0xee2b[14]]||this.L(_0xee2b[14]);this[_0xee2b[9]](arguments)},mapFormConfigs:function(){this[_0xee2b[4067]]=this[_0xee2b[4067]]||{};var a=this[_0xee2b[4067]];var d=this[_0xee2b[4908]][_0xee2b[496]](_0xee2b[72]);for(var c=0,e=d[_0xee2b[4]];c<e;c++){var b=d[c];if(this[_0xee2b[53]](b)&&!a[_0xee2b[53]](b)){a[b]=this[b]}}if(this[_0xee2b[53]](_0xee2b[4856])&&!a[_0xee2b[53]](_0xee2b[4816])){a[_0xee2b[4816]]=this[_0xee2b[4856]]}if(this[_0xee2b[53]](_0xee2b[4851])&&!a[_0xee2b[53]](_0xee2b[4815])){a[_0xee2b[4815]]=this[_0xee2b[4851]]}if(a[_0xee2b[4895]]){a[_0xee2b[4895]]=_0xee2b[4909]+a[_0xee2b[4895]]}},initComponent:function(){var a=this;if(!a[_0xee2b[4067]]||!a[_0xee2b[4067]][_0xee2b[4910]]){a[_0xee2b[4911]]();a[_0xee2b[4067]]=a[_0xee2b[4912]]()}a[_0xee2b[4913]]=a[_0xee2b[4913]]||a[_0xee2b[4372]](a[_0xee2b[4914]]||a);Ext[_0xee2b[8]](a,{items:{items:[a[_0xee2b[4067]],a[_0xee2b[4915]]||a[_0xee2b[4916]]()]},fbar:a[_0xee2b[4913]]});a[_0xee2b[9]](arguments)},afterRender:function(){var a=this;if(a[_0xee2b[4067]][_0xee2b[4818]]){a[_0xee2b[846]](a[_0xee2b[4067]][_0xee2b[4818]],[_0xee2b[2459],_0xee2b[4793],_0xee2b[760]])}a[_0xee2b[9]](arguments)},buildButtons:function(b){var a=this;return [Ext[_0xee2b[8]]({xtype:_0xee2b[2104],scale:_0xee2b[4917],itemId:_0xee2b[4918],text:a.L(_0xee2b[4919]),handler:a[_0xee2b[4920]],scope:b||a},a[_0xee2b[4921]]),Ext[_0xee2b[8]]({xtype:_0xee2b[2104],scale:_0xee2b[4917],itemId:_0xee2b[1499],text:a.L(_0xee2b[4922]),handler:a[_0xee2b[4923]],scope:b||a},a[_0xee2b[4924]])]},onExportButtonPress:function(){if(this[_0xee2b[4067]][_0xee2b[348]]()){var a=this[_0xee2b[4067]][_0xee2b[1556]]();this[_0xee2b[4579]]();var b=this[_0xee2b[4832]]||Ext[_0xee2b[703]][_0xee2b[4833]];if(a[_0xee2b[4551]]&&!Ext[_0xee2b[1579]](a[_0xee2b[4551]])){a[_0xee2b[4551]]=Ext[_0xee2b[703]][_0xee2b[1253]](a[_0xee2b[4551]],b)}if(a[_0xee2b[4552]]&&!Ext[_0xee2b[1579]](a[_0xee2b[4552]])){a[_0xee2b[4552]]=Ext[_0xee2b[703]][_0xee2b[1253]](a[_0xee2b[4552]],b)}this[_0xee2b[4928]][_0xee2b[293]](this[_0xee2b[4925]]||this,a,this[_0xee2b[4926]],this[_0xee2b[4927]])}},afterExport:function(){var a=this[_0xee2b[861]](_0xee2b[4929]);a&&a[_0xee2b[2064]]();this[_0xee2b[4915]]&&this[_0xee2b[4915]][_0xee2b[256]]()},beforeExport:function(){var a=this[_0xee2b[861]](_0xee2b[4929]);a&&a[_0xee2b[2061]]();this[_0xee2b[4915]]&&this[_0xee2b[4915]][_0xee2b[2019]]()},onExportSuccess:function(){this[_0xee2b[4591]]()},onExportFailure:function(){this[_0xee2b[4591]]()},onCancelButtonPress:function(){this[_0xee2b[218]]()},buildForm:function(a){this[_0xee2b[4067]]=Ext[_0xee2b[8]](this[_0xee2b[4067]]||{},a);return Ext[_0xee2b[2109]][_0xee2b[831]](this[_0xee2b[4067]],this[_0xee2b[4930]])},buildProgressBar:function(){return this[_0xee2b[4915]]=new Ext.ProgressBar({text:this.L(_0xee2b[4931]),animate:!0,hidden:!0,margin:_0xee2b[4932]})}});Ext[_0xee2b[6]](_0xee2b[4933],{extend:_0xee2b[108],alternateClassName:_0xee2b[4934],alias:_0xee2b[4935],mixins:[_0xee2b[782],_0xee2b[665]],requires:[_0xee2b[717],_0xee2b[4702],_0xee2b[4713],_0xee2b[4752],_0xee2b[4900]],lockableScope:_0xee2b[686],pageSizes:{A5:{width:5.8,height:8.3},A4:{width:8.3,height:11.7},A3:{width:11.7,height:16.5},Letter:{width:8.5,height:11},Legal:{width:8.5,height:14}},enableWebSocket:!1,DPI:95,printServer:undefined,timeout:60000,headerTpl:null,headerTplDataFn:null,headerTplDataFnScope:null,tpl:null,footerTpl:null,footerTplDataFn:null,footerTplDataFnScope:null,exportDialogClassName:_0xee2b[4900],exportDialogConfig:{},exporterConfig:null,exportConfig:{format:_0xee2b[4865],orientation:_0xee2b[4873],range:_0xee2b[4550],rowsRange:_0xee2b[2862],showHeader:!0,showFooter:!1},expandAllBeforeExport:!1,translateURLsToAbsolute:!0,openAfterExport:!0,openInNewTab:!1,beforeExport:Ext[_0xee2b[688]],afterExport:Ext[_0xee2b[688]],fileFormat:_0xee2b[4936],defaultExporter:_0xee2b[4714],exporters:undefined,callbacks:undefined,currentAjaxRequest:undefined,currentWebSocketRequest:undefined,hideExportDialogTimeout:1000,constructor:function(b){var a=this;b=b||{};a[_0xee2b[4937]]={};if(b[_0xee2b[4938]]){Ext[_0xee2b[154]][_0xee2b[25]](this[_0xee2b[4542]],function(c,e,d){var a=b[_0xee2b[4938]][c];if(a){d[c]=a}})}if(!(_0xee2b[4939] in window)){b[_0xee2b[4940]]=!1}a[_0xee2b[9]]([b]);a[_0xee2b[4942]](a[_0xee2b[4941]]);if(!a[_0xee2b[4886]]){a[_0xee2b[4886]]=a[_0xee2b[4943]]()}a[_0xee2b[4944]]();a[_0xee2b[4945]]()},init:function(b){var a=this;b[_0xee2b[4946]]=Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[4946]],a);b[_0xee2b[4947]]=Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[4947]],a);a[_0xee2b[2502]]=b},initExporters:function(){var c=this,b=c[_0xee2b[4886]];for(var a=0;a<b[_0xee2b[4]];a++){if(!b[a][_0xee2b[4948]]){b[a]=c[_0xee2b[4949]](b[a])}}},bindExporters:function(){var b=this[_0xee2b[4886]];for(var a=0;a<b[_0xee2b[4]];a++){this[_0xee2b[4950]](b[a])}},bindExporter:function(b){var a=this;a[_0xee2b[252]](b,{commitpage:a[_0xee2b[4951]],collectrows:a[_0xee2b[4952]],scope:a})},unbindExporter:function(b){var a=this;a[_0xee2b[325]](b,{commitpage:a[_0xee2b[4951]],collectrows:a[_0xee2b[4952]],scope:a})},buildExporters:function(){return [_0xee2b[4702],_0xee2b[4713],_0xee2b[4752]]},getExporterConfig:function(c,d){var a=this;var b=Ext[_0xee2b[8]]({translateURLsToAbsolute:a[_0xee2b[4953]],expandAllBeforeExport:a[_0xee2b[4581]],DPI:a[_0xee2b[4849]]},a[_0xee2b[4954]]);if(a[_0xee2b[4525]]){b[_0xee2b[4525]]=a[_0xee2b[4525]]}if(a[_0xee2b[4650]]){b[_0xee2b[4650]]=a[_0xee2b[4650]];b[_0xee2b[4651]]=a[_0xee2b[4651]]}if(a[_0xee2b[3612]]){b[_0xee2b[3612]]=a[_0xee2b[3612]]}if(a[_0xee2b[4527]]){b[_0xee2b[4527]]=a[_0xee2b[4527]]}if(a[_0xee2b[4656]]){b[_0xee2b[4656]]=a[_0xee2b[4656]];b[_0xee2b[4657]]=a[_0xee2b[4657]]}return b},createExporter:function(a,b){var d=this,c=d[_0xee2b[4955]](a,b);if(Ext[_0xee2b[135]](a)){return Ext[_0xee2b[831]](Ext[_0xee2b[8]](c,a))}else {return Ext[_0xee2b[831]](a,Ext[_0xee2b[8]](c,b))}},registerExporter:function(a,b){if(!(a instanceof Sch[_0xee2b[3362]][_0xee2b[4697]][_0xee2b[4956]])){a=this[_0xee2b[4949]][_0xee2b[8]](this,arguments)}this[_0xee2b[4886]][_0xee2b[11]](a);this[_0xee2b[4950]](a)},getExporter:function(b){if(!b){return}var a=this[_0xee2b[4937]][b];if(a){return a}a=this[_0xee2b[4937]][b]=Ext[_0xee2b[26]][_0xee2b[1761]](this[_0xee2b[4886]],function(a){return a[_0xee2b[32]]()==b});return a},getExporters:function(){return this[_0xee2b[4886]]},setFileFormat:function(a){this[_0xee2b[4941]]=a},showExportDialog:function(){var a=this,b=a[_0xee2b[4957]]();if(b){b[_0xee2b[218]]()}a[_0xee2b[4959]](a[_0xee2b[4958]]());b=a[_0xee2b[4957]]();b[_0xee2b[149]](_0xee2b[218],a[_0xee2b[4960]],a);if(b[_0xee2b[4915]]){b[_0xee2b[252]](a,{progressupdate:a[_0xee2b[4961]],scope:a})}b[_0xee2b[2019]]()},buildExportDialog:function(){return Ext[_0xee2b[831]](this[_0xee2b[4962]],this[_0xee2b[4963]]())},buildExportDialogConfig:function(){var a=this,b=a[_0xee2b[2502]][_0xee2b[808]]();return Ext[_0xee2b[154]][_0xee2b[4398]]({doExportFn:a[_0xee2b[4947]],doExportFnScope:a,startDate:a[_0xee2b[2502]][_0xee2b[697]](),endDate:a[_0xee2b[2502]][_0xee2b[698]](),rowHeight:b[_0xee2b[810]][_0xee2b[2832]](),columnWidth:b[_0xee2b[810]][_0xee2b[755]](),defaultExporter:a[_0xee2b[4884]],exportConfig:Ext[_0xee2b[8]](a[_0xee2b[4542]],{DPI:a[_0xee2b[4849]]}),exporters:a[_0xee2b[4886]],pageFormats:a[_0xee2b[4964]](),columnPickerConfig:{columns:a[_0xee2b[2502]][_0xee2b[1830]][_0xee2b[2573]](_0xee2b[4965])}},a[_0xee2b[4938]])},onExportDialogDestroy:function(){this[_0xee2b[4966]]();this[_0xee2b[4959]](null)},onExportProgress:function(d,c){var b=this[_0xee2b[4957]](),a=b&&b[_0xee2b[4915]];if(a){a[_0xee2b[4967]](d);if(typeof c==_0xee2b[308]){a[_0xee2b[4968]](c)}}},showError:function(a){Ext[_0xee2b[4971]][_0xee2b[4970]](_0xee2b[27],a||this.L(_0xee2b[4969]))},getPageFormats:function(){var b=this[_0xee2b[4972]],a=[];Ext[_0xee2b[154]][_0xee2b[25]](b,function(c,b){a[_0xee2b[11]]({width:b[_0xee2b[773]],height:b[_0xee2b[747]],name:c})});return Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[1120]](function(b,a){return b[_0xee2b[773]]-a[_0xee2b[773]]}),function(a){return a[_0xee2b[683]]})},getExportConfig:function(c){var b=this;var a=Ext[_0xee2b[8]]({fileFormat:b[_0xee2b[4941]],id:b[_0xee2b[4884]],beforeExport:Ext[_0xee2b[283]][_0xee2b[282]](b[_0xee2b[4579]],b),afterExport:Ext[_0xee2b[283]][_0xee2b[282]](b[_0xee2b[4591]],b)},c,b[_0xee2b[4542]]);a[_0xee2b[4849]]=a[_0xee2b[4849]]||b[_0xee2b[4849]];a[_0xee2b[352]]=Ext[_0xee2b[8]]({},b[_0xee2b[4972]][a[_0xee2b[880]]]);a[_0xee2b[352]][_0xee2b[773]]*=a[_0xee2b[4849]];a[_0xee2b[352]][_0xee2b[747]]*=a[_0xee2b[4849]];return a},doExport:function(g,h,f,e){var a=this,c=a[_0xee2b[2502]],b=a[_0xee2b[4973]](g);a[_0xee2b[4618]]={success:h,failure:f,scope:e||a};var d=a[_0xee2b[4697]]=a[_0xee2b[4974]](b[_0xee2b[388]]);if(a[_0xee2b[180]](_0xee2b[4975],c,d,b)!==!1){a[_0xee2b[4976]]();a[_0xee2b[4697]][_0xee2b[4977]](c,b,function(i){a[_0xee2b[4709]](i,c,d,b)},a)}},cancelExport:function(){if(this[_0xee2b[4978]]){Ext[_0xee2b[945]][_0xee2b[944]](this[_0xee2b[4978]]);this[_0xee2b[4978]]=null}else {if(this[_0xee2b[4979]]){this[_0xee2b[4979]][_0xee2b[4327]]();this[_0xee2b[4979]]=null}else {if(this[_0xee2b[4697]]){this[_0xee2b[4697]][_0xee2b[944]]()}}}this[_0xee2b[2502]][_0xee2b[787]]()[_0xee2b[4980]]()},onPagesExtracted:function(a,c,d,b){this[_0xee2b[180]](_0xee2b[4981],0.8,this.L(_0xee2b[4982]));if(this[_0xee2b[4940]]){this[_0xee2b[4983]](a,b)}else {this[_0xee2b[4984]](a,b)}},onRowCollected:function(c,d,b,a){this[_0xee2b[180]](_0xee2b[4981],0.2*(b+1)/a,Ext[_0xee2b[1041]][_0xee2b[880]](this.L(_0xee2b[4985]),b,a))},onPageCommit:function(d,c,b,a){a=Math[_0xee2b[715]](b,a);this[_0xee2b[180]](_0xee2b[4981],0.2+0.6*b/a,Ext[_0xee2b[1041]][_0xee2b[880]](this.L(_0xee2b[4986]),b,a))},onExportSuccess:function(d){var a=this,f=a[_0xee2b[4957]](),c=a[_0xee2b[4618]],e=c&&c[_0xee2b[426]],g=c&&c[_0xee2b[689]]||a;a[_0xee2b[180]](_0xee2b[4981],1);a[_0xee2b[4987]](!0,d[_0xee2b[950]]);e&&e[_0xee2b[8]](g,arguments);a[_0xee2b[4988]]=setTimeout(function(){f&&f[_0xee2b[218]]()},a[_0xee2b[4989]]);if(a[_0xee2b[4990]]){if(Ext[_0xee2b[960]]){window[_0xee2b[4992]](d[_0xee2b[950]],_0xee2b[4991])}else {var b=document[_0xee2b[3662]](_0xee2b[4993]);b[_0xee2b[4994]]=_0xee2b[4918];b[_0xee2b[4562]]=d[_0xee2b[950]];if(a[_0xee2b[4995]]){b[_0xee2b[969]]=_0xee2b[4996]}document[_0xee2b[2179]][_0xee2b[83]](b);b[_0xee2b[248]]();document[_0xee2b[2179]][_0xee2b[78]](b)}}},onExportFailure:function(c,e){var a=this,g=this[_0xee2b[4957]](),b=a[_0xee2b[4618]],d=b&&b[_0xee2b[951]],f=b&&b[_0xee2b[689]]||a;d&&d[_0xee2b[293]](f,c);a[_0xee2b[180]](_0xee2b[4997],g,c,e);a[_0xee2b[4998]](c);a[_0xee2b[4987]](!1,null)},doSocketRequest:function(f,d){var a=this,c=a[_0xee2b[2502]];if(a[_0xee2b[4999]]){var g=this[_0xee2b[4999]][_0xee2b[675]](/^http(s)?/i,_0xee2b[5000]);var e=Ext[_0xee2b[444]](Ext[_0xee2b[8]]({html:f,startDate:c[_0xee2b[712]](),endDate:c[_0xee2b[713]](),format:a[_0xee2b[4697]][_0xee2b[5001]](),orientation:d[_0xee2b[3378]],range:d[_0xee2b[4549]],fileFormat:a[_0xee2b[4941]]},this[_0xee2b[5002]]()));var b=new WebSocket(g);a[_0xee2b[4979]]=b;b[_0xee2b[5003]]=function(){b[_0xee2b[5004]](e)};b[_0xee2b[5005]]=function(e){var c=Ext[_0xee2b[425]](e[_0xee2b[22]]);b[_0xee2b[4327]]();a[_0xee2b[4979]]=null;if(c[_0xee2b[426]]){c[_0xee2b[950]]=a[_0xee2b[4999]]+_0xee2b[5006]+c[_0xee2b[5007]];a[_0xee2b[4926]](c)}else {a[_0xee2b[4927]](c[_0xee2b[5008]],c)}}}},doRequest:function(c,f){var a=this,h=a[_0xee2b[2502]];if(!a[_0xee2b[2881]]&&!a[_0xee2b[5009]]){if(a[_0xee2b[4999]]){var d={method:_0xee2b[943],url:a[_0xee2b[4999]],timeout:a[_0xee2b[112]],params:Ext[_0xee2b[8]]({html:{array:Ext[_0xee2b[883]][_0xee2b[444]](c)},startDate:h[_0xee2b[712]](),endDate:h[_0xee2b[713]](),format:a[_0xee2b[4697]][_0xee2b[5001]](),orientation:f[_0xee2b[3378]],range:f[_0xee2b[4549]],fileFormat:a[_0xee2b[4941]]},this[_0xee2b[5002]]()),success:a[_0xee2b[5010]],failure:a[_0xee2b[5011]],scope:a};Ext[_0xee2b[8]](d,this[_0xee2b[5012]](d));this[_0xee2b[4978]]=Ext[_0xee2b[945]][_0xee2b[956]](d)}else {a[_0xee2b[4927]](_0xee2b[5013])}}else {if(a[_0xee2b[5009]]){var e=c||[];for(var b=0,i=e[_0xee2b[4]];b<i;b++){var g=window[_0xee2b[4992]]();g[_0xee2b[5015]][_0xee2b[5014]](e[b][_0xee2b[4645]]);g[_0xee2b[5015]][_0xee2b[4327]]()}}a[_0xee2b[4926]](a[_0xee2b[5016]]||{success:!0,url:_0xee2b[5017],htmlArray:c})}},onRequestSuccess:function(c){this[_0xee2b[4978]]=null;var b=this,a;try{a=Ext[_0xee2b[883]][_0xee2b[425]](c[_0xee2b[953]])}catch(d){b[_0xee2b[4927]](_0xee2b[5018]);return}if(a[_0xee2b[426]]){b[_0xee2b[4926]](a)}else {b[_0xee2b[4927]](a[_0xee2b[5008]],a)}},onRequestFailure:function(a){this[_0xee2b[4978]]=null;var c=this,b=a[_0xee2b[5019]]===200?a[_0xee2b[953]]:a[_0xee2b[5020]];c[_0xee2b[4927]](b,a)},getParameters:function(){return {}},getAjaxConfig:function(a){return {}},getActiveExportDialog:function(){return this[_0xee2b[5021]]},setActiveExportDialog:function(a){this[_0xee2b[5021]]=a},myBeforeExport:function(){this[_0xee2b[180]](_0xee2b[5022],this);var c=this[_0xee2b[2502]][_0xee2b[787]]()[_0xee2b[4184]]();c[_0xee2b[264]](_0xee2b[5023]);var b=this[_0xee2b[4957]](),a=b&&b[_0xee2b[4915]];if(a){a[_0xee2b[2019]]()}},myAfterExport:function(b,a){this[_0xee2b[180]](_0xee2b[5024],this,b,a);this[_0xee2b[2502]][_0xee2b[787]]()[_0xee2b[4980]]()},destroy:function(){var a=this[_0xee2b[4957]]();a&&a[_0xee2b[218]]();this[_0xee2b[9]](arguments);clearTimeout(this[_0xee2b[5025]]);clearTimeout(this[_0xee2b[4988]]);if(this[_0xee2b[4957]]()){this[_0xee2b[4957]]()[_0xee2b[218]]()}}});Ext[_0xee2b[6]](_0xee2b[5026],{extend:_0xee2b[782],requires:[_0xee2b[1996],_0xee2b[1141],_0xee2b[716]],alias:_0xee2b[5027],dateFormat:_0xee2b[5028],tipCfg:null,tip:null,tipCls:_0xee2b[5029],delegateCls:_0xee2b[719],init:function(a){a[_0xee2b[808]]()[_0xee2b[149]](_0xee2b[3088],this[_0xee2b[3097]],this)},setupTooltip:function(){var a=this,b=a[_0xee2b[800]]()[_0xee2b[3380]][_0xee2b[3565]]();a[_0xee2b[2106]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xtype:_0xee2b[2000],cls:a[_0xee2b[5030]],showDelay:0,trackMouse:!0,target:b[_0xee2b[787]](),delegate:_0xee2b[495]+a[_0xee2b[5031]]},a[_0xee2b[3110]]));a[_0xee2b[2106]][_0xee2b[149]](_0xee2b[2028],a[_0xee2b[5032]],a)},beforeTipShow:function(){var a=this,b=Ext[_0xee2b[703]][_0xee2b[1253]](a[_0xee2b[2106]][_0xee2b[3075]][_0xee2b[5033]][_0xee2b[1097]],Sch[_0xee2b[829]][_0xee2b[828]][_0xee2b[5034]]);a[_0xee2b[2106]][_0xee2b[724]](a[_0xee2b[5035]](b))},getTipContent:function(a){return Ext[_0xee2b[703]][_0xee2b[880]](a,this[_0xee2b[879]])},destroy:function(){if(this[_0xee2b[2106]]){this[_0xee2b[2106]][_0xee2b[218]]()}this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[5036],{extend:_0xee2b[1948],mixins:[_0xee2b[782]],alias:_0xee2b[5037],lockableScope:_0xee2b[686],scheduler:null,proxy:null,headerRegion:null,init:function(a){this[_0xee2b[2502]]=a;this[_0xee2b[5038]]();a[_0xee2b[149]](_0xee2b[3420],this[_0xee2b[5038]],this)},onOrientationChange:function(){return this[_0xee2b[5038]][_0xee2b[8]](this,arguments)},onModeChange:function(){var a=this[_0xee2b[2502]][_0xee2b[861]](_0xee2b[3112]);if(a){if(a[_0xee2b[262]]){this[_0xee2b[5039]](a)}else {a[_0xee2b[149]]({afterrender:this[_0xee2b[5039]],scope:this})}}},onTimeAxisColumnRender:function(a){this[_0xee2b[379]]=a[_0xee2b[265]][_0xee2b[825]]({cls:_0xee2b[4144]});this[_0xee2b[4143]](a[_0xee2b[265]])},onStart:function(a){this[_0xee2b[379]][_0xee2b[2019]]();this[_0xee2b[5040]]=this[_0xee2b[2502]][_0xee2b[3380]][_0xee2b[1848]][_0xee2b[1945]]()},onDrag:function(c){var b=this[_0xee2b[5040]];var a=this[_0xee2b[1945]]()[_0xee2b[3068]](b);a[_0xee2b[686]]=b[_0xee2b[686]];a[_0xee2b[754]]=b[_0xee2b[754]];this[_0xee2b[379]][_0xee2b[2068]](a)},onEnd:function(h){if(this[_0xee2b[379]]){this[_0xee2b[379]][_0xee2b[4142]](!1);var a=this[_0xee2b[2502]];var g=this[_0xee2b[1945]]();var b=a[_0xee2b[808]]()[_0xee2b[2075]](g);if(b){var c=a[_0xee2b[1795]];var e=a[_0xee2b[808]]()[_0xee2b[810]][_0xee2b[877]]()[_0xee2b[1734]];var f=c[_0xee2b[1751]](b[_0xee2b[179]],!1,e,1);var d=c[_0xee2b[1750]](b[_0xee2b[771]],!1,e,1);if(this[_0xee2b[180]](_0xee2b[5041],this,a,f,d)!==!1){a[_0xee2b[2786]]({start:f,end:d})}}}},destroy:function(){if(this[_0xee2b[379]]){Ext[_0xee2b[218]](this[_0xee2b[379]]);this[_0xee2b[379]]=null}this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[5042],{extend:_0xee2b[782],alias:_0xee2b[5043],lockableScope:_0xee2b[686],enableVerticalPan:!0,statics:{KEY_SHIFT:1,KEY_CTRL:2,KEY_ALT:4,KEY_ALL:7},disableOnKey:0,constructor:function(a){Ext[_0xee2b[8]](this,a)},init:function(a){this[_0xee2b[829]]=a[_0xee2b[808]]();this[_0xee2b[829]][_0xee2b[149]](_0xee2b[3088],this[_0xee2b[5044]],this)},onRender:function(){this[_0xee2b[829]][_0xee2b[265]][_0xee2b[149]](_0xee2b[784],this[_0xee2b[785]],this)},onMouseDown:function(a){if(a[_0xee2b[1440]][_0xee2b[1972]]&&a[_0xee2b[1440]][_0xee2b[1972]][_0xee2b[4]]>0||!a[_0xee2b[1440]][_0xee2b[1972]]&&a[_0xee2b[2104]]!==0){return}var c=this[_0xee2b[45]],b=this[_0xee2b[5045]];if(a[_0xee2b[4051]]&&b&c[_0xee2b[5046]]||a[_0xee2b[2794]]&&b&c[_0xee2b[5047]]||a[_0xee2b[5048]]&&b&c[_0xee2b[5049]]){return}if(a[_0xee2b[2033]](this[_0xee2b[829]][_0xee2b[2594]],10)&&!a[_0xee2b[2033]](this[_0xee2b[829]][_0xee2b[2594]]+_0xee2b[5050])){this[_0xee2b[5051]]=a[_0xee2b[809]]();this[_0xee2b[5052]]=a[_0xee2b[1936]]();Ext[_0xee2b[797]]()[_0xee2b[149]](_0xee2b[798],this[_0xee2b[799]],this);Ext[_0xee2b[2222]]()[_0xee2b[149]](_0xee2b[801],this[_0xee2b[802]],this);if(Ext[_0xee2b[960]]||Ext[_0xee2b[5053]]){Ext[_0xee2b[797]]()[_0xee2b[149]](_0xee2b[2022],this[_0xee2b[802]],this)}a[_0xee2b[2217]]()}},onMouseMove:function(a){if(this[_0xee2b[144]]){return}a[_0xee2b[2217]]();var d=a[_0xee2b[809]](),f=a[_0xee2b[1936]](),b=0,c=this[_0xee2b[5051]]-d;if(this[_0xee2b[5054]]){b=this[_0xee2b[5052]]-f}this[_0xee2b[5051]]=d;this[_0xee2b[5052]]=f;var g=this[_0xee2b[829]][_0xee2b[1966]]();b&&this[_0xee2b[829]][_0xee2b[2835]](Math[_0xee2b[715]](0,b+g[_0xee2b[686]]),!1);c&&this[_0xee2b[829]][_0xee2b[2838]](Math[_0xee2b[715]](0,c+g[_0xee2b[1354]]),!1);var e=this[_0xee2b[829]][_0xee2b[1848]][_0xee2b[1941]]();e&&e[_0xee2b[3127]](c,0,!1)},onMouseUp:function(){Ext[_0xee2b[797]]()[_0xee2b[152]](_0xee2b[798],this[_0xee2b[799]],this);Ext[_0xee2b[2222]]()[_0xee2b[152]](_0xee2b[801],this[_0xee2b[802]],this);if(Ext[_0xee2b[960]]||Ext[_0xee2b[5053]]){Ext[_0xee2b[797]]()[_0xee2b[152]](_0xee2b[2022],this[_0xee2b[802]],this)}}});Ext[_0xee2b[6]](_0xee2b[5055],{extend:_0xee2b[4933],requires:[_0xee2b[717],_0xee2b[5056]],alternateClassName:[_0xee2b[5057]],alias:[_0xee2b[5058],_0xee2b[5059]],docType:_0xee2b[5060],beforePrint:function(){},afterPrint:function(){},exportDialogConfig:{showDPIField:!0},removeSecondaryCanvas:!1,wrapHeaders:!1,autoPrintAndClose:!0,mainTpl:_0xee2b[5061]+Ext[_0xee2b[238]]+_0xee2b[5062],pageTpl:_0xee2b[5063],setupScriptTpl:_0xee2b[5064],openAfterExport:!1,DPI:72,fakeBackgroundColor:!1,doRequest:function(){},constructor:function(a){Ext[_0xee2b[8]](this,a);if(!this[_0xee2b[5065]][_0xee2b[4528]]){this[_0xee2b[5065]]=new Ext.XTemplate(this[_0xee2b[5065]])}this[_0xee2b[9]](arguments);this[_0xee2b[4938]]=Ext[_0xee2b[330]]({l10n:{title:this.L(_0xee2b[5066]),exportButtonText:this.L(_0xee2b[4919])}},this[_0xee2b[4938]])},init:function(b){var a=this;b[_0xee2b[5067]]=Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[5067]],a);a[_0xee2b[2502]]=b},showPopupBlockedMessage:function(){Ext[_0xee2b[5069]](this[_0xee2b[5068]]())},getPopupBlockedMessageConfig:function(){return {html:this.L(_0xee2b[5070]),title:this.L(_0xee2b[5071]),autoCloseDelay:5000}},getExporterConfig:function(c,d){var a=this,b=a[_0xee2b[9]](arguments);return Ext[_0xee2b[8]](b,{tpl:a[_0xee2b[5072]]})},getExportConfig:function(c){var a=this,b=a[_0xee2b[9]](arguments);return Ext[_0xee2b[8]](b,{beforeExport:Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[5073]],a),afterExport:Ext[_0xee2b[283]][_0xee2b[282]](a[_0xee2b[5074]],a)})},onPagesExtracted:function(a,b,c,d){this[_0xee2b[180]](_0xee2b[4981],0.8,this.L(_0xee2b[4982]));this[_0xee2b[5075]](a,b,c,d)},print:function(){this[_0xee2b[4946]]()},onBeforePageCommit:function(h,a,m,n){var i=this[_0xee2b[2502]],j=i[_0xee2b[1830]],b=i[_0xee2b[3380]],f=function(b){return a[_0xee2b[760]](_0xee2b[4535]+b)[_0xee2b[572]]()};var g=a[_0xee2b[760]](h[_0xee2b[4536]])[_0xee2b[572]](),d=f(b[_0xee2b[1848]][_0xee2b[388]]),k=a[_0xee2b[760]](h[_0xee2b[4534]])[_0xee2b[572]](),c=f(j[_0xee2b[1848]][_0xee2b[388]]);g[_0xee2b[264]]([_0xee2b[5076],this[_0xee2b[5077]]?_0xee2b[5078]:_0xee2b[27]]);k[_0xee2b[264]](_0xee2b[5079]);if(this[_0xee2b[5080]]){a[_0xee2b[760]](_0xee2b[4678])[_0xee2b[63]]()}if(this[_0xee2b[5077]]){var l=g[_0xee2b[760]](b[_0xee2b[829]][_0xee2b[2034]]);l[_0xee2b[25]](function(b){b[_0xee2b[2051]](_0xee2b[5081],b[_0xee2b[758]][_0xee2b[763]][_0xee2b[773]])})}d[_0xee2b[264]](_0xee2b[5082]);c[_0xee2b[264]](_0xee2b[5083]);if(this[_0xee2b[5084]]){d[_0xee2b[5086]](_0xee2b[5085]);c[_0xee2b[5086]](_0xee2b[5085])}if(Ext[_0xee2b[960]]&&b[_0xee2b[5087]]){var e=b[_0xee2b[5087]][_0xee2b[859]]();Ext[_0xee2b[761]](c[_0xee2b[265]][_0xee2b[758]][_0xee2b[96]])[_0xee2b[2051]]({position:_0xee2b[5088],height:e+_0xee2b[804]});Ext[_0xee2b[761]](d[_0xee2b[265]][_0xee2b[758]][_0xee2b[96]])[_0xee2b[2051]]({position:_0xee2b[5088],height:e+_0xee2b[804]})}},prepareMainTplData:function(a){return a},printPages:function(g,f,d,h){if(!this[_0xee2b[5065]]||!this[_0xee2b[5065]][_0xee2b[4528]]){this[_0xee2b[5065]]=new Ext.XTemplate(this[_0xee2b[5065]],{compiled:!0,disableFormats:!0})}var e=d[_0xee2b[4584]],c=document[_0xee2b[2179]];var b=this[_0xee2b[5065]][_0xee2b[8]](this[_0xee2b[5095]]({docType:this[_0xee2b[5089]],htmlClasses:c[_0xee2b[96]][_0xee2b[1868]],bodyClasses:c[_0xee2b[1868]],title:f[_0xee2b[14]]||_0xee2b[27],styles:e,totalWidth:d[_0xee2b[4547]],setupScript:this[_0xee2b[5094]][_0xee2b[675]](_0xee2b[5092],this[_0xee2b[5093]])[_0xee2b[675]](_0xee2b[5090],Ext[_0xee2b[5091]]),pages:g}));var a=window[_0xee2b[4992]](_0xee2b[27],_0xee2b[5096]);if(!a||!a[_0xee2b[5015]]||a[_0xee2b[5097]]||typeof a[_0xee2b[5097]]===_0xee2b[317]){this[_0xee2b[5098]]();return !1}this[_0xee2b[5099]]=a;a[_0xee2b[5015]][_0xee2b[5014]](b);a[_0xee2b[5015]][_0xee2b[4327]]();this[_0xee2b[4926]]({success:!0,url:_0xee2b[5017],htmlArray:[b]})},bindExporter:function(b){var a=this;a[_0xee2b[9]](arguments);a[_0xee2b[252]](b,{beforecommitpage:a[_0xee2b[5100]],scope:a})},unbindExporter:function(b){var a=this;a[_0xee2b[9]](arguments);a[_0xee2b[325]](b,{beforecommitpage:a[_0xee2b[5100]],scope:a})}});Ext[_0xee2b[6]](_0xee2b[5101],{extend:_0xee2b[5102],alias:_0xee2b[5103],requires:[_0xee2b[5104]],mixins:[_0xee2b[782],_0xee2b[665]],lockableScope:_0xee2b[686],cls:_0xee2b[5105],allowBlur:!1,shadow:!1,delegate:_0xee2b[5106],dataIndex:null,completeOnEnter:!0,cancelOnEsc:!0,dragProxyEl:null,eventRecord:null,resourceRecord:null,triggerEvent:_0xee2b[3342],newEventText:null,autoSize:{width:_0xee2b[5107]},initComponent:function(){this[_0xee2b[927]]=this[_0xee2b[927]]||{xtype:_0xee2b[4389],selectOnFocus:!0};this[_0xee2b[9]](arguments)},init:function(a){this[_0xee2b[2502]]=a[_0xee2b[808]]();a[_0xee2b[149]](_0xee2b[3088],this[_0xee2b[5108]],this);this[_0xee2b[2502]][_0xee2b[2552]](this);this[_0xee2b[2292]]=this[_0xee2b[2292]]||this[_0xee2b[2502]][_0xee2b[696]]()[_0xee2b[327]][_0xee2b[139]][_0xee2b[1228]]},edit:function(a,b,c){if(!this[_0xee2b[262]]){this[_0xee2b[5109]]=this[_0xee2b[2502]][_0xee2b[787]]()}this[_0xee2b[5110]]=c||this[_0xee2b[2502]][_0xee2b[2191]](a,b)[0];this[_0xee2b[2329]]=a;this[_0xee2b[2055]]=b;this[_0xee2b[5112]](c[_0xee2b[758]][_0xee2b[2517]](this[_0xee2b[5111]]),this[_0xee2b[2329]][_0xee2b[55]](this[_0xee2b[2292]]));this[_0xee2b[2011]]()},onSchedulerRender:function(b){var a=this;a[_0xee2b[149]]({startedit:a[_0xee2b[5113]],complete:function(f,e,g){var c=a[_0xee2b[2329]];var d=a[_0xee2b[2502]][_0xee2b[696]]();c[_0xee2b[50]](a[_0xee2b[2292]],e);if(d[_0xee2b[147]](c)<0){if(a[_0xee2b[2502]][_0xee2b[180]](_0xee2b[2664],a[_0xee2b[2502]],c,[a[_0xee2b[2055]]])!==!1){a[_0xee2b[2502]][_0xee2b[3277]](c,[a[_0xee2b[2055]]]);d[_0xee2b[384]](c);c[_0xee2b[1605]](a[_0xee2b[2055]])}}a[_0xee2b[5114]]()},canceledit:a[_0xee2b[5114]],hide:function(){var c=a[_0xee2b[4179]];if(c&&c[_0xee2b[758]]&&c[_0xee2b[758]][_0xee2b[96]]){c[_0xee2b[218]]()}},scope:a});b[_0xee2b[149]](_0xee2b[2088],a[_0xee2b[3284]],a);b[_0xee2b[149]](a[_0xee2b[2219]],a[_0xee2b[5115]],a)},onStartEdit:function(){if(!this[_0xee2b[5116]]){Ext[_0xee2b[797]]()[_0xee2b[149]](_0xee2b[784],this[_0xee2b[785]],this,{capture:!0})}},onTriggerEvent:function(b,d,c){if(!this[_0xee2b[2502]][_0xee2b[2184]]()){var a=c[_0xee2b[2033]](b[_0xee2b[2034]]);var e=b[_0xee2b[2036]](a);this[_0xee2b[171]](d,e,Ext[_0xee2b[55]](a));this[_0xee2b[787]]()[_0xee2b[2068]](this[_0xee2b[787]]()[_0xee2b[1945]]()[_0xee2b[3068]](this[_0xee2b[2502]][_0xee2b[1945]]()))}},onAfterEdit:function(){this[_0xee2b[2329]]=null;this[_0xee2b[2055]]=null;if(!this[_0xee2b[5116]]){Ext[_0xee2b[797]]()[_0xee2b[152]](_0xee2b[784],this[_0xee2b[785]],this,{capture:!0})}},onMouseDown:function(a,b){if(this[_0xee2b[3029]]&&this[_0xee2b[265]]&&!a[_0xee2b[3021]](this[_0xee2b[265]])){this[_0xee2b[4057]]()}},onDragCreateEnd:function(e,b,d,f,c){var a=c[_0xee2b[758]][_0xee2b[2263]](!0);a[_0xee2b[388]]=_0xee2b[27];c[_0xee2b[758]][_0xee2b[96]][_0xee2b[83]](a);this[_0xee2b[4179]]=Ext[_0xee2b[55]](a);if(b[_0xee2b[55]](this[_0xee2b[2292]])===_0xee2b[27]){b[_0xee2b[50]](this[_0xee2b[2292]],this[_0xee2b[5117]]||this.L(_0xee2b[5117]))}this[_0xee2b[171]](b,d,this[_0xee2b[4179]])},destroy:function(){this[_0xee2b[3030]]();this[_0xee2b[2329]]=null;this[_0xee2b[2055]]=null;this[_0xee2b[9]](arguments)},realign:function(d){var a=this,c=a[_0xee2b[9]]([d]),b=a[_0xee2b[5110]]&&a[_0xee2b[5110]][_0xee2b[2611]]();if(b){a[_0xee2b[787]]()[_0xee2b[2068]](b);a[_0xee2b[787]]()[_0xee2b[861]](_0xee2b[4381])[_0xee2b[2068]](b)}return c}});Ext[_0xee2b[6]](_0xee2b[5118],{extend:_0xee2b[782],mixins:[_0xee2b[665]],requires:[_0xee2b[5119]],alias:_0xee2b[5120],splitGrid:!1,triggerEvent:_0xee2b[744],menuConfig:null,menu:null,grid:null,gridClone:null,splitMergeMenuItem:null,splitMergeMenuItemId:_0xee2b[5121],splitCls:_0xee2b[5122],resizeHandleCls:_0xee2b[5123],gridCloneCls:_0xee2b[5124],staticCloneConfig:{__cloned:!0,splitGrid:!1,eventPrefix:null,dock:_0xee2b[754],id:null,itemId:null,hideHeaders:!0,header:!1,tbar:null,tools:null,bbar:null,buttons:null,margin:0,padding:0,resizable:{pinned:!0,handles:_0xee2b[2418],dynamic:!0}},init:function(a){if(!a[_0xee2b[5125]]){a[_0xee2b[149]](_0xee2b[833],function(){this[_0xee2b[5126]](a)},this,{single:!0})}},setupGrid:function(a){this[_0xee2b[840]]=a;if(this[_0xee2b[2219]]){this[_0xee2b[5127]]();this[_0xee2b[5128]]()}a[_0xee2b[496]]=Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[496]],this);a[_0xee2b[4398]]=Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[4398]],this);a[_0xee2b[5129]]=Ext[_0xee2b[283]][_0xee2b[282]](this[_0xee2b[5129]],this);this[_0xee2b[5130]]=!Ext[_0xee2b[1353]](a[_0xee2b[5130]])?a[_0xee2b[5130]]:this[_0xee2b[5130]];if(this[_0xee2b[5130]]){this[_0xee2b[496]]()}},split:function(b){if(this[_0xee2b[5129]]()||!this[_0xee2b[840]][_0xee2b[1828]]()){return}this[_0xee2b[5131]]=this[_0xee2b[5132]](b);this[_0xee2b[840]][_0xee2b[264]](this[_0xee2b[4221]]);this[_0xee2b[5131]][_0xee2b[264]](this[_0xee2b[5133]]);var a=this[_0xee2b[840]][_0xee2b[787]]()[_0xee2b[861]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[5134]+Ext[_0xee2b[238]]+_0xee2b[5135]);a[_0xee2b[264]](this[_0xee2b[5136]]);this[_0xee2b[5131]][_0xee2b[252]](a,_0xee2b[743],this[_0xee2b[4398]],this);this[_0xee2b[5131]][_0xee2b[252]](this[_0xee2b[840]],_0xee2b[835],this[_0xee2b[5137]],this);this[_0xee2b[5138]]();this[_0xee2b[840]][_0xee2b[180]](_0xee2b[496],this)},merge:function(){if(!this[_0xee2b[5129]]()||!this[_0xee2b[840]][_0xee2b[1828]]()){return}this[_0xee2b[5131]][_0xee2b[218]]();this[_0xee2b[5131]]=null;this[_0xee2b[840]][_0xee2b[267]](this[_0xee2b[4221]]);this[_0xee2b[840]][_0xee2b[180]](_0xee2b[4398],this)},isSplit:function(){return !!this[_0xee2b[5131]]},getCloneConfig:function(a,b){return {}},onMenuTriggerEvent:function(a){if(!this[_0xee2b[840]][_0xee2b[1828]]()){return}this[_0xee2b[247]][_0xee2b[5139]](a[_0xee2b[1970]]());if(this[_0xee2b[5140]]){this[_0xee2b[5140]][_0xee2b[4229]](this[_0xee2b[5129]]()?this.L(_0xee2b[5141]):this.L(_0xee2b[5142]));var b=a[_0xee2b[2033]](_0xee2b[495]+Ext[_0xee2b[238]]+_0xee2b[5143]);if(b){var c=(this[_0xee2b[840]][_0xee2b[3380]]||this[_0xee2b[840]])[_0xee2b[290]]()[_0xee2b[787]]()[_0xee2b[1936]]();this[_0xee2b[5140]][_0xee2b[5144]]=Ext[_0xee2b[761]](b)[_0xee2b[2420]]()-c}}a[_0xee2b[2217]]()},createMenu:function(){this[_0xee2b[247]]=Ext[_0xee2b[831]](Ext[_0xee2b[8]]({xclass:_0xee2b[5119],plain:!0,defaults:{scope:this},items:[{itemId:this[_0xee2b[5145]],handler:_0xee2b[5146]}]},this[_0xee2b[5147]]));this[_0xee2b[5140]]=this[_0xee2b[247]][_0xee2b[861]](_0xee2b[4535]+this[_0xee2b[5145]])},addGridListeners:function(){this[_0xee2b[840]][_0xee2b[149]](_0xee2b[2971]+this[_0xee2b[2219]],function(e,d,c,b,a){this[_0xee2b[5148]](a)},this);this[_0xee2b[840]][_0xee2b[787]]()[_0xee2b[149]](this[_0xee2b[2219]],this[_0xee2b[5148]],this,{delegate:_0xee2b[495]+this[_0xee2b[5136]]});this[_0xee2b[840]][_0xee2b[149]](_0xee2b[3411],this[_0xee2b[5149]],this)},onBeforeGridModeChange:function(c,a){var b=Ext[_0xee2b[363]](a)?a:a[_0xee2b[1719]];if(b!==_0xee2b[1931]&&this[_0xee2b[5129]]()){this[_0xee2b[4398]]()}},onSplitMergeMenuItemClick:function(a,b){if(this[_0xee2b[5129]]()){this[_0xee2b[4398]]()}else {this[_0xee2b[496]](a[_0xee2b[5144]])}},cloneGrid:function(d){var a=this[_0xee2b[840]],c=Ext[_0xee2b[26]][_0xee2b[41]](a[_0xee2b[1848]][_0xee2b[3213]](),this[_0xee2b[5150]],this);c=Ext[_0xee2b[26]][_0xee2b[173]](c,function(a){return a[_0xee2b[3573]]!==_0xee2b[3112]});var b=Ext[_0xee2b[8]]({partnerTimelinePanel:a,xtype:a[_0xee2b[3573]],crudManager:a[_0xee2b[312]],eventStore:a[_0xee2b[1071]],resourceStore:a[_0xee2b[1302]],dependencyStore:a[_0xee2b[1303]],assignmentStore:a[_0xee2b[1003]],height:d?this[_0xee2b[5151]]()-d:this[_0xee2b[5151]]()/2,maxHeight:this[_0xee2b[5152]](),columns:c},this[_0xee2b[5153]]);b=Ext[_0xee2b[330]](b,a[_0xee2b[1702]]);b=Ext[_0xee2b[8]](b,this[_0xee2b[5154]](a,b));return a[_0xee2b[3429]](b)[0]},cloneColumn:function(a){return Ext[_0xee2b[330]]({width:a[_0xee2b[793]](),locked:a[_0xee2b[3539]],flex:a[_0xee2b[5155]]},a[_0xee2b[1702]])},getGridViewHeight:function(){var a=this[_0xee2b[840]][_0xee2b[1830]]?this[_0xee2b[840]][_0xee2b[1830]][_0xee2b[290]]():this[_0xee2b[840]][_0xee2b[290]]();return a[_0xee2b[859]]()},setupSynchronization:function(){var a=this[_0xee2b[840]][_0xee2b[3380]]||this[_0xee2b[840]];var b=this[_0xee2b[5131]][_0xee2b[3380]]||this[_0xee2b[5131]];this[_0xee2b[5156]](a[_0xee2b[3565]](),b[_0xee2b[3565]]());if(this[_0xee2b[840]][_0xee2b[1830]]){this[_0xee2b[5156]](this[_0xee2b[840]][_0xee2b[1830]][_0xee2b[3565]](),this[_0xee2b[5131]][_0xee2b[1830]][_0xee2b[3565]]())}},setupColumnSync:function(b,a){a[_0xee2b[252]](b,{columnresize:this[_0xee2b[5157]],scope:a});a[_0xee2b[252]](b,{columnschanged:this[_0xee2b[5158]],scope:this})},onColumnResize:function(b,e,d){var c=this;var a=c[_0xee2b[3213]]();a[b[_0xee2b[266]][_0xee2b[147]](e)][_0xee2b[839]](d)},onColumnsChanged:function(d,f,e,c){var b=this[_0xee2b[840]][_0xee2b[3380]]||this[_0xee2b[840]];var a=this[_0xee2b[5131]][_0xee2b[3380]]||this[_0xee2b[5131]];a[_0xee2b[3565]]()[_0xee2b[254]]();a[_0xee2b[3565]]()[_0xee2b[255]](Ext[_0xee2b[26]][_0xee2b[41]](b[_0xee2b[3565]]()[_0xee2b[3213]](),this[_0xee2b[5150]],this));if(this[_0xee2b[840]][_0xee2b[1830]]){b=this[_0xee2b[840]][_0xee2b[1830]];a=this[_0xee2b[5131]][_0xee2b[1830]];a[_0xee2b[3565]]()[_0xee2b[254]]();a[_0xee2b[3565]]()[_0xee2b[255]](Ext[_0xee2b[26]][_0xee2b[41]](b[_0xee2b[3565]]()[_0xee2b[3213]](),this[_0xee2b[5150]],this))}},onMainGridResize:function(){var a=this[_0xee2b[5152]]();this[_0xee2b[5131]][_0xee2b[2399]][_0xee2b[2434]]=this[_0xee2b[5131]][_0xee2b[2399]][_0xee2b[2411]][_0xee2b[2434]]=a;if(this[_0xee2b[5131]][_0xee2b[859]]()>a){this[_0xee2b[5131]][_0xee2b[863]](a)}this[_0xee2b[5131]][_0xee2b[5159]](a)},getCloneMaxHeight:function(){var a=this[_0xee2b[840]][_0xee2b[861]](_0xee2b[5160])[_0xee2b[265]][_0xee2b[2420]]()-this[_0xee2b[840]][_0xee2b[265]][_0xee2b[2421]]();return this[_0xee2b[840]][_0xee2b[859]]()-a},destroy:function(){if(this[_0xee2b[247]]){this[_0xee2b[247]][_0xee2b[218]]()}this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[5161],{extend:_0xee2b[782],mixins:[_0xee2b[665]],requires:[_0xee2b[717]],alias:_0xee2b[5162],renderer:!1,scope:null,height:20,titleContainer:null,barContainer:null,titleContainerCls:_0xee2b[5163],barContainerCls:_0xee2b[5164],grid:null,view:null,resourceStore:null,eventStore:null,tpl:_0xee2b[5165],init:function(b){var a=this;a[_0xee2b[840]]=b;a[_0xee2b[829]]=b[_0xee2b[808]]();a[_0xee2b[1071]]=b[_0xee2b[696]]();a[_0xee2b[1302]]=b[_0xee2b[1007]]();a[_0xee2b[3612]]=new Ext.XTemplate(a[_0xee2b[3612]]);if(b[_0xee2b[1828]]()){a[_0xee2b[5166]]()}a[_0xee2b[5167]]();a[_0xee2b[9]](arguments)},initBars:function(){var a=this;a[_0xee2b[5168]]=a[_0xee2b[840]][_0xee2b[1830]][_0xee2b[3429]]({xtype:_0xee2b[2948],dock:_0xee2b[754],height:a[_0xee2b[747]],cls:a[_0xee2b[5169]],html:_0xee2b[5170]+a[_0xee2b[747]]+_0xee2b[5171]+a.L(_0xee2b[5172])+_0xee2b[5173]})[0];a[_0xee2b[5174]]=a[_0xee2b[840]][_0xee2b[3380]][_0xee2b[3429]]({xtype:_0xee2b[2948],dock:_0xee2b[754],height:a[_0xee2b[747]],cls:a[_0xee2b[5175]],scrollable:{x:!1,y:!1}})[0];a[_0xee2b[5174]][_0xee2b[1941]]()[_0xee2b[3951]](a[_0xee2b[829]][_0xee2b[1941]](),_0xee2b[1893])},destroyBars:function(){var a=this;if(a[_0xee2b[5174]]){a[_0xee2b[5174]][_0xee2b[218]]();a[_0xee2b[5174]]=null}if(a[_0xee2b[5168]]){a[_0xee2b[5168]][_0xee2b[218]]();a[_0xee2b[5168]]=null}},setupListeners:function(){var a=this,b=a[_0xee2b[840]];a[_0xee2b[829]][_0xee2b[149]](_0xee2b[770],a[_0xee2b[5176]],a);var c={add:a[_0xee2b[5176]],remove:a[_0xee2b[5176]],update:a[_0xee2b[5176]],scope:a};b[_0xee2b[252]](a[_0xee2b[1071]],c);b[_0xee2b[252]](a[_0xee2b[1302]],c);if(b[_0xee2b[1051]]()){b[_0xee2b[252]](b[_0xee2b[1051]](),c)}a[_0xee2b[840]][_0xee2b[149]](_0xee2b[3420],a[_0xee2b[5177]],a)},onGridModeChange:function(){var a=this;if(a[_0xee2b[840]][_0xee2b[1828]]()){a[_0xee2b[5166]]();a[_0xee2b[5176]]()}else {a[_0xee2b[5178]]()}},renderSummaryRow:function(){var a=this;if(!a[_0xee2b[5174]]){return}var b=document[_0xee2b[3662]](_0xee2b[2258]);b[_0xee2b[3737]]=a[_0xee2b[3612]][_0xee2b[8]](a[_0xee2b[5179]]());a[_0xee2b[5174]][_0xee2b[265]][_0xee2b[3738]](b)},buildRenderData:function(){var a=this,b=a[_0xee2b[829]][_0xee2b[1795]][_0xee2b[4556]](),c=a[_0xee2b[829]][_0xee2b[810]][_0xee2b[755]](),d=c*b[_0xee2b[4]];return {totalWidth:d,bars:Ext[_0xee2b[26]][_0xee2b[41]](b,function(d){var e=a[_0xee2b[1302]][_0xee2b[5180]](d[_0xee2b[179]],d[_0xee2b[771]],a[_0xee2b[1071]]),b={width:c,cls:_0xee2b[27],style:_0xee2b[27],attr:_0xee2b[27]};b[_0xee2b[2302]]=a[_0xee2b[878]]?a[_0xee2b[878]][_0xee2b[293]](a[_0xee2b[689]]||a,e,b):_0xee2b[2303];return b})}}});Ext[_0xee2b[6]](_0xee2b[5181],{extend:_0xee2b[2488],alias:_0xee2b[5182],requires:[_0xee2b[1716],_0xee2b[1198]],getZoneCls:Ext[_0xee2b[688]],eventStoreListeners:null,init:function(a){this[_0xee2b[64]]=new Ext[_0xee2b[22]].JsonStore({autoDestroy:!0,model:_0xee2b[1198]});this[_0xee2b[2502]]=a;this[_0xee2b[1407]](a[_0xee2b[696]]());a[_0xee2b[149]]({afterrender:this[_0xee2b[5183]],eventstorechange:function(c,b){this[_0xee2b[1407]](b);this[_0xee2b[5183]]()},scope:this});this[_0xee2b[1817]]=a[_0xee2b[808]]();this[_0xee2b[9]](arguments)},setEventStore:function(a){this[_0xee2b[5184]]&&this[_0xee2b[5184]][_0xee2b[218]]();this[_0xee2b[5184]]=this[_0xee2b[252]](a,{load:this[_0xee2b[5183]],update:this[_0xee2b[5183]],remove:this[_0xee2b[5183]],add:this[_0xee2b[5183]],datachanged:this[_0xee2b[5183]],destroyable:!0,scope:this})},populateStore:function(j){var e=this[_0xee2b[1817]][_0xee2b[2658]](),d=[],h=this[_0xee2b[2502]][_0xee2b[697]](),f=this[_0xee2b[2502]][_0xee2b[698]](),i=e[_0xee2b[1466]](),a=h,g=0,c,b;e[_0xee2b[4102]](function(a,b){return a[_0xee2b[712]]()-b[_0xee2b[712]]()});b=e[_0xee2b[1752]](0);while(a<f&&g<i){c=b[_0xee2b[712]]();if(!Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[1175]](a,c,b[_0xee2b[713]]())&&a<c){d[_0xee2b[11]](new this[_0xee2b[64]][_0xee2b[327]]({StartDate:a,EndDate:c,Cls:this[_0xee2b[5185]](a,c)||_0xee2b[27]}))}a=Sch[_0xee2b[49]][_0xee2b[703]][_0xee2b[715]](b[_0xee2b[713]](),a);g++;b=e[_0xee2b[1752]](g)}if(a<f){d[_0xee2b[11]]({StartDate:a,EndDate:f,Cls:this[_0xee2b[5185]](a,f)||_0xee2b[27]})}this[_0xee2b[64]][_0xee2b[254]](d[_0xee2b[4]]>0);this[_0xee2b[64]][_0xee2b[255]](d)}});Ext[_0xee2b[6]](_0xee2b[5186],{extend:_0xee2b[3024],alias:_0xee2b[5187],requires:[_0xee2b[3995]],lockableScope:_0xee2b[3539],editorsStarted:0,init:function(){this[_0xee2b[149]](_0xee2b[5188],this[_0xee2b[5189]],this);this[_0xee2b[9]](arguments)},getEditor:function(){var a=this[_0xee2b[9]](arguments);if(a&&!a[_0xee2b[5190]]){var b=a[_0xee2b[5190]]=a[_0xee2b[5112]];a[_0xee2b[5112]]=function(){var a=this[_0xee2b[927]],c;if(a&&a[_0xee2b[5191]]){a[_0xee2b[5192]](!0)}c=b[_0xee2b[8]](this,arguments);if(a&&a[_0xee2b[5191]]){a[_0xee2b[5192]](!1)}return c}}return a},activateCell:function(b){var c=this[_0xee2b[9]](arguments);if(c){var a=this[_0xee2b[5193]](b[_0xee2b[933]],b[_0xee2b[2963]]);if(!a[_0xee2b[5194]]){a[_0xee2b[5194]]=a[_0xee2b[3030]];a[_0xee2b[3030]]=this[_0xee2b[5195]]}this[_0xee2b[180]](_0xee2b[5196],this,a)}return c},checkReadOnly:function(){var a=this[_0xee2b[800]]();if(a){if(!a[_0xee2b[5197]]&&!a[_0xee2b[5198]]){a=a[_0xee2b[694]](_0xee2b[2937])}return !a[_0xee2b[2184]]()}},onEditComplete:function(b,a,c){var d=this;if(b[_0xee2b[927]][_0xee2b[5199]]){if(a instanceof Date&&a-c||!(a instanceof Date)&&a!==c){b[_0xee2b[927]][_0xee2b[5199]](b[_0xee2b[927]][_0xee2b[5200]]||d[_0xee2b[2470]][_0xee2b[933]])}return d[_0xee2b[9]]([b,a,a])}else {return d[_0xee2b[9]]([b,a,c])}},myCancelEdit:function(){var b=this,a=b[_0xee2b[927]];if(a&&a[_0xee2b[5199]]){var d=a[_0xee2b[5201]];a[_0xee2b[5201]]=!0;var c=b[_0xee2b[5194]][_0xee2b[8]](this,arguments);a[_0xee2b[5201]]=d;return c}else {return b[_0xee2b[5194]][_0xee2b[8]](this,arguments)}},onMyBeforeEdit:function(c,b){var a=b[_0xee2b[2963]][_0xee2b[5193]]();if(a&&a[_0xee2b[5202]]){a[_0xee2b[5202]](b[_0xee2b[933]]);b[_0xee2b[5203]]=a[_0xee2b[4121]]()}return this[_0xee2b[5204]]()},setEditingContext:function(a){if(a[_0xee2b[53]](_0xee2b[5203])){a[_0xee2b[2302]]=a[_0xee2b[5205]]=a[_0xee2b[5203]];delete a[_0xee2b[5203]]}this[_0xee2b[9]](arguments)}});Ext[_0xee2b[6]](_0xee2b[5206],{});Ext[_0xee2b[6]](_0xee2b[5207],{singleton:!0,runDiagnostics:function(){var a;var e=this;var g=window[_0xee2b[457]];if(g&&g[_0xee2b[401]]){a=function(){g[_0xee2b[401]][_0xee2b[8]](g,arguments)}}else {if(!e[_0xee2b[5208]]){e[_0xee2b[5208]]=new Ext.Window({height:400,width:500,bodyStyle:_0xee2b[5209],closeAction:_0xee2b[256],autoScroll:!0})}e[_0xee2b[5208]][_0xee2b[2019]]();e[_0xee2b[5208]][_0xee2b[724]](_0xee2b[27]);a=function(a){e[_0xee2b[5208]][_0xee2b[724]]((e[_0xee2b[5208]][_0xee2b[2179]][_0xee2b[758]][_0xee2b[3737]]||_0xee2b[27])+a+_0xee2b[5210])}}var j=Ext[_0xee2b[760]](_0xee2b[5211]);if(j[_0xee2b[1466]]()===0){a(_0xee2b[5212])}var f=Ext[_0xee2b[800]](j[_0xee2b[3970]][0][_0xee2b[388]]),c=f[_0xee2b[1007]](),b=f[_0xee2b[696]]();if(!b[_0xee2b[1603]]){a(_0xee2b[5213])}a(_0xee2b[5214]+f[_0xee2b[697]]()+_0xee2b[5215]+f[_0xee2b[698]]());if(!c){a(_0xee2b[5216]);return}if(!b){a(_0xee2b[5217]);return}var h=new Ext[_0xee2b[49]].MixedCollection(),l=new Ext[_0xee2b[49]].MixedCollection();for(var d=0;d<b[_0xee2b[327]][_0xee2b[139]][_0xee2b[1027]][_0xee2b[4]];d++){h[_0xee2b[255]](b[_0xee2b[327]][_0xee2b[139]][_0xee2b[1027]][d][_0xee2b[683]],b[_0xee2b[327]][_0xee2b[139]][_0xee2b[1027]][d])}for(d=0;d<c[_0xee2b[327]][_0xee2b[139]][_0xee2b[1027]][_0xee2b[4]];d++){l[_0xee2b[255]](c[_0xee2b[327]][_0xee2b[139]][_0xee2b[1027]][d][_0xee2b[683]],c[_0xee2b[327]][_0xee2b[139]][_0xee2b[1027]][d])}a(c[_0xee2b[1466]]()+_0xee2b[5218]);a(b[_0xee2b[1466]]()+_0xee2b[5219]);var m=b[_0xee2b[327]][_0xee2b[139]][_0xee2b[328]];var k=c[_0xee2b[327]][_0xee2b[139]][_0xee2b[328]];var o=h[_0xee2b[410]](m);var n=l[_0xee2b[410]](k);if(!(new b[_0xee2b[327]]() instanceof Sch[_0xee2b[327]][_0xee2b[1423]])){a(_0xee2b[5220])}if(!(new c[_0xee2b[327]]() instanceof Sch[_0xee2b[327]][_0xee2b[606]])){a(_0xee2b[5221])}if(!o){a(_0xee2b[5222]+m)}if(!n){a(_0xee2b[5223]+k)}var i=f[_0xee2b[808]]();a(i[_0xee2b[265]][_0xee2b[760]](i[_0xee2b[2034]])[_0xee2b[1466]]()+_0xee2b[5224]);if(b[_0xee2b[1466]]()>0){if(!b[_0xee2b[572]]()[_0xee2b[712]]()||!(b[_0xee2b[572]]()[_0xee2b[712]]() instanceof Date)){a(_0xee2b[5225]);a(_0xee2b[5226]+h[_0xee2b[410]](b[_0xee2b[327]][_0xee2b[139]][_0xee2b[1201]])[_0xee2b[879]]);a(_0xee2b[5227])}if(!b[_0xee2b[572]]()[_0xee2b[713]]()||!(b[_0xee2b[572]]()[_0xee2b[713]]() instanceof Date)){a(_0xee2b[5228]);a(_0xee2b[5229]+h[_0xee2b[410]](b[_0xee2b[327]][_0xee2b[139]][_0xee2b[1203]])[_0xee2b[879]]);a(_0xee2b[5227])}if(b[_0xee2b[379]]&&b[_0xee2b[379]][_0xee2b[5230]]&&b[_0xee2b[379]][_0xee2b[5230]][_0xee2b[5231]]){a(_0xee2b[5232]);console&&console[_0xee2b[1919]]&&console[_0xee2b[1919]](b[_0xee2b[379]][_0xee2b[5230]][_0xee2b[5233]])}a(_0xee2b[5234]);b[_0xee2b[25]](function(b,c){a(c+1+_0xee2b[5235]+b[_0xee2b[1201]]+_0xee2b[1129]+b[_0xee2b[712]]()+_0xee2b[287]+b[_0xee2b[1203]]+_0xee2b[1129]+b[_0xee2b[713]]()+_0xee2b[287]+b[_0xee2b[1009]]+_0xee2b[1129]+b[_0xee2b[1008]]());if(!b[_0xee2b[712]]()){a(b[_0xee2b[712]]())}})}else {a(_0xee2b[5236])}if(c[_0xee2b[234]]){c=c[_0xee2b[5237]]}if(c[_0xee2b[1466]]()>0){a(_0xee2b[5238]);c[_0xee2b[25]](function(b,c){a(c+1+_0xee2b[5235]+b[_0xee2b[328]]+_0xee2b[1129]+b[_0xee2b[32]]());return})}else {a(_0xee2b[5239]);return}a(_0xee2b[5240])}});Ext[_0xee2b[6]](_0xee2b[5241],{extend:_0xee2b[3784],alias:_0xee2b[5242],config:{depsPerStep:50},delegateRendering:function(a,d,g){var e=this,b=e[_0xee2b[3823]](),c=d[_0xee2b[191]](0,b),f=d[_0xee2b[191]](b);a[_0xee2b[3803]]()[_0xee2b[3802]](a[_0xee2b[3610]](),a[_0xee2b[3801]](),c,!1);return [c,f]}});Ext[_0xee2b[6]](_0xee2b[5243],{extend:_0xee2b[3784],alias:_0xee2b[5244],delegateRendering:function(a,b,c){a[_0xee2b[3803]]()[_0xee2b[3802]](a[_0xee2b[3610]](),a[_0xee2b[3801]](),b,!1);return [b,[]]}});Ext[_0xee2b[6]](_0xee2b[5245],{extend:_0xee2b[5246],alias:_0xee2b[5247],getStoreId:function(){if(this[_0xee2b[146]]){return this[_0xee2b[146]]}var a=this[_0xee2b[64]][_0xee2b[146]];if(!a){var b=this[_0xee2b[64]][_0xee2b[312]];var c=b&&b[_0xee2b[341]](this[_0xee2b[64]]);a=c&&c[_0xee2b[146]]}this[_0xee2b[146]]=a;return a},loadPage:function(c){var a=this;if(a[_0xee2b[64]][_0xee2b[312]]){var b=a[_0xee2b[5248]]();if(b){var d={};d[b]={pageSize:a[_0xee2b[64]][_0xee2b[352]],page:c};a[_0xee2b[64]][_0xee2b[312]][_0xee2b[302]](d)}}else {a[_0xee2b[64]][_0xee2b[5249]](c)}},onPagingKeyDown:function(g,a){var d=this,c=a[_0xee2b[2211]](),e=d[_0xee2b[5250]](),f=a[_0xee2b[4051]]?10:1,b;if(c==a[_0xee2b[5251]]){a[_0xee2b[2217]]();b=d[_0xee2b[5252]](e);if(b!==!1){b=Math[_0xee2b[203]](Math[_0xee2b[715]](1,b),e[_0xee2b[5253]]);if(d[_0xee2b[180]](_0xee2b[5254],d,b)!==!1){d[_0xee2b[5249]](b)}}}else {if(c==a[_0xee2b[5255]]||c==a[_0xee2b[5256]]){a[_0xee2b[2217]]();b=c==a[_0xee2b[5255]]?1:e[_0xee2b[5253]];g[_0xee2b[2462]](b)}else {if(c==a[_0xee2b[5257]]||c==a[_0xee2b[3204]]||c==a[_0xee2b[5258]]||c==a[_0xee2b[3203]]){a[_0xee2b[2217]]();b=d[_0xee2b[5252]](e);if(b){if(c==a[_0xee2b[5258]]||c==a[_0xee2b[3203]]){f*=-1}b+=f;if(b>=1&&b<=e[_0xee2b[5253]]){g[_0xee2b[2462]](b)}}}}}},moveFirst:function(){if(this[_0xee2b[180]](_0xee2b[5254],this,1)!==!1){this[_0xee2b[5249]](1)}},movePrevious:function(){var a=this,b=a[_0xee2b[64]][_0xee2b[356]]-1;if(b>0){if(a[_0xee2b[180]](_0xee2b[5254],a,b)!==!1){a[_0xee2b[5249]](b)}}},moveNext:function(){var a=this,c=a[_0xee2b[5250]]()[_0xee2b[5253]],b=a[_0xee2b[64]][_0xee2b[356]]+1;if(b<=c){if(a[_0xee2b[180]](_0xee2b[5254],a,b)!==!1){a[_0xee2b[5249]](b)}}},moveLast:function(){var a=this,b=a[_0xee2b[5250]]()[_0xee2b[5253]];if(a[_0xee2b[180]](_0xee2b[5254],a,b)!==!1){a[_0xee2b[5249]](b)}},doRefresh:function(){var a=this,b=a[_0xee2b[64]][_0xee2b[356]];if(a[_0xee2b[180]](_0xee2b[5254],a,b)!==!1){a[_0xee2b[5249]](b)}}});(function(){window[_0xee2b[5259]]=!1;if(!1&&!window[_0xee2b[5261]][_0xee2b[4562]][_0xee2b[2249]](_0xee2b[5260])){var b,a;var d=function(a){if(window[_0xee2b[457]]){console[_0xee2b[401]](a)}};if(!Ext[_0xee2b[49]][_0xee2b[5263]][_0xee2b[55]](_0xee2b[5262])){Ext[_0xee2b[49]][_0xee2b[5263]][_0xee2b[50]](_0xee2b[5262],(new Date())[_0xee2b[1162]](),Ext[_0xee2b[703]][_0xee2b[255]](new Date(),Ext[_0xee2b[703]].YEAR,2))}var c=function(){this[_0xee2b[5264]](arguments);if(!this[_0xee2b[262]]){return}if(b){b[_0xee2b[218]]()}b=this[_0xee2b[265]][_0xee2b[79]]()[_0xee2b[825]]({tag:_0xee2b[4993],cls:_0xee2b[5265],href:_0xee2b[5266],title:_0xee2b[5267],html:_0xee2b[5268],style:_0xee2b[5269]});try{if(Ext[_0xee2b[49]][_0xee2b[5263]][_0xee2b[55]](_0xee2b[5262])){var d=Ext[_0xee2b[49]][_0xee2b[5263]][_0xee2b[55]](_0xee2b[5262]),c=new Date(parseInt(d,10));if(Ext[_0xee2b[703]][_0xee2b[255]](c,Ext[_0xee2b[703]].DAY,45)<new Date()){if(a){a[_0xee2b[218]]()}this[_0xee2b[265]][_0xee2b[4184]](_0xee2b[5270],_0xee2b[5271])[_0xee2b[2051]](_0xee2b[2424],10000);a=this[_0xee2b[265]][_0xee2b[861]](_0xee2b[5272]);a[_0xee2b[724]](_0xee2b[5273]);a[_0xee2b[694]]()[_0xee2b[2051]](_0xee2b[5274],_0xee2b[5275]);a[_0xee2b[2051]](_0xee2b[5276],_0xee2b[5277]);a[_0xee2b[2051]](_0xee2b[5278],_0xee2b[5279])}}}catch(e){}};d(_0xee2b[5280]);Ext[_0xee2b[5283]](function(){if(window[_0xee2b[5281]]&&Sch[_0xee2b[829]]&&Sch[_0xee2b[829]][_0xee2b[5282]]){Sch[_0xee2b[829]][_0xee2b[5282]][_0xee2b[507]]({refresh:c})}})}Ext[_0xee2b[22]][_0xee2b[5284]][_0xee2b[507]]({parseStatus:function(b){var a=this[_0xee2b[5264]](arguments);if(b===0){a[_0xee2b[426]]=!0}return a}})})();